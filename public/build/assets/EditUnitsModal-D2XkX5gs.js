import{u as b,r as R,E as S,c as k,f as v,g as y,h as C,j as n,k as e,z as h,l as N,i as c,t as x,n as g,d as M,V as U,m as i}from"./app-DyjZBxuG.js";const $={class:"h-full w-full text-center content-center"},_={class:"va-h3"},B={__name:"DeleteUnitsModal",props:["params"],setup(p){const{init:f}=b(),r=R(!1),u=p,V=S("ondeleted"),{t:l}=k(),o=async()=>{try{const{data:d}=await g.delete(`/units/${u.params.data.id}`);d.status===200?(V(u.params.data),r.value=!1,f({message:l("login.successMessage"),color:"success"})):console.error("Error deleting data:",d.message)}catch(d){console.error("Error deleting data:",d)}};return(d,m)=>{const s=v("VaModal");return C(),y("main",$,[n(e(h),{round:"",icon:"delete",preset:"primary",class:"mt-1",onClick:m[0]||(m[0]=t=>r.value=!0)}),n(s,{modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=t=>r.value=t),"ok-text":e(l)("modals.apply"),"cancel-text":e(l)("modals.cancel"),onClose:m[2]||(m[2]=t=>r.value=!1),onOk:o,"close-button":""},{default:N(()=>[c("h3",_,x(e(l)("modals.title")),1),c("p",null,x(e(l)("modals.message")),1)]),_:1},8,["modelValue","ok-text","cancel-text"])])}}},D={class:"h-full w-full text-center content-center"},T={__name:"EditUnitsModal",props:["params"],setup(p){const{init:f}=b(),r=p,u=R(!1),V=S("onupdated"),{t:l}=k(),o=M({Name:"",NameRus:"",ShortName:"",ShortNameRus:"",Comment:"",id:r.params.data.id}),d=async()=>{g.get(`/units/${r.params.data.id}`).then(s=>{o.NameRus=s.data.NameRus,o.Name=s.data.Name,o.ShortName=s.data.ShortName,o.ShortNameRus=s.data.ShortNameRus,o.Comment=s.data.Comment}).catch(s=>{console.error("Error fetching data:",s)})},m=async()=>{try{const{data:s}=await g.put("/units",o);s.status===200?(V(r.params.node,s.unit),u.value=!1,f({message:l("login.successMessage"),color:"success"})):console.error("Error saving data:",s.message)}catch(s){console.error("Error saving data:",s)}};return(s,t)=>{const w=v("VaTextarea"),E=v("VaModal");return C(),y("main",D,[n(e(h),{round:"",icon:"edit",preset:"primary",class:"mt-1",onClick:t[0]||(t[0]=a=>u.value=!0)}),n(E,{modelValue:u.value,"onUpdate:modelValue":t[6]||(t[6]=a=>u.value=a),"ok-text":e(l)("modals.apply"),"cancel-text":e(l)("modals.cancel"),onOk:m,onClose:t[7]||(t[7]=a=>u.value=!1),"close-button":""},{default:N(()=>[c("h3",{class:"va-h3",onVnodeMounted:d},x(e(l)("modals.editFactory")),513),c("div",null,[n(e(U),{ref:"formRef",class:"flex flex-col items-baseline gap-2"},{default:N(()=>[n(e(i),{class:"w-full",modelValue:o.Name,"onUpdate:modelValue":t[1]||(t[1]=a=>o.Name=a),rules:[a=>!!a||e(l)("validation.required")],label:e(l)("form.name")},null,8,["modelValue","rules","label"]),n(e(i),{class:"w-full",modelValue:o.NameRus,"onUpdate:modelValue":t[2]||(t[2]=a=>o.NameRus=a),rules:[a=>!!a||e(l)("validation.required")],label:e(l)("form.nameRus")},null,8,["modelValue","rules","label"]),n(e(i),{class:"w-full",modelValue:o.ShortName,"onUpdate:modelValue":t[3]||(t[3]=a=>o.ShortName=a),rules:[a=>!!a||e(l)("validation.required")],label:e(l)("form.shortName")},null,8,["modelValue","rules","label"]),n(e(i),{class:"w-full",modelValue:o.ShortNameRus,"onUpdate:modelValue":t[4]||(t[4]=a=>o.ShortNameRus=a),rules:[a=>!!a||e(l)("validation.required")],label:e(l)("form.shortNameRus")},null,8,["modelValue","rules","label"]),n(w,{class:"w-full",modelValue:o.Comment,"onUpdate:modelValue":t[5]||(t[5]=a=>o.Comment=a),"max-length":125,label:e(l)("form.comment")},null,8,["modelValue","label"])]),_:1},512)])]),_:1},8,["modelValue","ok-text","cancel-text"])])}}};export{T as _,B as a};
