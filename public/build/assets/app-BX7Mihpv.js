const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-47g3ThVl.js","assets/HomePage-iff_D1tX.css","assets/FactoriesPage-CIQwKrpu.js","assets/FactoriesPage-CnLLd3DO.css","assets/vuestic-ui-Uccy4PPG.css","assets/FactoriesStructurePage-COhX6loh.js","assets/StaticPageCard-4h4zVoNE.js","assets/StaticPageCard-6KHEwEaa.css","assets/StaticParametrs-CUA8Flkv.js","assets/BlogCardPage-DVj77BN4.js","assets/BlogsPage-CPHdp4G9.js","assets/BlogsPage-Bi223KD_.css","assets/UnitsPage-JzEDrH7d.js","assets/EditUnitsModal-DGiCWqxx.js","assets/GraphicsPage-BUoFX9ba.js","assets/TimeCardPage-CAdAvJAH.js","assets/GraphicTimesPage-BR81U1yZ.js","assets/DeleteGraphicTimesModal-Ha3A43Et.js","assets/format-D9pTN3Kd.js","assets/TermsCardPage-DvEmlzao.js","assets/GraphicTermsPage-DhBREJo7.js","assets/ParameterGraphicsPage-BJHx-Tz0.js","assets/ParameterGraphics-kiJZTjlt.js","assets/anime.es-BNELU3II.js","assets/ParameterGraphics-BpydQhvK.css","assets/GraphicCardsPage-BgphNidH.js","assets/GroupPagesCard-Cm-bjR07.js","assets/GroupsPage-5J0gexZu.js","assets/GroupCardPage-ykUBRhLn.js","assets/ParametersTypesPage-CkM7DF0Q.js","assets/ParametersPage-CIbd8QTs.js","assets/FormulaPage-CeNpCRhA.js","assets/EditSource-Cy1CRqwt.js","assets/NumberPageCard-CXjyx_9p.js","assets/NumberPage-I4xSRvU4.js","assets/data-grid-CHlQ66K-.js","assets/NumberPage-B9NNFJdF.css","assets/SourcesPage-CnwWaHFx.js","assets/ChangesPage-6De9Xt_w.js","assets/ParametrValueCardVertical-C6ztqr7C.js","assets/ParametrValueVertical-BeCwixgh.js","assets/EditValue-rztH7XIi.js","assets/VueShiftCalendar-DXetajX5.js","assets/VueShiftCalendar-CcI3dD6o.css","assets/ParametrValueVertical-BB8eRjr6.css","assets/ParametrValueCardHorizontal-pig_vMzO.js","assets/ParametrValueHorizontal-_aKD8jGy.js","assets/ParametrValueHorizontal-CNMdDJYr.css","assets/OperatorsCountInputValueCard-CcmHWupm.js","assets/OperatorsCountInputValueCard-DJirHrMu.css","assets/OperatorResultPage-DPgRdroT.js","assets/Documents-BjLOH8y5.js","assets/jsuites-D3XZFdjk.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js","assets/jsuites-BqAHan1E.css","assets/ParametrGetValue-U_rqTAGl.js","assets/ParametrGetValue-B0XaPHQ6.css","assets/GMZ3Report-DM8Cdq6u.js","assets/GMZ3Report-GU8uP2k6.css","assets/UsersPage-B2spmRPU.js","assets/UsersPage-C-LCHktg.css"])))=>i.map(i=>d[i]);
var Use=Object.defineProperty;var zse=(e,t,i)=>t in e?Use(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var ti=(e,t,i)=>zse(e,typeof t!="symbol"?t+"":t,i);/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ol(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const Rs={},Rv=[],Ho=()=>{},uC=()=>!1,zg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),rL=e=>e.startsWith("onUpdate:"),Ms=Object.assign,nL=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},jse=Object.prototype.hasOwnProperty,ar=(e,t)=>jse.call(e,t),ci=Array.isArray,Pv=e=>I0(e)==="[object Map]",jg=e=>I0(e)==="[object Set]",gB=e=>I0(e)==="[object Date]",Kse=e=>I0(e)==="[object RegExp]",Oi=e=>typeof e=="function",es=e=>typeof e=="string",nl=e=>typeof e=="symbol",Sr=e=>e!==null&&typeof e=="object",oL=e=>(Sr(e)||Oi(e))&&Oi(e.then)&&Oi(e.catch),i8=Object.prototype.toString,I0=e=>i8.call(e),Yse=e=>I0(e).slice(8,-1),aT=e=>I0(e)==="[object Object]",aL=e=>es(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,lf=Ol(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xse=Ol("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),lT=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},qse=/-(\w)/g,Br=lT(e=>e.replace(qse,(t,i)=>i?i.toUpperCase():"")),Qse=/\B([A-Z])/g,Ka=lT(e=>e.replace(Qse,"-$1").toLowerCase()),Zd=lT(e=>e.charAt(0).toUpperCase()+e.slice(1)),Yp=lT(e=>e?`on${Zd(e)}`:""),Sa=(e,t)=>!Object.is(e,t),Fv=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},LP=(e,t,i,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:i})},SE=e=>{const t=parseFloat(e);return isNaN(t)?e:t},xE=e=>{const t=es(e)?Number(e):NaN;return isNaN(t)?e:t};let mB;const cT=()=>mB||(mB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jse(e,t){return e+JSON.stringify(t,(i,s)=>typeof s=="function"?s.toString():s)}const $je={STABLE_FRAGMENT:64,KEYED_FRAGMENT:128,UNKEYED_FRAGMENT:256,BAIL:-2},Zse="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",ere=Ol(Zse);function St(e){if(ci(e)){const t={};for(let i=0;i<e.length;i++){const s=e[i],r=es(s)?s8(s):St(s);if(r)for(const n in r)t[n]=r[n]}return t}else if(es(e)||Sr(e))return e}const tre=/;(?![^(]*\))/g,ire=/:([^]+)/,sre=/\/\*[^]*?\*\//g;function s8(e){const t={};return e.replace(sre,"").split(tre).forEach(i=>{if(i){const s=i.split(ire);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Et(e){let t="";if(es(e))t=e;else if(ci(e))for(let i=0;i<e.length;i++){const s=Et(e[i]);s&&(t+=s+" ")}else if(Sr(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function Ft(e){if(!e)return null;let{class:t,style:i}=e;return t&&!es(t)&&(e.class=Et(t)),i&&(e.style=St(i)),e}const rre="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",nre="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",ore="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",are="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",lre=Ol(rre),cre=Ol(nre),ure=Ol(ore),dre=Ol(are),hre="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fre=Ol(hre);function r8(e){return!!e||e===""}function pre(e,t){if(e.length!==t.length)return!1;let i=!0;for(let s=0;i&&s<e.length;s++)i=gf(e[s],t[s]);return i}function gf(e,t){if(e===t)return!0;let i=gB(e),s=gB(t);if(i||s)return i&&s?e.getTime()===t.getTime():!1;if(i=nl(e),s=nl(t),i||s)return e===t;if(i=ci(e),s=ci(t),i||s)return i&&s?pre(e,t):!1;if(i=Sr(e),s=Sr(t),i||s){if(!i||!s)return!1;const r=Object.keys(e).length,n=Object.keys(t).length;if(r!==n)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!gf(e[o],t[o]))return!1}}return String(e)===String(t)}function uT(e,t){return e.findIndex(i=>gf(i,t))}const n8=e=>!!(e&&e.__v_isRef===!0),Mt=e=>es(e)?e:e==null?"":ci(e)||Sr(e)&&(e.toString===i8||!Oi(e.toString))?n8(e)?Mt(e.value):JSON.stringify(e,o8,2):String(e),o8=(e,t)=>n8(t)?o8(e,t.value):Pv(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[s,r],n)=>(i[DD(s,n)+" =>"]=r,i),{})}:jg(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>DD(i))}:nl(t)?DD(t):Sr(t)&&!ci(t)&&!aT(t)?String(t):t,DD=(e,t="")=>{var i;return nl(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};function gre(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xo;class dT{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xo,!t&&Xo&&(this.index=(Xo.scopes||(Xo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Xo;try{return Xo=this,t()}finally{Xo=i}}}on(){++this._on===1&&(this.prevScope=Xo,Xo=this)}off(){this._on>0&&--this._on===0&&(Xo=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(this.effects.length=0,i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function hT(e){return new dT(e)}function Lw(){return Xo}function fT(e,t=!1){Xo&&Xo.cleanups.push(e)}let Lr;const RD=new WeakSet;class Kv{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xo&&Xo.active&&Xo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,RD.has(this)&&(RD.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||l8(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,vB(this),c8(this);const t=Lr,i=zc;Lr=this,zc=!0;try{return this.fn()}finally{u8(this),Lr=t,zc=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)uL(t);this.deps=this.depsTail=void 0,vB(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?RD.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){OP(this)&&this.run()}get dirty(){return OP(this)}}let a8=0,PC,FC;function l8(e,t=!1){if(e.flags|=8,t){e.next=FC,FC=e;return}e.next=PC,PC=e}function lL(){a8++}function cL(){if(--a8>0)return;if(FC){let t=FC;for(FC=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;PC;){let t=PC;for(PC=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=i}}if(e)throw e}function c8(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function u8(e){let t,i=e.depsTail,s=i;for(;s;){const r=s.prevDep;s.version===-1?(s===i&&(i=r),uL(s),mre(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=i}function OP(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(d8(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function d8(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===gb)||(e.globalVersion=gb,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!OP(e))))return;e.flags|=2;const t=e.dep,i=Lr,s=zc;Lr=e,zc=!0;try{c8(e);const r=e.fn(e._value);(t.version===0||Sa(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Lr=i,zc=s,u8(e),e.flags&=-3}}function uL(e,t=!1){const{dep:i,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),i.subs===e&&(i.subs=s,!s&&i.computed)){i.computed.flags&=-5;for(let n=i.computed.deps;n;n=n.nextDep)uL(n,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function mre(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}function h8(e,t){e.effect instanceof Kv&&(e=e.effect.fn);const i=new Kv(e);t&&Ms(i,t);try{i.run()}catch(r){throw i.stop(),r}const s=i.run.bind(i);return s.effect=i,s}function f8(e){e.effect.stop()}let zc=!0;const p8=[];function Kd(){p8.push(zc),zc=!1}function Yd(){const e=p8.pop();zc=e===void 0?!0:e}function vB(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Lr;Lr=void 0;try{t()}finally{Lr=i}}}let gb=0;class vre{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pT{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Lr||!zc||Lr===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Lr)i=this.activeLink=new vre(Lr,this),Lr.deps?(i.prevDep=Lr.depsTail,Lr.depsTail.nextDep=i,Lr.depsTail=i):Lr.deps=Lr.depsTail=i,g8(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const s=i.nextDep;s.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=s),i.prevDep=Lr.depsTail,i.nextDep=void 0,Lr.depsTail.nextDep=i,Lr.depsTail=i,Lr.deps===i&&(Lr.deps=s)}return i}trigger(t){this.version++,gb++,this.notify(t)}notify(t){lL();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{cL()}}}function g8(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)g8(s)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const EE=new WeakMap,Xp=Symbol(""),IP=Symbol(""),mb=Symbol("");function ea(e,t,i){if(zc&&Lr){let s=EE.get(e);s||EE.set(e,s=new Map);let r=s.get(i);r||(s.set(i,r=new pT),r.map=s,r.key=i),r.track()}}function Dd(e,t,i,s,r,n){const o=EE.get(e);if(!o){gb++;return}const a=l=>{l&&l.trigger()};if(lL(),t==="clear")o.forEach(a);else{const l=ci(e),c=l&&aL(i);if(l&&i==="length"){const u=Number(s);o.forEach((h,f)=>{(f==="length"||f===mb||!nl(f)&&f>=u)&&a(h)})}else switch((i!==void 0||o.has(void 0))&&a(o.get(i)),c&&a(o.get(mb)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Xp)),Pv(e)&&a(o.get(IP)));break;case"delete":l||(a(o.get(Xp)),Pv(e)&&a(o.get(IP)));break;case"set":Pv(e)&&a(o.get(Xp));break}}cL()}function yre(e,t){const i=EE.get(e);return i&&i.get(t)}function Qm(e){const t=xs(e);return t===e?t:(ea(t,"iterate",mb),el(e)?t:t.map(No))}function gT(e){return ea(e=xs(e),"iterate",mb),e}const Cre={__proto__:null,[Symbol.iterator](){return PD(this,Symbol.iterator,No)},concat(...e){return Qm(this).concat(...e.map(t=>ci(t)?Qm(t):t))},entries(){return PD(this,"entries",e=>(e[1]=No(e[1]),e))},every(e,t){return pd(this,"every",e,t,void 0,arguments)},filter(e,t){return pd(this,"filter",e,t,i=>i.map(No),arguments)},find(e,t){return pd(this,"find",e,t,No,arguments)},findIndex(e,t){return pd(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return pd(this,"findLast",e,t,No,arguments)},findLastIndex(e,t){return pd(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return pd(this,"forEach",e,t,void 0,arguments)},includes(...e){return FD(this,"includes",e)},indexOf(...e){return FD(this,"indexOf",e)},join(e){return Qm(this).join(e)},lastIndexOf(...e){return FD(this,"lastIndexOf",e)},map(e,t){return pd(this,"map",e,t,void 0,arguments)},pop(){return $y(this,"pop")},push(...e){return $y(this,"push",e)},reduce(e,...t){return yB(this,"reduce",e,t)},reduceRight(e,...t){return yB(this,"reduceRight",e,t)},shift(){return $y(this,"shift")},some(e,t){return pd(this,"some",e,t,void 0,arguments)},splice(...e){return $y(this,"splice",e)},toReversed(){return Qm(this).toReversed()},toSorted(e){return Qm(this).toSorted(e)},toSpliced(...e){return Qm(this).toSpliced(...e)},unshift(...e){return $y(this,"unshift",e)},values(){return PD(this,"values",No)}};function PD(e,t,i){const s=gT(e),r=s[t]();return s!==e&&!el(e)&&(r._next=r.next,r.next=()=>{const n=r._next();return n.value&&(n.value=i(n.value)),n}),r}const bre=Array.prototype;function pd(e,t,i,s,r,n){const o=gT(e),a=o!==e&&!el(e),l=o[t];if(l!==bre[t]){const h=l.apply(e,n);return a?No(h):h}let c=i;o!==e&&(a?c=function(h,f){return i.call(this,No(h),f,e)}:i.length>2&&(c=function(h,f){return i.call(this,h,f,e)}));const u=l.call(o,c,s);return a&&r?r(u):u}function yB(e,t,i,s){const r=gT(e);let n=i;return r!==e&&(el(e)?i.length>3&&(n=function(o,a,l){return i.call(this,o,a,l,e)}):n=function(o,a,l){return i.call(this,o,No(a),l,e)}),r[t](n,...s)}function FD(e,t,i){const s=xs(e);ea(s,"iterate",mb);const r=s[t](...i);return(r===-1||r===!1)&&Kg(i[0])?(i[0]=xs(i[0]),s[t](...i)):r}function $y(e,t,i=[]){Kd(),lL();const s=xs(e)[t].apply(e,i);return cL(),Yd(),s}const wre=Ol("__proto__,__v_isRef,__isVue"),m8=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nl));function Sre(e){nl(e)||(e=String(e));const t=xs(this);return ea(t,"has",e),t.hasOwnProperty(e)}class v8{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,s){if(i==="__v_skip")return t.__v_skip;const r=this._isReadonly,n=this._isShallow;if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return n;if(i==="__v_raw")return s===(r?n?x8:S8:n?w8:b8).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=ci(t);if(!r){let l;if(o&&(l=Cre[i]))return l;if(i==="hasOwnProperty")return Sre}const a=Reflect.get(t,i,cs(t)?t:s);return(nl(i)?m8.has(i):wre(i))||(r||ea(t,"get",i),n)?a:cs(a)?o&&aL(i)?a:a.value:Sr(a)?r?vT(a):Nn(a):a}}class y8 extends v8{constructor(t=!1){super(!1,t)}set(t,i,s,r){let n=t[i];if(!this._isShallow){const l=$u(n);if(!el(s)&&!$u(s)&&(n=xs(n),s=xs(s)),!ci(t)&&cs(n)&&!cs(s))return l?!1:(n.value=s,!0)}const o=ci(t)&&aL(i)?Number(i)<t.length:ar(t,i),a=Reflect.set(t,i,s,cs(t)?t:r);return t===xs(r)&&(o?Sa(s,n)&&Dd(t,"set",i,s):Dd(t,"add",i,s)),a}deleteProperty(t,i){const s=ar(t,i);t[i];const r=Reflect.deleteProperty(t,i);return r&&s&&Dd(t,"delete",i,void 0),r}has(t,i){const s=Reflect.has(t,i);return(!nl(i)||!m8.has(i))&&ea(t,"has",i),s}ownKeys(t){return ea(t,"iterate",ci(t)?"length":Xp),Reflect.ownKeys(t)}}class C8 extends v8{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const xre=new y8,Ere=new C8,_re=new y8(!0),Tre=new C8(!0),NP=e=>e,Lx=e=>Reflect.getPrototypeOf(e);function Are(e,t,i){return function(...s){const r=this.__v_raw,n=xs(r),o=Pv(n),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...s),u=i?NP:t?_E:No;return!t&&ea(n,"iterate",l?IP:Xp),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Ox(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function kre(e,t){const i={get(r){const n=this.__v_raw,o=xs(n),a=xs(r);e||(Sa(r,a)&&ea(o,"get",r),ea(o,"get",a));const{has:l}=Lx(o),c=t?NP:e?_E:No;if(l.call(o,r))return c(n.get(r));if(l.call(o,a))return c(n.get(a));n!==o&&n.get(r)},get size(){const r=this.__v_raw;return!e&&ea(xs(r),"iterate",Xp),Reflect.get(r,"size",r)},has(r){const n=this.__v_raw,o=xs(n),a=xs(r);return e||(Sa(r,a)&&ea(o,"has",r),ea(o,"has",a)),r===a?n.has(r):n.has(r)||n.has(a)},forEach(r,n){const o=this,a=o.__v_raw,l=xs(a),c=t?NP:e?_E:No;return!e&&ea(l,"iterate",Xp),a.forEach((u,h)=>r.call(n,c(u),c(h),o))}};return Ms(i,e?{add:Ox("add"),set:Ox("set"),delete:Ox("delete"),clear:Ox("clear")}:{add(r){!t&&!el(r)&&!$u(r)&&(r=xs(r));const n=xs(this);return Lx(n).has.call(n,r)||(n.add(r),Dd(n,"add",r,r)),this},set(r,n){!t&&!el(n)&&!$u(n)&&(n=xs(n));const o=xs(this),{has:a,get:l}=Lx(o);let c=a.call(o,r);c||(r=xs(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,n),c?Sa(n,u)&&Dd(o,"set",r,n):Dd(o,"add",r,n),this},delete(r){const n=xs(this),{has:o,get:a}=Lx(n);let l=o.call(n,r);l||(r=xs(r),l=o.call(n,r)),a&&a.call(n,r);const c=n.delete(r);return l&&Dd(n,"delete",r,void 0),c},clear(){const r=xs(this),n=r.size!==0,o=r.clear();return n&&Dd(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=Are(r,e,t)}),i}function mT(e,t){const i=kre(e,t);return(s,r,n)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(ar(i,r)&&r in s?i:s,r,n)}const Dre={get:mT(!1,!1)},Rre={get:mT(!1,!0)},Pre={get:mT(!0,!1)},Fre={get:mT(!0,!0)},b8=new WeakMap,w8=new WeakMap,S8=new WeakMap,x8=new WeakMap;function Mre(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lre(e){return e.__v_skip||!Object.isExtensible(e)?0:Mre(Yse(e))}function Nn(e){return $u(e)?e:yT(e,!1,xre,Dre,b8)}function N0(e){return yT(e,!1,_re,Rre,w8)}function vT(e){return yT(e,!0,Ere,Pre,S8)}function Td(e){return yT(e,!0,Tre,Fre,x8)}function yT(e,t,i,s,r){if(!Sr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=Lre(e);if(n===0)return e;const o=r.get(e);if(o)return o;const a=new Proxy(e,n===2?s:i);return r.set(e,a),a}function Gd(e){return $u(e)?Gd(e.__v_raw):!!(e&&e.__v_isReactive)}function $u(e){return!!(e&&e.__v_isReadonly)}function el(e){return!!(e&&e.__v_isShallow)}function Kg(e){return e?!!e.__v_raw:!1}function xs(e){const t=e&&e.__v_raw;return t?xs(t):e}function dL(e){return!ar(e,"__v_skip")&&Object.isExtensible(e)&&LP(e,"__v_skip",!0),e}const No=e=>Sr(e)?Nn(e):e,_E=e=>Sr(e)?vT(e):e;function cs(e){return e?e.__v_isRef===!0:!1}function We(e){return E8(e,!1)}function vi(e){return E8(e,!0)}function E8(e,t){return cs(e)?e:new Ore(e,t)}class Ore{constructor(t,i){this.dep=new pT,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:xs(t),this._value=i?t:No(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,s=this.__v_isShallow||el(t)||$u(t);t=s?t:xs(t),Sa(t,i)&&(this._rawValue=t,this._value=s?t:No(t),this.dep.trigger())}}function _8(e){e.dep&&e.dep.trigger()}function P(e){return cs(e)?e.value:e}function T8(e){return Oi(e)?e():P(e)}const Ire={get:(e,t,i)=>t==="__v_raw"?e:P(Reflect.get(e,t,i)),set:(e,t,i,s)=>{const r=e[t];return cs(r)&&!cs(i)?(r.value=i,!0):Reflect.set(e,t,i,s)}};function CT(e){return Gd(e)?e:new Proxy(e,Ire)}class Nre{constructor(t){this.__v_isRef=!0,this._value=void 0;const i=this.dep=new pT,{get:s,set:r}=t(i.track.bind(i),i.trigger.bind(i));this._get=s,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function bT(e){return new Nre(e)}function Il(e){const t=ci(e)?new Array(e.length):{};for(const i in e)t[i]=A8(e,i);return t}class Vre{constructor(t,i,s){this._object=t,this._key=i,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return yre(xs(this._object),this._key)}}class Bre{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Dn(e,t,i){return cs(e)?e:Oi(e)?new Bre(e):Sr(e)&&arguments.length>1?A8(e,t,i):We(e)}function A8(e,t,i){const s=e[t];return cs(s)?s:new Vre(e,t,i)}class Gre{constructor(t,i,s){this.fn=t,this.setter=i,this._value=void 0,this.dep=new pT(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gb-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Lr!==this)return l8(this,!0),!0}get value(){const t=this.dep.track();return d8(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Hre(e,t,i=!1){let s,r;return Oi(e)?s=e:(s=e.get,r=e.set),new Gre(s,r,i)}const k8={GET:"get",HAS:"has",ITERATE:"iterate"},D8={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Ix={},TE=new WeakMap;let zh;function R8(){return zh}function hL(e,t=!1,i=zh){if(i){let s=TE.get(i);s||TE.set(i,s=[]),s.push(e)}}function $re(e,t,i=Rs){const{immediate:s,deep:r,once:n,scheduler:o,augmentJob:a,call:l}=i,c=A=>r?A:el(A)||r===!1||r===0?Rd(A,1):Rd(A);let u,h,f,p,y=!1,v=!1;if(cs(e)?(h=()=>e.value,y=el(e)):Gd(e)?(h=()=>c(e),y=!0):ci(e)?(v=!0,y=e.some(A=>Gd(A)||el(A)),h=()=>e.map(A=>{if(cs(A))return A.value;if(Gd(A))return c(A);if(Oi(A))return l?l(A,2):A()})):Oi(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){Kd();try{f()}finally{Yd()}}const A=zh;zh=u;try{return l?l(e,3,[p]):e(p)}finally{zh=A}}:h=Ho,t&&r){const A=h,R=r===!0?1/0:r;h=()=>Rd(A(),R)}const C=Lw(),S=()=>{u.stop(),C&&C.active&&nL(C.effects,u)};if(n&&t){const A=t;t=(...R)=>{A(...R),S()}}let _=v?new Array(e.length).fill(Ix):Ix;const x=A=>{if(!(!(u.flags&1)||!u.dirty&&!A))if(t){const R=u.run();if(r||y||(v?R.some((O,k)=>Sa(O,_[k])):Sa(R,_))){f&&f();const O=zh;zh=u;try{const k=[R,_===Ix?void 0:v&&_[0]===Ix?[]:_,p];_=R,l?l(t,3,k):t(...k)}finally{zh=O}}}else u.run()};return a&&a(x),u=new Kv(h),u.scheduler=o?()=>o(x,!1):x,p=A=>hL(A,!1,u),f=u.onStop=()=>{const A=TE.get(u);if(A){if(l)l(A,4);else for(const R of A)R();TE.delete(u)}},t?s?x(!0):_=u.run():o?o(x.bind(null,!0),!0):u.run(),S.pause=u.pause.bind(u),S.resume=u.resume.bind(u),S.stop=S,S}function Rd(e,t=1/0,i){if(t<=0||!Sr(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,cs(e))Rd(e.value,t,i);else if(ci(e))for(let s=0;s<e.length;s++)Rd(e[s],t,i);else if(jg(e)||Pv(e))e.forEach(s=>{Rd(s,t,i)});else if(aT(e)){for(const s in e)Rd(e[s],t,i);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Rd(e[s],t,i)}return e}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const P8=[];function Wre(e){P8.push(e)}function Ure(){P8.pop()}function F8(e,t){}const M8={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},zre={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Yg(e,t,i,s){try{return s?e(...s):e()}catch(r){Of(r,t,i)}}function Rl(e,t,i,s){if(Oi(e)){const r=Yg(e,t,i,s);return r&&oL(r)&&r.catch(n=>{Of(n,t,i)}),r}if(ci(e)){const r=[];for(let n=0;n<e.length;n++)r.push(Rl(e[n],t,i,s));return r}}function Of(e,t,i,s=!0){const r=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Rs;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(n){Kd(),Yg(n,null,10,[e,l,c]),Yd();return}}jre(e,i,r,s,o)}function jre(e,t,i,s=!0,r=!1){if(r)throw e;console.error(e)}const xa=[];let xu=-1;const Mv=[];let jh=null,fv=0;const L8=Promise.resolve();let AE=null;function rs(e){const t=AE||L8;return e?t.then(this?e.bind(this):e):t}function Kre(e){let t=xu+1,i=xa.length;for(;t<i;){const s=t+i>>>1,r=xa[s],n=vb(r);n<e||n===e&&r.flags&2?t=s+1:i=s}return t}function fL(e){if(!(e.flags&1)){const t=vb(e),i=xa[xa.length-1];!i||!(e.flags&2)&&t>=vb(i)?xa.push(e):xa.splice(Kre(t),0,e),e.flags|=1,O8()}}function O8(){AE||(AE=L8.then(I8))}function Yv(e){ci(e)?Mv.push(...e):jh&&e.id===-1?jh.splice(fv+1,0,e):e.flags&1||(Mv.push(e),e.flags|=1),O8()}function CB(e,t,i=xu+1){for(;i<xa.length;i++){const s=xa[i];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;xa.splice(i,1),i--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function kE(e){if(Mv.length){const t=[...new Set(Mv)].sort((i,s)=>vb(i)-vb(s));if(Mv.length=0,jh){jh.push(...t);return}for(jh=t,fv=0;fv<jh.length;fv++){const i=jh[fv];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}jh=null,fv=0}}const vb=e=>e.id==null?e.flags&2?-1:1/0:e.id;function I8(e){try{for(xu=0;xu<xa.length;xu++){const t=xa[xu];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Yg(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xu<xa.length;xu++){const t=xa[xu];t&&(t.flags&=-2)}xu=-1,xa.length=0,kE(),AE=null,(xa.length||Mv.length)&&I8()}}let pv,Nx=[];function N8(e,t){var i,s;pv=e,pv?(pv.enabled=!0,Nx.forEach(({event:r,args:n})=>pv.emit(r,...n)),Nx=[]):typeof window<"u"&&window.HTMLElement&&!((s=(i=window.navigator)==null?void 0:i.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{N8(n,t)}),setTimeout(()=>{pv||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Nx=[])},3e3)):Nx=[]}let Go=null,wT=null;function yb(e){const t=Go;return Go=e,wT=e&&e.type.__scopeId||null,t}function V8(e){wT=e}function B8(){wT=null}const G8=e=>tt;function tt(e,t=Go,i){if(!t||e._n)return e;const s=(...r)=>{s._d&&FE(-1);const n=yb(t);let o;try{o=e(...r)}finally{yb(n),s._d&&FE(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ss(e,t){if(Go===null)return e;const i=Vw(Go),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[n,o,a,l=Rs]=t[r];n&&(Oi(n)&&(n={mounted:n,updated:n}),n.deep&&Rd(o),s.push({dir:n,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function _u(e,t,i,s){const r=e.dirs,n=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];n&&(a.oldValue=n[o].value);let l=a.dir[s];l&&(Kd(),Rl(l,i,8,[e.el,a,e,t]),Yd())}}const H8=Symbol("_vte"),$8=e=>e.__isTeleport,MC=e=>e&&(e.disabled||e.disabled===""),bB=e=>e&&(e.defer||e.defer===""),wB=e=>typeof SVGElement<"u"&&e instanceof SVGElement,SB=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,VP=(e,t)=>{const i=e&&e.to;return es(i)?t?t(i):null:i},W8={name:"Teleport",__isTeleport:!0,process(e,t,i,s,r,n,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:p,querySelector:y,createText:v,createComment:C}}=c,S=MC(t.props);let{shapeFlag:_,children:x,dynamicChildren:A}=t;if(e==null){const R=t.el=v(""),O=t.anchor=v("");p(R,i,s),p(O,i,s);const k=(N,j)=>{_&16&&(r&&r.isCE&&(r.ce._teleportTarget=N),u(x,N,j,r,n,o,a,l))},F=()=>{const N=t.target=VP(t.props,y),j=U8(N,t,v,p);N&&(o!=="svg"&&wB(N)?o="svg":o!=="mathml"&&SB(N)&&(o="mathml"),S||(k(N,j),V1(t,!1)))};S&&(k(i,O),V1(t,!0)),bB(t.props)?(t.el.__isMounted=!1,lo(()=>{F(),delete t.el.__isMounted},n)):F()}else{if(bB(t.props)&&e.el.__isMounted===!1){lo(()=>{W8.process(e,t,i,s,r,n,o,a,l,c)},n);return}t.el=e.el,t.targetStart=e.targetStart;const R=t.anchor=e.anchor,O=t.target=e.target,k=t.targetAnchor=e.targetAnchor,F=MC(e.props),N=F?i:O,j=F?R:k;if(o==="svg"||wB(O)?o="svg":(o==="mathml"||SB(O))&&(o="mathml"),A?(f(e.dynamicChildren,A,N,r,n,o,a),PL(e,t,!0)):l||h(e,t,N,j,r,n,o,a,!1),S)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Vx(t,i,R,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ee=t.target=VP(t.props,y);ee&&Vx(t,ee,null,c,0)}else F&&Vx(t,O,k,c,1);V1(t,S)}},remove(e,t,i,{um:s,o:{remove:r}},n){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:h,props:f}=e;if(h&&(r(c),r(u)),n&&r(l),o&16){const p=n||!MC(f);for(let y=0;y<a.length;y++){const v=a[y];s(v,t,i,p,!!v.dynamicChildren)}}},move:Vx,hydrate:Yre};function Vx(e,t,i,{o:{insert:s},m:r},n=2){n===0&&s(e.targetAnchor,t,i);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=e,h=n===2;if(h&&s(o,t,i),(!h||MC(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],t,i,2);h&&s(a,t,i)}function Yre(e,t,i,s,r,n,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},h){const f=t.target=VP(t.props,l);if(f){const p=MC(t.props),y=f._lpa||f.firstChild;if(t.shapeFlag&16)if(p)t.anchor=h(o(e),t,a(e),i,s,r,n),t.targetStart=y,t.targetAnchor=y&&o(y);else{t.anchor=o(e);let v=y;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||U8(f,t,u,c),h(y&&o(y),t,f,i,s,r,n)}V1(t,p)}return t.anchor&&o(t.anchor)}const mf=W8;function V1(e,t){const i=e.ctx;if(i&&i.ut){let s,r;for(t?(s=e.el,r=e.anchor):(s=e.targetStart,r=e.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",i.uid),s=s.nextSibling;i.ut()}}function U8(e,t,i,s){const r=t.targetStart=i(""),n=t.targetAnchor=i("");return r[H8]=n,e&&(s(r,e),s(n,e)),n}const Kh=Symbol("_leaveCb"),Bx=Symbol("_enterCb");function ST(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ri(()=>{e.isMounted=!0}),Rr(()=>{e.isUnmounting=!0}),e}const zl=[Function,Array],xT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zl,onEnter:zl,onAfterEnter:zl,onEnterCancelled:zl,onBeforeLeave:zl,onLeave:zl,onAfterLeave:zl,onLeaveCancelled:zl,onBeforeAppear:zl,onAppear:zl,onAfterAppear:zl,onAppearCancelled:zl},z8=e=>{const t=e.subTree;return t.component?z8(t.component):t},Xre={name:"BaseTransition",props:xT,setup(e,{slots:t}){const i=Di(),s=ST();return()=>{const r=t.default&&Ow(t.default(),!0);if(!r||!r.length)return;const n=j8(r),o=xs(e),{mode:a}=o;if(s.isLeaving)return MD(n);const l=xB(n);if(!l)return MD(n);let c=pg(l,o,s,i,h=>c=h);l.type!==on&&Wu(l,c);let u=i.subTree&&xB(i.subTree);if(u&&u.type!==on&&!Ic(l,u)&&z8(i).type!==on){let h=pg(u,o,s,i);if(Wu(u,h),a==="out-in"&&l.type!==on)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,i.job.flags&8||i.update(),delete h.afterLeave,u=void 0},MD(n);a==="in-out"&&l.type!==on?h.delayLeave=(f,p,y)=>{const v=K8(s,u);v[String(u.key)]=u,f[Kh]=()=>{p(),f[Kh]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{y(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return n}}};function j8(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==on){t=i;break}}return t}const pL=Xre;function K8(e,t){const{leavingVNodes:i}=e;let s=i.get(t.type);return s||(s=Object.create(null),i.set(t.type,s)),s}function pg(e,t,i,s,r){const{appear:n,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:y,onLeaveCancelled:v,onBeforeAppear:C,onAppear:S,onAfterAppear:_,onAppearCancelled:x}=t,A=String(e.key),R=K8(i,e),O=(N,j)=>{N&&Rl(N,s,9,j)},k=(N,j)=>{const ee=j[1];O(N,j),ci(N)?N.every(K=>K.length<=1)&&ee():N.length<=1&&ee()},F={mode:o,persisted:a,beforeEnter(N){let j=l;if(!i.isMounted)if(n)j=C||l;else return;N[Kh]&&N[Kh](!0);const ee=R[A];ee&&Ic(e,ee)&&ee.el[Kh]&&ee.el[Kh](),O(j,[N])},enter(N){let j=c,ee=u,K=h;if(!i.isMounted)if(n)j=S||c,ee=_||u,K=x||h;else return;let Q=!1;const be=N[Bx]=te=>{Q||(Q=!0,te?O(K,[N]):O(ee,[N]),F.delayedLeave&&F.delayedLeave(),N[Bx]=void 0)};j?k(j,[N,be]):be()},leave(N,j){const ee=String(e.key);if(N[Bx]&&N[Bx](!0),i.isUnmounting)return j();O(f,[N]);let K=!1;const Q=N[Kh]=be=>{K||(K=!0,j(),be?O(v,[N]):O(y,[N]),N[Kh]=void 0,R[ee]===e&&delete R[ee])};R[ee]=e,p?k(p,[N,Q]):Q()},clone(N){const j=pg(N,t,i,s,r);return r&&r(j),j}};return F}function MD(e){if(Iw(e))return e=Qc(e),e.children=null,e}function xB(e){if(!Iw(e))return $8(e.type)&&e.children?j8(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&Oi(i.default))return i.default()}}function Wu(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Wu(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ow(e,t=!1,i){let s=[],r=0;for(let n=0;n<e.length;n++){let o=e[n];const a=i==null?o.key:String(i)+String(o.key!=null?o.key:n);o.type===kt?(o.patchFlag&128&&r++,s=s.concat(Ow(o.children,t,a))):(t||o.type!==on)&&s.push(a!=null?Qc(o,{key:a}):o)}if(r>1)for(let n=0;n<s.length;n++)s[n].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function dt(e,t){return Oi(e)?Ms({name:e.name},t,{setup:e}):e}function Y8(){const e=Di();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function gL(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function X8(e){const t=Di(),i=vi(null);if(t){const r=t.refs===Rs?t.refs={}:t.refs;Object.defineProperty(r,e,{enumerable:!0,get:()=>i.value,set:n=>i.value=n})}return i}function Lv(e,t,i,s,r=!1){if(ci(e)){e.forEach((y,v)=>Lv(y,t&&(ci(t)?t[v]:t),i,s,r));return}if(cf(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Lv(e,t,i,s.component.subTree);return}const n=s.shapeFlag&4?Vw(s.component):s.el,o=r?null:n,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Rs?a.refs={}:a.refs,h=a.setupState,f=xs(h),p=h===Rs?()=>!1:y=>ar(f,y);if(c!=null&&c!==l&&(es(c)?(u[c]=null,p(c)&&(h[c]=null)):cs(c)&&(c.value=null)),Oi(l))Yg(l,a,12,[o,u]);else{const y=es(l),v=cs(l);if(y||v){const C=()=>{if(e.f){const S=y?p(l)?h[l]:u[l]:l.value;r?ci(S)&&nL(S,n):ci(S)?S.includes(n)||S.push(n):y?(u[l]=[n],p(l)&&(h[l]=u[l])):(l.value=[n],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,p(l)&&(h[l]=o)):v&&(l.value=o,e.k&&(u[e.k]=o))};o?(C.id=-1,lo(C,i)):C()}}}let EB=!1;const Jm=()=>{EB||(console.error("Hydration completed but contains mismatches."),EB=!0)},qre=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Qre=e=>e.namespaceURI.includes("MathML"),Gx=e=>{if(e.nodeType===1){if(qre(e))return"svg";if(Qre(e))return"mathml"}},Ev=e=>e.nodeType===8;function Jre(e){const{mt:t,p:i,o:{patchProp:s,createText:r,nextSibling:n,parentNode:o,remove:a,insert:l,createComment:c}}=e,u=(x,A)=>{if(!A.hasChildNodes()){i(null,x,A),kE(),A._vnode=x;return}h(A.firstChild,x,null,null,null),kE(),A._vnode=x},h=(x,A,R,O,k,F=!1)=>{F=F||!!A.dynamicChildren;const N=Ev(x)&&x.data==="[",j=()=>v(x,A,R,O,k,N),{type:ee,ref:K,shapeFlag:Q,patchFlag:be}=A;let te=x.nodeType;A.el=x,be===-2&&(F=!1,A.dynamicChildren=null);let ne=null;switch(ee){case ac:te!==3?A.children===""?(l(A.el=r(""),o(x),x),ne=x):ne=j():(x.data!==A.children&&(Jm(),x.data=A.children),ne=n(x));break;case on:_(x)?(ne=n(x),S(A.el=x.content.firstChild,x,R)):te!==8||N?ne=j():ne=n(x);break;case uf:if(N&&(x=n(x),te=x.nodeType),te===1||te===3){ne=x;const H=!A.children.length;for(let ie=0;ie<A.staticCount;ie++)H&&(A.children+=ne.nodeType===1?ne.outerHTML:ne.data),ie===A.staticCount-1&&(A.anchor=ne),ne=n(ne);return N?n(ne):ne}else j();break;case kt:N?ne=y(x,A,R,O,k,F):ne=j();break;default:if(Q&1)(te!==1||A.type.toLowerCase()!==x.tagName.toLowerCase())&&!_(x)?ne=j():ne=f(x,A,R,O,k,F);else if(Q&6){A.slotScopeIds=k;const H=o(x);if(N?ne=C(x):Ev(x)&&x.data==="teleport start"?ne=C(x,x.data,"teleport end"):ne=n(x),t(A,H,null,R,O,Gx(H),F),cf(A)&&!A.type.__asyncResolved){let ie;N?(ie=wt(kt),ie.anchor=ne?ne.previousSibling:H.lastChild):ie=x.nodeType===3?oi(""):wt("div"),ie.el=x,A.component.subTree=ie}}else Q&64?te!==8?ne=j():ne=A.type.hydrate(x,A,R,O,k,F,e,p):Q&128&&(ne=A.type.hydrate(x,A,R,O,Gx(o(x)),k,F,e,h))}return K!=null&&Lv(K,null,O,A),ne},f=(x,A,R,O,k,F)=>{F=F||!!A.dynamicChildren;const{type:N,props:j,patchFlag:ee,shapeFlag:K,dirs:Q,transition:be}=A,te=N==="input"||N==="option";if(te||ee!==-1){Q&&_u(A,null,R,"created");let ne=!1;if(_(x)){ne=kU(null,be)&&R&&R.vnode.props&&R.vnode.props.appear;const ie=x.content.firstChild;if(ne){const ue=ie.getAttribute("class");ue&&(ie.$cls=ue),be.beforeEnter(ie)}S(ie,x,R),A.el=x=ie}if(K&16&&!(j&&(j.innerHTML||j.textContent))){let ie=p(x.firstChild,A,x,R,O,k,F);for(;ie;){Hx(x,1)||Jm();const ue=ie;ie=ie.nextSibling,a(ue)}}else if(K&8){let ie=A.children;ie[0]===`
`&&(x.tagName==="PRE"||x.tagName==="TEXTAREA")&&(ie=ie.slice(1)),x.textContent!==ie&&(Hx(x,0)||Jm(),x.textContent=A.children)}if(j){if(te||!F||ee&48){const ie=x.tagName.includes("-");for(const ue in j)(te&&(ue.endsWith("value")||ue==="indeterminate")||zg(ue)&&!lf(ue)||ue[0]==="."||ie)&&s(x,ue,null,j[ue],void 0,R)}else if(j.onClick)s(x,"onClick",null,j.onClick,void 0,R);else if(ee&4&&Gd(j.style))for(const ie in j.style)j.style[ie]}let H;(H=j&&j.onVnodeBeforeMount)&&Wa(H,R,A),Q&&_u(A,null,R,"beforeMount"),((H=j&&j.onVnodeMounted)||Q||ne)&&IU(()=>{H&&Wa(H,R,A),ne&&be.enter(x),Q&&_u(A,null,R,"mounted")},O)}return x.nextSibling},p=(x,A,R,O,k,F,N)=>{N=N||!!A.dynamicChildren;const j=A.children,ee=j.length;for(let K=0;K<ee;K++){const Q=N?j[K]:j[K]=ja(j[K]),be=Q.type===ac;x?(be&&!N&&K+1<ee&&ja(j[K+1]).type===ac&&(l(r(x.data.slice(Q.children.length)),R,n(x)),x.data=Q.children),x=h(x,Q,O,k,F,N)):be&&!Q.children?l(Q.el=r(""),R):(Hx(R,1)||Jm(),i(null,Q,R,null,O,k,Gx(R),F))}return x},y=(x,A,R,O,k,F)=>{const{slotScopeIds:N}=A;N&&(k=k?k.concat(N):N);const j=o(x),ee=p(n(x),A,j,R,O,k,F);return ee&&Ev(ee)&&ee.data==="]"?n(A.anchor=ee):(Jm(),l(A.anchor=c("]"),j,ee),ee)},v=(x,A,R,O,k,F)=>{if(Hx(x.parentElement,1)||Jm(),A.el=null,F){const ee=C(x);for(;;){const K=n(x);if(K&&K!==ee)a(K);else break}}const N=n(x),j=o(x);return a(x),i(null,A,j,N,R,O,Gx(j),k),R&&(R.vnode.el=A.el,TT(R,A.el)),N},C=(x,A="[",R="]")=>{let O=0;for(;x;)if(x=n(x),x&&Ev(x)&&(x.data===A&&O++,x.data===R)){if(O===0)return n(x);O--}return x},S=(x,A,R)=>{const O=A.parentNode;O&&O.replaceChild(x,A);let k=R;for(;k;)k.vnode.el===A&&(k.vnode.el=k.subTree.el=x),k=k.parent},_=x=>x.nodeType===1&&x.tagName==="TEMPLATE";return[u,h]}const _B="data-allow-mismatch",Zre={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Hx(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(_B);)e=e.parentElement;const i=e&&e.getAttribute(_B);if(i==null)return!1;if(i==="")return!0;{const s=i.split(",");return t===0&&s.includes("children")?!0:s.includes(Zre[t])}}const ene=cT().requestIdleCallback||(e=>setTimeout(e,1)),tne=cT().cancelIdleCallback||(e=>clearTimeout(e)),q8=(e=1e4)=>t=>{const i=ene(t,{timeout:e});return()=>tne(i)};function ine(e){const{top:t,left:i,bottom:s,right:r}=e.getBoundingClientRect(),{innerHeight:n,innerWidth:o}=window;return(t>0&&t<n||s>0&&s<n)&&(i>0&&i<o||r>0&&r<o)}const Q8=e=>(t,i)=>{const s=new IntersectionObserver(r=>{for(const n of r)if(n.isIntersecting){s.disconnect(),t();break}},e);return i(r=>{if(r instanceof Element){if(ine(r))return t(),s.disconnect(),!1;s.observe(r)}}),()=>s.disconnect()},J8=e=>t=>{if(e){const i=matchMedia(e);if(i.matches)t();else return i.addEventListener("change",t,{once:!0}),()=>i.removeEventListener("change",t)}},Z8=(e=[])=>(t,i)=>{es(e)&&(e=[e]);let s=!1;const r=o=>{s||(s=!0,n(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},n=()=>{i(o=>{for(const a of e)o.removeEventListener(a,r)})};return i(o=>{for(const a of e)o.addEventListener(a,r,{once:!0})}),n};function sne(e,t){if(Ev(e)&&e.data==="["){let i=1,s=e.nextSibling;for(;s;){if(s.nodeType===1){if(t(s)===!1)break}else if(Ev(s))if(s.data==="]"){if(--i===0)break}else s.data==="["&&i++;s=s.nextSibling}}else t(e)}const cf=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function eU(e){Oi(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:s,delay:r=200,hydrate:n,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,u,h=0;const f=()=>(h++,c=null,p()),p=()=>{let y;return c||(y=c=t().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),l)return new Promise((C,S)=>{l(v,()=>C(f()),()=>S(v),h+1)});throw v}).then(v=>y!==c&&c?c:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),u=v,v)))};return dt({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(y,v,C){let S=!1;(v.bu||(v.bu=[])).push(()=>S=!0);const _=()=>{S||C()},x=n?()=>{const A=n(_,R=>sne(y,R));A&&(v.bum||(v.bum=[])).push(A)}:_;u?x():p().then(()=>!v.isUnmounted&&x())},get __asyncResolved(){return u},setup(){const y=Vo;if(gL(y),u)return()=>LD(u,y);const v=x=>{c=null,Of(x,y,13,!s)};if(a&&y.suspense||Xv)return p().then(x=>()=>LD(x,y)).catch(x=>(v(x),()=>s?wt(s,{error:x}):null));const C=We(!1),S=We(),_=We(!!r);return r&&setTimeout(()=>{_.value=!1},r),o!=null&&setTimeout(()=>{if(!C.value&&!S.value){const x=new Error(`Async component timed out after ${o}ms.`);v(x),S.value=x}},o),p().then(()=>{C.value=!0,y.parent&&Iw(y.parent.vnode)&&y.parent.update()}).catch(x=>{v(x),S.value=x}),()=>{if(C.value&&u)return LD(u,y);if(S.value&&s)return wt(s,{error:S.value});if(i&&!_.value)return wt(i)}}})}function LD(e,t){const{ref:i,props:s,children:r,ce:n}=t.vnode,o=wt(e,s,r);return o.ref=i,o.ce=n,delete t.vnode.ce,o}const Iw=e=>e.type.__isKeepAlive,rne={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=Di(),s=i.ctx;if(!s.renderer)return()=>{const _=t.default&&t.default();return _&&_.length===1?_[0]:_};const r=new Map,n=new Set;let o=null;const a=i.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=s,f=h("div");s.activate=(_,x,A,R,O)=>{const k=_.component;c(_,x,A,0,a),l(k.vnode,_,x,A,k,a,R,_.slotScopeIds,O),lo(()=>{k.isDeactivated=!1,k.a&&Fv(k.a);const F=_.props&&_.props.onVnodeMounted;F&&Wa(F,k.parent,_)},a)},s.deactivate=_=>{const x=_.component;RE(x.m),RE(x.a),c(_,f,null,1,a),lo(()=>{x.da&&Fv(x.da);const A=_.props&&_.props.onVnodeUnmounted;A&&Wa(A,x.parent,_),x.isDeactivated=!0},a)};function p(_){OD(_),u(_,i,a,!0)}function y(_){r.forEach((x,A)=>{const R=XP(x.type);R&&!_(R)&&v(A)})}function v(_){const x=r.get(_);x&&(!o||!Ic(x,o))?p(x):o&&OD(o),r.delete(_),n.delete(_)}Ot(()=>[e.include,e.exclude],([_,x])=>{_&&y(A=>dC(_,A)),x&&y(A=>!dC(x,A))},{flush:"post",deep:!0});let C=null;const S=()=>{C!=null&&(PE(i.subTree.type)?lo(()=>{r.set(C,$x(i.subTree))},i.subTree.suspense):r.set(C,$x(i.subTree)))};return Ri(S),qg(S),Rr(()=>{r.forEach(_=>{const{subTree:x,suspense:A}=i,R=$x(x);if(_.type===R.type&&_.key===R.key){OD(R);const O=R.component.da;O&&lo(O,A);return}p(_)})}),()=>{if(C=null,!t.default)return o=null;const _=t.default(),x=_[0];if(_.length>1)return o=null,_;if(!fc(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let A=$x(x);if(A.type===on)return o=null,A;const R=A.type,O=XP(cf(A)?A.type.__asyncResolved||{}:R),{include:k,exclude:F,max:N}=e;if(k&&(!O||!dC(k,O))||F&&O&&dC(F,O))return A.shapeFlag&=-257,o=A,x;const j=A.key==null?R:A.key,ee=r.get(j);return A.el&&(A=Qc(A),x.shapeFlag&128&&(x.ssContent=A)),C=j,ee?(A.el=ee.el,A.component=ee.component,A.transition&&Wu(A,A.transition),A.shapeFlag|=512,n.delete(j),n.add(j)):(n.add(j),N&&n.size>parseInt(N,10)&&v(n.values().next().value)),A.shapeFlag|=256,o=A,PE(x.type)?x:A}}},tU=rne;function dC(e,t){return ci(e)?e.some(i=>dC(i,t)):es(e)?e.split(",").includes(t):Kse(e)?(e.lastIndex=0,e.test(t)):!1}function mL(e,t){iU(e,"a",t)}function vL(e,t){iU(e,"da",t)}function iU(e,t,i=Vo){const s=e.__wdc||(e.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ET(t,s,i),i){let r=i.parent;for(;r&&r.parent;)Iw(r.parent.vnode)&&nne(s,t,i,r),r=r.parent}}function nne(e,t,i,s){const r=ET(t,e,s,!0);ed(()=>{nL(s[t],r)},i)}function OD(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function $x(e){return e.shapeFlag&128?e.ssContent:e}function ET(e,t,i=Vo,s=!1){if(i){const r=i[e]||(i[e]=[]),n=t.__weh||(t.__weh=(...o)=>{Kd();const a=mg(i),l=Rl(t,i,e,o);return a(),Yd(),l});return s?r.unshift(n):r.push(n),n}}const eh=e=>(t,i=Vo)=>{(!Xv||e==="sp")&&ET(e,(...s)=>t(...s),i)},V0=eh("bm"),Ri=eh("m"),Xg=eh("bu"),qg=eh("u"),Rr=eh("bum"),ed=eh("um"),yL=eh("sp"),CL=eh("rtg"),bL=eh("rtc");function wL(e,t=Vo){ET("ec",e,t)}const SL="components",one="directives";function xn(e,t){return xL(SL,e,!0,t)||e}const sU=Symbol.for("v-ndc");function io(e){return es(e)?xL(SL,e,!1)||e:e||sU}function rU(e){return xL(one,e)}function xL(e,t,i=!0,s=!1){const r=Go||Vo;if(r){const n=r.type;if(e===SL){const a=XP(n,!1);if(a&&(a===t||a===Br(t)||a===Zd(Br(t))))return n}const o=TB(r[e]||n[e],t)||TB(r.appContext[e],t);return!o&&s?n:o}}function TB(e,t){return e&&(e[t]||e[Br(t)]||e[Zd(Br(t))])}function si(e,t,i,s){let r;const n=i&&i[s],o=ci(e);if(o||es(e)){const a=o&&Gd(e);let l=!1,c=!1;a&&(l=!el(e),c=$u(e),e=gT(e)),r=new Array(e.length);for(let u=0,h=e.length;u<h;u++)r[u]=t(l?c?_E(No(e[u])):No(e[u]):e[u],u,void 0,n&&n[u])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,n&&n[a])}else if(Sr(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,n&&n[l]));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=t(e[u],u,l,n&&n[l])}}else r=[];return i&&(i[s]=r),r}function zs(e,t){for(let i=0;i<t.length;i++){const s=t[i];if(ci(s))for(let r=0;r<s.length;r++)e[s[r].name]=s[r].fn;else s&&(e[s.name]=s.key?(...r)=>{const n=s.fn(...r);return n&&(n.key=s.key),n}:s.fn)}return e}function Fe(e,t,i={},s,r){if(Go.ce||Go.parent&&cf(Go.parent)&&Go.parent.ce)return t!=="default"&&(i.name=t),q(),nt(kt,null,[wt("slot",i,s&&s())],64);let n=e[t];n&&n._c&&(n._d=!1),q();const o=n&&EL(n(i)),a=i.key||o&&o.key,l=nt(kt,{key:(a&&!nl(a)?a:`_${t}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),n&&n._c&&(n._d=!0),l}function EL(e){return e.some(t=>fc(t)?!(t.type===on||t.type===kt&&!EL(t.children)):!0)?e:null}function Ta(e,t){const i={};for(const s in e)i[t&&/[A-Z]/.test(s)?`on:${s}`:Yp(s)]=e[s];return i}const BP=e=>e?WU(e)?Vw(e):BP(e.parent):null,LC=Ms(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>BP(e.parent),$root:e=>BP(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>TL(e),$forceUpdate:e=>e.f||(e.f=()=>{fL(e.update)}),$nextTick:e=>e.n||(e.n=rs.bind(e.proxy)),$watch:e=>Sne.bind(e)}),ID=(e,t)=>e!==Rs&&!e.__isScriptSetup&&ar(e,t),GP={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:s,data:r,props:n,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return r[t];case 4:return i[t];case 3:return n[t]}else{if(ID(s,t))return o[t]=1,s[t];if(r!==Rs&&ar(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&ar(c,t))return o[t]=3,n[t];if(i!==Rs&&ar(i,t))return o[t]=4,i[t];HP&&(o[t]=0)}}const u=LC[t];let h,f;if(u)return t==="$attrs"&&ea(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(i!==Rs&&ar(i,t))return o[t]=4,i[t];if(f=l.config.globalProperties,ar(f,t))return f[t]},set({_:e},t,i){const{data:s,setupState:r,ctx:n}=e;return ID(r,t)?(r[t]=i,!0):s!==Rs&&ar(s,t)?(s[t]=i,!0):ar(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:s,appContext:r,propsOptions:n}},o){let a;return!!i[o]||e!==Rs&&ar(e,o)||ID(t,o)||(a=n[0])&&ar(a,o)||ar(s,o)||ar(LC,o)||ar(r.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:ar(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},ane=Ms({},GP,{get(e,t){if(t!==Symbol.unscopables)return GP.get(e,t,e)},has(e,t){return t[0]!=="_"&&!ere(t)}});function nU(){return null}function oU(){return null}function aU(e){}function lU(e){}function cU(){return null}function uU(){}function dU(e,t){return null}function so(){return hU().slots}function td(){return hU().attrs}function hU(e){const t=Di();return t.setupContext||(t.setupContext=KU(t))}function Cb(e){return ci(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function _L(e,t){const i=Cb(e);for(const s in t){if(s.startsWith("__skip"))continue;let r=i[s];r?ci(r)||Oi(r)?r=i[s]={type:r,default:t[s]}:r.default=t[s]:r===null&&(r=i[s]={default:t[s]}),r&&t[`__skip_${s}`]&&(r.skipFactory=!0)}return i}function fU(e,t){return!e||!t?e||t:ci(e)&&ci(t)?e.concat(t):Ms({},Cb(e),Cb(t))}function pU(e,t){const i={};for(const s in e)t.includes(s)||Object.defineProperty(i,s,{enumerable:!0,get:()=>e[s]});return i}function gU(e){const t=Di();let i=e();return jP(),oL(i)&&(i=i.catch(s=>{throw mg(t),s})),[i,()=>mg(t)]}let HP=!0;function lne(e){const t=TL(e),i=e.proxy,s=e.ctx;HP=!1,t.beforeCreate&&AB(t.beforeCreate,e,"bc");const{data:r,computed:n,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:y,activated:v,deactivated:C,beforeDestroy:S,beforeUnmount:_,destroyed:x,unmounted:A,render:R,renderTracked:O,renderTriggered:k,errorCaptured:F,serverPrefetch:N,expose:j,inheritAttrs:ee,components:K,directives:Q,filters:be}=t;if(c&&cne(c,s,null),o)for(const H in o){const ie=o[H];Oi(ie)&&(s[H]=ie.bind(i))}if(r){const H=r.call(i,i);Sr(H)&&(e.data=Nn(H))}if(HP=!0,n)for(const H in n){const ie=n[H],ue=Oi(ie)?ie.bind(i,i):Oi(ie.get)?ie.get.bind(i,i):Ho,Te=!Oi(ie)&&Oi(ie.set)?ie.set.bind(i):Ho,Ie=V({get:ue,set:Te});Object.defineProperty(s,H,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:he=>Ie.value=he})}if(a)for(const H in a)mU(a[H],s,i,H);if(l){const H=Oi(l)?l.call(i):l;Reflect.ownKeys(H).forEach(ie=>{la(ie,H[ie])})}u&&AB(u,e,"c");function ne(H,ie){ci(ie)?ie.forEach(ue=>H(ue.bind(i))):ie&&H(ie.bind(i))}if(ne(V0,h),ne(Ri,f),ne(Xg,p),ne(qg,y),ne(mL,v),ne(vL,C),ne(wL,F),ne(bL,O),ne(CL,k),ne(Rr,_),ne(ed,A),ne(yL,N),ci(j))if(j.length){const H=e.exposed||(e.exposed={});j.forEach(ie=>{Object.defineProperty(H,ie,{get:()=>i[ie],set:ue=>i[ie]=ue,enumerable:!0})})}else e.exposed||(e.exposed={});R&&e.render===Ho&&(e.render=R),ee!=null&&(e.inheritAttrs=ee),K&&(e.components=K),Q&&(e.directives=Q),N&&gL(e)}function cne(e,t,i=Ho){ci(e)&&(e=$P(e));for(const s in e){const r=e[s];let n;Sr(r)?"default"in r?n=Xr(r.from||s,r.default,!0):n=Xr(r.from||s):n=Xr(r),cs(n)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):t[s]=n}}function AB(e,t,i){Rl(ci(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,i)}function mU(e,t,i,s){let r=s.includes(".")?PU(i,s):()=>i[s];if(es(e)){const n=t[e];Oi(n)&&Ot(r,n)}else if(Oi(e))Ot(r,e.bind(i));else if(Sr(e))if(ci(e))e.forEach(n=>mU(n,t,i,s));else{const n=Oi(e.handler)?e.handler.bind(i):t[e.handler];Oi(n)&&Ot(r,n,e)}}function TL(e){const t=e.type,{mixins:i,extends:s}=t,{mixins:r,optionsCache:n,config:{optionMergeStrategies:o}}=e.appContext,a=n.get(t);let l;return a?l=a:!r.length&&!i&&!s?l=t:(l={},r.length&&r.forEach(c=>DE(l,c,o,!0)),DE(l,t,o)),Sr(t)&&n.set(t,l),l}function DE(e,t,i,s=!1){const{mixins:r,extends:n}=t;n&&DE(e,n,i,!0),r&&r.forEach(o=>DE(e,o,i,!0));for(const o in t)if(!(s&&o==="expose")){const a=une[o]||i&&i[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const une={data:kB,props:DB,emits:DB,methods:hC,computed:hC,beforeCreate:va,created:va,beforeMount:va,mounted:va,beforeUpdate:va,updated:va,beforeDestroy:va,beforeUnmount:va,destroyed:va,unmounted:va,activated:va,deactivated:va,errorCaptured:va,serverPrefetch:va,components:hC,directives:hC,watch:hne,provide:kB,inject:dne};function kB(e,t){return t?e?function(){return Ms(Oi(e)?e.call(this,this):e,Oi(t)?t.call(this,this):t)}:t:e}function dne(e,t){return hC($P(e),$P(t))}function $P(e){if(ci(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function va(e,t){return e?[...new Set([].concat(e,t))]:t}function hC(e,t){return e?Ms(Object.create(null),e,t):t}function DB(e,t){return e?ci(e)&&ci(t)?[...new Set([...e,...t])]:Ms(Object.create(null),Cb(e),Cb(t??{})):t}function hne(e,t){if(!e)return t;if(!t)return e;const i=Ms(Object.create(null),e);for(const s in t)i[s]=va(e[s],t[s]);return i}function vU(){return{app:null,config:{isNativeTag:uC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fne=0;function pne(e,t){return function(s,r=null){Oi(s)||(s=Ms({},s)),r!=null&&!Sr(r)&&(r=null);const n=vU(),o=new WeakSet,a=[];let l=!1;const c=n.app={_uid:fne++,_component:s,_props:r,_container:null,_context:n,_instance:null,version:AT,get config(){return n.config},set config(u){},use(u,...h){return o.has(u)||(u&&Oi(u.install)?(o.add(u),u.install(c,...h)):Oi(u)&&(o.add(u),u(c,...h))),c},mixin(u){return n.mixins.includes(u)||n.mixins.push(u),c},component(u,h){return h?(n.components[u]=h,c):n.components[u]},directive(u,h){return h?(n.directives[u]=h,c):n.directives[u]},mount(u,h,f){if(!l){const p=c._ceVNode||wt(s,r);return p.appContext=n,f===!0?f="svg":f===!1&&(f=void 0),h&&t?t(p,u):e(p,u,f),l=!0,c._container=u,u.__vue_app__=c,Vw(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Rl(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return n.provides[u]=h,c},runWithContext(u){const h=qp;qp=c;try{return u()}finally{qp=h}}};return c}}let qp=null;function la(e,t){if(Vo){let i=Vo.provides;const s=Vo.parent&&Vo.parent.provides;s===i&&(i=Vo.provides=Object.create(s)),i[e]=t}}function Xr(e,t,i=!1){const s=Di();if(s||qp){let r=qp?qp._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return i&&Oi(t)?t.call(s&&s.proxy):t}}function yU(){return!!(Di()||qp)}const CU={},bU=()=>Object.create(CU),wU=e=>Object.getPrototypeOf(e)===CU;function gne(e,t,i,s=!1){const r={},n=bU();e.propsDefaults=Object.create(null),SU(e,t,r,n);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);i?e.props=s?r:N0(r):e.type.props?e.props=r:e.props=n,e.attrs=n}function mne(e,t,i,s){const{props:r,attrs:n,vnode:{patchFlag:o}}=e,a=xs(r),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(_T(e.emitsOptions,f))continue;const p=t[f];if(l)if(ar(n,f))p!==n[f]&&(n[f]=p,c=!0);else{const y=Br(f);r[y]=WP(l,a,y,p,e,!1)}else p!==n[f]&&(n[f]=p,c=!0)}}}else{SU(e,t,r,n)&&(c=!0);let u;for(const h in a)(!t||!ar(t,h)&&((u=Ka(h))===h||!ar(t,u)))&&(l?i&&(i[h]!==void 0||i[u]!==void 0)&&(r[h]=WP(l,a,h,void 0,e,!0)):delete r[h]);if(n!==a)for(const h in n)(!t||!ar(t,h))&&(delete n[h],c=!0)}c&&Dd(e.attrs,"set","")}function SU(e,t,i,s){const[r,n]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(lf(l))continue;const c=t[l];let u;r&&ar(r,u=Br(l))?!n||!n.includes(u)?i[u]=c:(a||(a={}))[u]=c:_T(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(n){const l=xs(i),c=a||Rs;for(let u=0;u<n.length;u++){const h=n[u];i[h]=WP(r,l,h,c[h],e,!ar(c,h))}}return o}function WP(e,t,i,s,r,n){const o=e[i];if(o!=null){const a=ar(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Oi(l)){const{propsDefaults:c}=r;if(i in c)s=c[i];else{const u=mg(r);s=c[i]=l.call(null,t),u()}}else s=l;r.ce&&r.ce._setProp(i,s)}o[0]&&(n&&!a?s=!1:o[1]&&(s===""||s===Ka(i))&&(s=!0))}return s}const vne=new WeakMap;function xU(e,t,i=!1){const s=i?vne:t.propsCache,r=s.get(e);if(r)return r;const n=e.props,o={},a=[];let l=!1;if(!Oi(e)){const u=h=>{l=!0;const[f,p]=xU(h,t,!0);Ms(o,f),p&&a.push(...p)};!i&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!n&&!l)return Sr(e)&&s.set(e,Rv),Rv;if(ci(n))for(let u=0;u<n.length;u++){const h=Br(n[u]);RB(h)&&(o[h]=Rs)}else if(n)for(const u in n){const h=Br(u);if(RB(h)){const f=n[u],p=o[h]=ci(f)||Oi(f)?{type:f}:Ms({},f),y=p.type;let v=!1,C=!0;if(ci(y))for(let S=0;S<y.length;++S){const _=y[S],x=Oi(_)&&_.name;if(x==="Boolean"){v=!0;break}else x==="String"&&(C=!1)}else v=Oi(y)&&y.name==="Boolean";p[0]=v,p[1]=C,(v||ar(p,"default"))&&a.push(h)}}const c=[o,a];return Sr(e)&&s.set(e,c),c}function RB(e){return e[0]!=="$"&&!lf(e)}const AL=e=>e==="_"||e==="__"||e==="_ctx"||e==="$stable",kL=e=>ci(e)?e.map(ja):[ja(e)],yne=(e,t,i)=>{if(t._n)return t;const s=tt((...r)=>kL(t(...r)),i);return s._c=!1,s},EU=(e,t,i)=>{const s=e._ctx;for(const r in e){if(AL(r))continue;const n=e[r];if(Oi(n))t[r]=yne(r,n,s);else if(n!=null){const o=kL(n);t[r]=()=>o}}},_U=(e,t)=>{const i=kL(t);e.slots.default=()=>i},TU=(e,t,i)=>{for(const s in t)(i||!AL(s))&&(e[s]=t[s])},Cne=(e,t,i)=>{const s=e.slots=bU();if(e.vnode.shapeFlag&32){const r=t.__;r&&LP(s,"__",r,!0);const n=t._;n?(TU(s,t,i),i&&LP(s,"_",n,!0)):EU(t,s)}else t&&_U(e,t)},bne=(e,t,i)=>{const{vnode:s,slots:r}=e;let n=!0,o=Rs;if(s.shapeFlag&32){const a=t._;a?i&&a===1?n=!1:TU(r,t,i):(n=!t.$stable,EU(t,r)),o=t}else t&&(_U(e,t),o={default:1});if(n)for(const a in r)!AL(a)&&o[a]==null&&delete r[a]},lo=IU;function DL(e){return AU(e)}function RL(e){return AU(e,Jre)}function AU(e,t){const i=cT();i.__VUE__=!0;const{insert:s,remove:r,patchProp:n,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=Ho,insertStaticContent:y}=e,v=(de,pe,Ve,Qe=null,Ge=null,Ze=null,ot=void 0,xe=null,Ae=!!pe.dynamicChildren)=>{if(de===pe)return;de&&!Ic(de,pe)&&(Qe=ye(de),he(de,Ge,Ze,!0),de=null),pe.patchFlag===-2&&(Ae=!1,pe.dynamicChildren=null);const{type:Ke,ref:yt,shapeFlag:Ct}=pe;switch(Ke){case ac:C(de,pe,Ve,Qe);break;case on:S(de,pe,Ve,Qe);break;case uf:de==null&&_(pe,Ve,Qe,ot);break;case kt:K(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae);break;default:Ct&1?R(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae):Ct&6?Q(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae):(Ct&64||Ct&128)&&Ke.process(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae,He)}yt!=null&&Ge?Lv(yt,de&&de.ref,Ze,pe||de,!pe):yt==null&&de&&de.ref!=null&&Lv(de.ref,null,Ze,de,!0)},C=(de,pe,Ve,Qe)=>{if(de==null)s(pe.el=a(pe.children),Ve,Qe);else{const Ge=pe.el=de.el;pe.children!==de.children&&c(Ge,pe.children)}},S=(de,pe,Ve,Qe)=>{de==null?s(pe.el=l(pe.children||""),Ve,Qe):pe.el=de.el},_=(de,pe,Ve,Qe)=>{[de.el,de.anchor]=y(de.children,pe,Ve,Qe,de.el,de.anchor)},x=({el:de,anchor:pe},Ve,Qe)=>{let Ge;for(;de&&de!==pe;)Ge=f(de),s(de,Ve,Qe),de=Ge;s(pe,Ve,Qe)},A=({el:de,anchor:pe})=>{let Ve;for(;de&&de!==pe;)Ve=f(de),r(de),de=Ve;r(pe)},R=(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae)=>{pe.type==="svg"?ot="svg":pe.type==="math"&&(ot="mathml"),de==null?O(pe,Ve,Qe,Ge,Ze,ot,xe,Ae):N(de,pe,Ge,Ze,ot,xe,Ae)},O=(de,pe,Ve,Qe,Ge,Ze,ot,xe)=>{let Ae,Ke;const{props:yt,shapeFlag:Ct,transition:ft,dirs:Je}=de;if(Ae=de.el=o(de.type,Ze,yt&&yt.is,yt),Ct&8?u(Ae,de.children):Ct&16&&F(de.children,Ae,null,Qe,Ge,ND(de,Ze),ot,xe),Je&&_u(de,null,Qe,"created"),k(Ae,de,de.scopeId,ot,Qe),yt){for(const Yt in yt)Yt!=="value"&&!lf(Yt)&&n(Ae,Yt,null,yt[Yt],Ze,Qe);"value"in yt&&n(Ae,"value",null,yt.value,Ze),(Ke=yt.onVnodeBeforeMount)&&Wa(Ke,Qe,de)}Je&&_u(de,null,Qe,"beforeMount");const ht=kU(Ge,ft);ht&&ft.beforeEnter(Ae),s(Ae,pe,Ve),((Ke=yt&&yt.onVnodeMounted)||ht||Je)&&lo(()=>{Ke&&Wa(Ke,Qe,de),ht&&ft.enter(Ae),Je&&_u(de,null,Qe,"mounted")},Ge)},k=(de,pe,Ve,Qe,Ge)=>{if(Ve&&p(de,Ve),Qe)for(let Ze=0;Ze<Qe.length;Ze++)p(de,Qe[Ze]);if(Ge){let Ze=Ge.subTree;if(pe===Ze||PE(Ze.type)&&(Ze.ssContent===pe||Ze.ssFallback===pe)){const ot=Ge.vnode;k(de,ot,ot.scopeId,ot.slotScopeIds,Ge.parent)}}},F=(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae=0)=>{for(let Ke=Ae;Ke<de.length;Ke++){const yt=de[Ke]=xe?Yh(de[Ke]):ja(de[Ke]);v(null,yt,pe,Ve,Qe,Ge,Ze,ot,xe)}},N=(de,pe,Ve,Qe,Ge,Ze,ot)=>{const xe=pe.el=de.el;let{patchFlag:Ae,dynamicChildren:Ke,dirs:yt}=pe;Ae|=de.patchFlag&16;const Ct=de.props||Rs,ft=pe.props||Rs;let Je;if(Ve&&gp(Ve,!1),(Je=ft.onVnodeBeforeUpdate)&&Wa(Je,Ve,pe,de),yt&&_u(pe,de,Ve,"beforeUpdate"),Ve&&gp(Ve,!0),(Ct.innerHTML&&ft.innerHTML==null||Ct.textContent&&ft.textContent==null)&&u(xe,""),Ke?j(de.dynamicChildren,Ke,xe,Ve,Qe,ND(pe,Ge),Ze):ot||ie(de,pe,xe,null,Ve,Qe,ND(pe,Ge),Ze,!1),Ae>0){if(Ae&16)ee(xe,Ct,ft,Ve,Ge);else if(Ae&2&&Ct.class!==ft.class&&n(xe,"class",null,ft.class,Ge),Ae&4&&n(xe,"style",Ct.style,ft.style,Ge),Ae&8){const ht=pe.dynamicProps;for(let Yt=0;Yt<ht.length;Yt++){const $e=ht[Yt],Me=Ct[$e],qe=ft[$e];(qe!==Me||$e==="value")&&n(xe,$e,Me,qe,Ge,Ve)}}Ae&1&&de.children!==pe.children&&u(xe,pe.children)}else!ot&&Ke==null&&ee(xe,Ct,ft,Ve,Ge);((Je=ft.onVnodeUpdated)||yt)&&lo(()=>{Je&&Wa(Je,Ve,pe,de),yt&&_u(pe,de,Ve,"updated")},Qe)},j=(de,pe,Ve,Qe,Ge,Ze,ot)=>{for(let xe=0;xe<pe.length;xe++){const Ae=de[xe],Ke=pe[xe],yt=Ae.el&&(Ae.type===kt||!Ic(Ae,Ke)||Ae.shapeFlag&198)?h(Ae.el):Ve;v(Ae,Ke,yt,null,Qe,Ge,Ze,ot,!0)}},ee=(de,pe,Ve,Qe,Ge)=>{if(pe!==Ve){if(pe!==Rs)for(const Ze in pe)!lf(Ze)&&!(Ze in Ve)&&n(de,Ze,pe[Ze],null,Ge,Qe);for(const Ze in Ve){if(lf(Ze))continue;const ot=Ve[Ze],xe=pe[Ze];ot!==xe&&Ze!=="value"&&n(de,Ze,xe,ot,Ge,Qe)}"value"in Ve&&n(de,"value",pe.value,Ve.value,Ge)}},K=(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae)=>{const Ke=pe.el=de?de.el:a(""),yt=pe.anchor=de?de.anchor:a("");let{patchFlag:Ct,dynamicChildren:ft,slotScopeIds:Je}=pe;Je&&(xe=xe?xe.concat(Je):Je),de==null?(s(Ke,Ve,Qe),s(yt,Ve,Qe),F(pe.children||[],Ve,yt,Ge,Ze,ot,xe,Ae)):Ct>0&&Ct&64&&ft&&de.dynamicChildren?(j(de.dynamicChildren,ft,Ve,Ge,Ze,ot,xe),(pe.key!=null||Ge&&pe===Ge.subTree)&&PL(de,pe,!0)):ie(de,pe,Ve,yt,Ge,Ze,ot,xe,Ae)},Q=(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae)=>{pe.slotScopeIds=xe,de==null?pe.shapeFlag&512?Ge.ctx.activate(pe,Ve,Qe,ot,Ae):be(pe,Ve,Qe,Ge,Ze,ot,Ae):te(de,pe,Ae)},be=(de,pe,Ve,Qe,Ge,Ze,ot)=>{const xe=de.component=$U(de,Qe,Ge);if(Iw(de)&&(xe.ctx.renderer=He),UU(xe,!1,ot),xe.asyncDep){if(Ge&&Ge.registerDep(xe,ne,ot),!de.el){const Ae=xe.subTree=wt(on);S(null,Ae,pe,Ve),de.placeholder=Ae.el}}else ne(xe,de,pe,Ve,Ge,Ze,ot)},te=(de,pe,Ve)=>{const Qe=pe.component=de.component;if(Ane(de,pe,Ve))if(Qe.asyncDep&&!Qe.asyncResolved){H(Qe,pe,Ve);return}else Qe.next=pe,Qe.update();else pe.el=de.el,Qe.vnode=pe},ne=(de,pe,Ve,Qe,Ge,Ze,ot)=>{const xe=()=>{if(de.isMounted){let{next:Ct,bu:ft,u:Je,parent:ht,vnode:Yt}=de;{const vt=DU(de);if(vt){Ct&&(Ct.el=Yt.el,H(de,Ct,ot)),vt.asyncDep.then(()=>{de.isUnmounted||xe()});return}}let $e=Ct,Me;gp(de,!1),Ct?(Ct.el=Yt.el,H(de,Ct,ot)):Ct=Yt,ft&&Fv(ft),(Me=Ct.props&&Ct.props.onVnodeBeforeUpdate)&&Wa(Me,ht,Ct,Yt),gp(de,!0);const qe=B1(de),pt=de.subTree;de.subTree=qe,v(pt,qe,h(pt.el),ye(pt),de,Ge,Ze),Ct.el=qe.el,$e===null&&TT(de,qe.el),Je&&lo(Je,Ge),(Me=Ct.props&&Ct.props.onVnodeUpdated)&&lo(()=>Wa(Me,ht,Ct,Yt),Ge)}else{let Ct;const{el:ft,props:Je}=pe,{bm:ht,m:Yt,parent:$e,root:Me,type:qe}=de,pt=cf(pe);if(gp(de,!1),ht&&Fv(ht),!pt&&(Ct=Je&&Je.onVnodeBeforeMount)&&Wa(Ct,$e,pe),gp(de,!0),ft&&we){const vt=()=>{de.subTree=B1(de),we(ft,de.subTree,de,Ge,null)};pt&&qe.__asyncHydrate?qe.__asyncHydrate(ft,de,vt):vt()}else{Me.ce&&Me.ce._def.shadowRoot!==!1&&Me.ce._injectChildStyle(qe);const vt=de.subTree=B1(de);v(null,vt,Ve,Qe,de,Ge,Ze),pe.el=vt.el}if(Yt&&lo(Yt,Ge),!pt&&(Ct=Je&&Je.onVnodeMounted)){const vt=pe;lo(()=>Wa(Ct,$e,vt),Ge)}(pe.shapeFlag&256||$e&&cf($e.vnode)&&$e.vnode.shapeFlag&256)&&de.a&&lo(de.a,Ge),de.isMounted=!0,pe=Ve=Qe=null}};de.scope.on();const Ae=de.effect=new Kv(xe);de.scope.off();const Ke=de.update=Ae.run.bind(Ae),yt=de.job=Ae.runIfDirty.bind(Ae);yt.i=de,yt.id=de.uid,Ae.scheduler=()=>fL(yt),gp(de,!0),Ke()},H=(de,pe,Ve)=>{pe.component=de;const Qe=de.vnode.props;de.vnode=pe,de.next=null,mne(de,pe.props,Qe,Ve),bne(de,pe.children,Ve),Kd(),CB(de),Yd()},ie=(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae=!1)=>{const Ke=de&&de.children,yt=de?de.shapeFlag:0,Ct=pe.children,{patchFlag:ft,shapeFlag:Je}=pe;if(ft>0){if(ft&128){Te(Ke,Ct,Ve,Qe,Ge,Ze,ot,xe,Ae);return}else if(ft&256){ue(Ke,Ct,Ve,Qe,Ge,Ze,ot,xe,Ae);return}}Je&8?(yt&16&&Se(Ke,Ge,Ze),Ct!==Ke&&u(Ve,Ct)):yt&16?Je&16?Te(Ke,Ct,Ve,Qe,Ge,Ze,ot,xe,Ae):Se(Ke,Ge,Ze,!0):(yt&8&&u(Ve,""),Je&16&&F(Ct,Ve,Qe,Ge,Ze,ot,xe,Ae))},ue=(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae)=>{de=de||Rv,pe=pe||Rv;const Ke=de.length,yt=pe.length,Ct=Math.min(Ke,yt);let ft;for(ft=0;ft<Ct;ft++){const Je=pe[ft]=Ae?Yh(pe[ft]):ja(pe[ft]);v(de[ft],Je,Ve,null,Ge,Ze,ot,xe,Ae)}Ke>yt?Se(de,Ge,Ze,!0,!1,Ct):F(pe,Ve,Qe,Ge,Ze,ot,xe,Ae,Ct)},Te=(de,pe,Ve,Qe,Ge,Ze,ot,xe,Ae)=>{let Ke=0;const yt=pe.length;let Ct=de.length-1,ft=yt-1;for(;Ke<=Ct&&Ke<=ft;){const Je=de[Ke],ht=pe[Ke]=Ae?Yh(pe[Ke]):ja(pe[Ke]);if(Ic(Je,ht))v(Je,ht,Ve,null,Ge,Ze,ot,xe,Ae);else break;Ke++}for(;Ke<=Ct&&Ke<=ft;){const Je=de[Ct],ht=pe[ft]=Ae?Yh(pe[ft]):ja(pe[ft]);if(Ic(Je,ht))v(Je,ht,Ve,null,Ge,Ze,ot,xe,Ae);else break;Ct--,ft--}if(Ke>Ct){if(Ke<=ft){const Je=ft+1,ht=Je<yt?pe[Je].el:Qe;for(;Ke<=ft;)v(null,pe[Ke]=Ae?Yh(pe[Ke]):ja(pe[Ke]),Ve,ht,Ge,Ze,ot,xe,Ae),Ke++}}else if(Ke>ft)for(;Ke<=Ct;)he(de[Ke],Ge,Ze,!0),Ke++;else{const Je=Ke,ht=Ke,Yt=new Map;for(Ke=ht;Ke<=ft;Ke++){const gt=pe[Ke]=Ae?Yh(pe[Ke]):ja(pe[Ke]);gt.key!=null&&Yt.set(gt.key,Ke)}let $e,Me=0;const qe=ft-ht+1;let pt=!1,vt=0;const _i=new Array(qe);for(Ke=0;Ke<qe;Ke++)_i[Ke]=0;for(Ke=Je;Ke<=Ct;Ke++){const gt=de[Ke];if(Me>=qe){he(gt,Ge,Ze,!0);continue}let Xt;if(gt.key!=null)Xt=Yt.get(gt.key);else for($e=ht;$e<=ft;$e++)if(_i[$e-ht]===0&&Ic(gt,pe[$e])){Xt=$e;break}Xt===void 0?he(gt,Ge,Ze,!0):(_i[Xt-ht]=Ke+1,Xt>=vt?vt=Xt:pt=!0,v(gt,pe[Xt],Ve,null,Ge,Ze,ot,xe,Ae),Me++)}const dr=pt?wne(_i):Rv;for($e=dr.length-1,Ke=qe-1;Ke>=0;Ke--){const gt=ht+Ke,Xt=pe[gt],Xi=pe[gt+1],$s=gt+1<yt?Xi.el||Xi.placeholder:Qe;_i[Ke]===0?v(null,Xt,Ve,$s,Ge,Ze,ot,xe,Ae):pt&&($e<0||Ke!==dr[$e]?Ie(Xt,Ve,$s,2):$e--)}}},Ie=(de,pe,Ve,Qe,Ge=null)=>{const{el:Ze,type:ot,transition:xe,children:Ae,shapeFlag:Ke}=de;if(Ke&6){Ie(de.component.subTree,pe,Ve,Qe);return}if(Ke&128){de.suspense.move(pe,Ve,Qe);return}if(Ke&64){ot.move(de,pe,Ve,He);return}if(ot===kt){s(Ze,pe,Ve);for(let Ct=0;Ct<Ae.length;Ct++)Ie(Ae[Ct],pe,Ve,Qe);s(de.anchor,pe,Ve);return}if(ot===uf){x(de,pe,Ve);return}if(Qe!==2&&Ke&1&&xe)if(Qe===0)xe.beforeEnter(Ze),s(Ze,pe,Ve),lo(()=>xe.enter(Ze),Ge);else{const{leave:Ct,delayLeave:ft,afterLeave:Je}=xe,ht=()=>{de.ctx.isUnmounted?r(Ze):s(Ze,pe,Ve)},Yt=()=>{Ct(Ze,()=>{ht(),Je&&Je()})};ft?ft(Ze,ht,Yt):Yt()}else s(Ze,pe,Ve)},he=(de,pe,Ve,Qe=!1,Ge=!1)=>{const{type:Ze,props:ot,ref:xe,children:Ae,dynamicChildren:Ke,shapeFlag:yt,patchFlag:Ct,dirs:ft,cacheIndex:Je}=de;if(Ct===-2&&(Ge=!1),xe!=null&&(Kd(),Lv(xe,null,Ve,de,!0),Yd()),Je!=null&&(pe.renderCache[Je]=void 0),yt&256){pe.ctx.deactivate(de);return}const ht=yt&1&&ft,Yt=!cf(de);let $e;if(Yt&&($e=ot&&ot.onVnodeBeforeUnmount)&&Wa($e,pe,de),yt&6)Z(de.component,Ve,Qe);else{if(yt&128){de.suspense.unmount(Ve,Qe);return}ht&&_u(de,null,pe,"beforeUnmount"),yt&64?de.type.remove(de,pe,Ve,He,Qe):Ke&&!Ke.hasOnce&&(Ze!==kt||Ct>0&&Ct&64)?Se(Ke,pe,Ve,!1,!0):(Ze===kt&&Ct&384||!Ge&&yt&16)&&Se(Ae,pe,Ve),Qe&&Ee(de)}(Yt&&($e=ot&&ot.onVnodeUnmounted)||ht)&&lo(()=>{$e&&Wa($e,pe,de),ht&&_u(de,null,pe,"unmounted")},Ve)},Ee=de=>{const{type:pe,el:Ve,anchor:Qe,transition:Ge}=de;if(pe===kt){Y(Ve,Qe);return}if(pe===uf){A(de);return}const Ze=()=>{r(Ve),Ge&&!Ge.persisted&&Ge.afterLeave&&Ge.afterLeave()};if(de.shapeFlag&1&&Ge&&!Ge.persisted){const{leave:ot,delayLeave:xe}=Ge,Ae=()=>ot(Ve,Ze);xe?xe(de.el,Ze,Ae):Ae()}else Ze()},Y=(de,pe)=>{let Ve;for(;de!==pe;)Ve=f(de),r(de),de=Ve;r(pe)},Z=(de,pe,Ve)=>{const{bum:Qe,scope:Ge,job:Ze,subTree:ot,um:xe,m:Ae,a:Ke,parent:yt,slots:{__:Ct}}=de;RE(Ae),RE(Ke),Qe&&Fv(Qe),yt&&ci(Ct)&&Ct.forEach(ft=>{yt.renderCache[ft]=void 0}),Ge.stop(),Ze&&(Ze.flags|=8,he(ot,de,pe,Ve)),xe&&lo(xe,pe),lo(()=>{de.isUnmounted=!0},pe),pe&&pe.pendingBranch&&!pe.isUnmounted&&de.asyncDep&&!de.asyncResolved&&de.suspenseId===pe.pendingId&&(pe.deps--,pe.deps===0&&pe.resolve())},Se=(de,pe,Ve,Qe=!1,Ge=!1,Ze=0)=>{for(let ot=Ze;ot<de.length;ot++)he(de[ot],pe,Ve,Qe,Ge)},ye=de=>{if(de.shapeFlag&6)return ye(de.component.subTree);if(de.shapeFlag&128)return de.suspense.next();const pe=f(de.anchor||de.el),Ve=pe&&pe[H8];return Ve?f(Ve):pe};let ke=!1;const Oe=(de,pe,Ve)=>{de==null?pe._vnode&&he(pe._vnode,null,null,!0):v(pe._vnode||null,de,pe,null,null,null,Ve),pe._vnode=de,ke||(ke=!0,CB(),kE(),ke=!1)},He={p:v,um:he,m:Ie,r:Ee,mt:be,mc:F,pc:ie,pbc:j,n:ye,o:e};let mt,we;return t&&([mt,we]=t(He)),{render:Oe,hydrate:mt,createApp:pne(Oe,mt)}}function ND({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function gp({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function kU(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function PL(e,t,i=!1){const s=e.children,r=t.children;if(ci(s)&&ci(r))for(let n=0;n<s.length;n++){const o=s[n];let a=r[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[n]=Yh(r[n]),a.el=o.el),!i&&a.patchFlag!==-2&&PL(o,a)),a.type===ac&&(a.el=o.el),a.type===on&&!a.el&&(a.el=o.el)}}function wne(e){const t=e.slice(),i=[0];let s,r,n,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=i[i.length-1],e[r]<c){t[s]=r,i.push(s);continue}for(n=0,o=i.length-1;n<o;)a=n+o>>1,e[i[a]]<c?n=a+1:o=a;c<e[i[n]]&&(n>0&&(t[s]=i[n-1]),i[n]=s)}}for(n=i.length,o=i[n-1];n-- >0;)i[n]=o,o=t[o];return i}function DU(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:DU(t)}function RE(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const FL=Symbol.for("v-scx"),ML=()=>Xr(FL);function Fa(e,t){return Nw(e,null,t)}function RU(e,t){return Nw(e,null,{flush:"post"})}function LL(e,t){return Nw(e,null,{flush:"sync"})}function Ot(e,t,i){return Nw(e,t,i)}function Nw(e,t,i=Rs){const{immediate:s,deep:r,flush:n,once:o}=i,a=Ms({},i),l=t&&s||!t&&n!=="post";let c;if(Xv){if(n==="sync"){const p=ML();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Ho,p.resume=Ho,p.pause=Ho,p}}const u=Vo;a.call=(p,y,v)=>Rl(p,u,y,v);let h=!1;n==="post"?a.scheduler=p=>{lo(p,u&&u.suspense)}:n!=="sync"&&(h=!0,a.scheduler=(p,y)=>{y?p():fL(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=$re(e,t,a);return Xv&&(c?c.push(f):l&&f()),f}function Sne(e,t,i){const s=this.proxy,r=es(e)?e.includes(".")?PU(s,e):()=>s[e]:e.bind(s,s);let n;Oi(t)?n=t:(n=t.handler,i=t);const o=mg(this),a=Nw(r,n.bind(s),i);return o(),a}function PU(e,t){const i=t.split(".");return()=>{let s=e;for(let r=0;r<i.length&&s;r++)s=s[i[r]];return s}}function FU(e,t,i=Rs){const s=Di(),r=Br(t),n=Ka(t),o=MU(e,r),a=bT((l,c)=>{let u,h=Rs,f;return LL(()=>{const p=e[r];Sa(u,p)&&(u=p,c())}),{get(){return l(),i.get?i.get(u):u},set(p){const y=i.set?i.set(p):p;if(!Sa(y,u)&&!(h!==Rs&&Sa(p,h)))return;const v=s.vnode.props;v&&(t in v||r in v||n in v)&&(`onUpdate:${t}`in v||`onUpdate:${r}`in v||`onUpdate:${n}`in v)||(u=p,c()),s.emit(`update:${t}`,y),Sa(p,y)&&Sa(p,h)&&!Sa(y,f)&&c(),h=p,f=y}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Rs:a,done:!1}:{done:!0}}}},a}const MU=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Br(t)}Modifiers`]||e[`${Ka(t)}Modifiers`];function xne(e,t,...i){if(e.isUnmounted)return;const s=e.vnode.props||Rs;let r=i;const n=t.startsWith("update:"),o=n&&MU(s,t.slice(7));o&&(o.trim&&(r=i.map(u=>es(u)?u.trim():u)),o.number&&(r=i.map(SE)));let a,l=s[a=Yp(t)]||s[a=Yp(Br(t))];!l&&n&&(l=s[a=Yp(Ka(t))]),l&&Rl(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Rl(c,e,6,r)}}function LU(e,t,i=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const n=e.emits;let o={},a=!1;if(!Oi(e)){const l=c=>{const u=LU(c,t,!0);u&&(a=!0,Ms(o,u))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!n&&!a?(Sr(e)&&s.set(e,null),null):(ci(n)?n.forEach(l=>o[l]=null):Ms(o,n),Sr(e)&&s.set(e,o),o)}function _T(e,t){return!e||!zg(t)?!1:(t=t.slice(2).replace(/Once$/,""),ar(e,t[0].toLowerCase()+t.slice(1))||ar(e,Ka(t))||ar(e,t))}function B1(e){const{type:t,vnode:i,proxy:s,withProxy:r,propsOptions:[n],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:p,ctx:y,inheritAttrs:v}=e,C=yb(e);let S,_;try{if(i.shapeFlag&4){const A=r||s,R=A;S=ja(c.call(R,A,u,h,p,f,y)),_=a}else{const A=t;S=ja(A.length>1?A(h,{attrs:a,slots:o,emit:l}):A(h,null)),_=t.props?a:_ne(a)}}catch(A){OC.length=0,Of(A,e,1),S=wt(on)}let x=S;if(_&&v!==!1){const A=Object.keys(_),{shapeFlag:R}=x;A.length&&R&7&&(n&&A.some(rL)&&(_=Tne(_,n)),x=Qc(x,_,!1,!0))}return i.dirs&&(x=Qc(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(i.dirs):i.dirs),i.transition&&Wu(x,i.transition),S=x,yb(C),S}function Ene(e,t=!0){let i;for(let s=0;s<e.length;s++){const r=e[s];if(fc(r)){if(r.type!==on||r.children==="v-if"){if(i)return;i=r}}else return}return i}const _ne=e=>{let t;for(const i in e)(i==="class"||i==="style"||zg(i))&&((t||(t={}))[i]=e[i]);return t},Tne=(e,t)=>{const i={};for(const s in e)(!rL(s)||!(s.slice(9)in t))&&(i[s]=e[s]);return i};function Ane(e,t,i){const{props:s,children:r,component:n}=e,{props:o,children:a,patchFlag:l}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return s?PB(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!_T(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?PB(s,o,c):!0:!!o;return!1}function PB(e,t,i){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const n=s[r];if(t[n]!==e[n]&&!_T(i,n))return!0}return!1}function TT({vnode:e,parent:t},i){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=i,t=t.parent;else break}}const PE=e=>e.__isSuspense;let UP=0;const kne={name:"Suspense",__isSuspense:!0,process(e,t,i,s,r,n,o,a,l,c){if(e==null)Dne(t,i,s,r,n,o,a,l,c);else{if(n&&n.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}Rne(e,t,i,s,r,o,a,l,c)}},hydrate:Pne,normalize:Fne},OL=kne;function bb(e,t){const i=e.props&&e.props[t];Oi(i)&&i()}function Dne(e,t,i,s,r,n,o,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),f=e.suspense=OU(e,r,s,t,h,i,n,o,a,l);c(null,f.pendingBranch=e.ssContent,h,null,s,f,n,o),f.deps>0?(bb(e,"onPending"),bb(e,"onFallback"),c(null,e.ssFallback,t,i,s,null,n,o),Ov(f,e.ssFallback)):f.resolve(!1,!0)}function Rne(e,t,i,s,r,n,o,a,{p:l,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const f=t.ssContent,p=t.ssFallback,{activeBranch:y,pendingBranch:v,isInFallback:C,isHydrating:S}=h;if(v)h.pendingBranch=f,Ic(f,v)?(l(v,f,h.hiddenContainer,null,r,h,n,o,a),h.deps<=0?h.resolve():C&&(S||(l(y,p,i,s,r,null,n,o,a),Ov(h,p)))):(h.pendingId=UP++,S?(h.isHydrating=!1,h.activeBranch=v):c(v,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),C?(l(null,f,h.hiddenContainer,null,r,h,n,o,a),h.deps<=0?h.resolve():(l(y,p,i,s,r,null,n,o,a),Ov(h,p))):y&&Ic(f,y)?(l(y,f,i,s,r,h,n,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,r,h,n,o,a),h.deps<=0&&h.resolve()));else if(y&&Ic(f,y))l(y,f,i,s,r,h,n,o,a),Ov(h,f);else if(bb(t,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=UP++,l(null,f,h.hiddenContainer,null,r,h,n,o,a),h.deps<=0)h.resolve();else{const{timeout:_,pendingId:x}=h;_>0?setTimeout(()=>{h.pendingId===x&&h.fallback(p)},_):_===0&&h.fallback(p)}}function OU(e,t,i,s,r,n,o,a,l,c,u=!1){const{p:h,m:f,um:p,n:y,o:{parentNode:v,remove:C}}=c;let S;const _=Mne(e);_&&t&&t.pendingBranch&&(S=t.pendingId,t.deps++);const x=e.props?xE(e.props.timeout):void 0,A=n,R={vnode:e,parent:t,parentComponent:i,namespace:o,container:s,hiddenContainer:r,deps:0,pendingId:UP++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(O=!1,k=!1){const{vnode:F,activeBranch:N,pendingBranch:j,pendingId:ee,effects:K,parentComponent:Q,container:be}=R;let te=!1;R.isHydrating?R.isHydrating=!1:O||(te=N&&j.transition&&j.transition.mode==="out-in",te&&(N.transition.afterLeave=()=>{ee===R.pendingId&&(f(j,be,n===A?y(N):n,0),Yv(K))}),N&&(v(N.el)===be&&(n=y(N)),p(N,Q,R,!0)),te||f(j,be,n,0)),Ov(R,j),R.pendingBranch=null,R.isInFallback=!1;let ne=R.parent,H=!1;for(;ne;){if(ne.pendingBranch){ne.effects.push(...K),H=!0;break}ne=ne.parent}!H&&!te&&Yv(K),R.effects=[],_&&t&&t.pendingBranch&&S===t.pendingId&&(t.deps--,t.deps===0&&!k&&t.resolve()),bb(F,"onResolve")},fallback(O){if(!R.pendingBranch)return;const{vnode:k,activeBranch:F,parentComponent:N,container:j,namespace:ee}=R;bb(k,"onFallback");const K=y(F),Q=()=>{R.isInFallback&&(h(null,O,j,K,N,null,ee,a,l),Ov(R,O))},be=O.transition&&O.transition.mode==="out-in";be&&(F.transition.afterLeave=Q),R.isInFallback=!0,p(F,N,null,!0),be||Q()},move(O,k,F){R.activeBranch&&f(R.activeBranch,O,k,F),R.container=O},next(){return R.activeBranch&&y(R.activeBranch)},registerDep(O,k,F){const N=!!R.pendingBranch;N&&R.deps++;const j=O.vnode.el;O.asyncDep.catch(ee=>{Of(ee,O,0)}).then(ee=>{if(O.isUnmounted||R.isUnmounted||R.pendingId!==O.suspenseId)return;O.asyncResolved=!0;const{vnode:K}=O;KP(O,ee,!1),j&&(K.el=j);const Q=!j&&O.subTree.el;k(O,K,v(j||O.subTree.el),j?null:y(O.subTree),R,o,F),Q&&C(Q),TT(O,K.el),N&&--R.deps===0&&R.resolve()})},unmount(O,k){R.isUnmounted=!0,R.activeBranch&&p(R.activeBranch,i,O,k),R.pendingBranch&&p(R.pendingBranch,i,O,k)}};return R}function Pne(e,t,i,s,r,n,o,a,l){const c=t.suspense=OU(t,s,i,e.parentNode,document.createElement("div"),null,r,n,o,a,!0),u=l(e,c.pendingBranch=t.ssContent,i,c,n,o);return c.deps===0&&c.resolve(!1,!0),u}function Fne(e){const{shapeFlag:t,children:i}=e,s=t&32;e.ssContent=FB(s?i.default:i),e.ssFallback=s?FB(i.fallback):wt(on)}function FB(e){let t;if(Oi(e)){const i=gg&&e._c;i&&(e._d=!1,q()),e=e(),i&&(e._d=!0,t=oa,NU())}return ci(e)&&(e=Ene(e)),e=ja(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function IU(e,t){t&&t.pendingBranch?ci(e)?t.effects.push(...e):t.effects.push(e):Yv(e)}function Ov(e,t){e.activeBranch=t;const{vnode:i,parentComponent:s}=e;let r=t.el;for(;!r&&t.component;)t=t.component.subTree,r=t.el;i.el=r,s&&s.subTree===i&&(s.vnode.el=r,TT(s,r))}function Mne(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const kt=Symbol.for("v-fgt"),ac=Symbol.for("v-txt"),on=Symbol.for("v-cmt"),uf=Symbol.for("v-stc"),OC=[];let oa=null;function q(e=!1){OC.push(oa=e?null:[])}function NU(){OC.pop(),oa=OC[OC.length-1]||null}let gg=1;function FE(e,t=!1){gg+=e,e<0&&oa&&t&&(oa.hasOnce=!0)}function VU(e){return e.dynamicChildren=gg>0?oa||Rv:null,NU(),gg>0&&oa&&oa.push(e),e}function ve(e,t,i,s,r,n){return VU(me(e,t,i,s,r,n,!0))}function nt(e,t,i,s,r){return VU(wt(e,t,i,s,r,!0))}function fc(e){return e?e.__v_isVNode===!0:!1}function Ic(e,t){return e.type===t.type&&e.key===t.key}function BU(e){}const GU=({key:e})=>e??null,G1=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?es(e)||cs(e)||Oi(e)?{i:Go,r:e,k:t,f:!!i}:e:null);function me(e,t=null,i=null,s=0,r=null,n=e===kt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&GU(t),ref:t&&G1(t),scopeId:wT,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Go};return a?(IL(l,i),n&128&&e.normalize(l)):i&&(l.shapeFlag|=es(i)?8:16),gg>0&&!o&&oa&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&oa.push(l),l}const wt=Lne;function Lne(e,t=null,i=null,s=0,r=null,n=!1){if((!e||e===sU)&&(e=on),fc(e)){const a=Qc(e,t,!0);return i&&IL(a,i),gg>0&&!n&&oa&&(a.shapeFlag&6?oa[oa.indexOf(e)]=a:oa.push(a)),a.patchFlag=-2,a}if(Bne(e)&&(e=e.__vccOpts),t){t=Wt(t);let{class:a,style:l}=t;a&&!es(a)&&(t.class=Et(a)),Sr(l)&&(Kg(l)&&!ci(l)&&(l=Ms({},l)),t.style=St(l))}const o=es(e)?1:PE(e)?128:$8(e)?64:Sr(e)?4:Oi(e)?2:0;return me(e,t,i,s,r,o,n,!0)}function Wt(e){return e?Kg(e)||wU(e)?Ms({},e):e:null}function Qc(e,t,i=!1,s=!1){const{props:r,ref:n,patchFlag:o,children:a,transition:l}=e,c=t?ut(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&GU(c),ref:t&&t.ref?i&&n?ci(n)?n.concat(G1(t)):[n,G1(t)]:G1(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==kt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qc(e.ssContent),ssFallback:e.ssFallback&&Qc(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Wu(u,l.clone(u)),u}function oi(e=" ",t=0){return wt(ac,null,e,t)}function HU(e,t){const i=wt(uf,null,e);return i.staticCount=t,i}function Le(e="",t=!1){return t?(q(),nt(on,null,e)):wt(on,null,e)}function ja(e){return e==null||typeof e=="boolean"?wt(on):ci(e)?wt(kt,null,e.slice()):fc(e)?Yh(e):wt(ac,null,String(e))}function Yh(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Qc(e)}function IL(e,t){let i=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ci(t))i=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),IL(e,r()),r._c&&(r._d=!0));return}else{i=32;const r=t._;!r&&!wU(t)?t._ctx=Go:r===3&&Go&&(Go.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Oi(t)?(t={default:t,_ctx:Go},i=32):(t=String(t),s&64?(i=16,t=[oi(t)]):i=8);e.children=t,e.shapeFlag|=i}function ut(...e){const t={};for(let i=0;i<e.length;i++){const s=e[i];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Et([t.class,s.class]));else if(r==="style")t.style=St([t.style,s.style]);else if(zg(r)){const n=t[r],o=s[r];o&&n!==o&&!(ci(n)&&n.includes(o))&&(t[r]=n?[].concat(n,o):o)}else r!==""&&(t[r]=s[r])}return t}function Wa(e,t,i,s=null){Rl(e,t,7,[i,s])}const One=vU();let Ine=0;function $U(e,t,i){const s=e.type,r=(t?t.appContext:e.appContext)||One,n={uid:Ine++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new dT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xU(s,r),emitsOptions:LU(s,r),emit:null,emitted:null,propsDefaults:Rs,inheritAttrs:s.inheritAttrs,ctx:Rs,data:Rs,props:Rs,attrs:Rs,slots:Rs,refs:Rs,setupState:Rs,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=xne.bind(null,n),e.ce&&e.ce(n),n}let Vo=null;const Di=()=>Vo||Go;let ME,zP;{const e=cT(),t=(i,s)=>{let r;return(r=e[i])||(r=e[i]=[]),r.push(s),n=>{r.length>1?r.forEach(o=>o(n)):r[0](n)}};ME=t("__VUE_INSTANCE_SETTERS__",i=>Vo=i),zP=t("__VUE_SSR_SETTERS__",i=>Xv=i)}const mg=e=>{const t=Vo;return ME(e),e.scope.on(),()=>{e.scope.off(),ME(t)}},jP=()=>{Vo&&Vo.scope.off(),ME(null)};function WU(e){return e.vnode.shapeFlag&4}let Xv=!1;function UU(e,t=!1,i=!1){t&&zP(t);const{props:s,children:r}=e.vnode,n=WU(e);gne(e,s,n,t),Cne(e,r,i||t);const o=n?Nne(e,t):void 0;return t&&zP(!1),o}function Nne(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,GP);const{setup:s}=i;if(s){Kd();const r=e.setupContext=s.length>1?KU(e):null,n=mg(e),o=Yg(s,e,0,[e.props,r]),a=oL(o);if(Yd(),n(),(a||e.sp)&&!cf(e)&&gL(e),a){if(o.then(jP,jP),t)return o.then(l=>{KP(e,l,t)}).catch(l=>{Of(l,e,0)});e.asyncDep=o}else KP(e,o,t)}else jU(e,t)}function KP(e,t,i){Oi(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Sr(t)&&(e.setupState=CT(t)),jU(e,i)}let LE,YP;function NL(e){LE=e,YP=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,ane))}}const zU=()=>!LE;function jU(e,t,i){const s=e.type;if(!e.render){if(!t&&LE&&!s.render){const r=s.template||TL(e).template;if(r){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Ms(Ms({isCustomElement:n,delimiters:a},o),l);s.render=LE(r,c)}}e.render=s.render||Ho,YP&&YP(e)}{const r=mg(e);Kd();try{lne(e)}finally{Yd(),r()}}}const Vne={get(e,t){return ea(e,"get",""),e[t]}};function KU(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,Vne),slots:e.slots,emit:e.emit,expose:t}}function Vw(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(CT(dL(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in LC)return LC[i](e)},has(t,i){return i in t||i in LC}})):e.proxy}function XP(e,t=!0){return Oi(e)?e.displayName||e.name:e.name||t&&e.__name}function Bne(e){return Oi(e)&&"__vccOpts"in e}const V=(e,t)=>Hre(e,t,Xv);function ji(e,t,i){const s=arguments.length;return s===2?Sr(t)&&!ci(t)?fc(t)?wt(e,null,[t]):wt(e,t):wt(e,null,t):(s>3?i=Array.prototype.slice.call(arguments,2):s===3&&fc(i)&&(i=[i]),wt(e,t,i))}function YU(){}function XU(e,t,i,s){const r=i[s];if(r&&VL(r,e))return r;const n=t();return n.memo=e.slice(),n.cacheIndex=s,i[s]=n}function VL(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let s=0;s<i.length;s++)if(Sa(i[s],t[s]))return!1;return gg>0&&oa&&oa.push(e),!0}const AT="3.5.18",qU=Ho,QU=zre,JU=pv,ZU=N8,Gne={createComponentInstance:$U,setupComponent:UU,renderComponentRoot:B1,setCurrentRenderingInstance:yb,isVNode:fc,normalizeVNode:ja,getComponentPublicInstance:Vw,ensureValidVNode:EL,pushWarningContext:Wre,popWarningContext:Ure},ez=Gne,tz=null,iz=null,sz=null;/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qP;const MB=typeof window<"u"&&window.trustedTypes;if(MB)try{qP=MB.createPolicy("vue",{createHTML:e=>e})}catch{}const rz=qP?e=>qP.createHTML(e):e=>e,Hne="http://www.w3.org/2000/svg",$ne="http://www.w3.org/1998/Math/MathML",_d=typeof document<"u"?document:null,LB=_d&&_d.createElement("template"),Wne={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,s)=>{const r=t==="svg"?_d.createElementNS(Hne,e):t==="mathml"?_d.createElementNS($ne,e):i?_d.createElement(e,{is:i}):_d.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>_d.createTextNode(e),createComment:e=>_d.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_d.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,s,r,n){const o=i?i.previousSibling:t.lastChild;if(r&&(r===n||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),i),!(r===n||!(r=r.nextSibling)););else{LB.innerHTML=rz(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=LB.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Lh="transition",Wy="animation",qv=Symbol("_vtc"),nz={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},oz=Ms({},xT,nz),Une=e=>(e.displayName="Transition",e.props=oz,e),yc=Une((e,{slots:t})=>ji(pL,az(e),t)),mp=(e,t=[])=>{ci(e)?e.forEach(i=>i(...t)):e&&e(...t)},OB=e=>e?ci(e)?e.some(t=>t.length>1):e.length>1:!1;function az(e){const t={};for(const K in e)K in nz||(t[K]=e[K]);if(e.css===!1)return t;const{name:i="v",type:s,duration:r,enterFromClass:n=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:a=`${i}-enter-to`,appearFromClass:l=n,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${i}-leave-from`,leaveActiveClass:f=`${i}-leave-active`,leaveToClass:p=`${i}-leave-to`}=e,y=zne(r),v=y&&y[0],C=y&&y[1],{onBeforeEnter:S,onEnter:_,onEnterCancelled:x,onLeave:A,onLeaveCancelled:R,onBeforeAppear:O=S,onAppear:k=_,onAppearCancelled:F=x}=t,N=(K,Q,be,te)=>{K._enterCancelled=te,Uh(K,Q?u:a),Uh(K,Q?c:o),be&&be()},j=(K,Q)=>{K._isLeaving=!1,Uh(K,h),Uh(K,p),Uh(K,f),Q&&Q()},ee=K=>(Q,be)=>{const te=K?k:_,ne=()=>N(Q,K,be);mp(te,[Q,ne]),IB(()=>{Uh(Q,K?l:n),vu(Q,K?u:a),OB(te)||NB(Q,s,v,ne)})};return Ms(t,{onBeforeEnter(K){mp(S,[K]),vu(K,n),vu(K,o)},onBeforeAppear(K){mp(O,[K]),vu(K,l),vu(K,c)},onEnter:ee(!1),onAppear:ee(!0),onLeave(K,Q){K._isLeaving=!0;const be=()=>j(K,Q);vu(K,h),K._enterCancelled?(vu(K,f),QP()):(QP(),vu(K,f)),IB(()=>{K._isLeaving&&(Uh(K,h),vu(K,p),OB(A)||NB(K,s,C,be))}),mp(A,[K,be])},onEnterCancelled(K){N(K,!1,void 0,!0),mp(x,[K])},onAppearCancelled(K){N(K,!0,void 0,!0),mp(F,[K])},onLeaveCancelled(K){j(K),mp(R,[K])}})}function zne(e){if(e==null)return null;if(Sr(e))return[VD(e.enter),VD(e.leave)];{const t=VD(e);return[t,t]}}function VD(e){return xE(e)}function vu(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[qv]||(e[qv]=new Set)).add(t)}function Uh(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const i=e[qv];i&&(i.delete(t),i.size||(e[qv]=void 0))}function IB(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let jne=0;function NB(e,t,i,s){const r=e._endId=++jne,n=()=>{r===e._endId&&s()};if(i!=null)return setTimeout(n,i);const{type:o,timeout:a,propCount:l}=lz(e,t);if(!o)return s();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,f),n()},f=p=>{p.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,f)}function lz(e,t){const i=window.getComputedStyle(e),s=y=>(i[y]||"").split(", "),r=s(`${Lh}Delay`),n=s(`${Lh}Duration`),o=VB(r,n),a=s(`${Wy}Delay`),l=s(`${Wy}Duration`),c=VB(a,l);let u=null,h=0,f=0;t===Lh?o>0&&(u=Lh,h=o,f=n.length):t===Wy?c>0&&(u=Wy,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?Lh:Wy:null,f=u?u===Lh?n.length:l.length:0);const p=u===Lh&&/\b(transform|all)(,|$)/.test(s(`${Lh}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:p}}function VB(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,s)=>BB(i)+BB(e[s])))}function BB(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function QP(){return document.body.offsetHeight}function Kne(e,t,i){const s=e[qv];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const OE=Symbol("_vod"),cz=Symbol("_vsh"),or={beforeMount(e,{value:t},{transition:i}){e[OE]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):Uy(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:s}){!t!=!i&&(s?t?(s.beforeEnter(e),Uy(e,!0),s.enter(e)):s.leave(e,()=>{Uy(e,!1)}):Uy(e,t))},beforeUnmount(e,{value:t}){Uy(e,t)}};function Uy(e,t){e.style.display=t?e[OE]:"none",e[cz]=!t}function Yne(){or.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const uz=Symbol("");function dz(e){const t=Di();if(!t)return;const i=t.ut=(r=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(n=>IE(n,r))},s=()=>{const r=e(t.proxy);t.ce?IE(t.ce,r):JP(t.subTree,r),i(r)};Xg(()=>{Yv(s)}),Ri(()=>{Ot(s,Ho,{flush:"post"});const r=new MutationObserver(s);r.observe(t.subTree.el.parentNode,{childList:!0}),ed(()=>r.disconnect())})}function JP(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{JP(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)IE(e.el,t);else if(e.type===kt)e.children.forEach(i=>JP(i,t));else if(e.type===uf){let{el:i,anchor:s}=e;for(;i&&(IE(i,t),i!==s);)i=i.nextSibling}}function IE(e,t){if(e.nodeType===1){const i=e.style;let s="";for(const r in t){const n=gre(t[r]);i.setProperty(`--${r}`,n),s+=`--${r}: ${n};`}i[uz]=s}}const Xne=/(^|;)\s*display\s*:/;function qne(e,t,i){const s=e.style,r=es(i);let n=!1;if(i&&!r){if(t)if(es(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&H1(s,a,"")}else for(const o in t)i[o]==null&&H1(s,o,"");for(const o in i)o==="display"&&(n=!0),H1(s,o,i[o])}else if(r){if(t!==i){const o=s[uz];o&&(i+=";"+o),s.cssText=i,n=Xne.test(i)}}else t&&e.removeAttribute("style");OE in e&&(e[OE]=n?s.display:"",e[cz]&&(s.display="none"))}const GB=/\s*!important$/;function H1(e,t,i){if(ci(i))i.forEach(s=>H1(e,t,s));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const s=Qne(e,t);GB.test(i)?e.setProperty(Ka(s),i.replace(GB,""),"important"):e[s]=i}}const HB=["Webkit","Moz","ms"],BD={};function Qne(e,t){const i=BD[t];if(i)return i;let s=Br(t);if(s!=="filter"&&s in e)return BD[t]=s;s=Zd(s);for(let r=0;r<HB.length;r++){const n=HB[r]+s;if(n in e)return BD[t]=n}return t}const $B="http://www.w3.org/1999/xlink";function WB(e,t,i,s,r,n=fre(t)){s&&t.startsWith("xlink:")?i==null?e.removeAttributeNS($B,t.slice(6,t.length)):e.setAttributeNS($B,t,i):i==null||n&&!r8(i)?e.removeAttribute(t):e.setAttribute(t,n?"":nl(i)?String(i):i)}function UB(e,t,i,s,r){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?rz(i):i);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?e.getAttribute("value")||"":e.value,l=i==null?e.type==="checkbox"?"on":"":String(i);(a!==l||!("_value"in e))&&(e.value=l),i==null&&e.removeAttribute(t),e._value=i;return}let o=!1;if(i===""||i==null){const a=typeof e[t];a==="boolean"?i=r8(i):i==null&&a==="string"?(i="",o=!0):a==="number"&&(i=0,o=!0)}try{e[t]=i}catch{}o&&e.removeAttribute(r||t)}function Pd(e,t,i,s){e.addEventListener(t,i,s)}function Jne(e,t,i,s){e.removeEventListener(t,i,s)}const zB=Symbol("_vei");function Zne(e,t,i,s,r=null){const n=e[zB]||(e[zB]={}),o=n[t];if(s&&o)o.value=s;else{const[a,l]=eoe(t);if(s){const c=n[t]=soe(s,r);Pd(e,a,c,l)}else o&&(Jne(e,a,o,l),n[t]=void 0)}}const jB=/(?:Once|Passive|Capture)$/;function eoe(e){let t;if(jB.test(e)){t={};let s;for(;s=e.match(jB);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ka(e.slice(2)),t]}let GD=0;const toe=Promise.resolve(),ioe=()=>GD||(toe.then(()=>GD=0),GD=Date.now());function soe(e,t){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;Rl(roe(s,i.value),t,5,[s])};return i.value=e,i.attached=ioe(),i}function roe(e,t){if(ci(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const KB=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,noe=(e,t,i,s,r,n)=>{const o=r==="svg";t==="class"?Kne(e,s,o):t==="style"?qne(e,i,s):zg(t)?rL(t)||Zne(e,t,i,s,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ooe(e,t,s,o))?(UB(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&WB(e,t,s,o,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!es(s))?UB(e,Br(t),s,n,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),WB(e,t,s,o))};function ooe(e,t,i,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&KB(t)&&Oi(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return KB(t)&&es(i)?!1:t in e}const YB={};/*! #__NO_SIDE_EFFECTS__ */function BL(e,t,i){const s=dt(e,t);aT(s)&&Ms(s,t);class r extends Bw{constructor(o){super(s,o,i)}}return r.def=s,r}/*! #__NO_SIDE_EFFECTS__ */const hz=(e,t)=>BL(e,t,$L),aoe=typeof HTMLElement<"u"?HTMLElement:class{};class Bw extends aoe{constructor(t,i={},s=wb){super(),this._def=t,this._props=i,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==wb?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Bw){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,rs(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(s,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:o}=s;let a;if(n&&!ci(n))for(const l in n){const c=n[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=xE(this._props[l])),(a||(a=Object.create(null)))[Br(l)]=!0)}this._numberProps=a,this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},i=this._def.__asyncLoader;i?this._pendingResolve=i().then(s=>{s.configureApp=this._def.configureApp,t(this._def=s,!0)}):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const i=this._instance&&this._instance.exposed;if(i)for(const s in i)ar(this,s)||Object.defineProperty(this,s,{get:()=>P(i[s])})}_resolveProps(t){const{props:i}=t,s=ci(i)?i:Object.keys(i||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r]);for(const r of s.map(Br))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(n){this._setProp(r,n,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const i=this.hasAttribute(t);let s=i?this.getAttribute(t):YB;const r=Br(t);i&&this._numberProps&&this._numberProps[r]&&(s=xE(s)),this._setProp(r,s,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,i,s=!0,r=!1){if(i!==this._props[t]&&(i===YB?delete this._props[t]:(this._props[t]=i,t==="key"&&this._app&&(this._app._ceVNode.key=i)),r&&this._instance&&this._update(),s)){const n=this._ob;n&&n.disconnect(),i===!0?this.setAttribute(Ka(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(Ka(t),i+""):i||this.removeAttribute(Ka(t)),n&&n.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),Uu(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const i=wt(this._def,Ms(t,this._props));return this._instance||(i.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const r=(n,o)=>{this.dispatchEvent(new CustomEvent(n,aT(o[0])?Ms({detail:o},o[0]):{detail:o}))};s.emit=(n,...o)=>{r(n,o),Ka(n)!==n&&r(Ka(n),o)},this._setParent()}),i}_applyStyles(t,i){if(!t)return;if(i){if(i===this._def||this._styleChildren.has(i))return;this._styleChildren.add(i)}const s=this._nonce;for(let r=t.length-1;r>=0;r--){const n=document.createElement("style");s&&n.setAttribute("nonce",s),n.textContent=t[r],this.shadowRoot.prepend(n)}}_parseSlots(){const t=this._slots={};let i;for(;i=this.firstChild;){const s=i.nodeType===1&&i.getAttribute("slot")||"default";(t[s]||(t[s]=[])).push(i),this.removeChild(i)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),i=this._instance.type.__scopeId;for(let s=0;s<t.length;s++){const r=t[s],n=r.getAttribute("name")||"default",o=this._slots[n],a=r.parentNode;if(o)for(const l of o){if(i&&l.nodeType===1){const c=i+"-s",u=document.createTreeWalker(l,1);l.setAttribute(c,"");let h;for(;h=u.nextNode();)h.setAttribute(c,"")}a.insertBefore(l,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function GL(e){const t=Di(),i=t&&t.ce;return i||null}function fz(){const e=GL();return e&&e.shadowRoot}function pz(e="$style"){{const t=Di();if(!t)return Rs;const i=t.type.__cssModules;if(!i)return Rs;const s=i[e];return s||Rs}}const gz=new WeakMap,mz=new WeakMap,NE=Symbol("_moveCb"),XB=Symbol("_enterCb"),loe=e=>(delete e.props.mode,e),coe=loe({name:"TransitionGroup",props:Ms({},oz,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=Di(),s=ST();let r,n;return qg(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!foe(r[0].el,i.vnode.el,o)){r=[];return}r.forEach(uoe),r.forEach(doe);const a=r.filter(hoe);QP(),a.forEach(l=>{const c=l.el,u=c.style;vu(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[NE]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",h),c[NE]=null,Uh(c,o))};c.addEventListener("transitionend",h)}),r=[]}),()=>{const o=xs(e),a=az(o);let l=o.tag||kt;if(r=[],n)for(let c=0;c<n.length;c++){const u=n[c];u.el&&u.el instanceof Element&&(r.push(u),Wu(u,pg(u,a,s,i)),gz.set(u,u.el.getBoundingClientRect()))}n=t.default?Ow(t.default()):[];for(let c=0;c<n.length;c++){const u=n[c];u.key!=null&&Wu(u,pg(u,a,s,i))}return wt(l,null,n)}}}),kT=coe;function uoe(e){const t=e.el;t[NE]&&t[NE](),t[XB]&&t[XB]()}function doe(e){mz.set(e,e.el.getBoundingClientRect())}function hoe(e){const t=gz.get(e),i=mz.get(e),s=t.left-i.left,r=t.top-i.top;if(s||r){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${s}px,${r}px)`,n.transitionDuration="0s",e}}function foe(e,t,i){const s=e.cloneNode(),r=e[qv];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),i.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(s);const{hasTransform:o}=lz(s);return n.removeChild(s),o}const vf=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ci(t)?i=>Fv(t,i):t};function poe(e){e.target.composing=!0}function qB(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const lc=Symbol("_assign"),yf={created(e,{modifiers:{lazy:t,trim:i,number:s}},r){e[lc]=vf(r);const n=s||r.props&&r.props.type==="number";Pd(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;i&&(a=a.trim()),n&&(a=SE(a)),e[lc](a)}),i&&Pd(e,"change",()=>{e.value=e.value.trim()}),t||(Pd(e,"compositionstart",poe),Pd(e,"compositionend",qB),Pd(e,"change",qB))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:s,trim:r,number:n}},o){if(e[lc]=vf(o),e.composing)return;const a=(n||e.type==="number")&&!/^0\d/.test(e.value)?SE(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===i||r&&e.value.trim()===l)||(e.value=l))}},Gw={deep:!0,created(e,t,i){e[lc]=vf(i),Pd(e,"change",()=>{const s=e._modelValue,r=Qv(e),n=e.checked,o=e[lc];if(ci(s)){const a=uT(s,r),l=a!==-1;if(n&&!l)o(s.concat(r));else if(!n&&l){const c=[...s];c.splice(a,1),o(c)}}else if(jg(s)){const a=new Set(s);n?a.add(r):a.delete(r),o(a)}else o(vz(e,n))})},mounted:QB,beforeUpdate(e,t,i){e[lc]=vf(i),QB(e,t,i)}};function QB(e,{value:t,oldValue:i},s){e._modelValue=t;let r;if(ci(t))r=uT(t,s.props.value)>-1;else if(jg(t))r=t.has(s.props.value);else{if(t===i)return;r=gf(t,vz(e,!0))}e.checked!==r&&(e.checked=r)}const DT={created(e,{value:t},i){e.checked=gf(t,i.props.value),e[lc]=vf(i),Pd(e,"change",()=>{e[lc](Qv(e))})},beforeUpdate(e,{value:t,oldValue:i},s){e[lc]=vf(s),t!==i&&(e.checked=gf(t,s.props.value))}},HL={deep:!0,created(e,{value:t,modifiers:{number:i}},s){const r=jg(t);Pd(e,"change",()=>{const n=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>i?SE(Qv(o)):Qv(o));e[lc](e.multiple?r?new Set(n):n:n[0]),e._assigning=!0,rs(()=>{e._assigning=!1})}),e[lc]=vf(s)},mounted(e,{value:t}){JB(e,t)},beforeUpdate(e,t,i){e[lc]=vf(i)},updated(e,{value:t}){e._assigning||JB(e,t)}};function JB(e,t){const i=e.multiple,s=ci(t);if(!(i&&!s&&!jg(t))){for(let r=0,n=e.options.length;r<n;r++){const o=e.options[r],a=Qv(o);if(i)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=uT(t,a)>-1}else o.selected=t.has(a);else if(gf(Qv(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Qv(e){return"_value"in e?e._value:e.value}function vz(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const Qg={created(e,t,i){Wx(e,t,i,null,"created")},mounted(e,t,i){Wx(e,t,i,null,"mounted")},beforeUpdate(e,t,i,s){Wx(e,t,i,s,"beforeUpdate")},updated(e,t,i,s){Wx(e,t,i,s,"updated")}};function yz(e,t){switch(e){case"SELECT":return HL;case"TEXTAREA":return yf;default:switch(t){case"checkbox":return Gw;case"radio":return DT;default:return yf}}}function Wx(e,t,i,s,r){const o=yz(e.tagName,i.props&&i.props.type)[r];o&&o(e,t,i,s)}function goe(){yf.getSSRProps=({value:e})=>({value:e}),DT.getSSRProps=({value:e},t)=>{if(t.props&&gf(t.props.value,e))return{checked:!0}},Gw.getSSRProps=({value:e},t)=>{if(ci(e)){if(t.props&&uT(e,t.props.value)>-1)return{checked:!0}}else if(jg(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Qg.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=yz(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const moe=["ctrl","shift","alt","meta"],voe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>moe.some(i=>e[`${i}Key`]&&!t.includes(i))},Dt=(e,t)=>{const i=e._withMods||(e._withMods={}),s=t.join(".");return i[s]||(i[s]=(r,...n)=>{for(let o=0;o<t.length;o++){const a=voe[t[o]];if(a&&a(r,t))return}return e(r,...n)})},yoe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xt=(e,t)=>{const i=e._withKeys||(e._withKeys={}),s=t.join(".");return i[s]||(i[s]=r=>{if(!("key"in r))return;const n=Ka(r.key);if(t.some(o=>o===n||yoe[o]===n))return e(r)})},Cz=Ms({patchProp:noe},Wne);let IC,ZB=!1;function bz(){return IC||(IC=DL(Cz))}function wz(){return IC=ZB?IC:RL(Cz),ZB=!0,IC}const Uu=(...e)=>{bz().render(...e)},Sz=(...e)=>{wz().hydrate(...e)},wb=(...e)=>{const t=bz().createApp(...e),{mount:i}=t;return t.mount=s=>{const r=Ez(s);if(!r)return;const n=t._component;!Oi(n)&&!n.render&&!n.template&&(n.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=i(r,!1,xz(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},$L=(...e)=>{const t=wz().createApp(...e),{mount:i}=t;return t.mount=s=>{const r=Ez(s);if(r)return i(r,!0,xz(r))},t};function xz(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ez(e){return es(e)?document.querySelector(e):e}let eG=!1;const _z=()=>{eG||(eG=!0,goe(),Yne())},Coe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:pL,BaseTransitionPropsValidators:xT,Comment:on,DeprecationTypes:sz,EffectScope:dT,ErrorCodes:M8,ErrorTypeStrings:QU,Fragment:kt,KeepAlive:tU,ReactiveEffect:Kv,Static:uf,Suspense:OL,Teleport:mf,Text:ac,TrackOpTypes:k8,Transition:yc,TransitionGroup:kT,TriggerOpTypes:D8,VueElement:Bw,assertNumber:F8,callWithAsyncErrorHandling:Rl,callWithErrorHandling:Yg,camelize:Br,capitalize:Zd,cloneVNode:Qc,compatUtils:iz,computed:V,createApp:wb,createBlock:nt,createCommentVNode:Le,createElementBlock:ve,createElementVNode:me,createHydrationRenderer:RL,createPropsRestProxy:pU,createRenderer:DL,createSSRApp:$L,createSlots:zs,createStaticVNode:HU,createTextVNode:oi,createVNode:wt,customRef:bT,defineAsyncComponent:eU,defineComponent:dt,defineCustomElement:BL,defineEmits:oU,defineExpose:aU,defineModel:uU,defineOptions:lU,defineProps:nU,defineSSRCustomElement:hz,defineSlots:cU,devtools:JU,effect:h8,effectScope:hT,getCurrentInstance:Di,getCurrentScope:Lw,getCurrentWatcher:R8,getTransitionRawChildren:Ow,guardReactiveProps:Wt,h:ji,handleError:Of,hasInjectionContext:yU,hydrate:Sz,hydrateOnIdle:q8,hydrateOnInteraction:Z8,hydrateOnMediaQuery:J8,hydrateOnVisible:Q8,initCustomFormatter:YU,initDirectivesForSSR:_z,inject:Xr,isMemoSame:VL,isProxy:Kg,isReactive:Gd,isReadonly:$u,isRef:cs,isRuntimeOnly:zU,isShallow:el,isVNode:fc,markRaw:dL,mergeDefaults:_L,mergeModels:fU,mergeProps:ut,nextTick:rs,normalizeClass:Et,normalizeProps:Ft,normalizeStyle:St,onActivated:mL,onBeforeMount:V0,onBeforeUnmount:Rr,onBeforeUpdate:Xg,onDeactivated:vL,onErrorCaptured:wL,onMounted:Ri,onRenderTracked:bL,onRenderTriggered:CL,onScopeDispose:fT,onServerPrefetch:yL,onUnmounted:ed,onUpdated:qg,onWatcherCleanup:hL,openBlock:q,popScopeId:B8,provide:la,proxyRefs:CT,pushScopeId:V8,queuePostFlushCb:Yv,reactive:Nn,readonly:vT,ref:We,registerRuntimeCompiler:NL,render:Uu,renderList:si,renderSlot:Fe,resolveComponent:xn,resolveDirective:rU,resolveDynamicComponent:io,resolveFilter:tz,resolveTransitionHooks:pg,setBlockTracking:FE,setDevtoolsHook:ZU,setTransitionHooks:Wu,shallowReactive:N0,shallowReadonly:Td,shallowRef:vi,ssrContextKey:FL,ssrUtils:ez,stop:f8,toDisplayString:Mt,toHandlerKey:Yp,toHandlers:Ta,toRaw:xs,toRef:Dn,toRefs:Il,toValue:T8,transformVNodeArgs:BU,triggerRef:_8,unref:P,useAttrs:td,useCssModule:pz,useCssVars:dz,useHost:GL,useId:Y8,useModel:FU,useSSRContext:ML,useShadowRoot:fz,useSlots:so,useTemplateRef:X8,useTransitionState:ST,vModelCheckbox:Gw,vModelDynamic:Qg,vModelRadio:DT,vModelSelect:HL,vModelText:yf,vShow:or,version:AT,warn:qU,watch:Ot,watchEffect:Fa,watchPostEffect:RU,watchSyncEffect:LL,withAsyncContext:gU,withCtx:tt,withDefaults:dU,withDirectives:Ss,withKeys:xt,withMemo:XU,withModifiers:Dt,withScopeId:G8},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Sb=Symbol(""),NC=Symbol(""),WL=Symbol(""),VE=Symbol(""),Tz=Symbol(""),vg=Symbol(""),Az=Symbol(""),kz=Symbol(""),UL=Symbol(""),zL=Symbol(""),Hw=Symbol(""),jL=Symbol(""),Dz=Symbol(""),KL=Symbol(""),YL=Symbol(""),XL=Symbol(""),qL=Symbol(""),QL=Symbol(""),JL=Symbol(""),Rz=Symbol(""),Pz=Symbol(""),RT=Symbol(""),BE=Symbol(""),ZL=Symbol(""),eO=Symbol(""),xb=Symbol(""),$w=Symbol(""),tO=Symbol(""),ZP=Symbol(""),boe=Symbol(""),eF=Symbol(""),GE=Symbol(""),woe=Symbol(""),Soe=Symbol(""),iO=Symbol(""),xoe=Symbol(""),Eoe=Symbol(""),sO=Symbol(""),Fz=Symbol(""),Jv={[Sb]:"Fragment",[NC]:"Teleport",[WL]:"Suspense",[VE]:"KeepAlive",[Tz]:"BaseTransition",[vg]:"openBlock",[Az]:"createBlock",[kz]:"createElementBlock",[UL]:"createVNode",[zL]:"createElementVNode",[Hw]:"createCommentVNode",[jL]:"createTextVNode",[Dz]:"createStaticVNode",[KL]:"resolveComponent",[YL]:"resolveDynamicComponent",[XL]:"resolveDirective",[qL]:"resolveFilter",[QL]:"withDirectives",[JL]:"renderList",[Rz]:"renderSlot",[Pz]:"createSlots",[RT]:"toDisplayString",[BE]:"mergeProps",[ZL]:"normalizeClass",[eO]:"normalizeStyle",[xb]:"normalizeProps",[$w]:"guardReactiveProps",[tO]:"toHandlers",[ZP]:"camelize",[boe]:"capitalize",[eF]:"toHandlerKey",[GE]:"setBlockTracking",[woe]:"pushScopeId",[Soe]:"popScopeId",[iO]:"withCtx",[xoe]:"unref",[Eoe]:"isRef",[sO]:"withMemo",[Fz]:"isMemoSame"};function _oe(e){Object.getOwnPropertySymbols(e).forEach(t=>{Jv[t]=e[t]})}const Nl={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Toe(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Nl}}function Eb(e,t,i,s,r,n,o,a=!1,l=!1,c=!1,u=Nl){return e&&(a?(e.helper(vg),e.helper(t0(e.inSSR,c))):e.helper(e0(e.inSSR,c)),o&&e.helper(QL)),{type:13,tag:t,props:i,children:s,patchFlag:r,dynamicProps:n,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function Qp(e,t=Nl){return{type:17,loc:t,elements:e}}function nc(e,t=Nl){return{type:15,loc:t,properties:e}}function _n(e,t){return{type:16,loc:Nl,key:es(e)?ss(e,!0):e,value:t}}function ss(e,t=!1,i=Nl,s=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:s}}function jc(e,t=Nl){return{type:8,loc:t,children:e}}function fo(e,t=[],i=Nl){return{type:14,loc:i,callee:e,arguments:t}}function Zv(e,t=void 0,i=!1,s=!1,r=Nl){return{type:18,params:e,returns:t,newline:i,isSlot:s,loc:r}}function tF(e,t,i,s=!0){return{type:19,test:e,consequent:t,alternate:i,newline:s,loc:Nl}}function Aoe(e,t,i=!1,s=!1){return{type:20,index:e,value:t,needPauseTracking:i,inVOnce:s,needArraySpread:!1,loc:Nl}}function koe(e){return{type:21,body:e,loc:Nl}}function e0(e,t){return e||t?UL:zL}function t0(e,t){return e||t?Az:kz}function rO(e,{helper:t,removeHelper:i,inSSR:s}){e.isBlock||(e.isBlock=!0,i(e0(s,e.isComponent)),t(vg),t(t0(s,e.isComponent)))}const tG=new Uint8Array([123,123]),iG=new Uint8Array([125,125]);function sG(e){return e>=97&&e<=122||e>=65&&e<=90}function bl(e){return e===32||e===10||e===9||e===12||e===13}function Oh(e){return e===47||e===62||bl(e)}function HE(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}const Uo={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Doe{constructor(t,i){this.stack=t,this.cbs=i,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=tG,this.delimiterClose=iG,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=tG,this.delimiterClose=iG}getPos(t){let i=1,s=t+1;for(let r=this.newlines.length-1;r>=0;r--){const n=this.newlines[r];if(t>n){i=r+2,s=t-n;break}}return{column:s,line:i,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const i=this.index+1-this.delimiterOpen.length;i>this.sectionStart&&this.cbs.ontext(this.sectionStart,i),this.state=3,this.sectionStart=i}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const i=this.sequenceIndex===this.currentSequence.length;if(!(i?Oh(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!i){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||bl(t)){const i=this.index-this.currentSequence.length;if(this.sectionStart<i){const s=this.index;this.index=i,this.cbs.ontext(this.sectionStart,i),this.index=s}this.sectionStart=i+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Uo.TitleEnd||this.currentSequence===Uo.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===Uo.Cdata[this.sequenceIndex]?++this.sequenceIndex===Uo.Cdata.length&&(this.state=28,this.currentSequence=Uo.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);if(i===10&&this.newlines.push(this.index),i===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Uo.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,i){this.enterRCDATA(t,i),this.state=31}enterRCDATA(t,i){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=i}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):sG(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Oh(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Oh(t)){const i=this.buffer.slice(this.sectionStart,this.index);i!=="template"&&this.enterRCDATA(HE("</"+i),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){bl(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=sG(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||bl(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):bl(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):bl(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Oh(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Oh(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Oh(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Oh(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Oh(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):bl(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):bl(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,i){(t===i||this.fastForwardTo(i))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){bl(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=Uo.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===Uo.ScriptEnd[3]?this.startSpecial(Uo.ScriptEnd,4):t===Uo.StyleEnd[3]?this.startSpecial(Uo.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===Uo.TitleEnd[3]?this.startSpecial(Uo.TitleEnd,4):t===Uo.TextareaEnd[3]?this.startSpecial(Uo.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);switch(i===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(i);break}case 2:{this.stateInterpolationOpen(i);break}case 3:{this.stateInterpolation(i);break}case 4:{this.stateInterpolationClose(i);break}case 31:{this.stateSpecialStartSequence(i);break}case 32:{this.stateInRCDATA(i);break}case 26:{this.stateCDATASequence(i);break}case 19:{this.stateInAttrValueDoubleQuotes(i);break}case 12:{this.stateInAttrName(i);break}case 13:{this.stateInDirName(i);break}case 14:{this.stateInDirArg(i);break}case 15:{this.stateInDynamicDirArg(i);break}case 16:{this.stateInDirModifier(i);break}case 28:{this.stateInCommentLike(i);break}case 27:{this.stateInSpecialComment(i);break}case 11:{this.stateBeforeAttrName(i);break}case 6:{this.stateInTagName(i);break}case 34:{this.stateInSFCRootTagName(i);break}case 9:{this.stateInClosingTagName(i);break}case 5:{this.stateBeforeTagName(i);break}case 17:{this.stateAfterAttrName(i);break}case 20:{this.stateInAttrValueSingleQuotes(i);break}case 18:{this.stateBeforeAttrValue(i);break}case 8:{this.stateBeforeClosingTagName(i);break}case 10:{this.stateAfterClosingTagName(i);break}case 29:{this.stateBeforeSpecialS(i);break}case 30:{this.stateBeforeSpecialT(i);break}case 21:{this.stateInAttrValueNoQuotes(i);break}case 7:{this.stateInSelfClosingTag(i);break}case 23:{this.stateInDeclaration(i);break}case 22:{this.stateBeforeDeclaration(i);break}case 25:{this.stateBeforeComment(i);break}case 24:{this.stateInProcessingInstruction(i);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===Uo.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,i){}}function rG(e,{compatConfig:t}){const i=t&&t[e];return e==="MODE"?i||3:i}function Jp(e,t){const i=rG("MODE",t),s=rG(e,t);return i===3?s===!0:s!==!1}function _b(e,t,i,...s){return Jp(e,t)}function nO(e){throw e}function Mz(e){}function an(e,t,i,s){const r=`https://vuejs.org/error-reference/#compiler-${e}`,n=new SyntaxError(String(r));return n.code=e,n.loc=t,n}const Xa=e=>e.type===4&&e.isStatic;function Lz(e){switch(e){case"Teleport":case"teleport":return NC;case"Suspense":case"suspense":return WL;case"KeepAlive":case"keep-alive":return VE;case"BaseTransition":case"base-transition":return Tz}}const Roe=/^$|^\d|[^\$\w\xA0-\uFFFF]/,oO=e=>!Roe.test(e),Poe=/[A-Za-z_$\xA0-\uFFFF]/,Foe=/[\.\?\w$\xA0-\uFFFF]/,Moe=/\s+[.[]\s*|\s*[.[]\s+/g,Oz=e=>e.type===4?e.content:e.loc.source,Loe=e=>{const t=Oz(e).trim().replace(Moe,a=>a.trim());let i=0,s=[],r=0,n=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(i){case 0:if(l==="[")s.push(i),i=1,r++;else if(l==="(")s.push(i),i=2,n++;else if(!(a===0?Poe:Foe).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(s.push(i),i=3,o=l):l==="["?r++:l==="]"&&(--r||(i=s.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")s.push(i),i=3,o=l;else if(l==="(")n++;else if(l===")"){if(a===t.length-1)return!1;--n||(i=s.pop())}break;case 3:l===o&&(i=s.pop(),o=null);break}}return!r&&!n},Iz=Loe,Ooe=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Ioe=e=>Ooe.test(Oz(e)),Noe=Ioe;function ic(e,t,i=!1){for(let s=0;s<e.props.length;s++){const r=e.props[s];if(r.type===7&&(i||r.exp)&&(es(t)?r.name===t:t.test(r.name)))return r}}function PT(e,t,i=!1,s=!1){for(let r=0;r<e.props.length;r++){const n=e.props[r];if(n.type===6){if(i)continue;if(n.name===t&&(n.value||s))return n}else if(n.name==="bind"&&(n.exp||s)&&Vp(n.arg,t))return n}}function Vp(e,t){return!!(e&&Xa(e)&&e.content===t)}function Voe(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function HD(e){return e.type===5||e.type===2}function nG(e){return e.type===7&&e.name==="pre"}function Boe(e){return e.type===7&&e.name==="slot"}function $E(e){return e.type===1&&e.tagType===3}function WE(e){return e.type===1&&e.tagType===2}const Goe=new Set([xb,$w]);function Nz(e,t=[]){if(e&&!es(e)&&e.type===14){const i=e.callee;if(!es(i)&&Goe.has(i))return Nz(e.arguments[0],t.concat(e))}return[e,t]}function UE(e,t,i){let s,r=e.type===13?e.props:e.arguments[2],n=[],o;if(r&&!es(r)&&r.type===14){const a=Nz(r);r=a[0],n=a[1],o=n[n.length-1]}if(r==null||es(r))s=nc([t]);else if(r.type===14){const a=r.arguments[0];!es(a)&&a.type===15?oG(t,a)||a.properties.unshift(t):r.callee===tO?s=fo(i.helper(BE),[nc([t]),r]):r.arguments.unshift(nc([t])),!s&&(s=r)}else r.type===15?(oG(t,r)||r.properties.unshift(t),s=r):(s=fo(i.helper(BE),[nc([t]),r]),o&&o.callee===$w&&(o=n[n.length-2]));e.type===13?o?o.arguments[0]=s:e.props=s:o?o.arguments[0]=s:e.arguments[2]=s}function oG(e,t){let i=!1;if(e.key.type===4){const s=e.key.content;i=t.properties.some(r=>r.key.type===4&&r.key.content===s)}return i}function Tb(e,t){return`_${t}_${e.replace(/[^\w]/g,(i,s)=>i==="-"?"_":e.charCodeAt(s).toString())}`}function Hoe(e){return e.type===14&&e.callee===sO?e.arguments[1].returns:e}const $oe=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Vz={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:uC,isPreTag:uC,isIgnoreNewlineTag:uC,isCustomElement:uC,onError:nO,onWarn:Mz,comments:!1,prefixIdentifiers:!1};let lr=Vz,Ab=null,Hd="",qo=null,Ds=null,$a="",Sd=-1,kp=-1,aO=0,Xh=!1,iF=null;const sn=[],En=new Doe(sn,{onerr:gd,ontext(e,t){Ux(Oo(e,t),e,t)},ontextentity(e,t,i){Ux(e,t,i)},oninterpolation(e,t){if(Xh)return Ux(Oo(e,t),e,t);let i=e+En.delimiterOpen.length,s=t-En.delimiterClose.length;for(;bl(Hd.charCodeAt(i));)i++;for(;bl(Hd.charCodeAt(s-1));)s--;let r=Oo(i,s);r.includes("&")&&(r=lr.decodeEntities(r,!1)),sF({type:5,content:W1(r,!1,Ln(i,s)),loc:Ln(e,t)})},onopentagname(e,t){const i=Oo(e,t);qo={type:1,tag:i,ns:lr.getNamespace(i,sn[0],lr.ns),tagType:0,props:[],children:[],loc:Ln(e-1,t),codegenNode:void 0}},onopentagend(e){lG(e)},onclosetag(e,t){const i=Oo(e,t);if(!lr.isVoidTag(i)){let s=!1;for(let r=0;r<sn.length;r++)if(sn[r].tag.toLowerCase()===i.toLowerCase()){s=!0,r>0&&gd(24,sn[0].loc.start.offset);for(let o=0;o<=r;o++){const a=sn.shift();$1(a,t,o<r)}break}s||gd(23,Bz(e,60))}},onselfclosingtag(e){const t=qo.tag;qo.isSelfClosing=!0,lG(e),sn[0]&&sn[0].tag===t&&$1(sn.shift(),e)},onattribname(e,t){Ds={type:6,name:Oo(e,t),nameLoc:Ln(e,t),value:void 0,loc:Ln(e)}},ondirname(e,t){const i=Oo(e,t),s=i==="."||i===":"?"bind":i==="@"?"on":i==="#"?"slot":i.slice(2);if(!Xh&&s===""&&gd(26,e),Xh||s==="")Ds={type:6,name:i,nameLoc:Ln(e,t),value:void 0,loc:Ln(e)};else if(Ds={type:7,name:s,rawName:i,exp:void 0,arg:void 0,modifiers:i==="."?[ss("prop")]:[],loc:Ln(e)},s==="pre"){Xh=En.inVPre=!0,iF=qo;const r=qo.props;for(let n=0;n<r.length;n++)r[n].type===7&&(r[n]=Zoe(r[n]))}},ondirarg(e,t){if(e===t)return;const i=Oo(e,t);if(Xh&&!nG(Ds))Ds.name+=i,Bp(Ds.nameLoc,t);else{const s=i[0]!=="[";Ds.arg=W1(s?i:i.slice(1,-1),s,Ln(e,t),s?3:0)}},ondirmodifier(e,t){const i=Oo(e,t);if(Xh&&!nG(Ds))Ds.name+="."+i,Bp(Ds.nameLoc,t);else if(Ds.name==="slot"){const s=Ds.arg;s&&(s.content+="."+i,Bp(s.loc,t))}else{const s=ss(i,!0,Ln(e,t));Ds.modifiers.push(s)}},onattribdata(e,t){$a+=Oo(e,t),Sd<0&&(Sd=e),kp=t},onattribentity(e,t,i){$a+=e,Sd<0&&(Sd=t),kp=i},onattribnameend(e){const t=Ds.loc.start.offset,i=Oo(t,e);Ds.type===7&&(Ds.rawName=i),qo.props.some(s=>(s.type===7?s.rawName:s.name)===i)&&gd(2,t)},onattribend(e,t){if(qo&&Ds){if(Bp(Ds.loc,t),e!==0)if($a.includes("&")&&($a=lr.decodeEntities($a,!0)),Ds.type===6)Ds.name==="class"&&($a=Hz($a).trim()),e===1&&!$a&&gd(13,t),Ds.value={type:2,content:$a,loc:e===1?Ln(Sd,kp):Ln(Sd-1,kp+1)},En.inSFCRoot&&qo.tag==="template"&&Ds.name==="lang"&&$a&&$a!=="html"&&En.enterRCDATA(HE("</template"),0);else{let i=0;Ds.exp=W1($a,!1,Ln(Sd,kp),0,i),Ds.name==="for"&&(Ds.forParseResult=Uoe(Ds.exp));let s=-1;Ds.name==="bind"&&(s=Ds.modifiers.findIndex(r=>r.content==="sync"))>-1&&_b("COMPILER_V_BIND_SYNC",lr,Ds.loc,Ds.arg.loc.source)&&(Ds.name="model",Ds.modifiers.splice(s,1))}(Ds.type!==7||Ds.name!=="pre")&&qo.props.push(Ds)}$a="",Sd=kp=-1},oncomment(e,t){lr.comments&&sF({type:3,content:Oo(e,t),loc:Ln(e-4,t+3)})},onend(){const e=Hd.length;for(let t=0;t<sn.length;t++)$1(sn[t],e-1),gd(24,sn[t].loc.start.offset)},oncdata(e,t){sn[0].ns!==0?Ux(Oo(e,t),e,t):gd(1,e-9)},onprocessinginstruction(e){(sn[0]?sn[0].ns:lr.ns)===0&&gd(21,e-1)}}),aG=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Woe=/^\(|\)$/g;function Uoe(e){const t=e.loc,i=e.content,s=i.match($oe);if(!s)return;const[,r,n]=s,o=(h,f,p=!1)=>{const y=t.start.offset+f,v=y+h.length;return W1(h,!1,Ln(y,v),0,p?1:0)},a={source:o(n.trim(),i.indexOf(n,r.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=r.trim().replace(Woe,"").trim();const c=r.indexOf(l),u=l.match(aG);if(u){l=l.replace(aG,"").trim();const h=u[1].trim();let f;if(h&&(f=i.indexOf(h,c+l.length),a.key=o(h,f,!0)),u[2]){const p=u[2].trim();p&&(a.index=o(p,i.indexOf(p,a.key?f+h.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function Oo(e,t){return Hd.slice(e,t)}function lG(e){En.inSFCRoot&&(qo.innerLoc=Ln(e+1,e+1)),sF(qo);const{tag:t,ns:i}=qo;i===0&&lr.isPreTag(t)&&aO++,lr.isVoidTag(t)?$1(qo,e):(sn.unshift(qo),(i===1||i===2)&&(En.inXML=!0)),qo=null}function Ux(e,t,i){{const n=sn[0]&&sn[0].tag;n!=="script"&&n!=="style"&&e.includes("&")&&(e=lr.decodeEntities(e,!1))}const s=sn[0]||Ab,r=s.children[s.children.length-1];r&&r.type===2?(r.content+=e,Bp(r.loc,i)):s.children.push({type:2,content:e,loc:Ln(t,i)})}function $1(e,t,i=!1){i?Bp(e.loc,Bz(t,60)):Bp(e.loc,zoe(t,62)+1),En.inSFCRoot&&(e.children.length?e.innerLoc.end=Ms({},e.children[e.children.length-1].loc.end):e.innerLoc.end=Ms({},e.innerLoc.start),e.innerLoc.source=Oo(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:s,ns:r,children:n}=e;if(Xh||(s==="slot"?e.tagType=2:cG(e)?e.tagType=3:Koe(e)&&(e.tagType=1)),En.inRCDATA||(e.children=Gz(n)),r===0&&lr.isIgnoreNewlineTag(s)){const o=n[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}r===0&&lr.isPreTag(s)&&aO--,iF===e&&(Xh=En.inVPre=!1,iF=null),En.inXML&&(sn[0]?sn[0].ns:lr.ns)===0&&(En.inXML=!1);{const o=e.props;if(!En.inSFCRoot&&Jp("COMPILER_NATIVE_TEMPLATE",lr)&&e.tag==="template"&&!cG(e)){const l=sn[0]||Ab,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&_b("COMPILER_INLINE_TEMPLATE",lr,a.loc)&&e.children.length&&(a.value={type:2,content:Oo(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function zoe(e,t){let i=e;for(;Hd.charCodeAt(i)!==t&&i<Hd.length-1;)i++;return i}function Bz(e,t){let i=e;for(;Hd.charCodeAt(i)!==t&&i>=0;)i--;return i}const joe=new Set(["if","else","else-if","for","slot"]);function cG({tag:e,props:t}){if(e==="template"){for(let i=0;i<t.length;i++)if(t[i].type===7&&joe.has(t[i].name))return!0}return!1}function Koe({tag:e,props:t}){if(lr.isCustomElement(e))return!1;if(e==="component"||Yoe(e.charCodeAt(0))||Lz(e)||lr.isBuiltInComponent&&lr.isBuiltInComponent(e)||lr.isNativeTag&&!lr.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const s=t[i];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(_b("COMPILER_IS_ON_ELEMENT",lr,s.loc))return!0}}else if(s.name==="bind"&&Vp(s.arg,"is")&&_b("COMPILER_IS_ON_ELEMENT",lr,s.loc))return!0}return!1}function Yoe(e){return e>64&&e<91}const Xoe=/\r\n/g;function Gz(e){const t=lr.whitespace!=="preserve";let i=!1;for(let s=0;s<e.length;s++){const r=e[s];if(r.type===2)if(aO)r.content=r.content.replace(Xoe,`
`);else if(qoe(r.content)){const n=e[s-1]&&e[s-1].type,o=e[s+1]&&e[s+1].type;!n||!o||t&&(n===3&&(o===3||o===1)||n===1&&(o===3||o===1&&Qoe(r.content)))?(i=!0,e[s]=null):r.content=" "}else t&&(r.content=Hz(r.content))}return i?e.filter(Boolean):e}function qoe(e){for(let t=0;t<e.length;t++)if(!bl(e.charCodeAt(t)))return!1;return!0}function Qoe(e){for(let t=0;t<e.length;t++){const i=e.charCodeAt(t);if(i===10||i===13)return!0}return!1}function Hz(e){let t="",i=!1;for(let s=0;s<e.length;s++)bl(e.charCodeAt(s))?i||(t+=" ",i=!0):(t+=e[s],i=!1);return t}function sF(e){(sn[0]||Ab).children.push(e)}function Ln(e,t){return{start:En.getPos(e),end:t==null?t:En.getPos(t),source:t==null?t:Oo(e,t)}}function Joe(e){return Ln(e.start.offset,e.end.offset)}function Bp(e,t){e.end=En.getPos(t),e.source=Oo(e.start.offset,t)}function Zoe(e){const t={type:6,name:e.rawName,nameLoc:Ln(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const i=e.exp.loc;i.end.offset<e.loc.end.offset&&(i.start.offset--,i.start.column--,i.end.offset++,i.end.column++),t.value={type:2,content:e.exp.content,loc:i}}return t}function W1(e,t=!1,i,s=0,r=0){return ss(e,t,i,s)}function gd(e,t,i){lr.onError(an(e,Ln(t,t)))}function eae(){En.reset(),qo=null,Ds=null,$a="",Sd=-1,kp=-1,sn.length=0}function tae(e,t){if(eae(),Hd=e,lr=Ms({},Vz),t){let r;for(r in t)t[r]!=null&&(lr[r]=t[r])}En.mode=lr.parseMode==="html"?1:lr.parseMode==="sfc"?2:0,En.inXML=lr.ns===1||lr.ns===2;const i=t&&t.delimiters;i&&(En.delimiterOpen=HE(i[0]),En.delimiterClose=HE(i[1]));const s=Ab=Toe([],e);return En.parse(Hd),s.loc=Ln(0,e.length),s.children=Gz(s.children),Ab=null,s}function iae(e,t){U1(e,void 0,t,!!$z(e))}function $z(e){const t=e.children.filter(i=>i.type!==3);return t.length===1&&t[0].type===1&&!WE(t[0])?t[0]:null}function U1(e,t,i,s=!1,r=!1){const{children:n}=e,o=[];for(let h=0;h<n.length;h++){const f=n[h];if(f.type===1&&f.tagType===0){const p=s?0:Al(f,i);if(p>0){if(p>=2){f.codegenNode.patchFlag=-1,o.push(f);continue}}else{const y=f.codegenNode;if(y.type===13){const v=y.patchFlag;if((v===void 0||v===512||v===1)&&Uz(f,i)>=2){const C=zz(f);C&&(y.props=i.hoist(C))}y.dynamicProps&&(y.dynamicProps=i.hoist(y.dynamicProps))}}}else if(f.type===12&&(s?0:Al(f,i))>=2){f.codegenNode.type===14&&f.codegenNode.arguments.length>0&&f.codegenNode.arguments.push("-1"),o.push(f);continue}if(f.type===1){const p=f.tagType===1;p&&i.scopes.vSlot++,U1(f,e,i,!1,r),p&&i.scopes.vSlot--}else if(f.type===11)U1(f,e,i,f.children.length===1,!0);else if(f.type===9)for(let p=0;p<f.branches.length;p++)U1(f.branches[p],e,i,f.branches[p].children.length===1,r)}let a=!1;const l=[];if(o.length===n.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&ci(e.codegenNode.children))e.codegenNode.children=c(Qp(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!ci(e.codegenNode.children)&&e.codegenNode.children.type===15){const h=u(e.codegenNode,"default");h&&(l.push(i.cached.length),h.returns=c(Qp(h.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!ci(t.codegenNode.children)&&t.codegenNode.children.type===15){const h=ic(e,"slot",!0),f=h&&h.arg&&u(t.codegenNode,h.arg);f&&(l.push(i.cached.length),f.returns=c(Qp(f.returns)),a=!0)}}if(!a)for(const h of o)l.push(i.cached.length),h.codegenNode=i.cache(h.codegenNode);l.length&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!ci(e.codegenNode.children)&&e.codegenNode.children.type===15&&e.codegenNode.children.properties.push(_n("__",ss(JSON.stringify(l),!1)));function c(h){const f=i.cache(h);return r&&i.hmr&&(f.needArraySpread=!0),f}function u(h,f){if(h.children&&!ci(h.children)&&h.children.type===15){const p=h.children.properties.find(y=>y.key===f||y.key.content===f);return p&&p.value}}o.length&&i.transformHoist&&i.transformHoist(n,i,e)}function Al(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const s=i.get(e);if(s!==void 0)return s;const r=e.codegenNode;if(r.type!==13||r.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(r.patchFlag===void 0){let o=3;const a=Uz(e,t);if(a===0)return i.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=Al(e.children[l],t);if(c===0)return i.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const u=Al(c.exp,t);if(u===0)return i.set(e,0),0;u<o&&(o=u)}}if(r.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return i.set(e,0),0;t.removeHelper(vg),t.removeHelper(t0(t.inSSR,r.isComponent)),r.isBlock=!1,t.helper(e0(t.inSSR,r.isComponent))}return i.set(e,o),o}else return i.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Al(e.content,t);case 4:return e.constType;case 8:let n=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(es(a)||nl(a))continue;const l=Al(a,t);if(l===0)return 0;l<n&&(n=l)}return n;case 20:return 2;default:return 0}}const sae=new Set([ZL,eO,xb,$w]);function Wz(e,t){if(e.type===14&&!es(e.callee)&&sae.has(e.callee)){const i=e.arguments[0];if(i.type===4)return Al(i,t);if(i.type===14)return Wz(i,t)}return 0}function Uz(e,t){let i=3;const s=zz(e);if(s&&s.type===15){const{properties:r}=s;for(let n=0;n<r.length;n++){const{key:o,value:a}=r[n],l=Al(o,t);if(l===0)return l;l<i&&(i=l);let c;if(a.type===4?c=Al(a,t):a.type===14?c=Wz(a,t):c=0,c===0)return c;c<i&&(i=c)}}return i}function zz(e){const t=e.codegenNode;if(t.type===13)return t.props}function rae(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:s=!1,hmr:r=!1,cacheHandlers:n=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=Ho,isCustomElement:u=Ho,expressionPlugins:h=[],scopeId:f=null,slotted:p=!0,ssr:y=!1,inSSR:v=!1,ssrCssVars:C="",bindingMetadata:S=Rs,inline:_=!1,isTS:x=!1,onError:A=nO,onWarn:R=Mz,compatConfig:O}){const k=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),F={filename:t,selfName:k&&Zd(Br(k[1])),prefixIdentifiers:i,hoistStatic:s,hmr:r,cacheHandlers:n,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:u,expressionPlugins:h,scopeId:f,slotted:p,ssr:y,inSSR:v,ssrCssVars:C,bindingMetadata:S,inline:_,isTS:x,onError:A,onWarn:R,compatConfig:O,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(N){const j=F.helpers.get(N)||0;return F.helpers.set(N,j+1),N},removeHelper(N){const j=F.helpers.get(N);if(j){const ee=j-1;ee?F.helpers.set(N,ee):F.helpers.delete(N)}},helperString(N){return`_${Jv[F.helper(N)]}`},replaceNode(N){F.parent.children[F.childIndex]=F.currentNode=N},removeNode(N){const j=F.parent.children,ee=N?j.indexOf(N):F.currentNode?F.childIndex:-1;!N||N===F.currentNode?(F.currentNode=null,F.onNodeRemoved()):F.childIndex>ee&&(F.childIndex--,F.onNodeRemoved()),F.parent.children.splice(ee,1)},onNodeRemoved:Ho,addIdentifiers(N){},removeIdentifiers(N){},hoist(N){es(N)&&(N=ss(N)),F.hoists.push(N);const j=ss(`_hoisted_${F.hoists.length}`,!1,N.loc,2);return j.hoisted=N,j},cache(N,j=!1,ee=!1){const K=Aoe(F.cached.length,N,j,ee);return F.cached.push(K),K}};return F.filters=new Set,F}function nae(e,t){const i=rae(e,t);FT(e,i),t.hoistStatic&&iae(e,i),t.ssr||oae(e,i),e.helpers=new Set([...i.helpers.keys()]),e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.transformed=!0,e.filters=[...i.filters]}function oae(e,t){const{helper:i}=t,{children:s}=e;if(s.length===1){const r=$z(e);if(r&&r.codegenNode){const n=r.codegenNode;n.type===13&&rO(n,t),e.codegenNode=n}else e.codegenNode=s[0]}else if(s.length>1){let r=64;e.codegenNode=Eb(t,i(Sb),void 0,e.children,r,void 0,void 0,!0,void 0,!1)}}function aae(e,t){let i=0;const s=()=>{i--};for(;i<e.children.length;i++){const r=e.children[i];es(r)||(t.grandParent=t.parent,t.parent=e,t.childIndex=i,t.onNodeRemoved=s,FT(r,t))}}function FT(e,t){t.currentNode=e;const{nodeTransforms:i}=t,s=[];for(let n=0;n<i.length;n++){const o=i[n](e,t);if(o&&(ci(o)?s.push(...o):s.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Hw);break;case 5:t.ssr||t.helper(RT);break;case 9:for(let n=0;n<e.branches.length;n++)FT(e.branches[n],t);break;case 10:case 11:case 1:case 0:aae(e,t);break}t.currentNode=e;let r=s.length;for(;r--;)s[r]()}function jz(e,t){const i=es(e)?s=>s===e:s=>e.test(s);return(s,r)=>{if(s.type===1){const{props:n}=s;if(s.tagType===3&&n.some(Boe))return;const o=[];for(let a=0;a<n.length;a++){const l=n[a];if(l.type===7&&i(l.name)){n.splice(a,1),a--;const c=t(s,l,r);c&&o.push(c)}}return o}}}const MT="/*@__PURE__*/",Kz=e=>`${Jv[e]}: _${Jv[e]}`;function lae(e,{mode:t="function",prefixIdentifiers:i=t==="module",sourceMap:s=!1,filename:r="template.vue.html",scopeId:n=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:f=!1}){const p={mode:t,prefixIdentifiers:i,sourceMap:s,filename:r,scopeId:n,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:h,inSSR:f,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(v){return`_${Jv[v]}`},push(v,C=-2,S){p.code+=v},indent(){y(++p.indentLevel)},deindent(v=!1){v?--p.indentLevel:y(--p.indentLevel)},newline(){y(p.indentLevel)}};function y(v){p.push(`
`+"  ".repeat(v),0)}return p}function cae(e,t={}){const i=lae(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:s,push:r,prefixIdentifiers:n,indent:o,deindent:a,newline:l,scopeId:c,ssr:u}=i,h=Array.from(e.helpers),f=h.length>0,p=!n&&s!=="module";uae(e,i);const v=u?"ssrRender":"render",S=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${v}(${S}) {`),o(),p&&(r("with (_ctx) {"),o(),f&&(r(`const { ${h.map(Kz).join(", ")} } = _Vue
`,-1),l())),e.components.length&&($D(e.components,"component",i),(e.directives.length||e.temps>0)&&l()),e.directives.length&&($D(e.directives,"directive",i),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),$D(e.filters,"filter",i),l()),e.temps>0){r("let ");for(let _=0;_<e.temps;_++)r(`${_>0?", ":""}_temp${_}`)}return(e.components.length||e.directives.length||e.temps)&&(r(`
`,0),l()),u||r("return "),e.codegenNode?ca(e.codegenNode,i):r("null"),p&&(a(),r("}")),a(),r("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function uae(e,t){const{ssr:i,prefixIdentifiers:s,push:r,newline:n,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,u=Array.from(e.helpers);if(u.length>0&&(r(`const _Vue = ${c}
`,-1),e.hoists.length)){const h=[UL,zL,Hw,jL,Dz].filter(f=>u.includes(f)).map(Kz).join(", ");r(`const { ${h} } = _Vue
`,-1)}dae(e.hoists,t),n(),r("return ")}function $D(e,t,{helper:i,push:s,newline:r,isTS:n}){const o=i(t==="filter"?qL:t==="component"?KL:XL);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),s(`const ${Tb(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${n?"!":""}`),a<e.length-1&&r()}}function dae(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:s}=t;s();for(let r=0;r<e.length;r++){const n=e[r];n&&(i(`const _hoisted_${r+1} = `),ca(n,t),s())}t.pure=!1}function lO(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),Ww(e,t,i),i&&t.deindent(),t.push("]")}function Ww(e,t,i=!1,s=!0){const{push:r,newline:n}=t;for(let o=0;o<e.length;o++){const a=e[o];es(a)?r(a,-3):ci(a)?lO(a,t):ca(a,t),o<e.length-1&&(i?(s&&r(","),n()):s&&r(", "))}}function ca(e,t){if(es(e)){t.push(e,-3);return}if(nl(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:ca(e.codegenNode,t);break;case 2:hae(e,t);break;case 4:Yz(e,t);break;case 5:fae(e,t);break;case 12:ca(e.codegenNode,t);break;case 8:Xz(e,t);break;case 3:gae(e,t);break;case 13:mae(e,t);break;case 14:yae(e,t);break;case 15:Cae(e,t);break;case 17:bae(e,t);break;case 18:wae(e,t);break;case 19:Sae(e,t);break;case 20:xae(e,t);break;case 21:Ww(e.body,t,!0,!1);break}}function hae(e,t){t.push(JSON.stringify(e.content),-3,e)}function Yz(e,t){const{content:i,isStatic:s}=e;t.push(s?JSON.stringify(i):i,-3,e)}function fae(e,t){const{push:i,helper:s,pure:r}=t;r&&i(MT),i(`${s(RT)}(`),ca(e.content,t),i(")")}function Xz(e,t){for(let i=0;i<e.children.length;i++){const s=e.children[i];es(s)?t.push(s,-3):ca(s,t)}}function pae(e,t){const{push:i}=t;if(e.type===8)i("["),Xz(e,t),i("]");else if(e.isStatic){const s=oO(e.content)?e.content:JSON.stringify(e.content);i(s,-2,e)}else i(`[${e.content}]`,-3,e)}function gae(e,t){const{push:i,helper:s,pure:r}=t;r&&i(MT),i(`${s(Hw)}(${JSON.stringify(e.content)})`,-3,e)}function mae(e,t){const{push:i,helper:s,pure:r}=t,{tag:n,props:o,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:h,disableTracking:f,isComponent:p}=e;let y;l&&(y=String(l)),u&&i(s(QL)+"("),h&&i(`(${s(vg)}(${f?"true":""}), `),r&&i(MT);const v=h?t0(t.inSSR,p):e0(t.inSSR,p);i(s(v)+"(",-2,e),Ww(vae([n,o,a,y,c]),t),i(")"),h&&i(")"),u&&(i(", "),ca(u,t),i(")"))}function vae(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(i=>i||"null")}function yae(e,t){const{push:i,helper:s,pure:r}=t,n=es(e.callee)?e.callee:s(e.callee);r&&i(MT),i(n+"(",-2,e),Ww(e.arguments,t),i(")")}function Cae(e,t){const{push:i,indent:s,deindent:r,newline:n}=t,{properties:o}=e;if(!o.length){i("{}",-2,e);return}const a=o.length>1||!1;i(a?"{":"{ "),a&&s();for(let l=0;l<o.length;l++){const{key:c,value:u}=o[l];pae(c,t),i(": "),ca(u,t),l<o.length-1&&(i(","),n())}a&&r(),i(a?"}":" }")}function bae(e,t){lO(e.elements,t)}function wae(e,t){const{push:i,indent:s,deindent:r}=t,{params:n,returns:o,body:a,newline:l,isSlot:c}=e;c&&i(`_${Jv[iO]}(`),i("(",-2,e),ci(n)?Ww(n,t):n&&ca(n,t),i(") => "),(l||a)&&(i("{"),s()),o?(l&&i("return "),ci(o)?lO(o,t):ca(o,t)):a&&ca(a,t),(l||a)&&(r(),i("}")),c&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}function Sae(e,t){const{test:i,consequent:s,alternate:r,newline:n}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(i.type===4){const h=!oO(i.content);h&&o("("),Yz(i,t),h&&o(")")}else o("("),ca(i,t),o(")");n&&a(),t.indentLevel++,n||o(" "),o("? "),ca(s,t),t.indentLevel--,n&&c(),n||o(" "),o(": ");const u=r.type===19;u||t.indentLevel++,ca(r,t),u||t.indentLevel--,n&&l(!0)}function xae(e,t){const{push:i,helper:s,indent:r,deindent:n,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&i("[...("),i(`_cache[${e.index}] || (`),a&&(r(),i(`${s(GE)}(-1`),e.inVOnce&&i(", true"),i("),"),o(),i("(")),i(`_cache[${e.index}] = `),ca(e.value,t),a&&(i(`).cacheIndex = ${e.index},`),o(),i(`${s(GE)}(1),`),o(),i(`_cache[${e.index}]`),n()),i(")"),l&&i(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Eae=jz(/^(if|else|else-if)$/,(e,t,i)=>_ae(e,t,i,(s,r,n)=>{const o=i.parent.children;let a=o.indexOf(s),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(n)s.codegenNode=dG(r,l,i);else{const c=Tae(s.codegenNode);c.alternate=dG(r,l+s.branches.length-1,i)}}}));function _ae(e,t,i,s){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const r=t.exp?t.exp.loc:e.loc;i.onError(an(28,t.loc)),t.exp=ss("true",!1,r)}if(t.name==="if"){const r=uG(e,t),n={type:9,loc:Joe(e.loc),branches:[r]};if(i.replaceNode(n),s)return s(n,r,!0)}else{const r=i.parent.children;let n=r.indexOf(e);for(;n-->=-1;){const o=r[n];if(o&&o.type===3){i.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){i.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&i.onError(an(30,e.loc)),i.removeNode();const a=uG(e,t);o.branches.push(a);const l=s&&s(o,a,!1);FT(a,i),l&&l(),i.currentNode=null}else i.onError(an(30,e.loc));break}}}function uG(e,t){const i=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:i&&!ic(e,"for")?e.children:[e],userKey:PT(e,"key"),isTemplateIf:i}}function dG(e,t,i){return e.condition?tF(e.condition,hG(e,t,i),fo(i.helper(Hw),['""',"true"])):hG(e,t,i)}function hG(e,t,i){const{helper:s}=i,r=_n("key",ss(`${t}`,!1,Nl,2)),{children:n}=e,o=n[0];if(n.length!==1||o.type!==1)if(n.length===1&&o.type===11){const l=o.codegenNode;return UE(l,r,i),l}else return Eb(i,s(Sb),nc([r]),n,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=Hoe(l);return c.type===13&&rO(c,i),UE(c,r,i),l}}function Tae(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Aae=(e,t,i)=>{const{modifiers:s,loc:r}=e,n=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(n.type!==4||!n.isStatic)return i.onError(an(52,n.loc)),{props:[_n(n,ss("",!0,r))]};qz(e),o=e.exp}return n.type!==4?(n.children.unshift("("),n.children.push(') || ""')):n.isStatic||(n.content=n.content?`${n.content} || ""`:'""'),s.some(a=>a.content==="camel")&&(n.type===4?n.isStatic?n.content=Br(n.content):n.content=`${i.helperString(ZP)}(${n.content})`:(n.children.unshift(`${i.helperString(ZP)}(`),n.children.push(")"))),i.inSSR||(s.some(a=>a.content==="prop")&&fG(n,"."),s.some(a=>a.content==="attr")&&fG(n,"^")),{props:[_n(n,o)]}},qz=(e,t)=>{const i=e.arg,s=Br(i.content);e.exp=ss(s,!1,i.loc)},fG=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},kae=jz("for",(e,t,i)=>{const{helper:s,removeHelper:r}=i;return Dae(e,t,i,n=>{const o=fo(s(JL),[n.source]),a=$E(e),l=ic(e,"memo"),c=PT(e,"key",!1,!0);c&&c.type===7&&!c.exp&&qz(c);let h=c&&(c.type===6?c.value?ss(c.value.content,!0):void 0:c.exp);const f=c&&h?_n("key",h):null,p=n.source.type===4&&n.source.constType>0,y=p?64:c?128:256;return n.codegenNode=Eb(i,s(Sb),void 0,o,y,void 0,void 0,!0,!p,!1,e.loc),()=>{let v;const{children:C}=n,S=C.length!==1||C[0].type!==1,_=WE(e)?e:a&&e.children.length===1&&WE(e.children[0])?e.children[0]:null;if(_?(v=_.codegenNode,a&&f&&UE(v,f,i)):S?v=Eb(i,s(Sb),f?nc([f]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(v=C[0].codegenNode,a&&f&&UE(v,f,i),v.isBlock!==!p&&(v.isBlock?(r(vg),r(t0(i.inSSR,v.isComponent))):r(e0(i.inSSR,v.isComponent))),v.isBlock=!p,v.isBlock?(s(vg),s(t0(i.inSSR,v.isComponent))):s(e0(i.inSSR,v.isComponent))),l){const x=Zv(rF(n.parseResult,[ss("_cached")]));x.body=koe([jc(["const _memo = (",l.exp,")"]),jc(["if (_cached",...h?[" && _cached.key === ",h]:[],` && ${i.helperString(Fz)}(_cached, _memo)) return _cached`]),jc(["const _item = ",v]),ss("_item.memo = _memo"),ss("return _item")]),o.arguments.push(x,ss("_cache"),ss(String(i.cached.length))),i.cached.push(null)}else o.arguments.push(Zv(rF(n.parseResult),v,!0))}})});function Dae(e,t,i,s){if(!t.exp){i.onError(an(31,t.loc));return}const r=t.forParseResult;if(!r){i.onError(an(32,t.loc));return}Qz(r);const{addIdentifiers:n,removeIdentifiers:o,scopes:a}=i,{source:l,value:c,key:u,index:h}=r,f={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:h,parseResult:r,children:$E(e)?e.children:[e]};i.replaceNode(f),a.vFor++;const p=s&&s(f);return()=>{a.vFor--,p&&p()}}function Qz(e,t){e.finalized||(e.finalized=!0)}function rF({value:e,key:t,index:i},s=[]){return Rae([e,t,i,...s])}function Rae(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((i,s)=>i||ss("_".repeat(s+1),!1))}const pG=ss("undefined",!1),Pae=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const i=ic(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Fae=(e,t,i,s)=>Zv(e,i,!1,!0,i.length?i[0].loc:s);function Mae(e,t,i=Fae){t.helper(iO);const{children:s,loc:r}=e,n=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=ic(e,"slot",!0);if(l){const{arg:C,exp:S}=l;C&&!Xa(C)&&(a=!0),n.push(_n(C||ss("default",!0),i(S,void 0,s,r)))}let c=!1,u=!1;const h=[],f=new Set;let p=0;for(let C=0;C<s.length;C++){const S=s[C];let _;if(!$E(S)||!(_=ic(S,"slot",!0))){S.type!==3&&h.push(S);continue}if(l){t.onError(an(37,_.loc));break}c=!0;const{children:x,loc:A}=S,{arg:R=ss("default",!0),exp:O,loc:k}=_;let F;Xa(R)?F=R?R.content:"default":a=!0;const N=ic(S,"for"),j=i(O,N,x,A);let ee,K;if(ee=ic(S,"if"))a=!0,o.push(tF(ee.exp,zx(R,j,p++),pG));else if(K=ic(S,/^else(-if)?$/,!0)){let Q=C,be;for(;Q--&&(be=s[Q],!(be.type!==3&&nF(be))););if(be&&$E(be)&&ic(be,/^(else-)?if$/)){let te=o[o.length-1];for(;te.alternate.type===19;)te=te.alternate;te.alternate=K.exp?tF(K.exp,zx(R,j,p++),pG):zx(R,j,p++)}else t.onError(an(30,K.loc))}else if(N){a=!0;const Q=N.forParseResult;Q?(Qz(Q),o.push(fo(t.helper(JL),[Q.source,Zv(rF(Q),zx(R,j),!0)]))):t.onError(an(32,N.loc))}else{if(F){if(f.has(F)){t.onError(an(38,k));continue}f.add(F),F==="default"&&(u=!0)}n.push(_n(R,j))}}if(!l){const C=(S,_)=>{const x=i(S,void 0,_,r);return t.compatConfig&&(x.isNonScopedSlot=!0),_n("default",x)};c?h.length&&h.some(S=>nF(S))&&(u?t.onError(an(39,h[0].loc)):n.push(C(void 0,h))):n.push(C(void 0,s))}const y=a?2:z1(e.children)?3:1;let v=nc(n.concat(_n("_",ss(y+"",!1))),r);return o.length&&(v=fo(t.helper(Pz),[v,Qp(o)])),{slots:v,hasDynamicSlots:a}}function zx(e,t,i){const s=[_n("name",e),_n("fn",t)];return i!=null&&s.push(_n("key",ss(String(i),!0))),nc(s)}function z1(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(i.tagType===2||z1(i.children))return!0;break;case 9:if(z1(i.branches))return!0;break;case 10:case 11:if(z1(i.children))return!0;break}}return!1}function nF(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():nF(e.content)}const Jz=new WeakMap,Lae=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:s,props:r}=e,n=e.tagType===1;let o=n?Oae(e,t):`"${s}"`;const a=Sr(o)&&o.callee===YL;let l,c,u=0,h,f,p,y=a||o===NC||o===WL||!n&&(s==="svg"||s==="foreignObject"||s==="math");if(r.length>0){const v=Zz(e,t,void 0,n,a);l=v.props,u=v.patchFlag,f=v.dynamicPropNames;const C=v.directives;p=C&&C.length?Qp(C.map(S=>Nae(S,t))):void 0,v.shouldUseBlock&&(y=!0)}if(e.children.length>0)if(o===VE&&(y=!0,u|=1024),n&&o!==NC&&o!==VE){const{slots:C,hasDynamicSlots:S}=Mae(e,t);c=C,S&&(u|=1024)}else if(e.children.length===1&&o!==NC){const C=e.children[0],S=C.type,_=S===5||S===8;_&&Al(C,t)===0&&(u|=1),_||S===2?c=C:c=e.children}else c=e.children;f&&f.length&&(h=Vae(f)),e.codegenNode=Eb(t,o,l,c,u===0?void 0:u,h,p,!!y,!1,n,e.loc)};function Oae(e,t,i=!1){let{tag:s}=e;const r=oF(s),n=PT(e,"is",!1,!0);if(n)if(r||Jp("COMPILER_IS_ON_ELEMENT",t)){let a;if(n.type===6?a=n.value&&ss(n.value.content,!0):(a=n.exp,a||(a=ss("is",!1,n.arg.loc))),a)return fo(t.helper(YL),[a])}else n.type===6&&n.value.content.startsWith("vue:")&&(s=n.value.content.slice(4));const o=Lz(s)||t.isBuiltInComponent(s);return o?(i||t.helper(o),o):(t.helper(KL),t.components.add(s),Tb(s,"component"))}function Zz(e,t,i=e.props,s,r,n=!1){const{tag:o,loc:a,children:l}=e;let c=[];const u=[],h=[],f=l.length>0;let p=!1,y=0,v=!1,C=!1,S=!1,_=!1,x=!1,A=!1;const R=[],O=j=>{c.length&&(u.push(nc(gG(c),a)),c=[]),j&&u.push(j)},k=()=>{t.scopes.vFor>0&&c.push(_n(ss("ref_for",!0),ss("true")))},F=({key:j,value:ee})=>{if(Xa(j)){const K=j.content,Q=zg(K);if(Q&&(!s||r)&&K.toLowerCase()!=="onclick"&&K!=="onUpdate:modelValue"&&!lf(K)&&(_=!0),Q&&lf(K)&&(A=!0),Q&&ee.type===14&&(ee=ee.arguments[0]),ee.type===20||(ee.type===4||ee.type===8)&&Al(ee,t)>0)return;K==="ref"?v=!0:K==="class"?C=!0:K==="style"?S=!0:K!=="key"&&!R.includes(K)&&R.push(K),s&&(K==="class"||K==="style")&&!R.includes(K)&&R.push(K)}else x=!0};for(let j=0;j<i.length;j++){const ee=i[j];if(ee.type===6){const{loc:K,name:Q,nameLoc:be,value:te}=ee;let ne=!0;if(Q==="ref"&&(v=!0,k()),Q==="is"&&(oF(o)||te&&te.content.startsWith("vue:")||Jp("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(_n(ss(Q,!0,be),ss(te?te.content:"",ne,te?te.loc:K)))}else{const{name:K,arg:Q,exp:be,loc:te,modifiers:ne}=ee,H=K==="bind",ie=K==="on";if(K==="slot"){s||t.onError(an(40,te));continue}if(K==="once"||K==="memo"||K==="is"||H&&Vp(Q,"is")&&(oF(o)||Jp("COMPILER_IS_ON_ELEMENT",t))||ie&&n)continue;if((H&&Vp(Q,"key")||ie&&f&&Vp(Q,"vue:before-update"))&&(p=!0),H&&Vp(Q,"ref")&&k(),!Q&&(H||ie)){if(x=!0,be)if(H){if(O(),Jp("COMPILER_V_BIND_OBJECT_ORDER",t)){u.unshift(be);continue}k(),O(),u.push(be)}else O({type:14,loc:te,callee:t.helper(tO),arguments:s?[be]:[be,"true"]});else t.onError(an(H?34:35,te));continue}H&&ne.some(Te=>Te.content==="prop")&&(y|=32);const ue=t.directiveTransforms[K];if(ue){const{props:Te,needRuntime:Ie}=ue(ee,e,t);!n&&Te.forEach(F),ie&&Q&&!Xa(Q)?O(nc(Te,a)):c.push(...Te),Ie&&(h.push(ee),nl(Ie)&&Jz.set(ee,Ie))}else Xse(K)||(h.push(ee),f&&(p=!0))}}let N;if(u.length?(O(),u.length>1?N=fo(t.helper(BE),u,a):N=u[0]):c.length&&(N=nc(gG(c),a)),x?y|=16:(C&&!s&&(y|=2),S&&!s&&(y|=4),R.length&&(y|=8),_&&(y|=32)),!p&&(y===0||y===32)&&(v||A||h.length>0)&&(y|=512),!t.inSSR&&N)switch(N.type){case 15:let j=-1,ee=-1,K=!1;for(let te=0;te<N.properties.length;te++){const ne=N.properties[te].key;Xa(ne)?ne.content==="class"?j=te:ne.content==="style"&&(ee=te):ne.isHandlerKey||(K=!0)}const Q=N.properties[j],be=N.properties[ee];K?N=fo(t.helper(xb),[N]):(Q&&!Xa(Q.value)&&(Q.value=fo(t.helper(ZL),[Q.value])),be&&(S||be.value.type===4&&be.value.content.trim()[0]==="["||be.value.type===17)&&(be.value=fo(t.helper(eO),[be.value])));break;case 14:break;default:N=fo(t.helper(xb),[fo(t.helper($w),[N])]);break}return{props:N,directives:h,patchFlag:y,dynamicPropNames:R,shouldUseBlock:p}}function gG(e){const t=new Map,i=[];for(let s=0;s<e.length;s++){const r=e[s];if(r.key.type===8||!r.key.isStatic){i.push(r);continue}const n=r.key.content,o=t.get(n);o?(n==="style"||n==="class"||zg(n))&&Iae(o,r):(t.set(n,r),i.push(r))}return i}function Iae(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Qp([e.value,t.value],e.loc)}function Nae(e,t){const i=[],s=Jz.get(e);s?i.push(t.helperString(s)):(t.helper(XL),t.directives.add(e.name),i.push(Tb(e.name,"directive")));const{loc:r}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const n=ss("true",!1,r);i.push(nc(e.modifiers.map(o=>_n(o,n)),r))}return Qp(i,e.loc)}function Vae(e){let t="[";for(let i=0,s=e.length;i<s;i++)t+=JSON.stringify(e[i]),i<s-1&&(t+=", ");return t+"]"}function oF(e){return e==="component"||e==="Component"}const Bae=(e,t)=>{if(WE(e)){const{children:i,loc:s}=e,{slotName:r,slotProps:n}=Gae(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;n&&(o[2]=n,a=3),i.length&&(o[3]=Zv([],i,!1,!1,s),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=fo(t.helper(Rz),o,s)}};function Gae(e,t){let i='"default"',s;const r=[];for(let n=0;n<e.props.length;n++){const o=e.props[n];if(o.type===6)o.value&&(o.name==="name"?i=JSON.stringify(o.value.content):(o.name=Br(o.name),r.push(o)));else if(o.name==="bind"&&Vp(o.arg,"name")){if(o.exp)i=o.exp;else if(o.arg&&o.arg.type===4){const a=Br(o.arg.content);i=o.exp=ss(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&Xa(o.arg)&&(o.arg.content=Br(o.arg.content)),r.push(o)}if(r.length>0){const{props:n,directives:o}=Zz(e,t,r,!1,!1);s=n,o.length&&t.onError(an(36,o[0].loc))}return{slotName:i,slotProps:s}}const e5=(e,t,i,s)=>{const{loc:r,modifiers:n,arg:o}=e;!e.exp&&!n.length&&i.onError(an(35,r));let a;if(o.type===4)if(o.isStatic){let h=o.content;h.startsWith("vue:")&&(h=`vnode-${h.slice(4)}`);const f=t.tagType!==0||h.startsWith("vnode")||!/[A-Z]/.test(h)?Yp(Br(h)):`on:${h}`;a=ss(f,!0,o.loc)}else a=jc([`${i.helperString(eF)}(`,o,")"]);else a=o,a.children.unshift(`${i.helperString(eF)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=i.cacheHandlers&&!l&&!i.inVOnce;if(l){const h=Iz(l),f=!(h||Noe(l)),p=l.content.includes(";");(f||c&&h)&&(l=jc([`${f?"$event":"(...args)"} => ${p?"{":"("}`,l,p?"}":")"]))}let u={props:[_n(a,l||ss("() => {}",!1,r))]};return s&&(u=s(u)),c&&(u.props[0].value=i.cache(u.props[0].value)),u.props.forEach(h=>h.key.isHandlerKey=!0),u},Hae=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const i=e.children;let s,r=!1;for(let n=0;n<i.length;n++){const o=i[n];if(HD(o)){r=!0;for(let a=n+1;a<i.length;a++){const l=i[a];if(HD(l))s||(s=i[n]=jc([o],o.loc)),s.children.push(" + ",l),i.splice(a,1),a--;else{s=void 0;break}}}}if(!(!r||i.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(n=>n.type===7&&!t.directiveTransforms[n.name])&&e.tag!=="template")))for(let n=0;n<i.length;n++){const o=i[n];if(HD(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&Al(o,t)===0&&a.push("1"),i[n]={type:12,content:o,loc:o.loc,codegenNode:fo(t.helper(jL),a)}}}}},mG=new WeakSet,$ae=(e,t)=>{if(e.type===1&&ic(e,"once",!0))return mG.has(e)||t.inVOnce||t.inSSR?void 0:(mG.add(e),t.inVOnce=!0,t.helper(GE),()=>{t.inVOnce=!1;const i=t.currentNode;i.codegenNode&&(i.codegenNode=t.cache(i.codegenNode,!0,!0))})},t5=(e,t,i)=>{const{exp:s,arg:r}=e;if(!s)return i.onError(an(41,e.loc)),jx();const n=s.loc.source.trim(),o=s.type===4?s.content:n,a=i.bindingMetadata[n];if(a==="props"||a==="props-aliased")return i.onError(an(44,s.loc)),jx();if(!o.trim()||!Iz(s))return i.onError(an(42,s.loc)),jx();const l=r||ss("modelValue",!0),c=r?Xa(r)?`onUpdate:${Br(r.content)}`:jc(['"onUpdate:" + ',r]):"onUpdate:modelValue";let u;const h=i.isTS?"($event: any)":"$event";u=jc([`${h} => ((`,s,") = $event)"]);const f=[_n(l,e.exp),_n(c,u)];if(e.modifiers.length&&t.tagType===1){const p=e.modifiers.map(v=>v.content).map(v=>(oO(v)?v:JSON.stringify(v))+": true").join(", "),y=r?Xa(r)?`${r.content}Modifiers`:jc([r,' + "Modifiers"']):"modelModifiers";f.push(_n(y,ss(`{ ${p} }`,!1,e.loc,2)))}return jx(f)};function jx(e=[]){return{props:e}}const Wae=/[\w).+\-_$\]]/,Uae=(e,t)=>{Jp("COMPILER_FILTERS",t)&&(e.type===5?zE(e.content,t):e.type===1&&e.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&zE(i.exp,t)}))};function zE(e,t){if(e.type===4)vG(e,t);else for(let i=0;i<e.children.length;i++){const s=e.children[i];typeof s=="object"&&(s.type===4?vG(s,t):s.type===8?zE(e,t):s.type===5&&zE(s.content,t))}}function vG(e,t){const i=e.content;let s=!1,r=!1,n=!1,o=!1,a=0,l=0,c=0,u=0,h,f,p,y,v=[];for(p=0;p<i.length;p++)if(f=h,h=i.charCodeAt(p),s)h===39&&f!==92&&(s=!1);else if(r)h===34&&f!==92&&(r=!1);else if(n)h===96&&f!==92&&(n=!1);else if(o)h===47&&f!==92&&(o=!1);else if(h===124&&i.charCodeAt(p+1)!==124&&i.charCodeAt(p-1)!==124&&!a&&!l&&!c)y===void 0?(u=p+1,y=i.slice(0,p).trim()):C();else{switch(h){case 34:r=!0;break;case 39:s=!0;break;case 96:n=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(h===47){let S=p-1,_;for(;S>=0&&(_=i.charAt(S),_===" ");S--);(!_||!Wae.test(_))&&(o=!0)}}y===void 0?y=i.slice(0,p).trim():u!==0&&C();function C(){v.push(i.slice(u,p).trim()),u=p+1}if(v.length){for(p=0;p<v.length;p++)y=zae(y,v[p],t);e.content=y,e.ast=void 0}}function zae(e,t,i){i.helper(qL);const s=t.indexOf("(");if(s<0)return i.filters.add(t),`${Tb(t,"filter")}(${e})`;{const r=t.slice(0,s),n=t.slice(s+1);return i.filters.add(r),`${Tb(r,"filter")}(${e}${n!==")"?","+n:n}`}}const yG=new WeakSet,jae=(e,t)=>{if(e.type===1){const i=ic(e,"memo");return!i||yG.has(e)?void 0:(yG.add(e),()=>{const s=e.codegenNode||t.currentNode.codegenNode;s&&s.type===13&&(e.tagType!==1&&rO(s,t),e.codegenNode=fo(t.helper(sO),[i.exp,Zv(void 0,s),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function Kae(e){return[[$ae,Eae,jae,kae,Uae,Bae,Lae,Pae,Hae],{on:e5,bind:Aae,model:t5}]}function Yae(e,t={}){const i=t.onError||nO,s=t.mode==="module";t.prefixIdentifiers===!0?i(an(47)):s&&i(an(48));const r=!1;t.cacheHandlers&&i(an(49)),t.scopeId&&!s&&i(an(50));const n=Ms({},t,{prefixIdentifiers:r}),o=es(e)?tae(e,n):e,[a,l]=Kae();return nae(o,Ms({},n,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:Ms({},l,t.directiveTransforms||{})})),cae(o,n)}const Xae=()=>({props:[]});/**
* @vue/compiler-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const i5=Symbol(""),s5=Symbol(""),r5=Symbol(""),n5=Symbol(""),aF=Symbol(""),o5=Symbol(""),a5=Symbol(""),l5=Symbol(""),c5=Symbol(""),u5=Symbol("");_oe({[i5]:"vModelRadio",[s5]:"vModelCheckbox",[r5]:"vModelText",[n5]:"vModelSelect",[aF]:"vModelDynamic",[o5]:"withModifiers",[a5]:"withKeys",[l5]:"vShow",[c5]:"Transition",[u5]:"TransitionGroup"});let Zm;function qae(e,t=!1){return Zm||(Zm=document.createElement("div")),t?(Zm.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Zm.children[0].getAttribute("foo")):(Zm.innerHTML=e,Zm.textContent)}const Qae={parseMode:"html",isVoidTag:dre,isNativeTag:e=>lre(e)||cre(e)||ure(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:qae,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return c5;if(e==="TransitionGroup"||e==="transition-group")return u5},getNamespace(e,t,i){let s=t?t.ns:i;if(t&&s===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(s=0);else t&&s===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(s=0);if(s===0){if(e==="svg")return 1;if(e==="math")return 2}return s}},Jae=e=>{e.type===1&&e.props.forEach((t,i)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[i]={type:7,name:"bind",arg:ss("style",!0,t.loc),exp:Zae(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Zae=(e,t)=>{const i=s8(e);return ss(JSON.stringify(i),!1,t,3)};function df(e,t){return an(e,t)}const ele=(e,t,i)=>{const{exp:s,loc:r}=e;return s||i.onError(df(53,r)),t.children.length&&(i.onError(df(54,r)),t.children.length=0),{props:[_n(ss("innerHTML",!0,r),s||ss("",!0))]}},tle=(e,t,i)=>{const{exp:s,loc:r}=e;return s||i.onError(df(55,r)),t.children.length&&(i.onError(df(56,r)),t.children.length=0),{props:[_n(ss("textContent",!0),s?Al(s,i)>0?s:fo(i.helperString(RT),[s],r):ss("",!0))]}},ile=(e,t,i)=>{const s=t5(e,t,i);if(!s.props.length||t.tagType===1)return s;e.arg&&i.onError(df(58,e.arg.loc));const{tag:r}=t,n=i.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||n){let o=r5,a=!1;if(r==="input"||n){const l=PT(t,"type");if(l){if(l.type===7)o=aF;else if(l.value)switch(l.value.content){case"radio":o=i5;break;case"checkbox":o=s5;break;case"file":a=!0,i.onError(df(59,e.loc));break}}else Voe(t)&&(o=aF)}else r==="select"&&(o=n5);a||(s.needRuntime=i.helper(o))}else i.onError(df(57,e.loc));return s.props=s.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),s},sle=Ol("passive,once,capture"),rle=Ol("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),nle=Ol("left,right"),d5=Ol("onkeyup,onkeydown,onkeypress"),ole=(e,t,i,s)=>{const r=[],n=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&_b("COMPILER_V_ON_NATIVE",i)||sle(l)?o.push(l):nle(l)?Xa(e)?d5(e.content.toLowerCase())?r.push(l):n.push(l):(r.push(l),n.push(l)):rle(l)?n.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:n,eventOptionModifiers:o}},CG=(e,t)=>Xa(e)&&e.content.toLowerCase()==="onclick"?ss(t,!0):e.type!==4?jc(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,ale=(e,t,i)=>e5(e,t,i,s=>{const{modifiers:r}=e;if(!r.length)return s;let{key:n,value:o}=s.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=ole(n,r,i,e.loc);if(l.includes("right")&&(n=CG(n,"onContextmenu")),l.includes("middle")&&(n=CG(n,"onMouseup")),l.length&&(o=fo(i.helper(o5),[o,JSON.stringify(l)])),a.length&&(!Xa(n)||d5(n.content.toLowerCase()))&&(o=fo(i.helper(a5),[o,JSON.stringify(a)])),c.length){const u=c.map(Zd).join("");n=Xa(n)?ss(`${n.content}${u}`,!0):jc(["(",n,`) + "${u}"`])}return{props:[_n(n,o)]}}),lle=(e,t,i)=>{const{exp:s,loc:r}=e;return s||i.onError(df(61,r)),{props:[],needRuntime:i.helper(l5)}},cle=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},ule=[Jae],dle={cloak:Xae,html:ele,text:tle,model:ile,on:ale,show:lle};function hle(e,t={}){return Yae(e,Ms({},Qae,t,{nodeTransforms:[cle,...ule,...t.nodeTransforms||[]],directiveTransforms:Ms({},dle,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bG=Object.create(null);function h5(e,t){if(!es(e))if(e.nodeType)e=e.innerHTML;else return Ho;const i=Jse(e,t),s=bG[i];if(s)return s;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const r=Ms({hoistStatic:!0,onError:void 0,onWarn:Ho},t);!r.isCustomElement&&typeof customElements<"u"&&(r.isCustomElement=a=>!!customElements.get(a));const{code:n}=hle(e,r),o=new Function("Vue",n)(Coe);return o._rc=!0,bG[i]=o}NL(h5);const fle=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:pL,BaseTransitionPropsValidators:xT,Comment:on,DeprecationTypes:sz,EffectScope:dT,ErrorCodes:M8,ErrorTypeStrings:QU,Fragment:kt,KeepAlive:tU,ReactiveEffect:Kv,Static:uf,Suspense:OL,Teleport:mf,Text:ac,TrackOpTypes:k8,Transition:yc,TransitionGroup:kT,TriggerOpTypes:D8,VueElement:Bw,assertNumber:F8,callWithAsyncErrorHandling:Rl,callWithErrorHandling:Yg,camelize:Br,capitalize:Zd,cloneVNode:Qc,compatUtils:iz,compile:h5,computed:V,createApp:wb,createBlock:nt,createCommentVNode:Le,createElementBlock:ve,createElementVNode:me,createHydrationRenderer:RL,createPropsRestProxy:pU,createRenderer:DL,createSSRApp:$L,createSlots:zs,createStaticVNode:HU,createTextVNode:oi,createVNode:wt,customRef:bT,defineAsyncComponent:eU,defineComponent:dt,defineCustomElement:BL,defineEmits:oU,defineExpose:aU,defineModel:uU,defineOptions:lU,defineProps:nU,defineSSRCustomElement:hz,defineSlots:cU,devtools:JU,effect:h8,effectScope:hT,getCurrentInstance:Di,getCurrentScope:Lw,getCurrentWatcher:R8,getTransitionRawChildren:Ow,guardReactiveProps:Wt,h:ji,handleError:Of,hasInjectionContext:yU,hydrate:Sz,hydrateOnIdle:q8,hydrateOnInteraction:Z8,hydrateOnMediaQuery:J8,hydrateOnVisible:Q8,initCustomFormatter:YU,initDirectivesForSSR:_z,inject:Xr,isMemoSame:VL,isProxy:Kg,isReactive:Gd,isReadonly:$u,isRef:cs,isRuntimeOnly:zU,isShallow:el,isVNode:fc,markRaw:dL,mergeDefaults:_L,mergeModels:fU,mergeProps:ut,nextTick:rs,normalizeClass:Et,normalizeProps:Ft,normalizeStyle:St,onActivated:mL,onBeforeMount:V0,onBeforeUnmount:Rr,onBeforeUpdate:Xg,onDeactivated:vL,onErrorCaptured:wL,onMounted:Ri,onRenderTracked:bL,onRenderTriggered:CL,onScopeDispose:fT,onServerPrefetch:yL,onUnmounted:ed,onUpdated:qg,onWatcherCleanup:hL,openBlock:q,popScopeId:B8,provide:la,proxyRefs:CT,pushScopeId:V8,queuePostFlushCb:Yv,reactive:Nn,readonly:vT,ref:We,registerRuntimeCompiler:NL,render:Uu,renderList:si,renderSlot:Fe,resolveComponent:xn,resolveDirective:rU,resolveDynamicComponent:io,resolveFilter:tz,resolveTransitionHooks:pg,setBlockTracking:FE,setDevtoolsHook:ZU,setTransitionHooks:Wu,shallowReactive:N0,shallowReadonly:Td,shallowRef:vi,ssrContextKey:FL,ssrUtils:ez,stop:f8,toDisplayString:Mt,toHandlerKey:Yp,toHandlers:Ta,toRaw:xs,toRef:Dn,toRefs:Il,toValue:T8,transformVNodeArgs:BU,triggerRef:_8,unref:P,useAttrs:td,useCssModule:pz,useCssVars:dz,useHost:GL,useId:Y8,useModel:FU,useSSRContext:ML,useShadowRoot:fz,useSlots:so,useTemplateRef:X8,useTransitionState:ST,vModelCheckbox:Gw,vModelDynamic:Qg,vModelRadio:DT,vModelSelect:HL,vModelText:yf,vShow:or,version:AT,warn:qU,watch:Ot,watchEffect:Fa,watchPostEffect:RU,watchSyncEffect:LL,withAsyncContext:gU,withCtx:tt,withDefaults:dU,withDirectives:Ss,withKeys:xt,withMemo:XU,withModifiers:Dt,withScopeId:G8},Symbol.toStringTag,{value:"Module"})),wG={light:{primary:"#154EC1",secondary:"#767C88",success:"#3D9209",info:"#158DE3",danger:"#E42222",warning:"#FFD43A",backgroundPrimary:"#f6f6f6",backgroundSecondary:"#FFFFFF",backgroundElement:"#ECF0F1",backgroundBorder:"#DEE5F2",textPrimary:"#262824",textInverted:"#FFFFFF",shadow:"rgba(0, 0, 0, 0.12)",focus:"#49A8FF",transparent:"rgba(0, 0, 0, 0)"},dark:{primary:"#3472F0",secondary:"#767C88",success:"#66BE33",info:"#3EAAF8",danger:"#F34030",warning:"#FFD952",backgroundPrimary:"#050A10",backgroundSecondary:"#1F262F",backgroundElement:"#131A22",backgroundBorder:"#3D4C58",textPrimary:"#F1F1F1",textInverted:"#0B121A",shadow:"rgba(255, 255, 255, 0.12)",focus:"#49A8FF",transparent:"rgba(0, 0, 0, 0)"}},f5=Symbol("vaBreakpoint"),ple={xs:0,sm:640,md:1024,lg:1440,xl:1920},gle=()=>({enabled:!0,bodyClass:!0,thresholds:ple}),lF=(e,t=null)=>tt(()=>[e],t),SG=e=>typeof e=="string"?ji(ac,e):fc(e)?e:nt(e),mle=(e,t=null)=>Object.keys(e).reduce((i,s)=>{const r=e[s];return i[s]=typeof r=="function"?r:lF(r,t),i},{}),vle=e=>{const t=e.render||e.ssrRender;if(!t)return;const i=t.name==="_sfc_render"||t.name==="_sfc_ssrRender";return function(...s){const r=s[0],n=r.$.slots,o=new Proxy(r,{get(l,c){return c==="$slots"?mle(n):l[c]}}),a=i?void 0:o;return t.call(a,o,...s.slice(1))}},zu=(e,t)=>Object.keys(e).filter(i=>!t.includes(i)).reduce((i,s)=>(i[s]=e[s],i),{}),cF="child:",p5="$va:childComponents",g5=e=>Object.keys(e).reduce((t,i)=>{const s=`${cF}${i}`;return t[s]={type:Object,required:!1,default:void 0},t},{}),m5=e=>{const t=V(()=>Object.keys(e).reduce((s,r)=>{if(r.startsWith(cF)){const n=r.slice(cF.length);s[n]=e[r]}return s},{}));la(p5,t)},cO=()=>{var e;const t=(e=Di())==null?void 0:e.attrs["va-child"];if(!t)return null;const i=Xr(p5);return i!=null&&i.value?V(()=>i.value[t]):null},yle=/([a-z0-9])([A-Z])/g,Cle=e=>e.replace(yle,"$1-$2").toLowerCase(),ble=(e,t)=>t in e?e[t]:e[Cle(t)],wle=(e,t)=>{const i=e.props,s=cO();return new Proxy(i,{get:(r,n)=>{var o,a;if(typeof n!="string")return r[n];const l=(o=s==null?void 0:s.value)==null?void 0:o[n];if(l!==void 0)return l;const c=e.vnode.props||{},u=r[n];if(ble(c,n)!==void 0)return u;const f=(a=t.value)==null?void 0:a[n];return f!==void 0?f:u}})},Sle=(e,t)=>{const i=e.attrs;return new Proxy(i,{get:(s,r)=>{var n;if(typeof r!="string")return s[r];if(r==="class")return Et([t.value.class,i.class]);if(r==="style")return St([t.value.style,i.style]);const o=(n=t.value)==null?void 0:n[r];return o!==void 0?o:s[r]},ownKeys(s){return[...new Set([...Object.keys(i),...Object.keys(t.value)])]},getOwnPropertyDescriptor(s,r){return Reflect.getOwnPropertyDescriptor(t.value,r)??Reflect.getOwnPropertyDescriptor(i,r)}})},WD="slot:",xle=(e,t)=>{const i=e.slots,s=cO(),r=V(()=>Object.keys(t.value).reduce((n,o)=>(o.startsWith(WD)&&(n[o.slice(WD.length)]=t.value[o]),n),{}));return new Proxy(i,{get:(n,o)=>{var a,l;if(typeof o!="string")return n[o];const c=`${WD}${o}`,u=(a=s==null?void 0:s.value)==null?void 0:a[c];if(u!==void 0)return lF(SG(u));const h=n[o];if(h!==void 0)return h;const f=(l=r.value)==null?void 0:l[o];return f!==void 0?lF(SG(f)):h},ownKeys(n){return[...new Set([...Object.keys(i),...Object.keys(r.value)])]},getOwnPropertyDescriptor(n,o){return Reflect.getOwnPropertyDescriptor(r.value,o)??Reflect.getOwnPropertyDescriptor(i,o)}})},v5="VaLocalConfig",Ele=V(()=>[]);function uO(){return Xr(v5,Ele)}function y5(e){la(v5,e)}function _le(e){const t=uO(),i=V(()=>[...t.value,e.value]);y5(i)}const Tle=[null,void 0,""],Ale=[null,void 0],tl=e=>Tle.includes(e),xG=e=>!tl(e),UD=e=>Ale.includes(e),kle=typeof process<"u"?process:{},Dle=kle.env||{},Rle=Dle.NODE_ENV||"",B0=typeof __DEV__<"u"?__DEV__:!["prod","production"].includes(Rle),Ps=(...e)=>(B0&&console.warn(...e),!1),Ple=e=>{throw new Error(`[Vuestic] ${e}`)};let uF=null,zy=null;const EG=e=>{(zy==null?void 0:zy._instance)===null&&(zy=null),!(e===null&&zy===null)&&(zy=uF,uF=e)},dO=()=>uF,C5=(e,t=void 0)=>{var i;const s=(i=dO())==null?void 0:i._context.provides[e];return Di()?Xr(e,t):s??Ple("You're using Vuestic composable outside Vue app. Since you registered Vuestic in multiple apps, composables can not be used outside setup function anymore.")},Zp=e=>e!==null&&typeof e=="object",Gp=e=>e===null||typeof e!="object"?e:Array.isArray(e)?e.map(Gp):e instanceof Date?new Date(e.getTime()):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Map?new Map(Array.from(e.entries()).map(([t,i])=>[t,Gp(i)])):e instanceof Set?new Set(Array.from(e.values()).map(Gp)):Zp(e)?Object.keys(e).reduce((t,i)=>(t[i]=Gp(e[i]),t),{}):e,zD=e=>e&&typeof e=="object"&&!Array.isArray(e),yg=(e,t)=>(zD(e)||(e={}),Object.keys(t).forEach(i=>{const s=e[i],r=t[i];r instanceof RegExp||r instanceof Date?e[i]=r:zD(s)&&zD(r)?e[i]=yg(Object.create(Object.getPrototypeOf(s),Object.getOwnPropertyDescriptors(s)),r):e[i]=r}),e),Fle=(...e)=>e.reduce((t,i)=>yg(t,i),{}),Mle=[{prefix:"bg",property:"background-color"},{prefix:"text",property:["color","fill"]}],Lle=()=>Mle,b5=e=>({...e,get variables(){return this.presets[this.currentPresetName]},set variables(t){this.presets[this.currentPresetName]=t}}),Ole=()=>b5({threshold:150,presets:{light:wG.light,dark:wG.dark},currentPresetName:"light"}),Ile=e=>e,Nle=Ile([{name:"va-unsorted",to:"swap_vert"},{name:"va-sort-asc",to:"va-arrow-up"},{name:"va-sort-desc",to:"va-arrow-down"},{name:"va-arrow-first",to:"mi-first_page"},{name:"va-arrow-last",to:"mi-last_page"},{name:"va-arrow-right",to:"mi-chevron_right"},{name:"va-arrow-left",to:"mi-chevron_left"},{name:"va-arrow-down",to:"mi-expand_more"},{name:"va-arrow-up",to:"mi-expand_less"},{name:"va-calendar",to:"mi-calendar_today"},{name:"va-delete",to:"mi-delete_outline"},{name:"va-check",to:"mi-check"},{name:"va-check-circle",to:"mi-check_circle"},{name:"va-warning",to:"mi-warning"},{name:"va-clear",to:"mi-highlight_off"},{name:"va-close",to:"mi-close"},{name:"va-loading",to:"mi-loop"},{name:"va-plus",to:"mi-add"},{name:"va-minus",to:"mi-remove"}]),Vle=[{name:"mi-{icon}",class:"material-icons",resolve:({icon:e})=>({content:e})},{name:"{icon}",class:"material-icons",resolve:({icon:e})=>({content:e})}],Ble=e=>(e.aliases=e.aliases||[],e.fonts=e.fonts||[],[...e.aliases,...Nle,...e.fonts,...Vle]),Gle=()=>Ble({}),Hle=()=>({VaIcon:{sizesConfig:{defaultSize:18,sizes:{small:14,medium:18,large:24}}},VaRating:{sizesConfig:{defaultSize:18,sizes:{small:14,medium:18,large:24}}},all:{},presets:{VaButton:{default:{backgroundOpacity:1,hoverBehavior:"mask",hoverOpacity:.15,pressedBehavior:"mask",pressedOpacity:.13},primary:{backgroundOpacity:.1,hoverBehavior:"opacity",hoverOpacity:.07,pressedBehavior:"opacity",pressedOpacity:.13},secondary:{backgroundOpacity:0,hoverBehavior:"opacity",hoverOpacity:.07,pressedBehavior:"opacity",pressedOpacity:.13},plain:{plain:!0,hoverBehavior:"mask",hoverOpacity:.15,pressedBehavior:"mask",pressedOpacity:.13},plainOpacity:{plain:!0,textOpacity:.6,hoverBehavior:"opacity",hoverOpacity:1,pressedBehavior:"opacity",pressedOpacity:.9}},VaInputWrapper:{solid:{background:"backgroundElement"},bordered:{class:"va-input-wrapper--bordered",background:"backgroundElement"}},VaCheckbox:{solid:{style:"--va-checkbox-background: var(--va-background-element)"}},VaRadio:{solid:{style:"--va-radio-background: var(--va-background-element)"}},VaMenu:{context:{cursor:!0,placement:"right-start",trigger:"right-click"}}}}),$le=()=>({search:"Search",noOptions:"Items not found",ok:"OK",cancel:"Cancel",uploadFile:"Upload file",undo:"Undo",dropzone:"Drop files here to upload",fileDeleted:"File deleted",closeAlert:"close alert",backToTop:"back to top",toggleDropdown:"toggle dropdown",carousel:"carousel",goPreviousSlide:"go previous slide",goNextSlide:"go next slide",goSlide:"go slide {index}",slideOf:"slide {index} of {length}",close:"close",openColorPicker:"open color picker",colorSelection:"color selection",colorName:"color {color}",decreaseCounter:"decrease counter",increaseCounter:"increase counter",selectAllRows:"select all rows",sortColumnBy:"sort column by {name}",selectRowByIndex:"select row {index}",resetDate:"reset date",nextPeriod:"next period",switchView:"switch view",previousPeriod:"previous period",removeFile:"remove file",reset:"reset",pagination:"pagination",goToTheFirstPage:"go to the first page",goToPreviousPage:"go to the previous page",goToSpecificPage:"go to the {page} page",goToSpecificPageInput:"enter the page number to go",goNextPage:"go next page",goLastPage:"go last page",currentRating:"current rating {value} of {max}",voteRating:"vote rating {value} of {max}",optionsFilter:"options filter",splitPanels:"split panels",movePaginationLeft:"move pagination left",movePaginationRight:"move pagination right",resetTime:"reset time",closeToast:"close toast",selectedOption:"Selected option",noSelectedOption:"Option is not selected",breadcrumbs:"breadcrumbs",counterValue:"counter value",selectedDate:"selected date",selectedTime:"selected time",progressState:"progress state",color:"color",next:"Next",back:"Previous",finish:"Finish",step:"step",progress:"progress",loading:"Loading",sliderValue:"Current slider value is {value}",switch:"Switch",inputField:"Input field",fileTypeIncorrect:"File type is incorrect",select:"Select an option"}),LT=Symbol("GLOBAL_CONFIG"),Wle=()=>({colors:Ole(),icons:Gle(),components:Hle(),breakpoint:gle(),i18n:$le(),colorsClasses:Lle(),routerComponent:void 0}),w5=(e={})=>{const t=We(yg(Wle(),e));return{getGlobalConfig:()=>t.value,setGlobalConfig:n=>{const o=typeof n=="function"?n(t.value):n;t.value=Gp(o)},mergeGlobalConfig:n=>{const o=typeof n=="function"?n(t.value):n;t.value=yg(Gp(t.value),o)},globalConfig:t}},Ule=e=>{var t,i;const s=((t=Di())==null?void 0:t.appContext.provides)||((i=dO())==null?void 0:i._context.provides);if(!s)throw new Error("Vue app not found for provide");return s[LT]=e,e};function id(){let e=C5(LT);return e||(e=w5(),Ule(e)),e}const zle=e=>"preset"in e,_G=e=>zle(e)?e.preset:void 0,jle=(e,t)=>{const i=uO(),{globalConfig:s}=id(),r=e.name,n=a=>(a instanceof Array?a:[a]).reduce((l,c)=>{var u,h,f;const p=(f=(h=(u=s.value.components)==null?void 0:u.presets)==null?void 0:h[r])==null?void 0:f[c];if(!p)return l;const y=_G(p);return{...l,...y?n(y):void 0,...p}},{}),o=cO();return V(()=>{var a,l;const c={...(a=s.value.components)==null?void 0:a.all,...(l=s.value.components)==null?void 0:l[r]},u=i.value.reduce((p,y)=>{const v=y[r];return v?{...p,...v}:p},{}),h=[t,o==null?void 0:o.value,u,c].filter(xG).map(_G).filter(xG).at(0),f=h?n(h):void 0;return{...c,...u,...f}})},Kle=e=>(t,i)=>{var s;const r=Di(),n=jle(e,t),o=V(()=>zu(n.value,Object.keys(t))),a=wle(r,n),l=Sle(r,o),c=xle(r,n);r.props=a,r.attrs=l,r.slots=c;const u=(s=e.setup)==null?void 0:s.call(e,Td(a),{...i,attrs:l,slots:c});return typeof u=="object"&&!r.exposed&&i.expose(u),u},dF=e=>{const t=Kle(e),i=vle(e);return new Proxy(e,{get(s,r){return r in e?r==="setup"?t:r==="render"||r==="ssrRender"?i:Reflect.get(s,r):Reflect.get(s,r)}})},hF="__c",Yle=e=>(e[hF]=dF(e[hF]),e),th=e=>"setup"in e?dF(e):hF in e?Yle(e):(e.setup=()=>({}),dF(e)),zt=th,Xle={defaultSize:48,sizes:{small:32,medium:48,large:64}},qle={defaultSize:1,sizes:{small:.75,medium:1,large:1.25}},Jg={size:{type:[String,Number],default:"",validator:e=>typeof e=="string"||typeof e=="number"},sizesConfig:{type:Object,default:()=>Xle},fontSizesConfig:{type:Object,default:()=>qle}},Qle=/(?<fontSize>\d+)(?<extension>px|rem)/i,TG=e=>e/16-.5,AG=e=>typeof e=="number"?`${e}px`:String(e),Jle=e=>"sizesConfig"in e,Zle=e=>{const t="size";return V(()=>{let i=e[t];if(Jle(e)){const{defaultSize:s,sizes:r}=e.sizesConfig;if(tl(i)&&(i=s),r){const n=r[i];if(n)return AG(n)}}return AG(i)})},Zg=(e,t=(i=>(i=Di())==null?void 0:i.type.name)())=>{const{getGlobalConfig:i}=id(),s=V(()=>{var a,l;return t?(l=(a=i().components)==null?void 0:a[t])==null?void 0:l.sizesConfig:void 0}),r=V(()=>{var a,l,c;const{defaultSize:u,sizes:h}=e.sizesConfig,f=(a=s.value)==null?void 0:a.defaultSize;if(!e.size)return`${u||f}px`;if(typeof e.size=="string"){const p=(c=(l=s.value)==null?void 0:l.sizes)==null?void 0:c[e.size],y=h[e.size];return y?`${y}px`:p?`${p}px`:e.size}return`${e.size}px`}),n=V(()=>{const{defaultSize:a,sizes:l}=e.fontSizesConfig;if(!e.size)return a;if(typeof e.size=="string"){if(e.size in l)return l[e.size];const c=e.size.match(Qle);if(!c||!c.groups)throw new Error("Size prop should be either valid string or number");const{extension:u,fontSize:h}=c.groups;return u==="rem"?+h:TG(+h)}return TG(e.size)}),o=V(()=>`${n.value}rem`);return{sizeComputed:r,fontSizeComputed:o,fontSizeInRem:n}},hi={preset:{type:[String,Array],default:void 0}},ece=(e,t)=>t.test(e),S5=(e,t)=>{if(typeof t!="string"&&t.global)return[...e.matchAll(t)].map(s=>s.slice(1));const i=e.match(t)||[];return i?i.length>1?i.slice(1):i:[]},x5=/{[^}]*}/g,E5=e=>e.replace(x5,"(.*)"),tce=e=>(e.match(x5)||[]).map(t=>t.replace(/{|}/g,"")),ice=(e,t)=>S5(e,E5(t)),sce=(e,t)=>{const i=tce(t),s=ice(e,t);return i.reduce((r,n,o)=>({...r,[n]:s[o]}),{})},rce=(e,t)=>(e.match(t)||[])[0]===e,nce=(e,t)=>{const i=E5(t);return rce(e,new RegExp(i))},_5=e=>typeof e.name=="string",T5=e=>e.name instanceof RegExp,oce=(e,t)=>_5(t)?nce(e,t.name):T5(t)?ece(e,t.name):!1,ace=(e,t)=>{const i=sce(e,t.name);return t.resolve&&t.resolve(i)},lce=(e,t)=>{if(t.name.global)throw new Error(`Bad icon config with name ${t.name}. Please, don't use global regex as name.`);const i=S5(e,t.name);return t.resolveFromRegex&&t.resolveFromRegex(...i)},cce=(e,t)=>{if(_5(t))return ace(e,t);if(T5(t))return lce(e,t);throw Error("Unknown icon config")},uce=(e,t,i=[])=>{const s=t.find(r=>i.includes(r.name.toString())?!1:oce(e,r));if(!s)throw new Error(`Can not find icon config from ${e}. Please provide default config.`);return s},A5=(e,t,i=[])=>{if(!e)return;const s=uce(e,t,i),r=yg(cce(e,s),s);return i=[...i,s.name.toString()],yg(A5(r.to,t,i),r)},dce=e=>{const t=["name","to","resolve","resolveFromRegex"],i=e;return t.forEach(s=>{delete i[s]}),i},hce=(e,t)=>{const i=A5(e,t);return i===void 0?{}:dce(i)},fce=()=>{const{globalConfig:e}=id();return{getIcon:t=>hce(t,e.value.icons)}},ih=e=>e,k5=Symbol("VaAppCachePlugin"),pce=ih(()=>({install(e){const t={colorContrast:{}};e.provide(k5,t)}})),gce=()=>{const e=C5(k5);return e||{colorContrast:{}}},hO=e=>{const t=V(e),i=new Proxy(t,{get(s,r,n){if(typeof t.value=="object")return P(Reflect.get(t.value,r,n))},set(s,r,n){return cs(t.value[r])&&!cs(n)?t.value[r].value=n:t.value[r]=n,!0},deleteProperty(s,r){return Reflect.deleteProperty(t.value,r)},has(s,r){return typeof t.value!="object"?!1:Reflect.has(t.value,r)},ownKeys(){return typeof t.value!="object"?[]:Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Nn(i)},D5=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),mce=/[A-Z0-9]*(?:[^\-_|A-Z|\s.])*/gm,fO=e=>{var t;return((t=e.match(mce))==null?void 0:t.map(i=>i.trim().split(/([0-9]+)|([a-zA-Z]+)/g)).flat().filter(Boolean))||[]},kb=e=>fO(e).map(t=>t.toLowerCase()).join("-"),vce=e=>fO(e).map((t,i)=>i===0?t.toLowerCase():D5(t)).join(""),kG=e=>fO(e).map(D5).join(" "),R5=/^#([A-Fa-f0-9]{3,4}|[A-Fa-f0-9]{6,8})$/,P5=/^rgba?\(([\d.]+, ?){2}[\d.]+(, ?[\d.]+)?\)$/,F5=/hsla?\([\d.]+(deg|rad|turn|grad)?(,?\s?[\d.]+%?){2}(,?\s?(\/\s?)?[\d.]+%?)?\)/,yce=e=>R5.test(e)||P5.test(e)||F5.test(e),pO=e=>typeof e!="object"||e===null?!1:"h"in e&&"s"in e&&"l"in e,gO=e=>typeof e!="object"||e===null?!1:"r"in e&&"g"in e&&"b"in e,M5=e=>{if(!R5.test(e))return null;const t=e.replace("#",""),i=t.length<6,[s,r,n,o]=i?t.split("").map(a=>parseInt(a+a,16)):t.match(/.{2}/g).map(a=>parseInt(a,16));return{r:s,g:r,b:n,a:o??1}},L5=e=>{if(!P5.test(e))return null;const[t,i,s,r=1]=e.match(/[\d.]+/g).map(Number);return{r:t,g:i,b:s,a:r}},O5=e=>{if(!F5.test(e))return null;const[t,i,s,r="1"]=e.match(/[\d.]+%?/g);return{h:Number(t),s:Number(i.replace("%","")),l:Number(s.replace("%","")),a:r.endsWith("%")?Number(r.replace("%",""))/100:Number(r)}},DG=e=>{const t=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(t,i,s),n=Math.min(t,i,s);let o=0,a=0;const l=(r+n)/2;if(r!==n){const c=r-n;switch(a=l>.5?c/(2-r-n):c/(r+n),r){case t:o=(i-s)/c+(i<s?6:0);break;case i:o=(s-t)/c+2;break;case s:o=(t-i)/c+4;break}o*=60}return{h:Math.round(o),s:Math.round(a*100),l:Math.round(l*100),a:e.a}},jD=(e,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e),RG=e=>{const t=e.h/360,i=e.s/100,s=e.l/100,r=s<.5?s*(1+i):s+i-s*i,n=2*s-r,o=jD(n,r,t+1/3),a=jD(n,r,t),l=jD(n,r,t-1/3);return{r:Math.round(o*255),g:Math.round(a*255),b:Math.round(l*255),a:e.a}},Uw=e=>{if(pO(e))return{...e};if(gO(e))return DG(e);const t=M5(e)??L5(e);if(t)return DG(t);const i=O5(e);if(i)return i;throw new Error(`Color ${e} is not valid. Please, provide valid color.`)},mO=({h:e,s:t,l:i,a:s})=>`hsla(${e},${t}%,${i}%,${s??1})`,Db=e=>{if(gO(e))return{...e};if(pO(e))return RG(e);const t=O5(e);if(t)return RG(t);const i=M5(e)??L5(e);if(i)return i;throw new Error(`Color ${e} is not valid. Please, provide valid color.`)},VC=({r:e,g:t,b:i,a:s})=>s===1?`rgb(${e},${t},${i})`:`rgba(${e},${t},${i},${s??1})`,Cce=e=>{if(pO(e))return mO(e);if(gO(e))return VC(e);if(typeof e=="string")return e;throw new Error(`Color ${e} is not valid. Please, provide valid color.`)},bce=(e,{h:t,s:i,l:s,a:r})=>{const n=Uw(e);return n.a=n.a??1,n.h=t??n.h,n.s=i??n.s,n.l=s??n.l,n.a=r??n.a,n.h<0&&(n.h=360+n.h),n.h>360&&(n.h=n.h-360),n.s=Math.max(0,Math.min(100,n.s)),n.l=Math.max(0,Math.min(100,n.l)),n.a=Math.max(0,Math.min(1,n.a)),n},wce=(e,{h:t,s:i,l:s,a:r})=>{const n=Uw(e);return n.a=n.a??1,n.h+=t??0,n.s+=i??0,n.l+=s??0,n.a+=r??0,n.h<0&&(n.h=360+n.h),n.h>360&&(n.h=n.h-360),n.s=Math.max(0,Math.min(100,n.s)),n.l=Math.max(0,Math.min(100,n.l)),n.a=Math.max(0,Math.min(1,n.a)),n},Sce=e=>/var\(--.+\)/.test(e),jE=e=>`--va-${kb(e)}`,PG=e=>vce(e),em=(e,t)=>{const{r:i,g:s,b:r}=Db(e);return VC({r:i,g:s,b:r,a:t})},FG=e=>{const{r:t,g:i,b:s}=Db(e);return Math.sqrt(t*t*.241+i*i*.691+s*s*.068)},I5=(e,t=.4)=>em(e,t),xce=(e,t=.4)=>em(e,t),N5=(e,t=.2)=>em(e,t),V5=(e,t=.3)=>em(e,t),Dp=(e,t)=>mO(wce(Uw(e),t)),Ece=(e,t)=>mO(bce(Uw(e),t)),_ce=e=>{const t=Uw(e);if(t.s<10)return Dp(t,{h:2,s:5,l:10});if(t.s<30)return Dp(t,{s:-14,l:11});if(t.h>=0&&t.h<44||t.h>=285)return Dp(t,{h:11,s:27,l:8});if(t.h>=44&&t.h<85)return Dp(t,{h:3,l:9});if(t.h>=85&&t.h<165)return Dp(t,{h:16,l:14});if(t.h>=165&&t.h<285)return Dp(t,{h:-15,s:3,l:2});throw new Error("This method should handle all colors. But it didn't for some reason.")},vO=e=>`linear-gradient(to right, ${_ce(e)}, ${Cce(e)})`,Tce=(e,t,i)=>{const s=em(t,i);return`linear-gradient(0deg, ${s}, ${s}), ${e}`},Ace=(e,t)=>{const i=Db(e),s=Db(t),r=s.a;return VC(r===1?s:r===0?i:{r:Math.round(i.r*(1-r)+s.r*r),g:Math.round(i.g*(1-r)+s.g*r),b:Math.round(i.b*(1-r)+s.b*r),a:i.a})},kce=e=>e?e==="transparent"?!0:Db(e).a<=.1:!1,yO={color:{type:String,default:""}},xi=()=>{const e=id();if(!e)throw new Error("useColors must be used in setup function or Vuestic GlobalConfigPlugin is not registered!");const{globalConfig:t}=e,i=hO({get:()=>t.value.colors.presets[t.value.colors.currentPresetName],set:C=>{s(C)}}),s=C=>{t.value.colors.presets[t.value.colors.currentPresetName]={...t.value.colors.variables,...C}},r=()=>i,n=(C,S,_)=>{if(S||(S=i.primary),C==="transparent")return"#ffffff00";if(C==="currentColor")return C;if(C!=null&&C.startsWith("on")){const A=C.slice(2);if(i[PG(A)])return n(f(n(A)),void 0,_)}C||(C=n(S));const x=i[C]||i[PG(C)];return x?_?`var(${jE(C)})`:x:yce(C)||_&&Sce(C)?C:(Ps(`'${C}' is not a proper color! Use HEX or default color themes
      names (https://vuestic.dev/en/styles/colors#default-color-themes)`),n(S))},o=C=>V({get(){return n(C)},set(S){s({[C]:S})}}),a=(C,S="va")=>Object.keys(C).filter(_=>C[_]!==void 0).reduce((_,x)=>(_[`--${S}-${kb(x)}`]=n(C[x],void 0,!0),_[`--${S}-on-${kb(x)}`]=n(f(n(C[x])),void 0,!0),_),{}),l=gce(),c=C=>typeof C!="string"?FG(C):(l.colorContrast[C]||(l.colorContrast[C]=FG(C)),l.colorContrast[C]),u=V(()=>c(n("textPrimary"))>255/2?"textInverted":"textPrimary"),h=V(()=>c(n("textPrimary"))>255/2?"textPrimary":"textInverted"),f=(C,S,_)=>{const x=`on${Zd(String(C))}`;return i[x]?i[x]:(S=S||u.value,_=_||h.value,c(C)>t.value.colors.threshold?S:_)},p=V({get:()=>t.value.colors.currentPresetName,set:C=>{v(C)}}),y=V(()=>t.value.colors.presets),v=C=>{if(t.value.colors.currentPresetName=C,!t.value.colors.presets[C])return Ps(`Preset ${C} does not exist`)};return{colors:i,currentPresetName:p,presets:y,applyPreset:v,setColors:s,getColors:r,getColor:n,getComputedColor:o,getBoxShadowColor:I5,getBoxShadowColorFromBg:xce,getHoverColor:N5,getFocusColor:V5,getGradientBackground:vO,getTextColor:f,shiftHSLAColor:Dp,setHSLAColor:Ece,colorsToCSSVariable:a,colorToRgba:em,getStateMaskGradientBackground:Tce}},B5=dt({name:"VaIcon",__name:"VaIcon",props:{...Jg,...hi,name:{type:String,default:""},tag:{type:String},component:{type:Object},color:{type:String},rotation:{type:[String,Number]},spin:{type:[String,Boolean]},flip:{type:String,default:"off",validator:e=>["off","horizontal","vertical","both"].includes(e)}},setup(e){const t=e,{getColor:i}=xi(),{sizeComputed:s}=Zg(t),{getIcon:r}=fce(),n=V(()=>r(t.name)),o=V(()=>t.component||t.tag||n.value.component||n.value.tag||"i"),a=td(),l=V(()=>({...n.value.attrs,...zu(a,["class"])})),c=v=>{if(!(v===void 0||v===!1))return v==="counter-clockwise"?"va-icon--spin-reverse":"va-icon--spin"},u=V(()=>[n.value.class,c(t.spin??n.value.spin)]),h=V(()=>{const v=t.rotation?`rotate(${t.rotation}deg)`:"",C=t.flip==="vertical"||t.flip==="both"?-1:1,S=t.flip==="horizontal"||t.flip==="both"?-1:1;return`${t.flip==="off"?"":`scale(${C}, ${S})`} ${v}`.trim()}),f=V(()=>({transform:h.value,cursor:a.onClick?"pointer":null,color:t.color?i(t.color,void 0,!0):n.value.color,fontSize:s.value,height:s.value,lineHeight:s.value})),p=V(()=>a.tabindex??-1),y=V(()=>a.role!=="button"||p.value<0);return(v,C)=>(q(),nt(io(o.value),ut({class:["va-icon",u.value],style:f.value,"aria-hidden":y.value,notranslate:""},l.value),{default:tt(()=>[Fe(v.$slots,"default",{},()=>[n.value.content?(q(),ve(kt,{key:0},[oi(Mt(n.value.content),1)],64)):Le("",!0)])]),_:3},16,["class","style","aria-hidden"]))}}),ns=zt(B5),Dce=()=>{const e=Di(),t=e==null?void 0:e.appContext.app,{globalProperties:i}=t.config;return"$vaGlobalVariable"in i||(i.$vaGlobalVariable=Nn({})),i.$vaGlobalVariable},G5=(e,t)=>{const i=Dce();return e in i||(i[e]=t),V({get:()=>i[e],set:s=>{i[e]=s}})},sd=()=>{const e=Di(),t=G5("uuidCounter",0);return e.$vaUuid=e.$vaUuid||`va-${t.value++}`,`va-${t.value}`},Rce=e=>{const i=`message-list-${sd()}`,s=V(()=>({id:i,role:"alert"})),r=V(()=>!!(typeof e.modelValue=="string"&&e.modelValue.length>0||Array.isArray(e.modelValue)&&e.modelValue.length>0)),n=V(()=>({"aria-describedby":r.value?i:void 0,"aria-invalid":e.hasError}));return{messageListAttributes:s,childAttributes:n}},Bi=e=>{const t=Di().props;return V(()=>{const s=t==null?void 0:t[e];return s===void 0?s:Number(s)})},Pce={class:"va-message-list__list"},Fce=dt({name:"VaMessageList",inheritAttrs:!1,__name:"VaMessageList",props:{modelValue:{type:[String,Array],default:""},limit:{type:[Number,String],default:1},color:{type:String},hasError:{type:Boolean,default:!1}},setup(e,{expose:t}){const i=e,{getColor:s}=xi(),{childAttributes:r,messageListAttributes:n}=Rce(i),o=Bi("limit"),a=V(()=>i.modelValue?Array.isArray(i.modelValue)?i.modelValue.slice(0,o.value):[i.modelValue]:[]),l=V(()=>i.color?{color:s(i.color)}:{});return t({messages:a}),(c,u)=>(q(),ve(kt,null,[Fe(c.$slots,"default",Ft(Wt({ariaAttributes:P(r),messages:a.value,attrs:c.$attrs}))),Fe(c.$slots,"messages",Ft(Wt({ariaAttributes:P(n),messages:a.value})),()=>[a.value.length>0?(q(),ve("div",ut({key:0,class:"va-message-list",style:l.value},P(n)),[me("ul",Pce,[(q(!0),ve(kt,null,si(a.value,(h,f)=>(q(),ve("li",{key:f,class:"va-message-list__message"},[Fe(c.$slots,"message",Ft(Wt({messages:a.value,message:h})),()=>[e.hasError?(q(),nt(P(ns),{key:0,class:"va-message-list__icon",name:"va-warning",size:16})):Le("",!0),oi(Mt(h),1)])]))),128))])],16)):Le("",!0)])],64))}}),OT=zt(Fce);function Cg(e,t,i,s){const r=Di(),n=V(()=>{const l=t[e];return r!=null&&r.vnode.props?e in r.vnode.props&&r.vnode.props[e]!==void 0:l!==void 0});if(s===void 0)return[V({set(l){i(`update:${e}`,l)},get(){return t[e]}})];const o=t[e],a=We(o===void 0?s:o);return Ot(()=>t[e],l=>{l!==void 0&&(a.value=l)}),[V({set(l){a.value=l,i(`update:${e}`,l)},get(){return n.value?t[e]:a.value}})]}const Mce=e=>typeof e=="object"&&"_setter"in e,Lce=(e,t)=>{if(!Mce(e))return;const i=e._setter;e._setter=s=>{t(s),i(s)}},Rb=e=>typeof e=="function",KE=e=>typeof e=="string",H5=Symbol("FormService"),$5=e=>{const t=Xr(H5,null);if(!t)return{forceDirty:We(!1),forceHideErrorMessages:We(!1),forceHideErrors:We(!1),forceHideLoading:We(!1),fields:V(()=>[]),registerField:()=>{},unregisterField:()=>{},immediate:V(()=>!1)};const i=sd();return Ri(()=>{t.registerField(i,e)}),Rr(()=>{t.unregisterField(i)}),t},MG=(e=[],t=null)=>(KE(e)&&(e=[e]),e.map(i=>Rb(i)?i(t):i)),sh={name:{type:String,default:void 0},rules:{type:Array,default:()=>[]},dirty:{type:Boolean,default:!1},error:{type:Boolean,default:void 0},errorMessages:{type:[Array,String],default:void 0},errorCount:{type:[String,Number],default:1},success:{type:Boolean,default:!1},messages:{type:[Array,String],default:()=>[]},immediateValidation:{type:Boolean,default:!1},modelValue:{}},If=["update:error","update:errorMessages","update:dirty"],Kx=e=>typeof e=="object"&&typeof e.then=="function",Oce=(e,t,i)=>{const s=We(t.dirty||!1);return Lce(e,()=>{s.value=!0,i("update:dirty",!0)}),Ot(e,(r,n)=>{r===n&&(s.value=!0)},{deep:!0}),Ot(()=>t.dirty,r=>{s.value!==r&&(s.value=r)}),{isDirty:s}},Ice=()=>{const e=We(!1);return{isTouched:e,onBlur:()=>{e.value=!0}}},Nce=e=>{let t=!0;return(...i)=>{if(!t)return;t=!1;const s=e(...i);return rs(()=>{t=!0}),s}},rh=(e,t,i)=>{const{reset:s,focus:r}=i,[n]=Cg("error",e,t,!1),[o]=Cg("errorMessages",e,t,[]),a=We(!1),{isTouched:l,onBlur:c}=Ice(),u=V(()=>({"aria-invalid":n.value,"aria-errormessage":typeof o.value=="string"?o.value:o.value.join(", ")})),h=()=>{o.value=[],n.value=!1,v.value=!1,l.value=!1,a.value=!1},f=F=>{let N=!1,j=[];return F.forEach(ee=>{KE(ee)?(j=[...j,ee],N=!0):ee===!1&&(N=!0)}),o.value=j,n.value=N,!N},p=async()=>{if(!e.rules||!e.rules.length)return!0;const F=MG(e.rules.flat(),i.value.value),N=F.filter(ee=>Kx(ee)),j=F.filter(ee=>!Kx(ee));return N.length?(a.value=!0,Promise.all(N).then(ee=>f([...j,...ee])).finally(()=>{a.value=!1})):f(j)},y=Nce(()=>{if(!e.rules||!e.rules.length)return!0;const F=e.rules.flat(),N=MG(F,i.value.value),j=N.filter(Q=>Kx(Q)),ee=N.filter(Q=>!Kx(Q)),K=ee.some(Q=>KE(Q)?Q:Q===!1);return j.length&&!K?(a.value=!0,Promise.all(j).then(Q=>{f([...ee,...Q]),a.value=!1}),K):f(ee)});Fa(()=>y());const{isDirty:v}=Oce(i.value,e,t),{forceHideErrors:C,forceHideLoading:S,forceHideErrorMessages:_,forceDirty:x,immediate:A}=$5({isTouched:l,isDirty:v,isValid:V(()=>!n.value),isLoading:a,errorMessages:o,validate:y,validateAsync:p,resetValidation:h,focus:r,reset:()=>{s(),h(),y()},value:V(()=>i.value||e.modelValue),name:Dn(e,"name")}),R=V(()=>e.immediateValidation||A.value);let O=!0;const k=F=>{O=!1,F(),rs(()=>{O=!0})};return Ot(i.value,()=>{if(O)return y()},{immediate:R.value}),{isDirty:v,isValid:V(()=>!n.value),isError:n,isTouched:l,isLoading:V({get:()=>C.value?!1:R.value||l.value||v.value||x.value?a.value:!1,set(F){a.value=F}}),computedError:V(()=>C.value?!1:R.value||l.value||v.value||x.value?n.value:!1),computedErrorMessages:V(()=>_.value?[]:o.value),listeners:{onBlur:c},validate:y,resetValidation:h,withoutValidation:k,validationAriaAttributes:u}},Vce={class:"va-message-list-wrapper"},IT=dt({name:"VaMessageListWrapper",__name:"VaMessageListWrapper",props:{...sh},setup(e){const t=e,i=V(()=>t.error?"danger":t.success?"success":""),s=Dn(t,"error"),r=V(()=>t.error?t.errorMessages:t.messages),n=V(()=>t.error?Number(t.errorCount):99);return(o,a)=>(q(),ve("div",Vce,[wt(P(OT),{color:i.value,limit:n.value,"has-error":s.value,"model-value":r.value,"inherit-slots":["message"]},{default:tt(l=>[Fe(o.$slots,"default",Ft(Wt(l)))]),_:3},8,["color","limit","has-error","model-value"])]))}}),Bce=e=>{const{globalConfig:t,mergeGlobalConfig:i,setGlobalConfig:s,getGlobalConfig:r}=id(),n=V(()=>{var o;const a=Gp(t.value),l={...a,colors:b5(a.colors)},c=yg(l,e.value);return(o=e.value.colors)!=null&&o.variables&&Object.keys(e.value.colors.variables).forEach(u=>{c.colors.variables[u]=e.value.colors.variables[u]}),c});return la(LT,{mergeGlobalConfig:i,setGlobalConfig:s,getGlobalConfig:r,globalConfig:n}),n},BC=(e,t)=>{if(!e)return null;if(!("type"in e)||e.type===ac||typeof e=="string")return ji("div",t,e);if(e.type===on)return e;if("$el"in e)return BC(e.$el,t);if(e.type===OL)return ji(e.ssContent,t);if(e.type===mf){if(e.children===null)return e;const i=BC(e.children[0],t);return i&&(e.children[0]=ji(i,t)),e}if(e.type===kt)return e.children===null?e:e.children.length===1?ji(kt,e.props,[BC(e.children[0],t)]):ji("div",t,e);if(typeof e.type.render=="function"){const i=ji(e,t);if(Array.isArray(i.children)&&i.children.length>1)return ji("div",t,i.children)}return ji(e,t)},LG=(e,t={},i={})=>{const s=e==null?void 0:e(t);if(!s)return null;const r=s.filter(n=>n.type!==on);return r.length===0?null:r.length===1?BC(r[0],i):ji("div",{...i,class:Et([i.class,"va-headless-wrapper"])},s)},W5=(e,t={},i={})=>{const s=e==null?void 0:e(t);return s?s.map(r=>BC(r,i)):null},Gce=dt({name:"VaCssVarsRenderer",inheritAttrs:!1,setup(e,{slots:t,attrs:i}){const{colorsToCSSVariable:s,colors:r}=xi(),n=V(()=>s(r));return()=>ji(kt,i,W5(t.default,{},{style:n.value})||void 0)}}),zw=dt({name:"VaConfig",inheritAttrs:!1,__name:"VaConfig",props:{...hi,components:{type:Object,default:()=>({})},colors:{type:Object},i18n:{type:Object}},setup(e){const t=e,i=uO(),s=V(()=>[...i.value,t.components]);y5(s),Bce(V(()=>{const n={};return t.colors&&(n.colors=t.colors),t.i18n&&(n.i18n=t.i18n),n}));const r=V(()=>!!t.colors);return(n,o)=>r.value?(q(),nt(P(Gce),Ft(ut({key:0},n.$attrs)),{default:tt(()=>[Fe(n.$slots,"default")]),_:3},16)):Fe(n.$slots,"default",{key:1})}}),Hce={class:"va-separator","aria-hidden":"true"},$ce=dt({name:"VaSeparator",__name:"VaSeparator",setup(e){return(t,i)=>(q(),ve("div",Hce))}}),Wce={class:"va-spacer","aria-hidden":"true"},Uce=dt({name:"VaSpacer",__name:"VaSpacer",setup(e){return(t,i)=>(q(),ve("div",Wce))}}),zce=e=>{if(!e)return 0;const t=e.offsetWidth-e.clientWidth,i=e.offsetHeight-e.clientHeight;return Math.max(t,i)},jce=e=>{const t=We({top:0,left:0,width:0,height:0,bottom:0,right:0});let i,s;const r=()=>{e.value&&(t.value=e.value.getBoundingClientRect())};return Ri(()=>{i=new ResizeObserver(r),s=new MutationObserver(r),e.value&&i.observe(e.value),e.value&&s.observe(e.value,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",r),window.addEventListener("scroll",r),r()}),Rr(()=>{i==null||i.disconnect(),s==null||s.disconnect(),window.removeEventListener("resize",r),window.removeEventListener("scroll",r),i=void 0,s=void 0}),t},tm=()=>typeof window>"u",CO=()=>!tm(),U5=()=>typeof window>"u"?void 0:window,Kce={},Au=()=>tm()?typeof globalThis>"u"?Kce:globalThis:window,z5=e=>{const t=V(CO),i=We(null);return Ot(t,()=>{t.value&&(i.value=e())},{immediate:!0}),i},NT=()=>z5(()=>window),Nr=e=>{if(e&&typeof e=="object"&&(e=P(e),!!e))return typeof e.$el<"u"?e.$el:e},fF=(e,...t)=>{if(!(!e||typeof e!="object")){if("addEventListener"in e&&typeof e.addEventListener=="function"){e.addEventListener(...t);return}"parentElement"in e&&fF(e.parentElement,...t)}},pF=(e,...t)=>{if(!(!e||typeof e!="object")){if("removeEventListener"in e&&typeof e.removeEventListener=="function"){e.removeEventListener(...t);return}"parentElement"in e&&pF(e.parentElement,...t)}},cr=(e,t,i)=>{const s=i&&typeof i!="boolean"?i:NT(),r=typeof i=="boolean"?i:!1;Ot(s,(n,o)=>{Array.isArray(e)?e.forEach(a=>{fF(Nr(P(n)),a,t,r),pF(Nr(P(o)),a,t,r)}):(fF(Nr(P(n)),e,t,r),pF(Nr(P(o)),e,t,r))},{immediate:!0})},OG=e=>{if(Array.isArray(e))return e.map(P);const t=P(e);return Array.isArray(t)?t:[t]},bg=(e,t)=>{let i;const s=r=>{r.forEach(n=>{const o=P(n);if(o){if(!(o instanceof Element))throw console.error("Vuestic: Trying to observe non-HTMLElement",{target:o,array:e}),new Error("Vuestic: Unable to observe non-HTMLElement");o&&(i==null||i.observe(o))}})};return Ot(e,r=>{i==null||i.disconnect(),s(OG(r))}),Ri(()=>{i=new ResizeObserver(t),s(OG(e))}),Rr(()=>i==null?void 0:i.disconnect()),i},Yce=dt({__name:"VaStickyScrollbar",props:{el:{},direction:{default:"horizontal"},offset:{default:0}},setup(e){const t=e,i=We(null),s=Bi("offset"),r=V(()=>{var u;return t.el?t.el:((u=i.value)==null?void 0:u.parentNode)??null}),n=jce(r),o=V(()=>{const u=r.value;if(!u)return{};const h=u,f=zce(h),{bottom:p,left:y,right:v,top:C}=n.value;return t.direction==="vertical"?y>window.innerWidth?{display:"none"}:v<window.innerWidth?{display:"none"}:{position:"fixed",top:`${C}px`,right:0,height:`${h.clientHeight}px`,overflowY:"auto",overflowX:"hidden"}:C>window.innerHeight?{display:"none"}:p<window.innerHeight?{display:"none"}:{position:"fixed",top:`${Math.min(p,window.innerHeight)-f-Number(s.value)}px`,width:`${h.clientWidth}px`,overflowX:"auto",overflowY:"hidden"}});cr("scroll",u=>{var h,f;i.value&&(t.direction==="horizontal"?(h=r.value)==null||h.scrollTo({left:i.value.scrollLeft}):(f=r.value)==null||f.scrollTo({top:i.value.scrollTop}))},i),cr("scroll",u=>{var h,f,p,y;if(i.value)if(t.direction==="horizontal"){if(((h=r.value)==null?void 0:h.scrollLeft)===i.value.scrollLeft)return;i.value.scrollTo({left:(f=r.value)==null?void 0:f.scrollLeft})}else{if(((p=r.value)==null?void 0:p.scrollTop)===i.value.scrollTop)return;i.value.scrollTo({top:(y=r.value)==null?void 0:y.scrollTop})}},r);const a=We(0),l=We(0);bg(V(()=>r.value?[...r.value.children]:[]),()=>{a.value=r.value.scrollWidth,l.value=r.value.scrollHeight});const c=V(()=>t.direction==="vertical"?{width:"1px",height:`${l.value}px`}:{height:"1px",width:`${a.value}px`});return(u,h)=>(q(),ve("div",{style:St(o.value),ref_key:"currentEl",ref:i},[me("div",{style:St(c.value)},null,4)],4))}}),jw=()=>{const e=We(!1);return Ri(()=>{e.value=!0}),Rr(()=>{e.value=!1}),e},Xce=["xs","sm","md","lg","xl","smUp","mdUp","lgUp","smDown","mdDown","lgDown"],qce=Xce.reduce((e,t)=>(e[t]=!1,e),{}),Qce=()=>{const e=Xr(f5,{}),t=jw(),{globalConfig:i}=id(),s=V(()=>{const n=i.value.breakpoint;return n||Ps("useBreakpoint: breakpointConfig is not defined!"),n??{}}),r=V(()=>s.value.enabled?{width:void 0,height:void 0,current:void 0,thresholds:s.value.thresholds,...qce}:{});return hO(()=>t.value?e:r.value)},gF=e=>{const t=Di();let i=()=>{};const s=bT((r,n)=>(i=n,{get(){var o;return r(),(o=t.proxy)==null?void 0:o.$refs[e]},set(o){}}));return Ri(i),qg(i),s},j5=e=>{let t;return e.startsWith("rgba")?t=e.substring(5,e.length-1).split(","):t=e.substring(4,e.length-1).split(","),t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t[3]===void 0?t[3]=1:t[3]=Number(t[3]),t},IG=e=>"#"+(e[0]|256).toString(16).slice(1)+(e[1]|256).toString(16).slice(1)+(e[2]|256).toString(16).slice(1)+(e[3]*255|256).toString(16).slice(1),Jce=e=>{const t=[];let i=e;for(;i;){if(!(i instanceof HTMLElement)||!i)return t;const{backgroundColor:s,willChange:r}=window.getComputedStyle(i),n=r.includes("background"),o=j5(s);if(o[3]===1&&!n)return t.push(i),t;(o[3]!==0||n)&&t.push(i),i=i.parentElement}return t},NG="va-background-watcher",Zce=(e,t)=>(e.className=NG+" "+e.className,e.addEventListener("transitionend",i=>{i.target===e&&t()}),()=>{e.className=e.className.replace(NG,""),e.removeEventListener("transitionend",t)}),eue=(e,t)=>{const i=e.map(s=>Zce(s,t));return()=>{i.forEach(s=>s())}},tue=(e,t)=>{const i=t[3];if(i===1)return t;if(i===0)return e;const s=Math.round(e[0]*(1-i)+t[0]*i),r=Math.round(e[1]*(1-i)+t[1]*i),n=Math.round(e[2]*(1-i)+t[2]*i);return[s,r,n,1]},VG=e=>{let t=[0,0,0,0];for(let i=e.length-1;i>=0;i--)t=tue(t,j5(window.getComputedStyle(e[i]).backgroundColor));return t},K5=e=>{const t=We("#000000");let i=()=>{};return Fa(()=>{if(i(),e.value){const s=Jce(e.value);i=eue(s,()=>{t.value=IG(VG(s))}),t.value=IG(VG(s))}}),t},Y5=e=>e.config.globalProperties,Cf=(e,t,i)=>{const s=Y5(e);s[t]=i},iue=(e,t)=>Y5(e)[t],sue=ih((e={})=>({install(t){const i=w5(e);e!=null&&e.componentsAll&&console.warn("Global config -> `componentsAll` was moved to Global config -> components.all. Please replace this to make it work. More info here: https://github.com/epicmaxco/vuestic-ui/issues/1967"),t.provide(LT,i),Cf(t,"$vaConfig",i)}})),bO=(e,t)=>{if(tm())return;let i=document.getElementById(e);i?i.innerHTML=t():(i=document.createElement("style"),i.setAttribute("type","text/css"),i.setAttribute("id",e),i.innerHTML=t(),document.head.append(i))},rue=e=>{var t;(t=document.getElementById(e))==null||t.remove()},BG=(e,t)=>`${jE(e)}: ${t};
`,KD="data-va-app",GG=e=>`va-color-variables-${e}`,nue=(e,t)=>{const{colors:i,getTextColor:s,getColor:r,currentPresetName:n}=xi(),o=(p=i)=>{if(!p)return;const y=Object.keys(p),v=y.map(S=>`${jE(S)}: ${p[S]}`).join(";"),C=y.map(S=>`${jE(`on-${S}`)}: ${r(s(p[S]))}`).join(";");return`${v};${C}`},a=(p=i,y=":root, :host")=>{const v=Object.keys(p);let C=`${y} {
`;return v.forEach(S=>{C+=BG(S,p[S])}),v.forEach(S=>{C+=BG(`on-${S}`,r(s(p[S])))}),C+=`}
`,C},l=V(()=>e._uid),c=V(()=>":root, :host"),u=p=>{if(!p||tm())return;const y=a(p,c.value);bO(GG(l.value),()=>y)};function h(){return{[KD]:l.value}}const f=e.mount;return e.mount=function(...p){const y=f.apply(this,p),v=e._container,C=v.getAttribute(KD);return C&&C!==l.value.toString()&&rue(GG(C)),v.setAttribute(KD,l.value.toString()),y},Ot(i,p=>{u(p)},{immediate:!0,deep:!0}),{colors:i,currentPresetName:n,getAppStylesRootAttribute:h,renderCSSVariables:o,updateColors:u,renderCSSVariablesStyleContent:a}},oue=ih(e=>({install(t){Cf(t,"$vaColorConfig",nue(t))}}));let aue=0;const YD=(e=4)=>Math.random().toString(36).substring(2,e+2),X5=()=>`${YD(8)}-${YD(4)}-${YD(4)}-${++aue}`;function lue(){const e=Nn({width:void 0,height:void 0}),t=()=>{e.width=window==null?void 0:window.innerWidth,e.height=window==null?void 0:window.innerHeight},i=V(CO);return Ot(i,s=>{s&&t()},{immediate:!0}),cr("resize",t,!0),{windowSizes:e}}const im=()=>z5(()=>document),cue=e=>{var t;const i=(t=iue(e,"$vaConfig"))==null?void 0:t.globalConfig;if(!i)return Ps("createBreakpointConfigPlugin: globalConfig is not defined!"),{};const s=V(()=>{const f=i.value.breakpoint;return f||Ps("createBreakpointConfigPlugin: breakpointConfig is not defined!"),f??{}});if(!s.value.enabled)return{};if(!s.value.thresholds||!Object.values(s.value.thresholds).length)return Ps("createBreakpointConfigPlugin: there are no defined thresholds!"),{};const{windowSizes:r}=lue(),n=V(CO),o=V(()=>{if(!(!n.value||!r.width))return Object.entries(s.value.thresholds).reduce((f,[p,y])=>(r.width>=y&&(f=p),f),"xs")}),a=V(()=>Object.keys(s.value.thresholds).reduce((f,p)=>(f[p]=`va-screen-${p}`,f),{})),l=()=>{let f="";return Object.values(s.value.thresholds).forEach((p,y)=>{f+=`@media screen and (min-width: ${p}px) {`,f+=`:root { --va-media-ratio: ${(y+1)*.2} }`,f+=`}
`}),f},c=V(X5);bO(`va-helpers-media-${c.value}`,l);const u=im();Ot(o,f=>{!f||!s.value.bodyClass||!u.value||(u.value.body.classList.forEach(p=>{Object.values(a.value).includes(p)&&u.value.body.classList.remove(p)}),u.value.body.classList.add(a.value[f]))},{immediate:!0});const h=V(()=>{const f=o.value==="xs",p=o.value==="sm",y=o.value==="md",v=o.value==="lg",C=o.value==="xl";return{xs:f,sm:p,md:y,lg:v,xl:C,smUp:p||y||v||C,mdUp:y||v||C,lgUp:v||C,smDown:f||p,mdDown:f||p||y,lgDown:f||p||y||v}});return hO(()=>({width:r.width,height:r.height,current:o.value,thresholds:s.value.thresholds,...h.value}))},uue=ih(()=>({install(e){const t=cue(e);e.provide(f5,t),Cf(e,"$vaBreakpoint",t)}})),due=5,vp=We([]),hue=e=>{var t;return((t=e.component)==null?void 0:t.props)||{}},fue=e=>e.el?e.el.offsetHeight+due:0,pue=e=>{const t=Di(),i=V(()=>{const s=vp.value.findIndex(r=>r===t.vnode);return s===-1?0:vp.value.slice(s+1).reduce((r,n)=>{const{position:o}=hue(n),{position:a}=e;return a===o?fue(n)+r:r},0)});return Ri(()=>{vp.value.unshift(t.vnode)}),Rr(()=>{vp.value=vp.value.filter(s=>s!==t.vnode)}),{yOffset:i,updateYOffset:()=>{vp.value=vp.value.filter(s=>s!==t.vnode)}}},gue=()=>{let e;return{start:(...s)=>(e=window.setTimeout(...s),e),clear:()=>e&&window.clearTimeout(e)}},mue=e=>e.startsWith("$t:"),mi=e=>({type:String,default:e}),HG=(e,t)=>(t&&Object.keys(t).forEach(i=>{e=e.replace(`{${i}}`,String(t[i]))}),e),Hs=()=>{const{globalConfig:e}=id(),t=V(()=>e.value.i18n);function i(r,n){var o;const a=(o=Di())==null?void 0:o.appContext.config.globalProperties.$t;if(typeof a=="function"){const c=a(`vuestic.${r}`,n);if(c)return c}const l=t.value[r];return l?HG(l,n)||r:(Ps(`${r} not found in VuesticUI i18n config`),r)}function s(r,n){return r?mue(r)?i(r.slice(3),n):HG(r,n)||r:""}return{tp:s,t:i}},yn=(e,t=!1)=>{const{props:i}=Di(),{getColor:s,getTextColor:r}=xi();return{textColorComputed:V(()=>{if(i.textColor)return s(i.textColor);const o=e?P(e):i.color;if(!o)return"currentColor";const a=s(o);return kce(a)?"currentColor":P(t)?a:s(r(a))})}},vue=["role","aria-live"],yue={class:"va-toast__group"},Cue=["textContent"],bue={class:"va-toast__content"},wue=["innerHTML"],Sue=["textContent"],xue={key:1,class:"va-toast__content"},Eue=dt({name:"VaToast",__name:"VaToast",props:{...hi,title:{type:String,default:""},offsetY:{type:[Number,String],default:16},offsetX:{type:[Number,String],default:16},message:{type:[String,Function],default:""},dangerouslyUseHtmlString:{type:Boolean,default:!1},icon:{type:String,default:"close"},customClass:{type:String,default:""},duration:{type:[Number,String],default:5e3},color:{type:String,default:"primary"},closeable:{type:Boolean,default:!0},onClose:{type:Function},onClick:{type:Function},multiLine:{type:Boolean,default:!1},position:{type:String,default:"top-right",validator:e=>["top-right","top-center","top-left","bottom-right","bottom-center","bottom-left"].includes(e)},render:{type:Function},ariaCloseLabel:mi("$t:close"),role:{type:String,default:void 0},inline:{type:Boolean,default:!1}},emits:["on-click","on-close"],setup(e,{emit:t}){const i=dt({name:"VaToastRenderer",props:{render:{type:Function,required:!0}},setup:K=>()=>K.render()}),{tp:s}=Hs(),r=e,n=t,o=vi(),{getColor:a}=xi(),{textColorComputed:l}=yn(V(()=>a(r.color))),c=Bi("offsetY"),u=Bi("offsetX"),h=Bi("duration"),f=We(!1),{yOffset:p,updateYOffset:y}=pue(r),v=V(()=>({vertical:r.position.includes("top")?"top":"bottom",horizontal:r.position.includes("center")?"center":r.position.includes("right")?"right":"left"})),C=()=>{const K=v.value.vertical,Q=v.value.horizontal;return Q==="center"?{[K]:`${c.value+p.value}px`,left:"50%","--va-toast-x-shift":"-50%"}:{[K]:`${c.value+p.value}px`,[Q]:`${u.value}px`}},S=V(()=>[r.customClass,r.multiLine?"va-toast--multiline":"",r.inline?"va-toast--inline":"",[`va-toast--${r.position}`]]),_=V(()=>({...C(),backgroundColor:a(r.color),color:l.value})),x=V(()=>r.role==="status"?"polite":"assertive"),A=V(()=>typeof r.message=="function"?r.message():r.message),R=()=>{var K,Q;(K=o.value)==null||K.removeEventListener("transitionend",R),(Q=o.value)==null||Q.remove()},O=()=>{typeof r.onClick=="function"?r.onClick():n("on-click")},k=()=>{f.value=!1,y()},F=()=>{typeof r.onClose=="function"?r.onClose():n("on-close"),R()},N=gue(),j=N.clear,ee=()=>{h.value>0&&N.start(()=>f.value&&k(),h.value)};return Ri(()=>{f.value=!0,ee()}),(K,Q)=>(q(),nt(yc,{name:"va-toast-fade",onAfterLeave:F},{default:tt(()=>[Ss(me("div",{ref_key:"rootElement",ref:o,role:K.$props.role??K.$props.closeable?"alertdialog":"alert","aria-live":x.value,"aria-atomic":"true",class:Et(["va-toast",S.value]),style:St(_.value),onMouseenter:Q[0]||(Q[0]=(...be)=>P(j)&&P(j)(...be)),onMouseleave:ee,onClick:O},[me("div",yue,[K.$props.title?(q(),ve("h2",{key:0,class:"va-toast__title",textContent:Mt(K.$props.title)},null,8,Cue)):Le("",!0),Ss(me("div",bue,[K.$props.dangerouslyUseHtmlString?(q(),ve("div",{key:0,innerHTML:A.value},null,8,wue)):(q(),ve("p",{key:1,textContent:Mt(A.value)},null,8,Sue))],512),[[or,K.$props.message]]),K.$props.render?(q(),ve("div",xue,[wt(P(i),{render:K.$props.render},null,8,["render"])])):Le("",!0),K.$props.closeable?(q(),nt(B5,{key:2,class:"va-toast__close-icon",role:"button","aria-label":P(s)(K.$props.ariaCloseLabel),tabindex:"0",size:"1rem",name:K.$props.icon,onClick:Dt(k,["stop"]),onKeydown:xt(Dt(k,["stop"]),["enter"])},null,8,["aria-label","name","onKeydown"])):Le("",!0)])],46,vue),[[or,f.value]])]),_:1}))}}),q5=th(Eue);let Pb=1;Au().vaToastInstances=[];const wO=e=>{var t;return((t=e.component)==null?void 0:t.props)||{}},_ue=(e,t)=>{if(!e)return;if(!Au().vaToastInstances.length){Pb=1;return}Au().vaToastInstances.findIndex(s=>s===e)<0||(t(),Au().vaToastInstances=Au().vaToastInstances.reduce((s,r,n)=>r===e?s:[...s,r],[]),Au().vaToastInstances.length||(Pb=1))},Tue=(e,t)=>{e&&(Uu(null,e),e.remove()),e=null},Aue=(e,{props:t,children:i,element:s,appContext:r}={})=>{let n=s,o;return o=wt(e,{...t,onClose:()=>{_ue(o,()=>Tue(n)),t!=null&&t.onClose&&t.onClose()}},i),r&&(o.appContext=r),n?Uu(o,n):typeof document<"u"&&Uu(o,n=document.createElement("div")),{vNode:o,el:n}},Q5=e=>{if(!Au().vaToastInstances.length){Pb=1;return}Au().vaToastInstances.forEach(t=>{e&&t.appContext!==e||wO(t).onClose()})},mF=e=>{const t=Au().vaToastInstances.find(i=>{var s;return((s=i.el)==null?void 0:s.id)===e});t&&wO(t).onClose()},kue=e=>typeof e=="string"?{message:e}:e,J5=(e,t)=>{const{vNode:i,el:s}=Aue(q5,{appContext:t,props:kue(e)}),r=wO(i);return s&&i.el&&r?(document.body.appendChild(s.childNodes[0]),i.el.id="notification_"+Pb,Pb+=1,Au().vaToastInstances.push(i),i.el.id):null},Due=e=>({init(t){return J5(t,e==null?void 0:e._context)},close(t){mF(t)},closeAll(t=!1){Q5(t||e==null?void 0:e._context)}}),Rue=ih(()=>({install(e){Cf(e,"$vaToast",Due(e))}})),$G={closeDropdown(){let e=this;for(;e=e.$parent;)if(e.$options.name==="VaDropdown"){e.hide();break}}},Pue=ih(()=>({install(e){Cf(e,"$closeDropdown",$G.closeDropdown),Cf(e,"$vaDropdown",$G)}})),Fue=(e,t,i)=>{const s=Di();if(!s)throw new Error("`useButtonBackground` hook must be used only inside of setup function!");const r=s.props,{getColor:n,getGradientBackground:o}=xi(),a=V(()=>r.plain?"transparent":r.gradient?o(e.value):e.value),l=V(()=>!r.plain&&i.value),c=V(()=>!r.plain&&t.value),u=V(()=>c.value&&r.pressedBehavior==="opacity"?r.pressedOpacity:l.value&&r.hoverBehavior==="opacity"?Number(r.hoverOpacity):Number(r.backgroundOpacity)),h=V(()=>l.value&&r.hoverBehavior==="mask"),f=V(()=>c.value&&r.pressedBehavior==="mask"),p=V(()=>f.value?r.pressedOpacity:h.value?Number(r.hoverOpacity):0),y=V(()=>f.value?n(r.pressedMaskColor):h.value?n(r.hoverMaskColor):"transparent");return{backgroundColor:a,backgroundColorOpacity:u,backgroundMaskOpacity:p,backgroundMaskColor:y}},sm={tag:{type:String,default:"span"},to:{type:[String,Object],default:void 0},replace:{type:Boolean,default:void 0},append:{type:Boolean,default:void 0},exact:{type:Boolean,default:void 0},activeClass:{type:String,default:void 0},exactActiveClass:{type:String,default:void 0},href:{type:String,default:void 0},target:{type:String,default:void 0},disabled:{type:Boolean,default:!1}},Nf=e=>{const t=Di(),i=V(()=>t==null?void 0:t.appContext.config.globalProperties),s=V(()=>{var h;return(h=i.value)==null?void 0:h.$router}),r=V(()=>{var h;return(h=i.value)==null?void 0:h.$route}),{getGlobalConfig:n}=id(),o=V(()=>{if(e.disabled)return e.tag;if(e.href&&!e.to)return"a";const h=n();return h.routerComponent&&e.to?h.routerComponent:e.to&&s.value!==void 0?"router-link":e.to&&s.value===void 0?"a":e.tag||"div"}),a=V(()=>e.disabled?!1:!!(e.href||e.to)),l=V(()=>a.value?o.value==="a"?{target:e.target,href:u.value}:{target:e.target,to:e.to,replace:e.replace,append:e.append,activeClass:e.activeClass,exact:e.exact,exactActiveClass:e.exactActiveClass}:{}),c=V(()=>{if(!s.value||!e.to)return!1;const h=s.value.resolve(e.to).href,f=s.value.currentRoute.value.path;return h.replace("#","")===f.replace("#","")}),u=V(()=>{var h;return e.href?e.href:r.value===void 0&&e.to?e.to:e.to?(h=s.value)==null?void 0:h.resolve(e.to,r.value).href:void 0});return{isLinkTag:a,tagComputed:o,hrefComputed:u,isActiveRouterLink:c,linkAttributesComputed:l}},Mue=e=>{const{linkAttributesComputed:t,isLinkTag:i}=Nf(e),s=V(()=>i.value?void 0:e.type),r=V(()=>{const n={"aria-disabled":!!e.disabled,disabled:!!e.disabled};return i.value?n:{type:s.value,tabindex:e.loading||e.disabled?-1:0,...n}});return V(()=>({...t.value,...r.value}))},Lue=e=>{var t,i,s;if(tm())return e;if(e>0){const r=(t=window==null?void 0:window.navigator)==null?void 0:t.userAgent,n=r&&/^((?!chrome|android).)*safari/i.test((i=window==null?void 0:window.navigator)==null?void 0:i.userAgent),o=r&&/(version.)15|16/i.test((s=window==null?void 0:window.navigator)==null?void 0:s.userAgent);if(n&&!o)return e<1?1-e:e}return e},Oue=(e,t,i,s)=>{const r=Di();if(!r)throw new Error("`useButtonTextColor` hook must be used only inside of setup function!");const n=r.props,{getColor:o,colorToRgba:a,getStateMaskGradientBackground:l}=xi(),c=V(()=>({background:"transparent",color:e.value,"-webkit-background-clip":"text","background-clip":"text",opacity:p.value})),u=(y,v,C)=>{const S=o(y);let _;return C==="opacity"?_={color:a(e.value,v)}:_={background:l(t.value,S,v),color:v<1?a(e.value,Lue(v)):S},{...c.value,..._}},h=V(()=>u(n.hoverMaskColor,Number(n.hoverOpacity),n.hoverBehavior)),f=V(()=>u(n.pressedMaskColor,n.pressedOpacity,n.pressedBehavior)),p=V(()=>{if(!n.disabled)return n.textOpacity===1||s.value&&!i.value?1:i.value?.9:n.textOpacity});return V(()=>{const y={color:e.value,background:"transparent"};return n.plain&&Object.assign(y,c.value,{background:e.value}),n.plain?i.value?f.value:s.value?h.value:y:y})},wg=(e,t,i)=>Math.min(Math.max(e,t),i),Iue={class:"va-progress-circle__wrapper",viewBox:"0 0 40 40"},Nue=["r","stroke","stroke-width","stroke-dasharray","stroke-dashoffset"],Vue=dt({name:"VaProgressCircle",__name:"VaProgressCircle",props:{...Jg,...hi,modelValue:{type:[Number,String],default:0},indeterminate:{type:Boolean,default:!1},thickness:{type:[Number,String],default:.06},color:{type:String,default:"primary"},ariaLabel:mi("$t:progressState")},setup(e){const t=e,{getColor:i}=xi(),{sizeComputed:s}=Zg(t),r=V(()=>wg(Number(t.thickness),0,1)/2*100),n=V(()=>20-20*r.value/100),o=V(()=>2*Math.PI*n.value),a=V(()=>o.value*(1-wg(Number(t.modelValue),0,100)/100)),l=V(()=>i(t.color,void 0,!0)),{tp:c}=Hs(),u=V(()=>({color:l.value})),h=V(()=>({width:s.value,height:s.value})),f=V(()=>({"va-progress-circle--indeterminate":t.indeterminate})),p=V(()=>({role:"progressbar","aria-label":c(t.ariaLabel),"aria-valuenow":t.indeterminate?void 0:t.modelValue}));return(y,v)=>(q(),ve("div",ut({class:["va-progress-circle",f.value],style:h.value},p.value),[(q(),ve("svg",Iue,[me("circle",{class:"va-progress-circle__overlay",cx:"50%",cy:"50%",r:n.value,fill:"none",stroke:l.value,"stroke-width":r.value+"%","stroke-dasharray":o.value,"stroke-dashoffset":a.value},null,8,Nue)])),y.$slots.default?(q(),ve("div",{key:0,style:St(u.value),class:"va-progress-circle__info"},[Fe(y.$slots,"default")],4)):Le("",!0)],16))}}),G0=zt(Vue),xr=(e,t)=>Object.keys(e).filter(i=>t.includes(i)).reduce((i,s)=>(i[s]=e[s],i),{}),Bue={hoverBehavior:{type:String,default:"mask",validator:e=>["opacity","mask"].includes(e)},hoverOpacity:{type:[Number,String],default:.15},hoverMaskColor:{type:String,default:"textInverted"}},Gue={pressedBehavior:{type:String,default:"mask",validator:e=>["opacity","mask"].includes(e)},pressedOpacity:{type:Number,default:.13},pressedMaskColor:{type:String,default:"textPrimary"}},Kw={loading:{type:Boolean,default:!1}},Z5=e=>e instanceof HTMLElement,Ou=e=>{!e||!Z5(e)||(e.focus(),e.dispatchEvent(new FocusEvent("focus",{bubbles:!0})))},VT=e=>{!e||!Z5(e)||(e.blur(),e.dispatchEvent(new Event("blur",{bubbles:!0})))},vF=e=>{if(e.tabIndex!==-1){Ou(e);return}const t=e.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t&&Ou(t)},yF=(e,t,i={})=>{Ri(()=>window.addEventListener(e,t,{capture:!0,...i})),Rr(()=>window.removeEventListener(e,t,{capture:!0,...i}))},e7=()=>{const e=vi(),t=()=>{e.value=document.activeElement};return Ri(t),yF("focus",t),yF("blur",t),e},BT=["focus","blur"];function nh(e,t){const i=e7(),s=V({get:()=>tl(i.value)||tl(e==null?void 0:e.value)?!1:i.value===(e==null?void 0:e.value),set:l=>{l?o():a()}}),r=l=>{t==null||t("focus",l)},n=l=>{t==null||t("blur",l)},o=()=>{e!=null&&e.value&&Ou(Nr(e==null?void 0:e.value))},a=()=>{e!=null&&e.value&&VT(Nr(e==null?void 0:e.value))};return cr("focus",r,e),cr("blur",n,e),{isFocused:s,onFocus:r,onBlur:n,focus:o,blur:a}}const H0=e=>{if(cs(e))return V({get(){return Nr(e.value)},set(i){e.value=i}});if(e){const i=gF(e);return V({get(){return Nr(i.value)},set(s){i.value=s}})}const t=vi();return V({set(i){t.value=Nr(i)},get(){return t.value}})};function Yw(e,t){const i=We(!1),s=()=>{t!=null&&t.value||(i.value=!0)},r=()=>{i.value=!1};t&&Ot(t,o=>{o&&(i.value=!1)});const n=H0(e);return cr("mouseenter",s,n),cr("mouseleave",r,n),{isHovered:i,onMouseEnter:s,onMouseLeave:r}}function Hue(e){const t=We(!1),i=()=>{t.value=!0},s=()=>{t.value=!1},r=H0(e);return cr(["mousedown","touchstart","dragstart"],i,r),cr(["mouseup","mouseleave","touchend","touchcancel","drop","dragend"],s,!0),{isPressed:t,onMouseDown:i,onMouseUp:s}}const t7=(e,t=!0)=>{var i;if(fc(e))return!0;if(!e||t&&(!Rb(e)||!((i=e())!=null&&i.length)))return!1;const s=t?e():e;return Array.isArray(s)?s.some(r=>Array.isArray(r.children)?t7(r.children,!1):r.children||r.props):!!s.children},$ue=(e="default")=>{const{slots:t}=Di();return V(()=>t7(t[e]))},Is=(e,t)=>{B0&&!e&&console.warn('You must pass the @param "prefix" to the useBem hook!');const i=V(()=>typeof t=="function"?t():P(t)),s=V(()=>Object.entries(P(i)).reduce((o,[a,l])=>(l&&(o[`${e}--${kb(a)}`]=!0),o),{})),r=V(()=>Object.keys(s.value)),n=V(()=>r.value.join(" "));return new Proxy({},{ownKeys(){return Reflect.ownKeys(s.value)},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(s.value,a)},get(o,a,l){switch(a){case"asArray":return r;case"asString":return n;case"asObject":return s;default:return Reflect.get(s.value,a,l)}}})},Wue=dt({name:"VaButton",__name:"VaButton",props:{...hi,...Jg,...Bue,...Gue,...Kw,...sm,tag:{type:String,default:"button"},type:{type:String,default:"button"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},textColor:{type:String,default:""},textOpacity:{type:[Number,String],default:1},backgroundOpacity:{type:[Number,String],default:1},borderColor:{type:String,default:""},gradient:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},icon:{type:String,default:""},iconRight:{type:String,default:""},iconColor:{type:String,default:""}},setup(e,{expose:t}){const i=e,{getColor:s}=xi(),r=V(()=>s(i.color)),{sizeComputed:n}=Zg(i),o=V(()=>{const ne=/([0-9]*)(px)/.exec(n.value);return ne?`${+ne[1]/2}${ne[2]}`:n.value}),{tagComputed:a}=Nf(i),l=Mue(i),{disabled:c}=Il(i),u=vi(),{focus:h,blur:f}=nh(u),{isHovered:p}=Yw(u,c),{isPressed:y}=Hue(u),v=V(()=>i.iconColor?s(i.iconColor):N.value),C=V(()=>({color:v.value,size:i.size})),S=V(()=>({"va-button__content--loading":i.loading})),_=$ue(),x=V(()=>!!(i.iconRight&&!i.icon||!i.iconRight&&i.icon)),A=V(()=>!_.value&&x.value),R=Bi("textOpacity"),O=Bi("backgroundOpacity"),k=Is("va-button",()=>({...xr(i,["disabled","block","loading","round","plain"]),small:i.size==="small",normal:!i.size||i.size==="medium",large:i.size==="large",opacity:R.value<1,bordered:!!i.borderColor,iconOnly:A.value,leftIcon:!A.value&&!!i.icon&&!i.iconRight,rightIcon:!A.value&&!i.icon&&!!i.iconRight})),F=V(()=>i.plain||O.value<.5),{textColorComputed:N}=yn(r,F),{backgroundColor:j,backgroundColorOpacity:ee,backgroundMaskOpacity:K,backgroundMaskColor:Q}=Fue(r,y,p),be=Oue(N,r,y,p),te=V(()=>({borderColor:i.borderColor?s(i.borderColor):"transparent",...be.value}));return t({focus:h,blur:f}),(ne,H)=>(q(),nt(io(P(a)),ut({ref_key:"button",ref:u,class:["va-button",P(k)],style:[te.value,`--va-background-color: ${String(P(j))};--va-background-color-opacity: ${String(P(ee))};--va-background-mask-color: ${String(P(Q))};--va-background-mask-opacity: ${String(P(K))}`]},P(l)),{default:tt(()=>[me("span",{class:Et(["va-button__content",S.value])},[Fe(ne.$slots,"prepend",Ft(Wt({icon:e.icon,iconAttributes:C.value})),()=>[e.icon?(q(),nt(P(ns),ut({key:0,class:"va-button__left-icon",name:e.icon},C.value),null,16,["name"])):Le("",!0)]),Fe(ne.$slots,"default"),Fe(ne.$slots,"append",Ft(Wt({icon:e.iconRight,iconAttributes:C.value})),()=>[e.iconRight?(q(),nt(P(ns),ut({key:0,class:"va-button__right-icon",name:e.iconRight},C.value),null,16,["name"])):Le("",!0)])],2),ne.loading?Fe(ne.$slots,"loading",Ft(ut({key:0},{size:o.value,color:P(N)})),()=>[wt(P(G0),{class:"va-button__loader",size:o.value,color:P(N),thickness:.15,indeterminate:""},null,8,["size","color"])]):Le("",!0)]),_:3},16,["class","style"]))}}),ps=zt(Wue),i7=()=>{const e=Di();return e.appContext.app?`${e.appContext.app._uid}_${e.uid}`:String(e.uid)},jy=[],Uue=(e,t)=>{const i=i7(),s=im(),r=()=>{var o;jy.includes(i)||(jy.push(i),(o=s.value)==null||o.body.classList.add("va-modal-overlay-background--blurred"))},n=()=>{var o;const a=jy.indexOf(i);a!==-1&&(jy.splice(a,1),jy.length===0&&((o=s.value)==null||o.body.classList.remove("va-modal-overlay-background--blurred")))};Fa(()=>{e.value&&(t.value?r():n())}),Rr(n)},zue=()=>X5(),ev=N0([]),s7=e=>{const t=zue(),i=()=>{ev.includes(t)||ev.push(t)},s=()=>{const a=ev.findIndex(l=>l===t);a!==-1&&ev.splice(a,1)},r=V(()=>{const a=ev.findIndex(l=>l===t);return a===-1?-1:a+1}),n=V(()=>r.value===ev.length-1),o=V(()=>r.value===0);return Ri(()=>{e.value&&i()}),Rr(()=>{s()}),Ot(e,a=>{a?i():s()}),{zIndex:r,isTop:n,isLowest:o,register:i,unregister:s}},YE=Symbol("NOT_PROVIDED"),jue=(e,t)=>{const i=Di();return V(()=>{if(!(i!=null&&i.vnode.props))return YE;const s=t[e];return e in i.vnode.props?s:YE})},dn={stateful:{type:Boolean,default:!1},modelValue:{type:void 0}},r7=(e=!1)=>({stateful:{type:Boolean,default:e}}),Ao=["update:modelValue"],mr=(e,t,i="modelValue",s={})=>{const{eventName:r,defaultValue:n}=s,o=r||`update:${i.toString()}`,a=jue(i,e),l="defaultValue"in s,c=We(a.value===YE?l?n:e[i]:a.value);let u;const h=()=>{u=Ot(()=>e[i],p=>{c.value=p})};Ot(()=>e.stateful,p=>{p?h():u==null||u()},{immediate:!0});const f=V({get:()=>e.stateful?c.value:e[i],set:p=>{e.stateful&&(c.value=p),t(o,p)}});return Object.defineProperty(f,"stateful",{get:()=>e.stateful}),Object.defineProperty(f,"userProvided",{get:()=>a.value!==YE}),{valueComputed:f}},Kue=":where(a, button, input, textarea, select):not([disabled]), *[tabindex]",n7=()=>{const e=im(),t=NT(),i=G5("trapInEl",null);let s=[],r=null,n=null;const o=p=>{var y;return((y=i.value)==null?void 0:y.contains(p.target))||!1},a=()=>{r==null||r.focus()},l=()=>{n==null||n.focus()},c=p=>{var y,v;const C=p.code==="Tab",S=p.shiftKey;if(C){if(!o(p)){p.preventDefault(),S?l():a();return}if(((y=e.value)==null?void 0:y.activeElement)===n&&!S){p.preventDefault(),a();return}((v=e.value)==null?void 0:v.activeElement)===r&&S&&(p.preventDefault(),l())}},u=p=>{i.value=p,f(),h()},h=()=>{var p;i.value&&(s=Array.from(i.value.querySelectorAll(Kue)),r=s[0],n=s[s.length-1],(p=t.value)==null||p.addEventListener("keydown",c))},f=()=>{var p;s=[],r=null,n=null,(p=t.value)==null||p.removeEventListener("keydown",c)};return{trapFocus:h,freeFocus:f,trapFocusIn:u}},Ky=N0([]),Yue=()=>{const e=sd(),t=V(()=>Ky.findIndex(({id:a})=>a===String(e))),i=()=>{t.value===-1&&Ky.push({id:String(e)})},s=()=>{t.value!==-1&&Ky.splice(t.value,1)},r=V(()=>t.value!==-1&&t.value===Ky.length-1),n=V(()=>t.value===0),o=V(()=>Ky.length>1);return{modalId:e,modalLevel:t,registerModal:i,unregisterModal:s,isTopLevelModal:r,isLowestLevelModal:n,isMoreThenOneModalOpen:o}},o7="data-va-teleported-from",a7="data-va-teleported",SO=e=>{if(!e)return null;const t=e.getAttribute(a7);return t===null?SO(e.parentElement):document.querySelector(`[${o7}="${t}"]`)},l7=()=>{var e,t;const i=i7(),s=Di(),r=s==null?void 0:s.vnode.scopeId;return{teleportFromAttrs:{[o7]:i},teleportedAttrs:{[a7]:i,...r?{[r]:""}:void 0,...(t=(e=s==null?void 0:s.appContext.config)==null?void 0:e.globalProperties)==null?void 0:t.$vaColorConfig.getAppStylesRootAttribute()},findTeleportedFrom:SO}},XD=(e,t)=>t?t.parentElement===e?!0:e.contains(t):!1,Xue=e=>Array.isArray(e)?e:[e],GT=(e,t)=>{yF("mousedown",i=>{const s=i.target;if(i.target.shadowRoot)return;const r=SO(s);Xue(e).some(o=>{const a=Nr(P(o));return a?r?XD(a,s)||XD(a,r):XD(a,s):!1})||t(s)})},que=["aria-labelledby"],Que={key:2,class:"va-modal__inner"},Jue={class:"va-modal__header"},Zue={key:0,class:"va-modal__message"},ede={key:1,class:"va-modal__message"},tde={key:2,class:"va-modal__footer"},ide={key:3,class:"va-modal__footer"},sde=dt({name:"ModalElement",inheritAttrs:!1,props:{...hi,isTransition:{type:Boolean,default:!0}},setup:(e,{slots:t,attrs:i})=>()=>{var s;return e.isTransition?ji(yc,{...i},t):(s=t.default)==null?void 0:s.call(t,i)}}),rde=dt({name:"VaModal",inheritAttrs:!1,__name:"VaModal",props:{...g5({cancelButton:ps,okButton:ps,closeButton:ns}),...dn,modelValue:{type:Boolean,default:!1},attachElement:{type:String,default:"body"},allowBodyScroll:{type:Boolean,default:!1},disableAttachment:{type:Boolean,default:!1},title:{type:String,default:""},message:{type:String,default:""},okText:mi("$t:ok"),cancelText:mi("$t:cancel"),hideDefaultActions:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},closeButton:{type:Boolean,default:!1},mobileFullscreen:{type:Boolean,default:!0},noDismiss:{type:Boolean,default:!1},noOutsideDismiss:{type:Boolean,default:!1},noEscDismiss:{type:Boolean,default:!1},maxWidth:{type:String,default:""},maxHeight:{type:String,default:""},anchorClass:{type:String},size:{type:String,default:"medium"},sizesConfig:{type:Object,default:()=>({defaultSize:"medium",sizes:{small:576,medium:768,large:992,auto:"max-content"}})},fixedLayout:{type:Boolean,default:!1},withoutTransitions:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},overlayOpacity:{type:[Number,String],default:.6},showNestedOverlay:{type:Boolean,default:!1},blur:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:void 0},backgroundColor:{type:String,default:"background-secondary"},noPadding:{type:Boolean,default:!1},beforeClose:{type:Function},beforeOk:{type:Function},beforeCancel:{type:Function},ariaCloseLabel:mi("$t:close")},emits:[...Ao,"cancel","ok","before-open","open","before-close","close","click-outside"],setup(e,{expose:t,emit:i}){const s=e;m5(s);const r=i,n=vi(),o=vi(),{trapFocusIn:a,freeFocus:l}=n7(),{registerModal:c,unregisterModal:u,isTopLevelModal:h,isLowestLevelModal:f}=Yue(),{getColor:p}=xi(),{textColorComputed:y}=yn(Dn(s,"backgroundColor")),{valueComputed:v}=mr(s,r),C=V(()=>({"va-modal--fullscreen":s.fullscreen,"va-modal--mobile-fullscreen":s.mobileFullscreen,"va-modal--fixed-layout":s.fixedLayout,"va-modal--no-padding":s.noPadding})),{zIndex:S}=s7(v),_=V(()=>s.zIndex?Number(s.zIndex):S.value),x=Zle(s),A=V(()=>({maxWidth:s.maxWidth||x.value,maxHeight:s.maxHeight,color:y.value,background:p(s.backgroundColor)})),R=V(()=>({"va-modal__overlay--lowest":f.value,"va-modal__overlay--top":h.value})),O=()=>s.showNestedOverlay&&!f.value?"var(--va-modal-overlay-nested-opacity)":"var(--va-modal-overlay-opacity)",k=V(()=>{if(s.overlay)return h.value||s.showNestedOverlay?{"background-color":"var(--va-modal-overlay-color)",opacity:O()}:""}),F=()=>{v.value=!0},N=ke=>{const Oe=()=>{v.value=!1,ke==null||ke()};s.beforeClose?s.beforeClose(Oe):Oe()},j=()=>{v.value=!v.value},ee=()=>{const ke=()=>{N(()=>r("cancel"))};s.beforeCancel?s.beforeCancel(ke):ke()},K=()=>{const ke=()=>{N(()=>r("ok"))};s.beforeOk?s.beforeOk(ke):ke()},Q=()=>{rs(()=>{o.value&&a(o.value)})},be=ke=>r("before-open",ke),te=ke=>r("open",ke),ne=ke=>r("before-close",ke),H=ke=>r("close",ke),ie=ke=>{setTimeout(()=>{ke.code==="Escape"&&!s.noEscDismiss&&!s.noDismiss&&h.value&&ee()})};GT([o],()=>{!v.value||s.noOutsideDismiss||s.noDismiss||!h.value||(r("click-outside"),ee())});const ue=NT();Fa(()=>{var ke,Oe;v.value?(ke=ue.value)==null||ke.addEventListener("keyup",ie):(Oe=ue.value)==null||Oe.removeEventListener("keyup",ie)}),Uue(Dn(s,"blur"),v);const Te=im(),Ie=ke=>{!Te.value||s.allowBodyScroll||(ke==="hidden"?Te.value.body.classList.add("va-modal-open"):Te.value.body.classList.remove("va-modal-open"))},he=()=>{c(),Ie("hidden")},Ee=()=>{f.value&&(l(),Ie("")),u()};Ot(v,ke=>{ke?he():Ee()}),Ri(()=>{v.value&&he(),h.value&&Q()}),Rr(()=>{Ee()}),Ot(h,ke=>{ke&&Q()},{immediate:!0}),t({show:F,hide:N,toggle:j,cancel:ee,ok:K,onBeforeEnterTransition:be,onAfterEnterTransition:te,onBeforeLeaveTransition:ne,onAfterLeaveTransition:H,listenKeyUp:ie});const{tp:Y}=Hs(),{teleportFromAttrs:Z,teleportedAttrs:Se}=l7(),ye={show:F,hide:N,toggle:j,cancel:ee,ok:K};return(ke,Oe)=>(q(),ve("div",{ref_key:"rootElement",ref:n,class:Et(["va-modal-entry",ke.$props.anchorClass])},[ke.$slots.anchor?(q(),ve("div",ut({key:0,class:"va-modal__anchor"},P(Z)),[Fe(ke.$slots,"anchor",Ft(Wt(ye)))],16)):Le("",!0),(q(),nt(mf,{to:e.attachElement,disabled:ke.$props.disableAttachment},[wt(P(sde),ut({name:"va-modal",isTransition:!ke.$props.withoutTransitions,duration:300,style:{zIndex:_.value},appear:""},{...ke.$attrs,...P(Se)},{onBeforeEnter:be,onAfterEnter:te,onBeforeLeave:ne,onAfterLeave:H}),{default:tt(()=>[P(v)?(q(),ve("div",{key:0,"aria-labelledby":e.title,class:Et([C.value,"va-modal"]),role:"dialog","aria-modal":"true"},[ke.$props.overlay?(q(),ve("div",{key:0,class:Et(["va-modal__overlay",R.value]),style:St(k.value)},null,6)):Le("",!0),me("div",{ref_key:"modalDialog",ref:o,class:"va-modal__dialog",style:St([A.value])},[ke.$props.fullscreen||ke.$props.closeButton?(q(),nt(P(ns),{key:0,"va-child":"closeButton",class:Et([{"va-modal__close--fullscreen":ke.$props.fullscreen},"va-modal__close"]),"aria-label":P(Y)(ke.$props.ariaCloseLabel),role:"button",tabindex:"0",name:"va-close",onClick:ee,onKeydown:[xt(ee,["space"]),xt(ee,["enter"])]},null,8,["class","aria-label"])):Le("",!0),ke.$slots.content?Fe(ke.$slots,"content",Ft(ut({key:1},ye))):(q(),ve("div",Que,[me("div",Jue,[Fe(ke.$slots,"header",Ft(Wt(ye)),()=>[e.title?(q(),ve("div",{key:0,class:"va-modal__title",style:St({color:P(p)("primary")})},Mt(ke.$props.title),5)):Le("",!0)])]),ke.$props.message?(q(),ve("div",Zue,Mt(ke.$props.message),1)):Le("",!0),ke.$slots.default?(q(),ve("div",ede,[Fe(ke.$slots,"default",Ft(Wt(ye)))])):Le("",!0),(ke.$props.cancelText||ke.$props.okText)&&!ke.$props.hideDefaultActions?(q(),ve("div",tde,[ke.$props.cancelText?(q(),nt(P(ps),{key:0,"va-child":"cancelButton",preset:"secondary",color:"secondary",class:"va-modal__default-cancel-button",onClick:ee},{default:tt(()=>[oi(Mt(P(Y)(ke.$props.cancelText)),1)]),_:1})):Le("",!0),wt(P(ps),{"va-child":"okButton",onClick:K},{default:tt(()=>[oi(Mt(P(Y)(ke.$props.okText)),1)]),_:1})])):Le("",!0),ke.$slots.footer?(q(),ve("div",ide,[Fe(ke.$slots,"footer",Ft(Wt(ye)))])):Le("",!0)]))],4)],10,que)):Le("",!0)]),_:3},16,["isTransition","style"])],8,["to","disabled"]))],2))}}),xO=zt(rde),nde=e=>{var t;return((t=e.component)==null?void 0:t.props)||{}},WG=(e,t)=>{e&&(Uu(null,e),e.remove()),e=null},ode=(e,{props:t,appContext:i}={})=>{const s=document==null?void 0:document.createElement("div");let r;const n=a=>{var l;(l=t==null?void 0:t.onClose)==null||l.call(t,a),WG(s)},o=a=>{var l;(l=t==null?void 0:t["onUpdate:modelValue"])==null||l.call(t,a),t!=null&&t.withoutTransitions&&!a&&rs(()=>{WG(s)})};return r=ji(e,{...t,stateful:(t==null?void 0:t.stateful)??!0,modelValue:!0,onClose:n,"onUpdate:modelValue":o}),i&&(r.appContext=i),s&&Uu(r,s),{vNode:r,el:s}},ade=e=>typeof e=="string"?{message:e}:e,qD=(e,t)=>{const{vNode:i,el:s}=ode(xO,{appContext:t,props:ade(e)});return s&&i.el&&nde(i)&&document.body.appendChild(s.childNodes[0]),i},lde=e=>({init(t){return qD(t,e==null?void 0:e._context)},confirm(t){return typeof t=="string"?new Promise(i=>{qD({message:t,onOk(){i(!0)},onCancel(){i(!1)}},e==null?void 0:e._context)}):new Promise(i=>{qD({...t,onOk(){var s;(s=t==null?void 0:t.onOk)==null||s.call(t),i(!0)},onCancel(){var s;(s=t==null?void 0:t.onCancel)==null||s.call(t),i(!1)}},e==null?void 0:e._context)})}}),cde=ih(()=>({install(e){Cf(e,"$vaModal",lde(e))}})),c7=(e,t)=>{const i=Object.entries(t);return e.reduce((s,r)=>s.concat(i.map(([n,o])=>({...r,postfix:r.postfix??n,value:r.value??o}))),[])},u7=e=>e.reduce((t,i)=>{const s=[i.property].flat().map(r=>`${r}: ${i.value};`).join("");return t+=`.va-${i.prefix}--${i.postfix} { ${s} }`,t},""),UG=(e,t)=>{const i=c7(e,t);bO("va-color-helpers",()=>u7(i))},ude=()=>{if(tm())return;const{globalConfig:e}=id();return Ot(()=>e.value.colorsClasses,t=>{t.length&&UG(t,e.value.colors.variables)},{immediate:!0,deep:!0}),Ot(()=>e.value.colors.variables,t=>{t&&UG(e.value.colorsClasses,t)},{immediate:!0,deep:!0}),{renderColorHelpers:()=>{const t=c7(e.value.colorsClasses,e.value.colors.variables);return u7(t)}}},dde=ih(()=>({install(e){Cf(e,"$vaColorsClasses",ude())}})),d7=Symbol("AccordionService"),hde=(e,t)=>{const i=We([]),s=()=>{const c=Math.max(i.value.length,t.value.length);return Array.from({length:c},(u,h)=>t.value[h]??!1)},r=c=>t.value[i.value.indexOf(c)]??!1,n=()=>{t.value=s()};return la(d7,{registerItem:c=>{i.value.push(c),n()},unregisterItem:c=>{i.value=i.value.filter(u=>u!==c),rs(n)},getItemValue:r,setItemValue:(c,u)=>{const h=i.value.indexOf(c);if(h===-1){Ps("Accordion item is not registered yet");return}e.multiple?t.value[h]=u:t.value=s().map((f,p)=>p===h?u:!1)},props:V(()=>e)}),{items:i}},fde=()=>{const e=Xr(d7,void 0);if(!e)return{accordionProps:We({})};const t={};return e.registerItem(t),Rr(()=>e.unregisterItem(t)),{accordionItemValue:V({get:()=>e.getItemValue(t),set:s=>e.setItemValue(t,s)}),accordionProps:e.props}},pde={class:"va-accordion"},gde=dt({name:"VaAccordion",__name:"VaAccordion",props:{...dn,...hi,modelValue:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},inset:{type:Boolean,default:!1},stateful:{type:Boolean,default:!0},popout:{type:Boolean,default:!1}},emits:[...Ao],setup(e,{expose:t,emit:i}){const s=e,r=i,{valueComputed:n}=mr(s,r,"modelValue"),{items:o}=hde(s,n);return t({collapses:o,value:n}),(c,u)=>(q(),ve("div",pde,[Fe(c.$slots,"default")]))}}),mde=zt(gde),vde=()=>{},h7=(e,t)=>{let i=0;return function(...s){const r=Date.now();r-i<t||(e.apply(this,s),i=r)}};function f7(){return document.documentElement.clientHeight||window.innerHeight||document.body.clientHeight}function zG({coordinates:e,offsetTop:t,offsetBottom:i,target:s}){let r=!1,n=!1;const o=f7();if(t!=null&&o)if(s===window)r=e.top<=t;else{const{top:a}=s.getBoundingClientRect();r=e.top-a<=t}if(i!=null&&o)if(s===window)n=e.bottom>=o-i;else{const{bottom:a}=s.getBoundingClientRect();n=a-e.bottom<=i}return{isTopAffixed:r,isBottomAffixed:n}}function yde(e,t){return e.isTopAffixed!==t.isTopAffixed||e.isBottomAffixed!==t.isBottomAffixed}function jG(e,t){const{target:i,element:s,offsetTop:r,offsetBottom:n,setState:o,getState:a,initialPosition:l}=t;if(!s)return;const c=!e,u=s.getBoundingClientRect(),h={offsetBottom:n,offsetTop:r,target:i},f=zG(c&&l?{coordinates:l,...h}:{coordinates:u,...h}),p=a();yde(p,f)?o({...f,width:u.width}):p.width!==u.width&&o({...p,width:u.width})}function Cde(e){return e==="scroll"}function bde(e,{handler:t,useCapture:i=Cde,wait:s=50}){const r=e.map(n=>{const o=h7(a=>t(n,a),s);return window.addEventListener(n,o,i(n)),()=>window.removeEventListener(n,o,i(n))});return()=>r.forEach(n=>n())}const wde=dt({name:"VaAffix",__name:"VaAffix",props:{...hi,offsetTop:{type:[Number,String],default:void 0},offsetBottom:{type:[Number,String],default:void 0},target:{type:[Object,Function],default:U5}},emits:["change"],setup(e,{emit:t}){const i=e,s=t,r=vi(),n=()=>typeof i.target=="function"?i.target():i.target,o=V(()=>a.value.isTopAffixed||a.value.isBottomAffixed),a=We({isTopAffixed:!1,isBottomAffixed:!1}),l=()=>a.value,c=A=>{a.value=A,s("change",o)},u=Bi("offsetTop"),h=Bi("offsetBottom"),f=()=>{const A=n();if(!A)return 0;if(u.value!==void 0){if(!(A instanceof Window)){const{top:R}=A.getBoundingClientRect();return R+u.value}return u.value}},p=()=>{const A=n();if(!A)return 0;if(h.value!==void 0){if(!(A instanceof Window)){const{bottom:R}=A.getBoundingClientRect(),{borderTopWidth:O,borderBottomWidth:k}=getComputedStyle(A),{offsetHeight:F,clientHeight:N}=A,j=F-N-parseInt(O)-parseInt(k);return f7()-(R-h.value)+j}return h.value}},y=A=>{const R=A();return R===void 0?void 0:`${R}px`},v=V(()=>[{"va-affix--affixed":o}]),C=V(()=>({top:a.value.isTopAffixed?y(f):void 0,bottom:a.value.isBottomAffixed?y(p):void 0,width:`${a.value.width}px`})),S=We(),_=(A,R)=>{const O={...i,offsetTop:u.value,offsetBottom:h.value,initialPosition:S.value,element:r.value,target:n(),setState:c,getState:l};if(!A||A==="resize")jG(A,O);else if(R&&R.target){const k=n();k===R.target||k instanceof Window?jG(A,O):c({isBottomAffixed:!1,isTopAffixed:!1})}};let x=vde;return Ri(()=>{var A;S.value=(A=r.value)==null?void 0:A.getBoundingClientRect(),x=bde(["scroll","resize"],{handler:_}),rs(()=>{_(null)})}),Rr(x),(A,R)=>(q(),ve("div",{ref_key:"element",ref:r,class:"va-affix"},[me("div",{style:St({visibility:o.value?"hidden":"inherit"})},[Fe(A.$slots,"default")],4),o.value?(q(),ve("div",{key:0,class:Et(v.value),style:St(C.value)},[Fe(A.$slots,"default")],6)):Le("",!0)],512))}}),Sde=zt(wde),p7=e=>{const{textColorComputed:t}=yn(e);return t},EO=e=>{if(e)return e;const t=Di(),i=vi();return Ri(()=>{i.value=t.proxy.$el??void 0}),qg(()=>{i.value=t.proxy.$el??void 0}),Rr(()=>{i.value=t.proxy.$el??void 0}),i},xde=e=>{const{getColor:t}=xi(),i=V(()=>!!(e.outline||e.border)),{textColorComputed:s}=yn(Dn(e,"color"),i),r=V(()=>t(e.color)),n=V(()=>{let u=r.value,h="none";return e.outline&&(u="transparent"),e.border&&(u="var(--va-background-primary)",h="var(--va-alert-box-shadow)"),{border:e.outline?`1px solid ${r.value}`:"",padding:e.dense?"var(--va-alert-padding-y-dense) var(--va-alert-padding-x)":"",backgroundColor:u,boxShadow:h}}),o=p7(K5(EO())),a=V(()=>({alignItems:e.center?"center":"",color:e.border||e.outline?o.value:s.value})),l=V(()=>({color:s.value})),c=V(()=>({backgroundColor:e.borderColor?t(e.borderColor):r.value}));return{alertStyle:n,contentStyle:a,titleStyle:l,borderStyle:c}},Ede={key:1,class:"va-alert__close"},_de=["aria-label"],Tde=dt({name:"VaAlert",__name:"VaAlert",props:{...dn,...hi,modelValue:{type:Boolean,default:!0},stateful:{type:Boolean,default:!0},color:{type:String,default:"primary"},textColor:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},icon:{type:String,default:""},closeText:{type:String,default:""},closeIcon:{type:String,default:"close"},closeable:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},center:{type:Boolean,default:!1},borderColor:{type:String,default:""},border:{type:String,default:"",validator:e=>["top","right","bottom","left",""].includes(e)}},emits:[...Ao],setup(e,{expose:t,emit:i}){const s=e,r=i,{contentStyle:n,titleStyle:o,alertStyle:a,borderStyle:l}=xde(s),{valueComputed:c}=mr(s,r),u=()=>{c.value=!1},h=()=>{c.value=!0},f=so(),p=V(()=>s.icon||f.icon),y=V(()=>s.title||f.title),v=V(()=>`va-alert__border--${s.border}`),{t:C}=Hs();return t({hide:u,show:h}),(S,_)=>(q(),nt(yc,{name:"fade"},{default:tt(()=>[P(c)?(q(),ve("div",{key:0,class:"va-alert",style:St(P(a)),role:"alert"},[me("div",{style:St(P(l)),class:Et([v.value,"va-alert__border"])},null,6),p.value?(q(),ve("div",{key:0,style:St(P(n)),class:"va-alert__icon","aria-hidden":"true"},[Fe(S.$slots,"icon",{},()=>[wt(P(ns),{name:e.icon},null,8,["name"])])],4)):Le("",!0),me("div",{style:St(P(n)),class:"va-alert__content"},[y.value?(q(),ve("div",{key:0,style:St(P(o)),class:"va-alert__title"},[Fe(S.$slots,"title",{},()=>[oi(Mt(e.title),1)])],4)):Le("",!0),me("span",null,[Fe(S.$slots,"default",{},()=>[oi(Mt(S.$props.description),1)])])],4),e.closeable?(q(),ve("div",Ede,[me("div",{role:"button",class:"va-alert__close--closeable",tabindex:"0","aria-label":e.closeText||P(C)("closeAlert"),style:St(P(n)),onClick:u,onKeydown:[xt(u,["space"]),xt(u,["enter"])]},[Fe(S.$slots,"close",{},()=>[e.closeText?Le("",!0):(q(),nt(P(ns),{key:0,name:e.closeIcon},null,8,["name"])),oi(" "+Mt(e.closeText),1)])],44,_de)])):Le("",!0)],4)):Le("",!0)]),_:3}))}}),Ade=zt(Tde),g7={hideOnScroll:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1}};function m7(e,t){const i=V(()=>t.value?!!e.hideOnScroll:!1),s=V(()=>{if(!(!e.bottom&&!i.value))return e.bottom&&i.value?"translateY(100%)":e.bottom?e.fixed?"translateY(-100%)":"translateY(0)":"translateY(-100%)"}),r=V(()=>e.fixed?"fixed":i.value?"absolute":void 0);return{fixedBarStyleComputed:V(()=>{const o={top:e.bottom&&(i.value||e.fixed)?"100%":void 0,transform:e.hideOnScroll||e.fixed?s.value:void 0};return r.value&&Object.assign(o,{position:r.value}),o})}}function kde(e){if(!e)throw new Error("No target was provided for `useScroll` hook!");return typeof e=="string"?document.querySelector(e):e}function v7(e,t){const i=vi();let s;const r=We(!1),n=We(0),o=a=>{const l=a.target,c=a.target instanceof Window?l.scrollY:l.scrollTop;r.value=n.value<c,n.value=c};return Ri(()=>{s=e?window:kde(t||i.value),s==null||s.addEventListener("scroll",o,e)}),Rr(()=>{s==null||s.removeEventListener("scroll",o)}),{scrollRoot:i,isScrolledDown:r}}const Dde=dt({name:"VaAppBar",__name:"VaAppBar",props:{...g7,...hi,gradient:{type:Boolean,default:!1},target:{type:[Object,String],default:""},shadowOnScroll:{type:Boolean,default:!1},shadowColor:{type:String,default:""},color:{type:String,default:"primary"}},setup(e){const t=e,{scrollRoot:i,isScrolledDown:s}=v7(t.fixed,t.target),{fixedBarStyleComputed:r}=m7(t,s),{getColor:n,getGradientBackground:o,getBoxShadowColor:a}=xi(),l=V(()=>n(t.color)),{textColorComputed:c}=yn(Dn(t,"color")),u=V(()=>s.value?!!t.shadowOnScroll:!1),h=V(()=>n(t.shadowColor,l.value)),f=V(()=>{const y=a(t.shadowColor?h.value:l.value);return u.value?`var(--va-app-bar-shadow) ${y}`:""}),p=V(()=>({...r.value,background:t.gradient?o(l.value):l.value,boxShadow:f.value,color:c.value}));return(y,v)=>(q(),ve("header",{ref_key:"scrollRoot",ref:i,role:"toolbar",class:"va-app-bar",style:St(p.value)},[Fe(y.$slots,"default")],4))}}),Rde=zt(Dde),Pde=dt({name:"VaAspectRatio",__name:"VaAspectRatio",props:{...hi,ratio:{type:[Number,String],default:"auto"},contentHeight:{type:[Number,String],default:1},contentWidth:{type:[Number,String],default:1},maxWidth:{type:[Number,String],default:0,validator:e=>Number(e)>=0}},setup(e){const t=e,i=Bi("contentHeight"),s=Bi("contentWidth"),r=V(()=>t.ratio==="auto"&&t.contentHeight===1&&t.contentWidth===1?0:isNaN(+t.ratio)?s.value/i.value:t.ratio),n=V(()=>{if(r.value)return{paddingBottom:`${1/r.value*100}%`}}),o=V(()=>t.maxWidth?`${t.maxWidth}px`:void 0);return(a,l)=>(q(),ve("div",{class:"va-aspect-ratio",style:St(`--va-max-width-computed: ${String(o.value)}`)},[n.value?(q(),ve("div",{key:0,style:St(n.value)},null,4)):Le("",!0),Fe(a.$slots,"default")],4))}}),y7=zt(Pde),Fde=dt({name:"VaFallback",props:{fallbackSrc:{type:String},fallbackText:{type:String},fallbackIcon:{type:String},fallbackRender:{type:Function}},components:{VaIcon:ns},emits:["fallback"],setup(e,{emit:t}){return Ri(()=>{t("fallback")}),e.fallbackIcon?()=>ji(ns,{name:e.fallbackIcon}):e.fallbackSrc?()=>ji("img",{src:e.fallbackSrc}):e.fallbackRender?()=>{var i;return ji((i=e.fallbackRender)==null?void 0:i.call(e))}:()=>ji("span",e.fallbackText)}}),i0=zt(Fde);function C7(e){switch(!0){case Array.isArray(e):return e.reduce((t,i)=>({...t,[i]:null}),{});case(typeof e=="object"&&e!==null):return e;default:return{}}}function XE(e,t,i="props"){const{mixins:s,extends:r}=t;r&&XE(e,r,i),s&&s.forEach(o=>XE(e,o,i));const n=C7(t[i]);for(const o in n)e[o]=n[o]}function Mde(e){return e.options?e.options:e.__vccOpts||e.__b?{...e.__vccOpts,...e.__b}:e}function Lde(e,t="props"){const i=e.mixins??[],s=e.extends??[],r={};XE(r,s,t);for(let n=0;n<i.length;n++)XE(r,i[n],t);return Object.assign(r,C7(e[t])),r}const Ode=e=>Lde(Mde(e));function vs(e,t){const i=Ode(e);return t?Object.keys(i).reduce((s,r)=>(t.includes(r)||i[r]===void 0||(s[r]=typeof i[r]=="string"?{}:i[r]),s),{}):i}function Hp(e){return[...new Set(e.emits)]}const Gs=e=>{const{props:t}=Di();return V(()=>Object.keys(e).reduce((i,s)=>(i[s]=t[s],i),{}))},Ide=["src","alt"],KG=vs(i0),Nde=dt({name:"VaAvatar",__name:"VaAvatar",props:{...Kw,...Jg,...hi,...KG,color:{type:String,default:"primary"},textColor:{type:String},square:{type:Boolean,default:!1},fontSize:{type:String,default:""},src:{type:String,default:null},icon:{type:String,default:""},alt:{type:String,default:""}},emits:["error","fallback"],setup(e,{expose:t,emit:i}){const s=e,r=i,{getColor:n}=xi(),o=V(()=>n(s.color)),a=V(()=>{if(!(s.loading||s.src&&!p.value))return o.value}),{sizeComputed:l,fontSizeComputed:c}=Zg(s,"VaAvatar"),{textColorComputed:u}=yn(a),h=V(()=>({fontSize:s.fontSize||c.value})),f=Is("va-avatar",()=>({...xr(s,["square"])})),p=We(!1),y=S=>{p.value=!0,r("error",S)};Ot(()=>s.src,()=>{p.value=!1});const v=V(()=>({hasError:p.value,onError:y})),C=Gs(KG);return t({hasLoadError:p}),(S,_)=>(q(),ve("div",{class:Et(["va-avatar",P(f)]),style:St([h.value,`--va-background-color-computed: ${String(a.value)};--va-text-color-computed: ${String(P(u))};--va-size-computed: ${String(P(l))}`])},[S.$props.loading?(q(),nt(P(G0),{key:0,size:P(l),color:o.value,indeterminate:""},null,8,["size","color"])):Fe(S.$slots,"default",Ft(ut({key:1},v.value)),()=>[S.$props.src&&!p.value?(q(),ve("img",{key:0,src:S.$props.src,alt:S.$props.alt,onError:y},null,40,Ide)):p.value&&S.$props.src?Fe(S.$slots,"fallback",{key:1},()=>[wt(P(i0),ut(P(C),{onFallback:_[0]||(_[0]=x=>S.$emit("fallback"))}),null,16)]):S.$props.icon?(q(),nt(P(ns),{key:2,name:S.$props.icon},null,8,["name"])):Fe(S.$slots,"fallback",{key:3},()=>[wt(P(i0),ut(P(C),{onFallback:_[1]||(_[1]=x=>S.$emit("fallback"))}),null,16)])])],6))}}),qE=zt(Nde),YG=vs(qE),Vde=dt({name:"VaAvatarGroup",__name:"VaAvatarGroup",props:{...Jg,...hi,...YG,max:{type:[Number,String],default:0},vertical:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},restColor:{type:String,default:"secondary"}},setup(e){const t=e,i=Bi("max"),s=Is("va-avatar-group",()=>({...xr(t,["vertical"])})),r=V(()=>i.value&&i.value<=t.options.length?t.options.slice(0,i.value):t.options),n=V(()=>{const u=t.options.length>0,h=r.value.length<t.options.length,f=t.options.length-(i.value||0);return u&&h?f:0}),{sizeComputed:o,fontSizeComputed:a}=Zg(t,"VaAvatarGroup"),l=Gs(YG),c=V(()=>({...l.value,fontSize:a.value,size:o.value}));return(u,h)=>(q(),ve("div",{class:Et(["va-avatar-group",P(s)]),role:"list"},[(q(!0),ve(kt,null,si(r.value,(f,p)=>(q(),nt(P(qE),ut({key:p},{...c.value,...f},{role:"listitem"}),null,16))),128)),n.value>0?Fe(u.$slots,"rest",Ft(ut({key:0},c.value)),()=>[wt(P(qE),ut(c.value,{color:e.restColor,class:"va-avatar-group__rest",role:"listitem"}),{default:tt(()=>[oi(" +"+Mt(n.value),1)]),_:1},16,["color"])]):Le("",!0)],2))}}),Bde=zt(Vde),Gde=["aria-label","onKeydown"],Hde=dt({name:"VaBacktop",__name:"VaBacktop",props:{...hi,target:{type:[Object,String],default:void 0},visibilityHeight:{type:[Number,String],default:300},speed:{type:[Number,String],default:50},verticalOffset:{type:String,default:"1rem"},horizontalOffset:{type:String,default:"1rem"},color:{type:String,default:""},horizontalPosition:{type:String,default:"right",validator:e=>["right","left"].includes(e)},verticalPosition:{type:String,default:"bottom",validator:e=>["bottom","top"].includes(e)},ariaLabel:mi("$t:backToTop")},setup(e){const t=e,i=We(0),s=V(()=>({[t.verticalPosition]:t.verticalOffset,[t.horizontalPosition]:t.horizontalOffset}));let r;const n=Bi("visibilityHeight"),o=Bi("speed"),a=()=>{if(!t.target)return window;if(typeof t.target=="string"){const v=document.querySelector(t.target);return v||(Ps(`Target element [${t.target}] is not found, falling back to window.`),window)}return t.target},l=We(!1),c=We(0),u=()=>{if(!l.value){if(l.value=!0,r instanceof Window){window.scrollTo({top:0,behavior:"smooth"});return}c.value=window.setInterval(()=>{if(r instanceof Element)if(r.scrollTop===0)clearInterval(c.value),l.value=!1;else{const v=Math.floor(r.scrollTop-o.value);r.scrollTo(0,v)}},15)}},h=()=>{i.value=r instanceof Window?r.scrollY:r.scrollTop},f=tm(),p=V(()=>f?!1:i.value>n.value);f||(Ri(()=>{r=a(),r.addEventListener("scroll",h,!0)}),Rr(()=>r==null?void 0:r.removeEventListener("scroll",h)));const{tp:y}=Hs();return(v,C)=>p.value?(q(),ve("div",{key:0,class:"va-backtop",role:"button","aria-label":P(y)(v.$props.ariaLabel),tabindex:"1",style:St(s.value),onClick:u,onKeydown:xt(Dt(u,["stop"]),["enter"])},[Fe(v.$slots,"default",{},()=>[wt(P(ps),{"aria-hidden":"true",icon:"va-arrow-up",color:e.color},null,8,["color"])])],44,Gde)):Le("",!0)}}),$de=zt(Hde),b7=["top","bottom"],w7=["left","right"],Wde=[...b7,...w7],Ude=["start","end","center"],zde=Wde.reduce((e,t)=>(e.push(t),Ude.forEach(i=>e.push(`${t}-${i}`)),e),["auto"]),jde=b7.reduce((e,t)=>(w7.forEach(i=>{e.push(`${t}-${i}`),e.push(`${i}-${t}`)}),e),[]),S7=[...zde,...jde],Kde={"top-left":"top-start","left-top":"top-start","top-right":"top-end","right-top":"top-end","bottom-left":"bottom-start","left-bottom":"bottom-start","bottom-right":"bottom-end","right-bottom":"bottom-end"},x7={placement:{type:String,default:"auto",validator:e=>S7.includes(e)}},E7=e=>{const t=V(()=>(Kde[e.placement]||e.placement).split("-")),i=V(()=>{const r=t.value[0];return r==="auto"?"bottom":r}),s=V(()=>t.value[1]||"center");return{position:i,align:s}},_7=()=>{const e=s=>typeof s=="string"?!isNaN(+s)||s.endsWith("px")||s.endsWith("rem"):!1;return{isParsableMeasure:e,isParsablePositiveMeasure:s=>typeof s=="number"?s>=0:e(s)&&parseInt(s)>=0,parseSizeValue:(s,r=16)=>{const n=P(s);if(typeof n=="string"){const o=parseInt(n);return isNaN(o)?0:n.endsWith("rem")?o*P(r):o}return n}}},{isParsableMeasure:XG,parseSizeValue:qG}=_7(),Yde={overlap:{type:Boolean,default:!1},placement:{type:String,default:"top-end",validator:e=>S7.includes(e)},offset:{type:[Number,String,Array],default:0,validator:e=>Array.isArray(e)?e.every(XG):typeof e=="string"?XG(e):!isNaN(e)}},Xde=(e,t)=>{if(!t.value)return{};const{position:i,align:s}=E7(e),r=V(()=>({start:e.overlap?"-50%":"-100%",center:"-50%",end:e.overlap?"-50%":"0%"})[s.value]),n=V(()=>{if(!e.offset)return{};const l=["left","right"].includes(i.value)?"top":"left",c=l==="top"?"left":"top";if(Array.isArray(e.offset)){const[h,f]=e.offset.map(qG);return{[`margin-${l}`]:`${h}px`,[`margin-${c}`]:`${f}px`}}const u=qG(e.offset);return{[`margin-${c}`]:`${u}px`}}),o=V(()=>{const l=["left","right"].includes(i.value)?"top":"left",c=l==="top"?"left":"top";let u="0%";return c==="top"&&i.value==="bottom"&&(u="100%"),c==="left"&&i.value==="right"&&(u="100%"),{start:{[l]:"0%",[c]:u},center:{[l]:"50%",[c]:u},end:{[l]:"100%",[c]:u}}[s.value]}),a=V(()=>{const l={top:{x:r.value,y:e.overlap?"-50%":"-100%"},bottom:{x:r.value,y:e.overlap?"-50%":"0%"},left:{x:e.overlap?"-50%":"-100%",y:r.value},right:{x:e.overlap?"-50%":"0%",y:r.value}},{x:c,y:u}=l[i.value];return{transform:`translate(${c}, ${u})`}});return V(()=>({...o.value,...a.value,...n.value}))},qde={props:"prop",attrs:"prop",slots:"slot"},Qde=(e,t=["props","attrs"])=>{if(!B0)return;const i=Di();if(!i)throw new Error("`useDeprecated` hook must be used only inside of setup function!");const s=i.type.name,r=P(e);t.every(n=>{var o;const a=qde[n],l=c=>console.warn(`The '${c}' ${a} (${s} component) is deprecated! Please, check the documentation.`);if(n==="props"){const c=((o=i.propsOptions)==null?void 0:o[0])||{},u=i.props||{};return r.forEach(h=>{c[h]&&u[h]!==c[h].default&&l(h)}),!0}return Object.keys({...i[n]}).forEach(c=>{r.includes(c)&&l(c)}),!0})},Jde=["aria-labelledby"],Zde={class:"va-badge__text"},ehe=dt({name:"VaBadge",__name:"VaBadge",props:{...hi,...Yde,color:{type:String,default:"danger"},textColor:{type:String},text:{type:[String,Number],default:""},multiLine:{type:Boolean,default:!1},visibleEmpty:{type:Boolean,default:!1},dot:{type:Boolean,default:!1},transparent:{type:Boolean,default:!1}},setup(e){const t=e;Qde(["transparent"]);const i=so(),s=V(()=>!(t.text||t.visibleEmpty||t.dot||i.text)),r=V(()=>!!(i.default||t.dot)),n=Is("va-badge",()=>({...xr(t,["visibleEmpty","dot","multiLine"]),empty:s.value,floating:r.value})),{getColor:o}=xi(),a=V(()=>o(t.color)),{textColorComputed:l}=yn(a),c=Xde(t,r),u=V(()=>({color:l.value,borderColor:a.value,backgroundColor:a.value,opacity:t.transparent?.5:1,...P(c)})),h=V(()=>t.text?String(t.text):void 0);return(f,p)=>(q(),ve("div",{class:Et(["va-badge",P(n)]),role:"status","aria-labelledby":h.value},[me("span",{class:"va-badge__text-wrapper",style:St(u.value)},[me("span",Zde,[Fe(f.$slots,"text",{},()=>[oi(Mt(e.text),1)])])],4),Fe(f.$slots,"default")],10,Jde))}}),T7=zt(ehe),QG=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),JG=e=>e&&typeof e=="function"?e():e,A7={align:{type:String,default:"left"},vertical:{type:Boolean,default:!1}},the={left:"flex-start",center:"center",right:"flex-end",between:"space-between",around:"space-around"},ihe={left:"flex-start",center:"center",right:"flex-end",stretch:"stretch"},she=(e,t)=>t?"center":e?the[e]:"flex-start",rhe=(e,t)=>t?ihe[e]:"center";function k7(e){return{alignComputed:V(()=>({display:"flex",flexDirection:e.vertical?"column":"row",justifyContent:she(e.align,e.vertical),alignItems:rhe(e.align,e.vertical)}))}}const nhe=dt({name:"VaBreadcrumbs",props:{...A7,...hi,separator:{type:String,default:"/"},color:{type:String,default:null},disabledColor:{type:String,default:"secondary"},activeColor:{type:String,default:null},separatorColor:{type:String,default:null},ariaLabel:mi("$t:breadcrumbs")},setup(e,{slots:t}){const{alignComputed:i}=k7(e),{getColor:s}=xi(),r=V(()=>e.separatorColor?s(e.separatorColor):null),n=V(()=>e.color?s(e.color):null),o=V(()=>e.activeColor?s(e.activeColor):null),a=(p,y)=>{const v=y&&y.type===kt&&y.children?y.children:[y];return[...p,...v.filter(C=>{var S,_;return!!((_=(S=C==null?void 0:C.type)==null?void 0:S.name)!=null&&_.match(/VaBreadcrumbsItem$/))})]},l=()=>{const p=JG(t.separator)||[e.separator];return ji("span",{"aria-hidden":!0,class:["va-breadcrumbs__separator"],style:[{color:r.value}]},p)},c=p=>{const y=p==null?void 0:p.props;return!y||!QG(y,"disabled")?!1:y.disabled===""?!0:!!y.disabled},u=We(!0),h=()=>{const p=JG(t.default);if(!p)return;const y=p.reduce(a,[])||[],v=y.length,C=A=>A===v-1,S=A=>{const R=A==null?void 0:A.props;return!R||!QG(R,"to")?!1:!!(R.to&&!R.disabled)},_=(A,R)=>ji("span",{class:["va-breadcrumbs__item",{"va-breadcrumbs__item--disabled":c(A)}],"aria-current":C(R)&&S(A)?"location":!1,style:{color:c(A)?s(e.disabledColor):C(R)?o.value:n.value}},[A]),x=[];return v&&y.forEach((A,R)=>{u.value&&!S(A)&&(u.value=!1),x.push(_(A,R)),C(R)||x.push(l())}),x},{tp:f}=Hs();return()=>ji("div",{class:"va-breadcrumbs",style:i.value,role:u.value?"navigation":void 0,"aria-label":u.value?f(e.ariaLabel):void 0},h())}}),ohe=dt({name:"VaBreadcrumbsItem",__name:"VaBreadcrumbsItem",props:{...sm,disabled:{type:Boolean,default:!1},label:{type:String,default:""}},setup(e){const t=e,{tagComputed:i,hrefComputed:s,isLinkTag:r}=Nf(t),n=V(()=>({"va-breadcrumb-item--link":r.value}));return(o,a)=>(q(),nt(io(P(i)),{class:Et(["va-breadcrumb-item",n.value]),"active-class":o.$props.activeClass,href:P(s),to:o.$props.to,target:o.$props.target,replace:o.$props.replace,append:o.$props.append,exact:o.$props.exact,"exact-active-class":o.$props.exactActiveClass},{default:tt(()=>[Fe(o.$slots,"default",{},()=>[oi(Mt(e.label),1)])]),_:3},8,["class","active-class","href","to","target","replace","append","exact","exact-active-class"]))}}),ahe=zt(ohe),lhe=zt(nhe),ZG=zu(vs(ps),["block","gradient"]),che=dt({name:"VaButtonGroup",__name:"VaButtonGroup",props:{...ZG,...hi,grow:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1}},setup(e){const t=e,{getColor:i,getGradientBackground:s}=xi(),r=V(()=>i(t.color)),{textColorComputed:n}=yn(r),o=Gs(ZG),a=V(()=>({VaButton:{...o.value,...t.gradient&&{color:"#00000000",textColor:n.value}}})),l=Is("va-button-group",()=>({square:!t.round,grow:t.grow,small:t.size==="small",large:t.size==="large"})),c=V(()=>t.gradient?s(r.value):"transparent");return(u,h)=>(q(),ve("div",{class:Et(["va-button-group",P(l)]),style:St(`--va-background-color: ${String(c.value)}`)},[wt(P(zw),{components:a.value},{default:tt(()=>[Fe(u.$slots,"default")]),_:3},8,["components"])],6))}}),HT=zt(che),_O=(e,t)=>{let i=null;const s=function(...r){i&&clearTimeout(i),i=setTimeout(()=>{i=null,e.apply(this,r)},t)};return s.cancel=()=>{i&&clearTimeout(i),i=null},s},eH=e=>{let t=null;const i=()=>_O(()=>{t==null||t(),t=null},P(e));let s=i();return cs(e)&&Ot(e,()=>{s=i()}),{debounced:r=>{t=r,s()},cancel:()=>s.cancel()}},tH=e=>{const t=e.target;return!(!(t.tagName==="INPUT"||t.tagName==="TEXTAREA")||t.attributes.getNamedItem("readonly"))},uhe=e=>Array.isArray(e),dhe=(e,t,i,s)=>{const r=h=>(h=h.replace(/-/g,"").toLowerCase(),h==="space"?" ":h==="rightclick"?"contextmenu":h),n=V(()=>uhe(s.trigger)?s.trigger.map(h=>r(h)):[r(s.trigger)]);cr("keydown",h=>{s.disabled||(h.key==="Escape"&&e.value&&(e.value=!1,h.preventDefault()),!tH(h)&&n.value.includes(r(h.key))&&(e.value=!e.value,h.preventDefault()))},t),cr("keydown",h=>{s.disabled||h.key==="Escape"&&e.value&&(e.value=!1,h.preventDefault())},i),cr(["click","contextmenu","dblclick"],h=>{s.disabled||tH(h)||n.value.includes(r(h.type))&&(h.preventDefault(),e.value&&s.closeOnAnchorClick?(e.value=!1,s.cursor&&setTimeout(()=>{e.value=!0},16)):e.value=!0)},t),cr(["click","contextmenu","dblclick"],h=>{s.closeOnContentClick&&(e.value=!1)},i);const{debounced:o,cancel:a}=eH(Bi("hoverOverTimeout")),{debounced:l,cancel:c}=eH(Bi("hoverOutTimeout")),u=h=>{if(!s.disabled&&n.value.includes("hover"))if(h.type==="mouseleave"){if(a(),!s.isContentHoverable){e.value=!1;return}l(()=>{e.value=!1})}else c(),o(()=>{e.value=!0})};cr(["mouseleave","mouseenter"],u,t),cr(["mouseleave","mouseenter"],u,i)},hhe=e=>{const t=We(),i=im(),s=jw();return{anchorRef:V({set(n){t.value=Nr(n)},get(){var n,o,a;return s.value,typeof e.anchor=="string"?((n=i.value)==null?void 0:n.querySelector(e.anchor))??t.value:typeof e.anchor=="object"?e.anchor:e.anchorSelector?((o=i.value)==null?void 0:o.querySelector(e.anchorSelector))??t.value:e.innerAnchorSelector&&t.value?((a=t.value)==null?void 0:a.querySelector(e.innerAnchorSelector))??t.value:t.value}})}},fhe=(e,t)=>{const i=Nn({x:0,y:0});return cr(["mousemove","mousedown","mouseup"],s=>{var r;if(!t.value)return;const{x:n,y:o}=((r=e.value)==null?void 0:r.getBoundingClientRect())??{x:0,y:0};i.x=s.clientX-n,i.y=s.clientY-o},e),V(()=>({getBoundingClientRect(){var s;const{x:r,y:n}=((s=e.value)==null?void 0:s.getBoundingClientRect())??{x:0,y:0},o=i.x+r,a=i.y+n;return{width:0,height:0,x:o,y:a,top:a,right:o,bottom:a,left:o}},contextElement:e.value}))},s0=Math.min,wl=Math.max,QE=Math.round,Yx=Math.floor,Iu=e=>({x:e,y:e}),phe={left:"right",right:"left",bottom:"top",top:"bottom"},ghe={start:"end",end:"start"};function iH(e,t,i){return wl(e,s0(t,i))}function Xw(e,t){return typeof e=="function"?e(t):e}function bf(e){return e.split("-")[0]}function qw(e){return e.split("-")[1]}function D7(e){return e==="x"?"y":"x"}function R7(e){return e==="y"?"height":"width"}const mhe=new Set(["top","bottom"]);function Od(e){return mhe.has(bf(e))?"y":"x"}function P7(e){return D7(Od(e))}function vhe(e,t,i){i===void 0&&(i=!1);const s=qw(e),r=P7(e),n=R7(r);let o=r==="x"?s===(i?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[n]>t.floating[n]&&(o=JE(o)),[o,JE(o)]}function yhe(e){const t=JE(e);return[CF(e),t,CF(t)]}function CF(e){return e.replace(/start|end/g,t=>ghe[t])}const sH=["left","right"],rH=["right","left"],Che=["top","bottom"],bhe=["bottom","top"];function whe(e,t,i){switch(e){case"top":case"bottom":return i?t?rH:sH:t?sH:rH;case"left":case"right":return t?Che:bhe;default:return[]}}function She(e,t,i,s){const r=qw(e);let n=whe(bf(e),i==="start",s);return r&&(n=n.map(o=>o+"-"+r),t&&(n=n.concat(n.map(CF)))),n}function JE(e){return e.replace(/left|right|bottom|top/g,t=>phe[t])}function xhe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ehe(e){return typeof e!="number"?xhe(e):{top:e,right:e,bottom:e,left:e}}function ZE(e){const{x:t,y:i,width:s,height:r}=e;return{width:s,height:r,top:i,left:t,right:t+s,bottom:i+r,x:t,y:i}}function nH(e,t,i){let{reference:s,floating:r}=e;const n=Od(t),o=P7(t),a=R7(o),l=bf(t),c=n==="y",u=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,f=s[a]/2-r[a]/2;let p;switch(l){case"top":p={x:u,y:s.y-r.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-r.width,y:h};break;default:p={x:s.x,y:s.y}}switch(qw(t)){case"start":p[o]-=f*(i&&c?-1:1);break;case"end":p[o]+=f*(i&&c?-1:1);break}return p}const _he=async(e,t,i)=>{const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:o}=i,a=n.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:h}=nH(c,s,l),f=s,p={},y=0;for(let v=0;v<a.length;v++){const{name:C,fn:S}=a[v],{x:_,y:x,data:A,reset:R}=await S({x:u,y:h,initialPlacement:s,placement:f,strategy:r,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=_??u,h=x??h,p={...p,[C]:{...p[C],...A}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(f=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):R.rects),{x:u,y:h}=nH(c,f,l)),v=-1)}return{x:u,y:h,placement:f,strategy:r,middlewareData:p}};async function TO(e,t){var i;t===void 0&&(t={});const{x:s,y:r,platform:n,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Xw(t,e),y=Ehe(p),C=a[f?h==="floating"?"reference":"floating":h],S=ZE(await n.getClippingRect({element:(i=await(n.isElement==null?void 0:n.isElement(C)))==null||i?C:C.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=h==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,x=await(n.getOffsetParent==null?void 0:n.getOffsetParent(a.floating)),A=await(n.isElement==null?void 0:n.isElement(x))?await(n.getScale==null?void 0:n.getScale(x))||{x:1,y:1}:{x:1,y:1},R=ZE(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:x,strategy:l}):_);return{top:(S.top-R.top+y.top)/A.y,bottom:(R.bottom-S.bottom+y.bottom)/A.y,left:(S.left-R.left+y.left)/A.x,right:(R.right-S.right+y.right)/A.x}}const The=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i,s;const{placement:r,middlewareData:n,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...C}=Xw(e,t);if((i=n.arrow)!=null&&i.alignmentOffset)return{};const S=bf(r),_=Od(a),x=bf(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=f||(x||!v?[JE(a)]:yhe(a)),O=y!=="none";!f&&O&&R.push(...She(a,v,y,A));const k=[a,...R],F=await TO(t,C),N=[];let j=((s=n.flip)==null?void 0:s.overflows)||[];if(u&&N.push(F[S]),h){const be=vhe(r,o,A);N.push(F[be[0]],F[be[1]])}if(j=[...j,{placement:r,overflows:N}],!N.every(be=>be<=0)){var ee,K;const be=(((ee=n.flip)==null?void 0:ee.index)||0)+1,te=k[be];if(te&&(!(h==="alignment"?_!==Od(te):!1)||j.every(ie=>Od(ie.placement)===_?ie.overflows[0]>0:!0)))return{data:{index:be,overflows:j},reset:{placement:te}};let ne=(K=j.filter(H=>H.overflows[0]<=0).sort((H,ie)=>H.overflows[1]-ie.overflows[1])[0])==null?void 0:K.placement;if(!ne)switch(p){case"bestFit":{var Q;const H=(Q=j.filter(ie=>{if(O){const ue=Od(ie.placement);return ue===_||ue==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(ue=>ue>0).reduce((ue,Te)=>ue+Te,0)]).sort((ie,ue)=>ie[1]-ue[1])[0])==null?void 0:Q[0];H&&(ne=H);break}case"initialPlacement":ne=a;break}if(r!==ne)return{reset:{placement:ne}}}return{}}}},Ahe=new Set(["left","top"]);async function khe(e,t){const{placement:i,platform:s,elements:r}=e,n=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=bf(i),a=qw(i),l=Od(i)==="y",c=Ahe.has(o)?-1:1,u=n&&l?-1:1,h=Xw(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const Dhe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var i,s;const{x:r,y:n,placement:o,middlewareData:a}=t,l=await khe(t,e);return o===((i=a.offset)==null?void 0:i.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:r+l.x,y:n+l.y,data:{...l,placement:o}}}}},Rhe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:s,placement:r}=t,{mainAxis:n=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x:S,y:_}=C;return{x:S,y:_}}},...l}=Xw(e,t),c={x:i,y:s},u=await TO(t,l),h=Od(bf(r)),f=D7(h);let p=c[f],y=c[h];if(n){const C=f==="y"?"top":"left",S=f==="y"?"bottom":"right",_=p+u[C],x=p-u[S];p=iH(_,p,x)}if(o){const C=h==="y"?"top":"left",S=h==="y"?"bottom":"right",_=y+u[C],x=y-u[S];y=iH(_,y,x)}const v=a.fn({...t,[f]:p,[h]:y});return{...v,data:{x:v.x-i,y:v.y-s,enabled:{[f]:n,[h]:o}}}}}},Phe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var i,s;const{placement:r,rects:n,platform:o,elements:a}=t,{apply:l=()=>{},...c}=Xw(e,t),u=await TO(t,c),h=bf(r),f=qw(r),p=Od(r)==="y",{width:y,height:v}=n.floating;let C,S;h==="top"||h==="bottom"?(C=h,S=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(S=h,C=f==="end"?"top":"bottom");const _=v-u.top-u.bottom,x=y-u.left-u.right,A=s0(v-u[C],_),R=s0(y-u[S],x),O=!t.middlewareData.shift;let k=A,F=R;if((i=t.middlewareData.shift)!=null&&i.enabled.x&&(F=x),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(k=_),O&&!f){const j=wl(u.left,0),ee=wl(u.right,0),K=wl(u.top,0),Q=wl(u.bottom,0);p?F=y-2*(j!==0||ee!==0?j+ee:wl(u.left,u.right)):k=v-2*(K!==0||Q!==0?K+Q:wl(u.top,u.bottom))}await l({...t,availableWidth:F,availableHeight:k});const N=await o.getDimensions(a.floating);return y!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function $T(){return typeof window<"u"}function rm(e){return AO(e)?(e.nodeName||"").toLowerCase():"#document"}function kl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rd(e){var t;return(t=(AO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AO(e){return $T()?e instanceof Node||e instanceof kl(e).Node:!1}function Jc(e){return $T()?e instanceof Element||e instanceof kl(e).Element:!1}function ju(e){return $T()?e instanceof HTMLElement||e instanceof kl(e).HTMLElement:!1}function oH(e){return!$T()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kl(e).ShadowRoot}const Fhe=new Set(["inline","contents"]);function Qw(e){const{overflow:t,overflowX:i,overflowY:s,display:r}=Zc(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+i)&&!Fhe.has(r)}const Mhe=new Set(["table","td","th"]);function Lhe(e){return Mhe.has(rm(e))}const Ohe=[":popover-open",":modal"];function WT(e){return Ohe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ihe=["transform","translate","scale","rotate","perspective"],Nhe=["transform","translate","scale","rotate","perspective","filter"],Vhe=["paint","layout","strict","content"];function kO(e){const t=DO(),i=Jc(e)?Zc(e):e;return Ihe.some(s=>i[s]?i[s]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||Nhe.some(s=>(i.willChange||"").includes(s))||Vhe.some(s=>(i.contain||"").includes(s))}function Bhe(e){let t=wf(e);for(;ju(t)&&!r0(t);){if(kO(t))return t;if(WT(t))return null;t=wf(t)}return null}function DO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ghe=new Set(["html","body","#document"]);function r0(e){return Ghe.has(rm(e))}function Zc(e){return kl(e).getComputedStyle(e)}function UT(e){return Jc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wf(e){if(rm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oH(e)&&e.host||rd(e);return oH(t)?t.host:t}function F7(e){const t=wf(e);return r0(t)?e.ownerDocument?e.ownerDocument.body:e.body:ju(t)&&Qw(t)?t:F7(t)}function Fb(e,t,i){var s;t===void 0&&(t=[]),i===void 0&&(i=!0);const r=F7(e),n=r===((s=e.ownerDocument)==null?void 0:s.body),o=kl(r);if(n){const a=bF(o);return t.concat(o,o.visualViewport||[],Qw(r)?r:[],a&&i?Fb(a):[])}return t.concat(r,Fb(r,[],i))}function bF(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function M7(e){const t=Zc(e);let i=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=ju(e),n=r?e.offsetWidth:i,o=r?e.offsetHeight:s,a=QE(i)!==n||QE(s)!==o;return a&&(i=n,s=o),{width:i,height:s,$:a}}function RO(e){return Jc(e)?e:e.contextElement}function Iv(e){const t=RO(e);if(!ju(t))return Iu(1);const i=t.getBoundingClientRect(),{width:s,height:r,$:n}=M7(t);let o=(n?QE(i.width):i.width)/s,a=(n?QE(i.height):i.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Hhe=Iu(0);function L7(e){const t=kl(e);return!DO()||!t.visualViewport?Hhe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $he(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==kl(e)?!1:t}function Sg(e,t,i,s){t===void 0&&(t=!1),i===void 0&&(i=!1);const r=e.getBoundingClientRect(),n=RO(e);let o=Iu(1);t&&(s?Jc(s)&&(o=Iv(s)):o=Iv(e));const a=$he(n,i,s)?L7(n):Iu(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,h=r.height/o.y;if(n){const f=kl(n),p=s&&Jc(s)?kl(s):s;let y=f,v=bF(y);for(;v&&s&&p!==y;){const C=Iv(v),S=v.getBoundingClientRect(),_=Zc(v),x=S.left+(v.clientLeft+parseFloat(_.paddingLeft))*C.x,A=S.top+(v.clientTop+parseFloat(_.paddingTop))*C.y;l*=C.x,c*=C.y,u*=C.x,h*=C.y,l+=x,c+=A,y=kl(v),v=bF(y)}}return ZE({width:u,height:h,x:l,y:c})}function PO(e,t){const i=UT(e).scrollLeft;return t?t.left+i:Sg(rd(e)).left+i}function O7(e,t,i){i===void 0&&(i=!1);const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-(i?0:PO(e,s)),n=s.top+t.scrollTop;return{x:r,y:n}}function Whe(e){let{elements:t,rect:i,offsetParent:s,strategy:r}=e;const n=r==="fixed",o=rd(s),a=t?WT(t.floating):!1;if(s===o||a&&n)return i;let l={scrollLeft:0,scrollTop:0},c=Iu(1);const u=Iu(0),h=ju(s);if((h||!h&&!n)&&((rm(s)!=="body"||Qw(o))&&(l=UT(s)),ju(s))){const p=Sg(s);c=Iv(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const f=o&&!h&&!n?O7(o,l,!0):Iu(0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:i.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Uhe(e){return Array.from(e.getClientRects())}function zhe(e){const t=rd(e),i=UT(e),s=e.ownerDocument.body,r=wl(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),n=wl(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-i.scrollLeft+PO(e);const a=-i.scrollTop;return Zc(s).direction==="rtl"&&(o+=wl(t.clientWidth,s.clientWidth)-r),{width:r,height:n,x:o,y:a}}function jhe(e,t){const i=kl(e),s=rd(e),r=i.visualViewport;let n=s.clientWidth,o=s.clientHeight,a=0,l=0;if(r){n=r.width,o=r.height;const c=DO();(!c||c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:n,height:o,x:a,y:l}}const Khe=new Set(["absolute","fixed"]);function Yhe(e,t){const i=Sg(e,!0,t==="fixed"),s=i.top+e.clientTop,r=i.left+e.clientLeft,n=ju(e)?Iv(e):Iu(1),o=e.clientWidth*n.x,a=e.clientHeight*n.y,l=r*n.x,c=s*n.y;return{width:o,height:a,x:l,y:c}}function aH(e,t,i){let s;if(t==="viewport")s=jhe(e,i);else if(t==="document")s=zhe(rd(e));else if(Jc(t))s=Yhe(t,i);else{const r=L7(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return ZE(s)}function I7(e,t){const i=wf(e);return i===t||!Jc(i)||r0(i)?!1:Zc(i).position==="fixed"||I7(i,t)}function Xhe(e,t){const i=t.get(e);if(i)return i;let s=Fb(e,[],!1).filter(a=>Jc(a)&&rm(a)!=="body"),r=null;const n=Zc(e).position==="fixed";let o=n?wf(e):e;for(;Jc(o)&&!r0(o);){const a=Zc(o),l=kO(o);!l&&a.position==="fixed"&&(r=null),(n?!l&&!r:!l&&a.position==="static"&&!!r&&Khe.has(r.position)||Qw(o)&&!l&&I7(e,o))?s=s.filter(u=>u!==o):r=a,o=wf(o)}return t.set(e,s),s}function qhe(e){let{element:t,boundary:i,rootBoundary:s,strategy:r}=e;const o=[...i==="clippingAncestors"?WT(t)?[]:Xhe(t,this._c):[].concat(i),s],a=o[0],l=o.reduce((c,u)=>{const h=aH(t,u,r);return c.top=wl(h.top,c.top),c.right=s0(h.right,c.right),c.bottom=s0(h.bottom,c.bottom),c.left=wl(h.left,c.left),c},aH(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qhe(e){const{width:t,height:i}=M7(e);return{width:t,height:i}}function Jhe(e,t,i){const s=ju(t),r=rd(t),n=i==="fixed",o=Sg(e,!0,n,t);let a={scrollLeft:0,scrollTop:0};const l=Iu(0);function c(){l.x=PO(r)}if(s||!s&&!n)if((rm(t)!=="body"||Qw(r))&&(a=UT(t)),s){const p=Sg(t,!0,n,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else r&&c();n&&!s&&r&&c();const u=r&&!s&&!n?O7(r,a):Iu(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function QD(e){return Zc(e).position==="static"}function lH(e,t){if(!ju(e)||Zc(e).position==="fixed")return null;if(t)return t(e);let i=e.offsetParent;return rd(e)===i&&(i=i.ownerDocument.body),i}function N7(e,t){const i=kl(e);if(WT(e))return i;if(!ju(e)){let r=wf(e);for(;r&&!r0(r);){if(Jc(r)&&!QD(r))return r;r=wf(r)}return i}let s=lH(e,t);for(;s&&Lhe(s)&&QD(s);)s=lH(s,t);return s&&r0(s)&&QD(s)&&!kO(s)?i:s||Bhe(e)||i}const Zhe=async function(e){const t=this.getOffsetParent||N7,i=this.getDimensions,s=await i(e.floating);return{reference:Jhe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function efe(e){return Zc(e).direction==="rtl"}const tfe={convertOffsetParentRelativeRectToViewportRelativeRect:Whe,getDocumentElement:rd,getClippingRect:qhe,getOffsetParent:N7,getElementRects:Zhe,getClientRects:Uhe,getDimensions:Qhe,getScale:Iv,isElement:Jc,isRTL:efe};function V7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ife(e,t){let i=null,s;const r=rd(e);function n(){var a;clearTimeout(s),(a=i)==null||a.disconnect(),i=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),n();const c=e.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(a||t(),!f||!p)return;const y=Yx(h),v=Yx(r.clientWidth-(u+f)),C=Yx(r.clientHeight-(h+p)),S=Yx(u),x={rootMargin:-y+"px "+-v+"px "+-C+"px "+-S+"px",threshold:wl(0,s0(1,l))||1};let A=!0;function R(O){const k=O[0].intersectionRatio;if(k!==l){if(!A)return o();k?o(!1,k):s=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!V7(c,e.getBoundingClientRect())&&o(),A=!1}try{i=new IntersectionObserver(R,{...x,root:r.ownerDocument})}catch{i=new IntersectionObserver(R,x)}i.observe(e)}return o(!0),n}function sfe(e,t,i,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:n=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=RO(e),u=r||n?[...c?Fb(c):[],...Fb(t)]:[];u.forEach(S=>{r&&S.addEventListener("scroll",i,{passive:!0}),n&&S.addEventListener("resize",i)});const h=c&&a?ife(c,i):null;let f=-1,p=null;o&&(p=new ResizeObserver(S=>{let[_]=S;_&&_.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),i()}),c&&!l&&p.observe(c),p.observe(t));let y,v=l?Sg(e):null;l&&C();function C(){const S=Sg(e);v&&!V7(v,S)&&i(),v=S,y=requestAnimationFrame(C)}return i(),()=>{var S;u.forEach(_=>{r&&_.removeEventListener("scroll",i),n&&_.removeEventListener("resize",i)}),h==null||h(),(S=p)==null||S.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const rfe=Dhe,nfe=Rhe,ofe=The,afe=Phe,lfe=(e,t,i)=>{const s=new Map,r={platform:tfe,...i},n={...r.platform,_c:s};return _he(e,t,{...r,platform:n})};function cfe(e){return e!=null&&typeof e=="object"&&"$el"in e}function cH(e){if(cfe(e)){const t=e.$el;return AO(t)&&rm(t)==="#comment"?null:t}return e}function Yy(e){return typeof e=="function"?e():P(e)}function B7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uH(e,t){const i=B7(e);return Math.round(t*i)/i}function ufe(e,t,i){i===void 0&&(i={});const s=i.whileElementsMounted,r=V(()=>{var k;return(k=Yy(i.open))!=null?k:!0}),n=V(()=>Yy(i.middleware)),o=V(()=>{var k;return(k=Yy(i.placement))!=null?k:"bottom"}),a=V(()=>{var k;return(k=Yy(i.strategy))!=null?k:"absolute"}),l=V(()=>{var k;return(k=Yy(i.transform))!=null?k:!0}),c=V(()=>cH(e.value)),u=V(()=>cH(t.value)),h=We(0),f=We(0),p=We(a.value),y=We(o.value),v=vi({}),C=We(!1),S=V(()=>{const k={position:p.value,left:"0",top:"0"};if(!u.value)return k;const F=uH(u.value,h.value),N=uH(u.value,f.value);return l.value?{...k,transform:"translate("+F+"px, "+N+"px)",...B7(u.value)>=1.5&&{willChange:"transform"}}:{position:p.value,left:F+"px",top:N+"px"}});let _;function x(){if(c.value==null||u.value==null)return;const k=r.value;lfe(c.value,u.value,{middleware:n.value,placement:o.value,strategy:a.value}).then(F=>{h.value=F.x,f.value=F.y,p.value=F.strategy,y.value=F.placement,v.value=F.middlewareData,C.value=k!==!1})}function A(){typeof _=="function"&&(_(),_=void 0)}function R(){if(A(),s===void 0){x();return}if(c.value!=null&&u.value!=null){_=s(c.value,u.value,x);return}}function O(){r.value||(C.value=!1)}return Ot([n,o,a,r],x,{flush:"sync"}),Ot([c,u],R,{flush:"sync"}),Ot(r,O,{flush:"sync"}),Lw()&&fT(A),{x:Td(h),y:Td(f),strategy:Td(p),placement:Td(y),middlewareData:Td(v),isPositioned:Td(C),floatingStyles:S,update:x}}const dfe=(e,t,i,s)=>{const r=V(()=>{const{position:c,align:u}=E7({placement:s.value.placement});return`${c.value}-${u.value}`}),n=V(()=>{const c=s.value.offset,u={mainAxis:0,crossAxis:0};return Array.isArray(c)&&(u.mainAxis=c[0],u.crossAxis=c[1]),typeof c=="number"&&(u.mainAxis=c),u}),o=V(()=>{const{autoPlacement:c,stickToEdges:u,keepAnchorWidth:h,verticalScrollOnOverflow:f}=s.value,p=[rfe(n.value)];return c&&p.push(ofe({boundary:i.value})),u&&p.push(nfe()),(h||f)&&p.push(afe({apply({elements:y,availableHeight:v}){if(h){const S=y.reference.getBoundingClientRect().width;Object.assign(y.floating.style,{maxWidth:`${S}px`,minWidth:`${S}px`})}f&&Object.assign(y.floating.style,{maxHeight:`${v}px`})}})),p}),{floatingStyles:a,isPositioned:l}=typeof document>"u"?{floatingStyles:{},isPositioned:We(!1)}:ufe(e,t,{placement:r,whileElementsMounted:sfe,middleware:o,transform:!0});return{floatingStyles:V(()=>l.value?a.value:{position:"fixed"}),isPositioned:l}},hfe=(e,t)=>!t||t instanceof Window?!1:t.parentElement===e?!0:e.contains(t),ffe=e=>Array.isArray(e)?e:[e],pfe=(e,t,i={})=>{let s=!1;i.onlyKeyboard&&cr("mousedown",r=>{s=!0,setTimeout(()=>{s=!1},200)},!0),cr("focus",r=>{if(i.onlyKeyboard&&s)return;const n=r.target;if(r.target.shadowRoot)return;ffe(e).some(a=>{const l=Nr(P(a));return l&&hfe(l,n)})||t(n)},!0)},JD=e=>V(()=>typeof(e==null?void 0:e.value)=="string"?document==null?void 0:document.querySelector(e.value):Nr(e==null?void 0:e.value)),gfe=dt({name:"VaDropdown",props:{...x7,...r7(!0),modelValue:{type:Boolean,default:!1},anchor:{type:[String,Object],default:void 0},anchorSelector:{type:String,default:""},innerAnchorSelector:{type:String,default:""},trigger:{type:[String,Array],default:()=>["click","space","enter","arrow-down","arrow-up"]},disabled:{type:Boolean},readonly:{type:Boolean},closeOnClickOutside:{type:Boolean,default:!0},closeOnFocusOutside:{type:Boolean,default:!0},closeOnAnchorClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},hoverOverTimeout:{type:[Number,String],default:30},hoverOutTimeout:{type:[Number,String],default:200},isContentHoverable:{type:Boolean,default:!0},offset:{type:[Array,Number],default:0},keepAnchorWidth:{type:Boolean,default:!1},verticalScrollOnOverflow:{type:Boolean,default:!0},cursor:{type:[Boolean,Object],default:!1},autoPlacement:{type:Boolean,default:!0},stickToEdges:{type:Boolean,default:!1},target:{type:[String,Object],default:void 0},teleport:{type:[String,Object],default:void 0},keyboardNavigation:{type:Boolean,default:!0},ariaLabel:mi("$t:toggleDropdown"),role:{type:String,default:"button"},contentClass:{type:String,default:""}},emits:[...Ao,"anchor-click","anchor-right-click","content-click","click-outside","focus-outside","close","open","anchor-dblclick"],setup(e,{emit:t}){const{valueComputed:i}=mr(e,t,"modelValue");Ot(i,x=>{t(x?"open":"close")});const s=jw(),{anchorRef:r}=hhe(e),n=fhe(r,V(()=>!!e.cursor)),o=H0("floating"),a=JD(We("body")),l=JD(V(()=>e.target)),c=JD(V(()=>e.teleport)),u=Is("va-dropdown",()=>xr(e,["disabled"])),h=V(()=>{if(c.value)return c.value;if(l.value)return l.value;if(r.value){const x=r.value.getRootNode();if(x instanceof ShadowRoot){const A=[...x.children].find(R=>R.tagName!=="STYLE");if(A)return A}}return a.value}),f=V(()=>s.value&&i.value);dhe(i,r,o,e);const p=(x,A,R)=>{t(x,R),A&&(i.value=!1)};GT([r,o],()=>{e.closeOnClickOutside&&i.value&&p("click-outside",e.closeOnClickOutside)}),pfe([o],()=>{e.closeOnFocusOutside&&i.value&&p("focus-outside",e.closeOnFocusOutside)},{onlyKeyboard:!0});const y=V(()=>typeof e.cursor=="object"?e.cursor:e.cursor?n.value:r.value),{floatingStyles:v}=dfe(y,o,l,V(()=>({placement:e.placement,offset:e.offset,autoPlacement:e.autoPlacement,stickToEdges:e.stickToEdges,keepAnchorWidth:e.keepAnchorWidth,verticalScrollOnOverflow:e.verticalScrollOnOverflow}))),C=()=>{i.value=!1},S=()=>{i.value=!0},{zIndex:_}=s7(i);return Ot(i,x=>{if(e.keyboardNavigation)if(x)rs(()=>{const A=Nr(o.value);A&&vF(A)});else{if(!r.value)return;vF(r.value)}}),{...Hs(),...l7(),anchorRef:r,anchorClass:u,floating:o,floatingStyles:v,showFloating:f,teleportTarget:h,isMounted:s,valueComputed:i,hide:C,show:S,zIndex:_}},render(){const e={isOpened:this.valueComputed,hide:this.hide,show:this.show,toggle:()=>this.valueComputed?this.hide():this.show(),getAnchorWidth:()=>{var s;return((s=this.anchorRef)==null?void 0:s.offsetWidth)+"px"},getAnchorHeight:()=>{var s;return((s=this.anchorRef)==null?void 0:s.offsetHeight)+"px"}},t=this.showFloating&&LG(this.$slots.default,e,{ref:"floating",class:["va-dropdown__content-wrapper",this.$props.contentClass],style:[this.floatingStyles,{zIndex:this.zIndex}],...this.teleportedAttrs}),i=LG(this.$slots.anchor,e,{ref:"anchorRef",role:this.$props.role,class:["va-dropdown",...this.anchorClass.asArray.value],style:{position:"relative"},"aria-label":this.tp(this.$props.ariaLabel),"aria-disabled":this.$props.disabled,"aria-expanded":this.$props.role&&this.$props.role!=="none"?!!this.showFloating:void 0,...this.teleportFromAttrs,...this.$attrs});if(typeof this.$props.cursor=="object"&&t)return ji(mf,{to:this.teleportTarget,disabled:this.$props.disabled},[t]);if(!this.$props.anchorSelector&&!i){Ps("VaDropdown: #anchor slot is missing");return}if(this.showFloating&&!t){Ps("VaDropdown: default slot is missing");return}return ji(kt,{},[i,t&&ji(mf,{to:this.teleportTarget,disabled:this.$props.disabled},[t])])}}),Pl=zt(gfe),mfe=dt({name:"VaDropdownContent",__name:"VaDropdownContent",props:{noPadding:{type:Boolean,default:!1},background:{type:String,default:"background-secondary"},textColor:{type:String}},setup(e){const t=e,{getColor:i}=xi(),{textColorComputed:s}=yn(Dn(t,"background")),r=V(()=>({background:i(t.background,void 0,!0),color:s.value,padding:t.noPadding?0:void 0}));return(n,o)=>(q(),ve("div",{class:"va-dropdown__content",style:St(r.value),role:"listbox"},[Fe(n.$slots,"default")],4))}}),xg=zt(mfe),dH=e=>typeof e=="object"?e.listen:e,ZD=e=>typeof e=="object"?e.emit:e,nm=e=>{const t=()=>e.map(ZD),i=n=>`on${n.charAt(0).toUpperCase()+n.slice(1)}`;return{createListeners:n=>e.reduce((o,a)=>({...o,[i(dH(a))]:(...l)=>n(ZD(a),...l)}),{}),createVOnListeners:n=>e.reduce((o,a)=>({...o,[dH(a)]:(...l)=>n(ZD(a),...l)}),{}),createEmits:t}},{createEmits:vfe,createVOnListeners:yfe}=nm(["click"]),{createEmits:Cfe,createVOnListeners:bfe}=nm([{listen:"click",emit:"main-button-click"}]),eR=zu(vs(ps),["iconRight","block"]),hH=vs(Pl),wfe=dt({name:"VaButtonDropdown",__name:"VaButtonDropdown",props:{...hi,...eR,...hH,...dn,...x7,modelValue:{type:Boolean,default:!1},stateful:{type:Boolean,default:!0},icon:{type:String,default:"va-arrow-down"},openedIcon:{type:String,default:"va-arrow-up"},hideIcon:{type:Boolean,default:!1},leftIcon:{type:Boolean,default:!1},iconColor:{type:String,default:""},disabled:{type:Boolean,default:!1},disableButton:{type:Boolean,default:!1},disableDropdown:{type:Boolean,default:!1},offset:{type:[Number,Array],default:2},keepAnchorWidth:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},split:{type:Boolean},splitTo:{type:String,default:""},splitHref:{type:String,default:""},loading:{type:Boolean,default:!1},label:{type:String},ariaLabel:mi("$t:toggleDropdown")},emits:["update:modelValue",...vfe(),...Cfe()],setup(e,{expose:t,emit:i}){const s=e,r=i,{valueComputed:n}=mr(s,r),o=V(()=>n.value?s.openedIcon:s.icon),a=so(),l=V(()=>s.hideIcon?{}:{[(s.label||a.label)&&!s.leftIcon?"icon-right":"icon"]:o.value}),c=V(()=>{const _=["to","href","loading","icon"],x=["plain","textOpacity","backgroundOpacity","hoverOpacity","hoverBehavior","hoverOpacity","pressedOpacity","pressedBehavior","pressedOpacity"];return s.preset?Object.keys(zu(eR,[..._,...x])):Object.keys(zu(eR,_))}),u=V(()=>Object.entries(s).filter(([_,x])=>c.value.includes(_)).reduce((_,[x,A])=>(Object.assign(_,{[x]:A}),_),{})),h=V(()=>({to:s.splitTo,href:s.splitHref,loading:s.loading})),f=()=>{n.value=!1},p=Gs(hH),y=yfe(r),v=bfe(r),{t:C,tp:S}=Hs();return t({hideDropdown:f}),(_,x)=>_.$props.split?(q(),nt(P(HT),ut({key:1},u.value,{class:["va-button-dropdown","va-button-dropdown--split"]}),{default:tt(()=>[_.$props.leftIcon?Le("",!0):(q(),nt(P(ps),ut({key:0,disabled:_.$props.disabled||_.$props.disableButton},h.value,Ta(P(v))),{default:tt(()=>[Fe(_.$slots,"label",{},()=>[oi(Mt(e.label),1)])]),_:3},16,["disabled"])),wt(P(Pl),ut(P(p),{modelValue:P(n),"onUpdate:modelValue":x[1]||(x[1]=A=>cs(n)?n.value=A:null),disabled:_.$props.disabled||_.$props.disableDropdown}),{anchor:tt(()=>[wt(P(ps),ut({"aria-label":_.$props.ariaLabel||P(C)("toggleDropdown"),disabled:_.$props.disabled||_.$props.disableDropdown,icon:o.value,"icon-color":_.$props.iconColor},Ta(P(y)),{onKeydown:xt(Dt(f,["prevent"]),["esc"])}),null,16,["aria-label","disabled","icon","icon-color","onKeydown"])]),default:tt(()=>[wt(P(xg),null,{default:tt(()=>[Fe(_.$slots,"default")]),_:3})]),_:3},16,["modelValue","disabled"]),_.$props.leftIcon?(q(),nt(P(ps),ut({key:1,disabled:_.$props.disabled||_.$props.disableButton},h.value,Ta(P(v))),{default:tt(()=>[Fe(_.$slots,"label",{},()=>[oi(Mt(e.label),1)])]),_:3},16,["disabled"])):Le("",!0)]),_:3},16)):(q(),nt(P(Pl),ut({key:0},P(p),{modelValue:P(n),"onUpdate:modelValue":x[0]||(x[0]=A=>cs(n)?n.value=A:null),disabled:_.$props.disabled||_.$props.disableDropdown,class:["va-button-dropdown"]}),{anchor:tt(()=>[wt(P(ps),ut({"aria-label":P(S)(_.$props.ariaLabel)},{...l.value,...u.value},Ta(P(y))),{default:tt(()=>[Fe(_.$slots,"label",{},()=>[oi(Mt(e.label),1)])]),_:3},16,["aria-label"])]),default:tt(()=>[Fe(_.$slots,"content",{},()=>[wt(P(xg),null,{default:tt(()=>[Fe(_.$slots,"default")]),_:3})])]),_:3},16,["modelValue","disabled"]))}}),Sfe=zt(wfe),G7=(e,t)=>{if(t.length===0)return e;const i=e[t[0]];return Zp(i)?G7(i,t.slice(1)):t.length===1?i:void 0},FO=(e,t)=>t in e?e[t]:(t=t.replace(/^\./,""),G7(e,t.split("."))),H7=(e,t)=>{if(!(tl(e)||typeof e!="object"||Array.isArray(e)))return t?typeof t=="string"?FO(e,t):typeof t=="function"?t(e):e:e},$0={options:{type:Array,default:()=>[]},textBy:{type:[String,Function],default:"text"},valueBy:{type:[String,Function],default:""},trackBy:{type:[String,Function],default:""},disabledBy:{type:[String,Function],default:"disabled"},groupBy:{type:[String,Function],default:"group"}};function W0(e){const t=l=>{const c=e.options;for(let u=0;u<c.length;u++)if(a(c[u])===l)return c[u];return l},i=(l,c)=>Zp(l)?H7(l,c):l,s=l=>e.trackBy?i(l,e.trackBy):a(l),r=l=>Zp(l)?i(l,e.disabledBy):!1,n=l=>{const c=i(l,e.textBy);return["number","boolean"].includes(typeof c)?String(c):c},o=l=>{if(Zp(l))return i(l,e.groupBy)},a=l=>i(l,e.valueBy);return{tryResolveByValue:t,getValue:a,getText:n,getDisabled:r,getTrackBy:s,getGroupBy:o}}const fH=vs(HT),xfe=dt({name:"VaButtonToggle",__name:"VaButtonToggle",props:{...fH,...hi,...$0,modelValue:{type:[String,Number,Boolean,Object],default:""},options:{type:Array,required:!0},activeButtonTextColor:{type:String},toggleColor:{type:String,default:""},textBy:{type:[String,Function],default:"label"},valueBy:{type:[String,Function],default:"value"}},emits:["update:modelValue"],setup(e,{emit:t}){const i=e,s=t,{getText:r,getTrackBy:n}=W0(i),{getColor:o,shiftHSLAColor:a}=xi(),l=V(()=>o(i.color)),c=C=>n(C)===i.modelValue,u=V(()=>i.toggleColor?o(i.toggleColor):a(l.value,{l:i.plain?-16:-6})),h=V(()=>!i.preset||i.preset==="default"?{}:{backgroundOpacity:i.pressedOpacity}),f=V(()=>({color:u.value,textColor:i.activeButtonTextColor,...h.value})),p=(C={})=>{const S={icon:C.icon,iconRight:C.iconRight};return c(C)?{...c(C)&&f.value,...S}:S},y=Gs(fH),v=C=>s("update:modelValue",n(C));return(C,S)=>(q(),nt(P(HT),ut({class:"va-button-toggle"},P(y)),{default:tt(()=>[(q(!0),ve(kt,null,si(e.options,_=>(q(),nt(P(ps),ut({key:P(n)(_),"aria-pressed":c(_)},p(_),{onClick:x=>v(_)}),{default:tt(()=>[oi(Mt(P(r)(_)),1)]),_:2},1040,["aria-pressed","onClick"]))),128))]),_:1},16))}}),Efe=zt(xfe),_fe=dt({name:"VaCard",__name:"VaCard",props:{...sm,...hi,tag:{type:String,default:"div"},square:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},bordered:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:""},stripe:{type:Boolean,default:!1},stripeColor:{type:String,default:""},gradient:{type:Boolean,default:!1},textColor:{type:String},color:{type:String,default:"background-secondary"}},setup(e){const t=e,{getColor:i}=xi(),{isLinkTag:s,tagComputed:r,hrefComputed:n}=Nf(t),{textColorComputed:o}=yn(V(()=>i(t.color))),a=V(()=>i(t.stripeColor)),l=Is("va-card",()=>({...xr(t,["square","outlined","disabled","stripe"]),noBorder:!t.bordered,link:s.value})),c=V(()=>({background:t.gradient&&t.color?vO(i(t.color)):i(t.color),color:o.value}));return(u,h)=>(q(),nt(io(P(r)),{class:Et(["va-card",P(l)]),style:St([c.value,`--va-stripe-color-computed: ${String(a.value)}`]),href:P(n),target:e.target,to:u.to,replace:u.replace,exact:u.exact,"active-class":u.activeClass,"exact-active-class":u.exactActiveClass},{default:tt(()=>[Fe(u.$slots,"default")]),_:3},8,["class","style","href","target","to","replace","exact","active-class","exact-active-class"]))}}),Tfe={class:"va-card__content"},Afe=dt({name:"VaCardContent",__name:"VaCardContent",setup(e){return(t,i)=>(q(),ve("div",Tfe,[Fe(t.$slots,"default")]))}}),kfe=dt({name:"VaCardTitle",__name:"VaCardTitle",props:{...hi,textColor:{type:String}},setup(e){const t=e,{getColor:i}=xi(),s=V(()=>({color:t.textColor?i(t.textColor):""}));return(r,n)=>(q(),ve("div",{class:"va-card-title va-card__title",style:St(s.value)},[Fe(r.$slots,"default",{},void 0,!0)],4))}}),om=(e,t)=>{const i=e.__vccOpts||e;for(const[s,r]of t)i[s]=r;return i},Dfe=om(kfe,[["__scopeId","data-v-5cd66b25"]]),Rfe=dt({name:"VaCardActions",__name:"VaCardActions",props:{...A7,...hi},setup(e){const t=e,{alignComputed:i}=k7(t),s=Is("va-card__actions",()=>({...xr(t,["vertical"])}));return(r,n)=>(q(),ve("div",{class:Et(["va-card__actions",P(s)]),style:St(P(i))},[Fe(r.$slots,"default")],6))}}),Pfe=dt({name:"VaCardBlock",__name:"VaCardBlock",props:{horizontal:{type:Boolean,default:!1}},setup(e){const t=e,i=V(()=>({"va-card-block--horizontal":t.horizontal}));return(s,r)=>(q(),ve("div",{class:Et(["va-card-block",i.value])},[Fe(s.$slots,"default")],2))}}),Ffe=zt(Afe),Mfe=zt(Dfe),Lfe=zt(Rfe),Ofe=zt(Pfe),Ife=zt(_fe),Nfe=(e,t)=>{const i=l=>{t.value=l},s=()=>{if(e.infinite&&t.value<=0){t.value=e.items.length-1;return}t.value-=1},r=()=>{if(e.infinite&&t.value>=e.items.length-1){t.value=0;return}t.value+=1},n=V(()=>e.items.length>1),o=V(()=>t.value>0||e.infinite),a=V(()=>t.value<e.items.length-1||e.infinite);return{doShowPrevButton:o,doShowNextButton:a,doShowDirectionButtons:n,goTo:i,prev:s,next:r}},Vfe=(e,t)=>{let i=-1;const s=()=>{e.autoscroll&&(clearInterval(i),i=setInterval(()=>{t.value+=1,t.value>=e.items.length&&(t.value=0)},e.autoscrollInterval))};let r;const n=()=>{e.autoscroll&&(clearInterval(i),r=setTimeout(()=>{s(),clearTimeout(r)},e.autoscrollPauseDuration))},o=()=>{clearInterval(i),clearTimeout(r)};Ri(()=>s()),Rr(()=>o());const a=p=>(...y)=>{n(),p(...y)},l=We({transition:void 0}),c=We(0),u=V(()=>e.effect==="fade"?{...l.value,transition:"none"}:e.vertical?{...l.value,transform:`translateY(${c.value*-100}%)`}:{...l.value,transform:`translateX(${c.value*-100}%)`}),h={isAnimating:!1,speed:.3,order:[],move(p,y){const v=e.items.length-1,C=e.items.length;y===0&&p===v?(this.order.push({to:C}),this.order.push({to:0,animate:!1})):y===v&&p===0?(this.order.push({to:C,animate:!1}),this.order.push({to:y})):this.order.push({to:y}),this.isAnimating||this.runAnimation()},runAnimation(){this.isAnimating=!0;const p=this.order.shift();if(!p){this.isAnimating=!1;return}c.value=p==null?void 0:p.to,p.animate||p.animate===void 0?(l.value.transition=`all ${this.speed}s linear`,setTimeout(()=>{this.runAnimation()},this.speed*1e3)):(l.value.transition="none",setTimeout(()=>{this.runAnimation()},16))}};Ot(t,(p,y)=>{h.move(y,p)});const f=V(()=>e.effect==="fade"?[e.items[t.value]]:e.infinite||e.autoscroll?[...e.items,e.items[0]]:e.items);return{start:s,pause:n,stop:o,withPause:a,computedSlidesStyle:u,slides:f}},Bfe=()=>{const{setHSLAColor:e,getColor:t}=xi();return{computedColor:V(()=>e(t("background-element"),{a:.7})),computedHoverColor:V(()=>e(t("primary"),{a:.7})),computedActiveColor:V(()=>t("primary"))}},Gfe={src:{type:String,required:!0},alt:{type:String,default:""},title:{type:String,default:""},sizes:{type:String,default:""},srcset:{type:String,default:""},draggable:{type:Boolean,default:!0},loading:{type:String},crossorigin:{type:String},decoding:{type:String},fetchpriority:{type:String,default:"auto"},referrerpolicy:{type:String}},Hfe=e=>V(()=>xr(e,["src","alt","title","sizes","srcset","loading","referrerpolicy","fetchpriority","decoding","crossorigin","draggable"])),$7=(e,t=We({}),i=We([]),s=!0)=>{const r=We(),n=()=>{var u;(u=r.value)==null||u.disconnect()},o=u=>{var h;const f=Nr(P(u));f&&((h=r.value)==null||h.observe(f))},a=u=>{u.forEach(o)},l=()=>{r.value=new IntersectionObserver(e,t.value)},c=V(()=>!s||!(typeof window<"u"&&"IntersectionObserver"in window));return Ot([i,t],([u])=>{c.value||(n(),u&&(l(),Array.isArray(u)?a(u):o(u)))},{immediate:!0}),Rr(n),{isIntersectionDisabled:c}},$fe=["aria-busy"],Wfe={key:0,class:"va-image__overlay"},Ufe={key:1,class:"va-image__error"},zfe={key:2,class:"va-image__loader"},jfe={key:3,class:"va-image__placeholder"},Kfe=["src"],pH=vs(i0),Yfe=dt({name:"VaImage",__name:"VaImage",props:{...hi,...Gfe,...pH,ratio:{type:[Number,String],default:"auto",validator:e=>typeof e=="number"?e>0:e==="auto"},fit:{type:String,default:"cover"},maxWidth:{type:[Number,String],default:0,validator:e=>Number(e)>=0},lazy:{type:Boolean,default:!1},placeholderSrc:{type:String,default:""}},emits:["loaded","error","fallback"],setup(e,{emit:t}){const i=e,s=t,r=We(),n=We(),o=We(),a=V(()=>o.value||i.src),l=We(1),c=We(1),u=We(!1),h=We(!1),f=()=>{var Te;u.value=!0,S.value&&(u.value=!1,o.value=(Te=n.value)==null?void 0:Te.currentSrc,O(),s("loaded",a.value))},p=Te=>{h.value=!0,u.value=!1,s("error",Te||a.value)},y=We(!1),v=(Te,Ie)=>{Te.forEach(he=>{he.isIntersecting&&(y.value=!0,A(),Ie.disconnect())})},{isIntersectionDisabled:C}=$7(v,void 0,r,i.lazy),S=V(()=>C.value||y.value),_=jw(),x=V(()=>!i.lazy||i.lazy&&_.value&&S.value),A=()=>{!i.src||u.value&&C.value||!S.value||(u.value=!0,h.value=!1,rs(()=>{var Te;if((Te=n.value)!=null&&Te.complete){if(!n.value.naturalWidth){p();return}f()}}))};let R;const O=()=>{clearTimeout(R),u.value&&(R=window.setTimeout(O,100));const{naturalHeight:Te,naturalWidth:Ie}=n.value||{};Te&&Ie&&(l.value=Te,c.value=Ie)};V0(A),Rr(()=>clearTimeout(R)),Ot(()=>i.src,A);const k=so(),F=V(()=>{var Te;return((Te=k==null?void 0:k.placeholder)==null?void 0:Te.call(k))||i.placeholderSrc}),N=V(()=>{var Te;return u.value&&!((Te=k==null?void 0:k.loader)!=null&&Te.call(k))}),j=V(()=>{var Te;return h.value&&!((Te=k==null?void 0:k.error)!=null&&Te.call(k))&&!ie.value}),ee=V(()=>(N.value||j.value)&&F.value),K=V(()=>!(u.value||h.value)),Q=Hfe(i),be=V(()=>({...xr(i,["ratio","maxWidth"]),contentWidth:l.value,contentHeight:c.value})),te=Gs(pH),ne=Te=>!!Object.values(Te||{}).filter(Ie=>Ie).length,H=V(()=>{var Te,Ie,he,Ee;return ne((Ee=(he=(Ie=(Te=id())==null?void 0:Te.globalConfig)==null?void 0:Ie.value)==null?void 0:he.components)==null?void 0:Ee.VaFallback)}),ie=V(()=>ne(te.value)||H.value),ue=V(()=>i.fit);return(Te,Ie)=>(q(),nt(P(y7),ut({ref_key:"root",ref:r,class:"va-image"},be.value,{style:`--va-fit-computed: ${String(ue.value)}`}),{default:tt(()=>[Ss(me("picture",{class:"va-image__content","aria-busy":u.value},[Te.$slots.sources?Fe(Te.$slots,"sources",{key:0}):Le("",!0),x.value?(q(),ve("img",ut({key:1,ref_key:"image",ref:n},P(Q),{onError:p,onLoad:f}),null,16)):Le("",!0)],8,$fe),[[or,K.value]]),Te.$slots.default&&K.value?(q(),ve("div",Wfe,[Fe(Te.$slots,"default")])):Le("",!0),h.value&&(Te.$slots.error||ie.value)?(q(),ve("div",Ufe,[Fe(Te.$slots,"error",{},()=>[wt(P(i0),ut(P(te),{onFallback:Ie[0]||(Ie[0]=he=>Te.$emit("fallback"))}),null,16)])])):Le("",!0),u.value&&Te.$slots.loader?(q(),ve("div",zfe,[Fe(Te.$slots,"loader")])):Le("",!0),ee.value?(q(),ve("div",jfe,[Fe(Te.$slots,"placeholder",{},()=>[Te.$props.placeholderSrc?(q(),ve("img",{key:0,src:Te.$props.placeholderSrc,alt:""},null,8,Kfe)):Le("",!0)])])):Le("",!0)]),_:3},16,["style"]))}}),MO=zt(Yfe),Xfe=dt({name:"VaHover",__name:"VaHover",props:{...r7(!0),...hi,disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:[...Ao],setup(e,{emit:t}){const i=e,s=t,{valueComputed:r}=mr(i,s),n=()=>{i.disabled||(r.value=!0)},o=()=>{i.disabled||(r.value=!1)};return(a,l)=>(q(),ve("div",{class:"va-hover",onMouseenter:n,onMouseleave:o},[Fe(a.$slots,"default",Ft(Wt({hover:P(r)})))],32))}}),j1=zt(Xfe),qfe=["mousedown","mousemove"],Qfe=["touchstart","touchmove"],LO={vertical:["","all","vertical"],horizontal:["","all","horizontal"]},Jfe=[...LO.vertical,"up","down"],Zfe=[...LO.horizontal,"left","right"],epe={swipable:{type:Boolean,default:!1},swipeDistance:{type:Number,default:75},swipeDirection:{type:String,default:"all"}},tpe=(e,t,i)=>{const s=We(!1),r=Nn({start:{x:0,y:0},end:{x:0,y:0}}),n=Nn({start:0,end:0}),o=(y,v)=>{let C;if(qfe.includes(y.type)&&(C=y),Qfe.includes(y.type)){const S=y;C=S.changedTouches[S.changedTouches.length-1]}C&&(r[v].x=C.pageX,r[v].y=C.pageY,n[v]=new Date().getTime())},a=y=>{!e.swipable||s.value||(s.value=!0,o(y,"start"))},l=y=>{s.value&&o(y,"end")},c=()=>{["start","end"].forEach(y=>{r[y].x=0,r[y].y=0,n[y]=0}),s.value=!1},u=Nn({vertical:!1,horizontal:!1});Fa(()=>{u.horizontal=Zfe.includes(e.swipeDirection),u.vertical=Jfe.includes(e.swipeDirection)});const h=y=>u[y==="x"?"horizontal":"vertical"]&&r.start[y]&&r.end[y]?Math.trunc(r.start[y]-r.end[y]):0,f=(y,v)=>v===e.swipeDirection||LO[y].includes(e.swipeDirection)?v:"",p=Nn({direction:"",duration:0});return Ot(r,()=>{const y=h("x"),v=h("y");if((y||v)&&[y,v].some(C=>Math.abs(C)>=e.swipeDistance)){if(Math.abs(y)>=Math.abs(v)&&u.horizontal){const C=y>0?"left":"right";p.direction=f("horizontal",C)}else if(Math.abs(y)<Math.abs(v)&&u.vertical){const C=v>0?"down":"up";p.direction=f("vertical",C)}p.duration=n.end-n.start,c()}},{deep:!0}),Ot(p,()=>i(p),{deep:!0}),e.swipable&&(cr(["touchstart","mousedown"],a,t),cr(["touchmove","mousemove"],l,t),cr(["touchcancel","mouseup","touchend","mouseleave"],c,t)),{swipeState:p}},ipe=["aria-label"],spe={key:1,class:"va-carousel__indicators"},rpe={class:"va-carousel__content"},npe=["aria-hidden","aria-current","aria-label"],gH=vs(MO,["src","alt"]),ope=dt({name:"VaCarousel",__name:"VaCarousel",props:{...epe,...dn,...hi,...gH,stateful:{type:Boolean,default:!0},modelValue:{type:Number,default:0},items:{type:Array,required:!0},autoscroll:{type:Boolean,default:!1},autoscrollInterval:{type:[Number,String],default:5e3},autoscrollPauseDuration:{type:[Number,String],default:2e3},infinite:{type:Boolean,default:!0},fadeKeyframe:{type:String,default:"va-carousel-fade-appear 1s"},arrows:{type:Boolean,default:!0},indicators:{type:Boolean,default:!0},indicatorTrigger:{type:String,default:"click",validator:e=>["click","hover","none"].includes(e)},vertical:{type:Boolean,default:!1},height:{type:String,default:"300px"},effect:{type:String,default:"transition",validator:e=>["fade","transition"].includes(e)},color:{type:String,default:"primary"},ratio:{type:[Number,String]},ariaLabel:mi("$t:carousel"),ariaPreviousLabel:mi("$t:goPreviousSlide"),ariaNextLabel:mi("$t:goNextSlide"),ariaGoToSlideLabel:mi("$t:goSlide"),ariaSlideOfLabel:mi("$t:slideOf")},emits:[...Ao],setup(e,{expose:t,emit:i}){const s=e,r=i,{valueComputed:n}=mr(s,r,"modelValue"),o=Bi("autoscrollInterval"),a=Bi("autoscrollPauseDuration"),l=Bi("ratio"),{goTo:c,next:u,prev:h,doShowNextButton:f,doShowPrevButton:p,doShowDirectionButtons:y}=Nfe(s,n),{withPause:v,computedSlidesStyle:C,slides:S}=Vfe({items:s.items,autoscrollInterval:o.value,autoscrollPauseDuration:a.value,autoscroll:s.autoscroll,infinite:s.infinite,effect:s.effect,vertical:s.vertical,fadeKeyframe:s.fadeKeyframe},n),_=V(()=>s.items.length&&s.items.every(ne=>!!ne&&typeof ne=="object"&&!!(ne!=null&&ne.src))),x=ne=>ne===n.value,A=V(()=>({animation:s.effect==="fade"?"fadeKeyframe":void 0})),R=vi();tpe(s,R,ne=>{switch(ne.direction){case"right":case"up":p.value&&h();break;case"left":case"down":f.value&&u()}});const k=ne=>s.indicatorTrigger==="hover"?{onmouseover:()=>c(ne)}:s.indicatorTrigger==="click"?{onclick:()=>c(ne)}:{},{tp:F}=Hs(),{computedActiveColor:N,computedColor:j,computedHoverColor:ee}=Bfe(),K=Gs(gH),Q=v(c),be=v(h),te=v(u);return t({currentSlide:n,goTo:c,next:u,prev:h,goToWithPause:Q,prevWithPause:be,nextWithPause:te}),(ne,H)=>(q(),ve("div",{class:Et(["va-carousel",{"va-carousel--vertical":ne.$props.vertical,[`va-carousel--${ne.$props.effect}`]:!0}]),style:St({height:P(l)?"auto":e.height}),role:"region","aria-label":P(F)(ne.$props.ariaLabel)},[ne.$props.arrows&&P(y)?(q(),ve(kt,{key:0},[P(p)?(q(),ve("div",{key:0,class:"va-carousel__arrow va-carousel__arrow--left",onClick:H[0]||(H[0]=(...ie)=>P(be)&&P(be)(...ie)),onKeydown:H[1]||(H[1]=xt(Dt((...ie)=>P(be)&&P(be)(...ie),["stop"]),["enter"]))},[Fe(ne.$slots,"prev-arrow",{},()=>[wt(P(j1),{stateful:""},{default:tt(({hover:ie})=>[wt(P(ps),{color:P(ie?ee:j),icon:e.vertical?"va-arrow-up":"va-arrow-left","aria-label":P(F)(ne.$props.ariaPreviousLabel)},null,8,["color","icon","aria-label"])]),_:1})])],32)):Le("",!0),P(f)?(q(),ve("div",{key:1,class:"va-carousel__arrow va-carousel__arrow--right",onClick:H[2]||(H[2]=(...ie)=>P(te)&&P(te)(...ie)),onKeydown:H[3]||(H[3]=xt(Dt((...ie)=>P(te)&&P(te)(...ie),["stop"]),["enter"]))},[Fe(ne.$slots,"next-arrow",{},()=>[wt(P(j1),{stateful:""},{default:tt(({hover:ie})=>[wt(P(ps),{color:P(ie?ee:j),icon:e.vertical?"va-arrow-down":"va-arrow-right","aria-label":P(F)(ne.$props.ariaNextLabel)},null,8,["color","icon","aria-label"])]),_:1})])],32)):Le("",!0)],64)):Le("",!0),ne.$props.indicators?(q(),ve("div",spe,[(q(!0),ve(kt,null,si(ne.$props.items,(ie,ue)=>(q(),ve("div",ut({class:["va-carousel__indicator",{"va-carousel__indicator--active":x(ue)}],key:ue},k(ue)),[Fe(ne.$slots,"indicator",Ft(Wt({item:ie,index:ue,goTo:P(Q),isActive:x(ue)})),()=>[wt(P(j1),{stateful:""},{default:tt(({hover:Te})=>[wt(P(ps),{"aria-label":P(F)(ne.$props.ariaGoToSlideLabel,{index:ue+1}),round:"",color:x(ue)?P(N):P(Te?ee:j)},{default:tt(()=>[oi(Mt(ue+1),1)]),_:2},1032,["aria-label","color"])]),_:2},1024)])],16))),128))])):Le("",!0),me("div",rpe,[me("div",{ref_key:"slidesContainer",ref:R,class:"va-carousel__slides",style:St(P(C)),role:"list"},[(q(!0),ve(kt,null,si(P(S),(ie,ue)=>(q(),ve("div",{key:ie,role:"listitem",class:"va-carousel__slide",style:St(A.value),"aria-hidden":!x(ue),"aria-current":x(ue),"aria-label":P(F)(ne.$props.ariaSlideOfLabel,{index:ue+1,length:P(S).length})},[Fe(ne.$slots,"default",Ft(Wt({item:ie,index:ue,goTo:P(Q),isActive:x(ue)})),()=>[wt(P(MO),ut(P(K),{src:_.value?ie.src:ie,alt:_.value?ie.alt:"",draggable:!1}),null,16,["src","alt"])])],12,npe))),128))],4)])],14,ipe))}}),ape=zt(ope),OO={...dn,...Kw,...sh,arrayValue:{type:[String,Boolean,Object,Number],default:null},label:{type:String,default:""},leftLabel:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},indeterminate:{type:Boolean,default:!1},indeterminateValue:{type:null,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},zT=[...If,"update:modelValue","focus","blur"],lpe=e=>{const t=[e.falseValue,e.trueValue];if(e.indeterminate&&t.push(e.indeterminateValue),new Set(t).size!==t.length)throw new Error("falseValue, trueValue, indeterminateValue props should have strictly different values, which is not the case.")},IO=(e,t,{input:i,label:s,container:r})=>{lpe(e);const n=()=>f(()=>{t("update:modelValue",!1),p()}),o=()=>{var j;(j=Nr(i.value))==null||j.focus()},{valueComputed:a}=mr(e,t),{computedError:l,computedErrorMessages:c,validationAriaAttributes:u,listeners:h,withoutValidation:f,resetValidation:p,isDirty:y,isTouched:v,isError:C,isLoading:S,isValid:_}=rh(e,t,{reset:n,focus:o,value:a}),{isFocused:x}=nh(),A=j=>{t("blur",j),x.value=!1,h.onBlur()},R=j=>{x.value=!0,t("focus",j)},O=V(()=>e.indeterminate&&a.value===e.indeterminateValue),k=V(()=>e.arrayValue!==void 0&&e.arrayValue!==null),F=V(()=>{var j;return k.value?(j=e.modelValue)==null?void 0:j.includes(e.arrayValue):a.value===e.trueValue});return{isDirty:y,isTouched:v,isError:C,isLoading:S,isValid:_,isChecked:F,isIndeterminate:O,onBlur:A,onFocus:R,toggleSelection:()=>{if(!(e.readonly||e.disabled||e.loading)){if(k.value){e.modelValue?Array.isArray(e.modelValue)?e.modelValue.includes(e.arrayValue)?t("update:modelValue",e.modelValue.filter(j=>j!==e.arrayValue)):t("update:modelValue",e.modelValue.concat(e.arrayValue)):t("update:modelValue",e.modelValue===e.arrayValue?[]:[e.modelValue,e.arrayValue]):t("update:modelValue",[e.arrayValue]);return}if(e.indeterminate){O.value?a.value=e.trueValue:F.value?a.value=e.falseValue:a.value=e.indeterminateValue;return}F.value?a.value=e.falseValue:a.value=e.trueValue}},reset:n,focus:o,computedError:l,computedErrorMessages:c,validationAriaAttributes:u}};var mH;function U0(){const e=We(!1);let t=!1;return{hasKeyboardFocus:e,keyboardFocusListeners:{mousedown:()=>{t=!0},focus:()=>{t||(e.value=!0),t=!1},blur:()=>{e.value=!1,t=!1}}}}let wF=!1;(mH=U5())==null||mH.addEventListener("mousedown",()=>{wF=!0,setTimeout(()=>{wF=!1},300)});function cpe(){const e=We(!1);return{hasKeyboardFocus:e,keyboardFocusListeners:{focus:()=>{wF||(e.value=!0)},blur:()=>{e.value=!1}}}}const upe=["id","indeterminate","value","checked"],dpe=["for"],vH=[Boolean,Array,String,Object],hpe=dt({name:"VaCheckbox",__name:"VaCheckbox",props:{...OO,...hi,modelValue:{type:vH,default:!1},color:{type:String,default:"primary"},checkedIcon:{type:String,default:"va-check"},indeterminate:{type:Boolean,default:!1},indeterminateValue:{type:vH,default:null},indeterminateIcon:{type:String,default:"remove"},id:{type:String,default:""},name:{type:String,default:""},ariaLabel:{type:String,default:void 0},vertical:{type:Boolean,default:!1}},emits:zT,setup(e,{expose:t,emit:i}){const s=e,r=i,n={container:vi(),input:vi(),label:vi()},{isChecked:o,computedError:a,isIndeterminate:l,computedErrorMessages:c,validationAriaAttributes:u,toggleSelection:h,onBlur:f,onFocus:p,isDirty:y,isTouched:v,isError:C,isLoading:S,isValid:_}=IO(s,r,n),{getColor:x}=xi(),{hasKeyboardFocus:A,keyboardFocusListeners:R}=U0(),{textColorComputed:O}=yn(V(()=>x(s.color))),k=V(()=>o.value||l.value),F=V(()=>({"va-checkbox--selected":o.value,"va-checkbox--readonly":s.readonly,"va-checkbox--disabled":s.disabled,"va-checkbox--indeterminate":s.indeterminate,"va-checkbox--error":a.value,"va-checkbox--left-label":s.leftLabel,"va-checkbox--on-keyboard-focus":A.value})),N=()=>{switch(!0){case!s.label:return"";case s.vertical:return"var(--va-checkbox-vertical-padding)";case!!s.arrayValue:return"var(--va-checkbox-horizontal-padding)";case s.leftLabel:return"var(--va-checkbox-right-padding)";default:return"var(--va-checkbox-left-padding)"}},j=V(()=>({color:a.value?x("danger"):s.success?x("success"):"",padding:N()})),ee=V(()=>{const ie={background:k.value?x(s.color):"",borderColor:k.value?x(s.color):""};return a.value&&(ie.borderColor=x("danger")),s.success&&(ie.borderColor=x("success")),ie}),K=V(()=>s.indeterminate&&l.value?s.indeterminateIcon:s.checkedIcon),Q=sd(),be=V(()=>s.id||String(Q)),te=V(()=>s.name||String(Q)),ne=V(()=>({name:te.value,disabled:s.disabled,readonly:s.readonly,tabindex:s.disabled?-1:0,"aria-label":s.ariaLabel,"aria-disabled":s.disabled,"aria-readOnly":s.readonly,"aria-checked":k.value,...u.value})),H=V(()=>s.vertical?"--va-checkbox-display-flex":"var(--va-checkbox-display)");return t({toggleSelection:h,isDirty:y,isTouched:v,isError:C,isLoading:S,isValid:_}),(ie,ue)=>(q(),nt(P(IT),{class:Et(["va-checkbox",F.value]),disabled:ie.disabled,success:ie.success,messages:ie.messages,error:P(a),"error-messages":P(c),"error-count":ie.errorCount,style:St(`--va-display-val: ${String(H.value)}`)},{default:tt(()=>[me("div",{ref:"container",class:"va-checkbox__input-container",onClick:ue[6]||(ue[6]=(...Te)=>P(h)&&P(h)(...Te)),onBlur:ue[7]||(ue[7]=(...Te)=>P(f)&&P(f)(...Te))},[me("div",{class:"va-checkbox__square",style:St(ee.value),onSelectstart:ue[4]||(ue[4]=Dt(()=>{},["prevent"]))},[me("input",ut({ref:"input",type:"checkbox",class:"va-checkbox__input",id:be.value,indeterminate:e.indeterminate,value:ie.label,checked:k.value},ne.value,Ta(P(R),!0),{onFocus:ue[0]||(ue[0]=(...Te)=>P(p)&&P(p)(...Te)),onBlur:ue[1]||(ue[1]=(...Te)=>P(f)&&P(f)(...Te)),onClick:ue[2]||(ue[2]=Dt(()=>{},["stop","prevent"])),onKeypress:ue[3]||(ue[3]=Dt((...Te)=>P(h)&&P(h)(...Te),["prevent"]))}),null,16,upe),k.value?(q(),nt(P(ns),{key:0,class:"va-checkbox__icon",name:K.value,color:P(O)},null,8,["name","color"])):Le("",!0)],36),ie.label||ie.$slots.label?(q(),ve("label",{key:0,ref:"label",class:"va-checkbox__label",for:be.value,style:St(j.value),onBlur:ue[5]||(ue[5]=(...Te)=>P(f)&&P(f)(...Te))},[Fe(ie.$slots,"label",{},()=>[oi(Mt(ie.label),1)])],44,dpe)):Le("",!0)],544)]),_:3},8,["class","disabled","success","messages","error","error-messages","error-count","style"]))}}),Jw=zt(hpe),fpe={class:"va-chip__content"},ppe=dt({name:"VaChip",__name:"VaChip",props:{...sm,...yO,...dn,...hi,modelValue:{type:Boolean,default:!0},closeable:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},square:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},icon:{type:String,default:""},tag:{type:String,default:"span"},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},ariaCloseLabel:mi("$t:close")},emits:[...Ao,"focus"],setup(e,{expose:t,emit:i}){const s=e,r=i,{getColor:n}=xi(),o=V(()=>n(s.color)),a=V(()=>s.outline?o.value:""),l=V(()=>!!(s.outline||s.flat)),{textColorComputed:c}=yn(o,l),{hasKeyboardFocus:u,keyboardFocusListeners:h}=U0(),f=V(()=>{if(!(!s.shadow||s.flat||s.outline||s.disabled||u.value))return`0 0.125rem 0.19rem 0 ${I5(o.value)}`}),{valueComputed:p}=mr(s,r),{tagComputed:y,hrefComputed:v}=Nf(s),{isHovered:C,onMouseEnter:S,onMouseLeave:_}=Yw(),x=()=>{s.disabled||(p.value=!1)},A=V(()=>s.size),R=V(()=>s.disabled?-1:0),O=Is("va-chip",()=>({...xr(s,["disabled","readonly","square"]),small:s.size==="small",large:s.size==="large"})),k=V(()=>{const N={color:c.value,borderColor:a.value,background:"",boxShadow:f.value};return s.outline||s.flat?u.value?N.background=V5(o.value):!s.readonly&&C.value&&(N.background=N5(o.value)):N.background=o.value,N}),{tp:F}=Hs();return t({close:x}),(N,j)=>P(p)?(q(),nt(io(P(y)),{key:0,class:Et(["va-chip",P(O)]),href:P(v),target:N.target,to:N.to,replace:N.replace,exact:N.exact,"active-class":N.activeClass,"exact-active-class":N.exactActiveClass,style:St(k.value)},{default:tt(()=>[me("span",ut({class:"va-chip__inner",onFocus:j[0]||(j[0]=ee=>N.$emit("focus")),onMouseenter:j[1]||(j[1]=(...ee)=>P(S)&&P(S)(...ee)),onMouseleave:j[2]||(j[2]=(...ee)=>P(_)&&P(_)(...ee))},Ta(P(h),!0)),[e.icon?(q(),nt(P(ns),{key:0,class:"va-chip__icon",name:e.icon,size:A.value},null,8,["name","size"])):Le("",!0),me("span",fpe,[Fe(N.$slots,"default")]),e.closeable?(q(),nt(P(ns),{key:1,role:"button",name:"va-close",class:"va-chip__close-icon","aria-label":P(F)(N.$props.ariaCloseLabel),tabindex:R.value,size:A.value,onClick:Dt(x,["stop"]),onKeydown:[xt(Dt(x,["stop"]),["enter"]),xt(Dt(x,["stop"]),["space"])]},null,8,["aria-label","tabindex","size","onKeydown"])):Le("",!0)],16)]),_:3},8,["href","target","to","replace","exact","active-class","exact-active-class","class","style"])):Le("",!0)}}),gpe=zt(ppe),mpe={class:"va-collapse__header__text"},vpe=["id","aria-labelledby"],ype={class:"va-collapse__content"},Cpe=dt({name:"VaCollapse",__name:"VaCollapse",props:{...hi,...dn,modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},header:{type:String,default:""},icon:{type:String,default:""},color:{type:String,default:void 0},bodyColor:{type:String,default:void 0},textColor:{type:String,default:""},bodyTextColor:{type:String,default:""},iconColor:{type:String,default:"secondary"},colorAll:{type:Boolean,default:!1},stateful:{type:Boolean,default:!0}},emits:["update:modelValue",...zT],setup(e,{expose:t,emit:i}){const s=e,r=i,n=vi(),{valueComputed:o}=mr(s,r,"modelValue"),{getColor:a,getTextColor:l,setHSLAColor:c}=xi(),{accordionProps:u,accordionItemValue:h}=fde(),f=V({get(){return o.userProvided||tl(h)?o.value:h.value},set(te){tl(h)||(h.value=te),o.value=te}});o.userProvided&&!tl(h)&&(h.value=o.value);const p=We();bg([n],([te])=>{p.value=te.contentRect.height??0});const y=V(()=>f.value?p.value:0),v=()=>{const te=y.value/1e3*.2;return`${te>.2?te:.2}s`},C=V(()=>s.bodyColor?a(s.bodyColor):s.color&&s.colorAll?c(a(s.color),{a:.07}):void 0),S=V(()=>s.color?a(s.color):void 0),_=sd(),x=V(()=>`header-${_}`),A=V(()=>`panel-${_}`),R=V(()=>s.disabled?-1:0),O=V(()=>({id:x.value,tabindex:R.value,"aria-controls":A.value,"aria-expanded":f.value,"aria-disabled":s.disabled,role:"button"})),k=We(!1);Ot(y,(te,ne)=>{ne!==void 0&&k.value!==!0&&(k.value=!0)});const F=te=>{te.propertyName==="height"&&te.target===te.currentTarget&&(k.value=!1)},N=Is("va-collapse",()=>({...xr(s,["disabled"]),expanded:f.value,active:f.value,popout:!!(u.value.popout&&f.value),inset:!!(u.value.inset&&f.value),"height-changing":k.value,"colored-body":!!C.value,"colored-header":!!S.value})),j=()=>{s.disabled||(f.value=!f.value)},{textColorComputed:ee}=yn(S),K=V(()=>({color:ee.value,backgroundColor:S.value})),Q=V(()=>!!(f.value||k.value)),be=V(()=>({height:`${y.value}px`,transitionDuration:v(),background:f.value?C.value:"",color:s.bodyTextColor?a(s.bodyTextColor):C.value?a(l(C.value)):"currentColor"}));return t({toggle:j}),(te,ne)=>(q(),ve("div",{class:Et(["va-collapse",P(N)])},[me("div",{class:"va-collapse__header-wrapper",onClick:j,onKeydown:[xt(j,["enter"]),xt(j,["space"])]},[Fe(te.$slots,"header",Ft(Wt({value:f.value,bind:O.value,attributes:O.value,attrs:O.value,iconAttrs:{class:["va-collapse__expand-icon",f.value?"a-collapse__expand-icon--expanded":"a-collapse__expand-icon--collapsed"]},text:e.header})),()=>[me("div",ut(O.value,{class:"va-collapse__header",style:K.value}),[e.icon?(q(),nt(P(ns),{key:0,class:"va-collapse__header__icon",name:e.icon},null,8,["name"])):Le("",!0),Fe(te.$slots,"header-content",Ft(Wt({header:e.header})),()=>[me("div",mpe,Mt(e.header),1)]),Fe(te.$slots,"expand-icon",{},()=>[wt(P(ns),{class:Et(["va-collapse__expand-icon",f.value?"va-collapse__expand-icon--expanded":"va-collapse__expand-icon--collapsed"]),name:"va-arrow-down"},null,8,["class"])])],16)])],32),me("div",{class:Et(["va-collapse__body-wrapper",{"va-collapse__body-wrapper--bordered":!te.$slots.body&&!te.$slots.header}]),style:St(be.value),onTransitionend:F},[Q.value?(q(),ve("div",{key:0,class:"va-collapse__body",ref_key:"body",ref:n,role:"region",id:A.value,"aria-labelledby":x.value},[Fe(te.$slots,"body",{},()=>[me("div",ype,[Fe(te.$slots,"default",{},()=>[Fe(te.$slots,"content")])])])],8,vpe)):Le("",!0)],38)],2))}}),bpe=zt(Cpe),wpe=dt({name:"VaColorIndicator",__name:"VaColorIndicator",props:{...dn,...hi,modelValue:{type:Boolean,default:null},color:{type:String,default:""},square:{type:Boolean,default:!1},size:{type:String,default:"1rem"}},emits:[...Ao],setup(e,{emit:t}){const i=e,s=t,{valueComputed:r}=mr(i,s),{getColor:n}=xi(),{hasKeyboardFocus:o,keyboardFocusListeners:a}=U0(),l=V(()=>n(i.color)),c=V(()=>i.square?"0px":"50%"),u=V(()=>({backgroundColor:l.value,height:i.size,width:i.size})),h=V(()=>({"va-color-indicator--selected":r.value,"va-color-indicator--on-keyboard-focus":o.value})),f=()=>{r.value=!r.value};return(p,y)=>(q(),ve("div",ut({class:["va-color-indicator",h.value],style:[u.value,`--va-border-radius-computed: ${String(c.value)}`],onClick:f,onKeydown:[xt(f,["enter"]),xt(f,["space"])]},Ta(P(a),!0)),[me("div",{class:"va-color-indicator__core",style:St(u.value)},null,4)],16))}}),NO=zt(wpe),Spe={key:0,class:"va-input-label__required-mark"},W7=dt({name:"VaInputLabel",__name:"VaInputLabel",props:{label:{type:String,default:""},requiredMark:{type:Boolean,default:!1},color:{type:String,default:"primary"}},setup(e){const{getColor:t}=xi();return(i,s)=>(q(),ve("label",{"aria-hidden":"true",class:"va-input-label",style:St({color:P(t)(i.$props.color,void 0,!0)})},[Fe(i.$slots,"default",Ft(Wt({label:e.label,requiredMark:e.requiredMark,color:P(t)(i.$props.color)})),()=>[oi(Mt(e.label)+" ",1),e.requiredMark?(q(),ve("span",Spe," * ")):Le("",!0)])],4))}}),xpe={label:{type:String,default:""},inputAriaLabel:mi("$t:inputField"),inputAriaLabelledby:{type:String},inputAriaDescribedby:{type:String}},Epe=e=>{const t=sd(),i=`input-label-${t}`,s=`input-character-count-${t}`,r=V(()=>({"aria-label":e.label!==""?e.label:e.inputAriaLabel,"aria-labelledby":e.inputAriaLabelledby?e.inputAriaLabelledby:i,"aria-describedby":e.inputAriaDescribedby?e.inputAriaDescribedby:s}));return{labelId:i,characterCountId:s,ariaAttributes:r}},_pe=e=>dt({name:"ProxySlots",props:{inheritSlots:{type:Array,required:!0}},render(){var t;const i=((t=this.$parent)==null?void 0:t.$slots)||{},r=(this.$props.inheritSlots||Object.keys(i)).reduce((n,o)=>(i[o]&&(n[o]=i[o]),n),{});return ji(e,this.$attrs,{...r,...this.$slots})}}),Vf={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},U7=(e,t)=>({computedClasses:Is(e,V(()=>xr(t,["disabled","readonly"])))}),VO=e=>{const t=e7(),i=EO(e?H0(e):void 0);let s=null;const r=V({get(){var n;if(!t.value)return!1;if(t.value===i.value)return!0;const o=(n=i.value)==null?void 0:n.contains(t.value);return o&&(s=t.value),o},set(n){var o;let a=s??i.value;(o=i.value)!=null&&o.contains(a)||(a=i.value),n?a==null||a.focus():a==null||a.blur()}});return Object.assign(r,{focusIfNothingIfFocused:()=>{t.value===document.body&&(r.value=!0)},focusPreviousElement:()=>{s?s.focus():document.body.focus()}})},yH=vs(W7),Tpe=dt({name:"VaInputWrapper",components:{VaMessageList:_pe(OT),VaIcon:ns,VaInputLabel:W7},props:{...hi,...xpe,...Vf,...sh,...yH,modelValue:{type:null,default:""},counter:{type:Boolean},maxLength:{type:[Number,String],default:void 0},label:{type:String,default:""},placeholder:{type:String,default:""},color:{type:String,default:"primary"},background:{type:String},success:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},requiredMark:{type:Boolean,default:!1},innerLabel:{type:Boolean,default:!1}},emits:["click","click-prepend","click-append","click-prepend-inner","click-append-inner","click-field","update:modelValue"],setup(e,{emit:t,slots:i}){const{getColor:s}=xi(),[r]=Cg("modelValue",e,t,""),n=We(),o=VO(),a=V(()=>e.counter&&typeof r.value=="string"?r.value.length:void 0),l=Is("va-input-wrapper",()=>({...xr(e,["success","error","disabled","readonly"]),focused:!!o.value,labeled:!!(e.label||i.label),labeledInner:!!(e.label||i.label)&&e.innerLabel})),c=V(()=>s(e.color)),u=V(()=>e.background?s(e.background):"#ffffff00"),h=V(()=>e.error?e.errorMessages:e.messages),{textColorComputed:f}=yn(u),p=Bi("maxLength"),y=V(()=>e.error?"danger":e.success?"success":""),v=V(()=>e.error?Number(e.errorCount):99),C=V(()=>a.value!==void 0),S=V(()=>p.value!==void 0?`${a.value}/${p.value}`:a.value),{labelId:_,characterCountId:x,ariaAttributes:A}=Epe(e),R=Gs(yH);return{inputRef:n,focus:()=>{o.value=!0},blur:()=>{o.value=!1},labelId:_,characterCountId:x,ariaAttributes:A,vModel:r,counterValue:a,vaInputLabelProps:R,wrapperClass:l,textColorComputed:f,isCounterVisible:C,counterComputed:S,colorComputed:c,backgroundComputed:u,messagesColor:y,messagesComputed:h,errorLimit:v}}}),Ape={class:"va-input-wrapper__fieldset va-input-wrapper__size-keeper"},kpe={class:"va-input-wrapper__container"},Dpe={class:"va-input-wrapper__text"},Rpe=["placeholder","readonly","disabled"],Ppe=["id"],Fpe={class:"va-input-wrapper__counter"};function Mpe(e,t,i,s,r,n){const o=xn("VaInputLabel"),a=xn("va-icon"),l=xn("va-message-list");return q(),ve("div",{class:Et(["va-input-wrapper",e.wrapperClass]),onClick:t[6]||(t[6]=c=>e.$emit("click",c)),style:St(`--va-background-computed: ${String(e.backgroundComputed)};--va-color-computed: ${String(e.colorComputed)};--va-text-color-computed: ${String(e.textColorComputed)}`)},[me("fieldset",Ape,[wt(l,{color:e.messagesColor,"model-value":e.messagesComputed,limit:e.errorLimit,"inherit-slots":["message","messages"]},{default:tt(({ariaAttributes:c})=>[(e.$props.label||e.$slots.label)&&!e.$props.innerLabel?(q(),nt(o,ut({key:0,class:"va-input-wrapper__label va-input-wrapper__label--outer"},e.vaInputLabelProps,{id:e.labelId}),{default:tt(u=>[Fe(e.$slots,"label",Ft(Wt(u)))]),_:3},16,["id"])):Le("",!0),me("div",kpe,[e.$slots.prepend?(q(),ve("div",{key:0,class:"va-input-wrapper__prepend-inner",onClick:t[0]||(t[0]=u=>e.$emit("click-prepend"))},[Fe(e.$slots,"prepend")])):Le("",!0),me("div",{onClick:t[4]||(t[4]=u=>e.$emit("click-field",u)),class:"va-input-wrapper__field"},[e.$slots.prependInner?(q(),ve("div",{key:0,class:"va-input-wrapper__prepend-inner",ref:"container",onClick:t[1]||(t[1]=u=>e.$emit("click-prepend-inner",u))},[Fe(e.$slots,"prependInner")],512)):Le("",!0),me("div",Dpe,[(e.$props.label||e.$slots.label)&&e.$props.innerLabel?(q(),nt(o,ut({key:0,class:"va-input-wrapper__label va-input-wrapper__label--inner"},e.vaInputLabelProps,{id:e.labelId}),{default:tt(u=>[Fe(e.$slots,"label",Ft(Wt(u)))]),_:3},16,["id"])):Le("",!0),Fe(e.$slots,"default",Ft(Wt({ariaAttributes:{...c,...e.ariaAttributes},value:e.vModel})),()=>[Ss(me("input",ut({...c,...e.ariaAttributes},{"onUpdate:modelValue":t[2]||(t[2]=u=>e.vModel=u),ref:"inputRef",placeholder:e.$props.placeholder,readonly:e.$props.readonly,disabled:e.$props.disabled}),null,16,Rpe),[[Qg,e.vModel]])])]),e.success?(q(),nt(a,{key:1,color:"success",name:"va-check-circle",class:"va-input-wrapper__icon va-input-wrapper__icon--success"})):Le("",!0),e.error?(q(),nt(a,{key:2,color:"danger",name:"va-warning",class:"va-input-wrapper__icon va-input-wrapper__icon--error"})):Le("",!0),e.$props.loading?(q(),nt(a,{key:3,color:e.$props.color,name:"va-loading",spin:"counter-clockwise",class:"va-input-wrapper__icon va-input-wrapper__icon--loading"},null,8,["color"])):Le("",!0),Fe(e.$slots,"icon"),e.$slots.appendInner?(q(),ve("div",{key:4,class:"va-input-wrapper__append-inner",onClick:t[3]||(t[3]=u=>e.$emit("click-append-inner",u))},[Fe(e.$slots,"appendInner")])):Le("",!0)]),e.$slots.append?(q(),ve("div",{key:1,class:"va-input-wrapper__append-inner",onClick:t[5]||(t[5]=u=>e.$emit("click-append"))},[Fe(e.$slots,"append")])):Le("",!0)]),e.isCounterVisible?(q(),ve("div",{key:1,class:"va-input-wrapper__counter-wrapper",id:e.characterCountId},[Fe(e.$slots,"counter",Ft(Wt({valueLength:e.counterValue,maxLength:e.$props.maxLength})),()=>[me("div",Fpe,Mt(e.counterComputed),1)])],8,Ppe)):Le("",!0)]),_:3},8,["color","model-value","limit"])])],6)}const Lpe=om(Tpe,[["render",Mpe]]),ol=zt(Lpe),Ope=(...e)=>(...t)=>e.forEach(i=>i(...t)),Ipe={autofocus:{type:Boolean,default:!1}},Npe=(e,t)=>{const i=()=>{Ou(Nr(e.value))},s=()=>{VT(Nr(e.value))};return Ri(()=>{t.autofocus&&i()}),{focus:i,blur:s}},Zw={clearable:{type:Boolean,default:!1},clearableIcon:{type:String,default:"va-clear"},clearValue:{type:String,default:""}},jT=["clear"],KT=(e,t,i,s)=>{const{isFocused:r,onFocus:n,onBlur:o}=nh(i),a=[null,void 0,e.clearValue],l=V(()=>e.clearable&&!e.disabled&&!e.readonly&&!a.includes(t.value)),c=V(()=>r!=null&&r.value?e.color||"primary":s!=null&&s.value?"danger":e.success?"success":"secondary"),u=V(()=>({name:e.clearableIcon,color:c.value,size:"medium",tabindex:l.value?0:-1}));return{canBeCleared:l,clearIconColor:c,clearIconProps:u,onFocus:n,onBlur:o}},Vpe=e=>{if(!B0)return;const t=Di();if(!t)throw new Error("`useDeprecated` hook must be used only inside of setup function!");e.forEach(i=>{const s=i();typeof s=="string"&&Ps(`(${t.type.name} component) ${s}`)})},CH=vs(ol),{createEmits:Bpe,createListeners:Gpe}=nm(["change","keyup","keypress","keydown","focus","blur","input"]),{createEmits:Hpe,createListeners:$pe}=nm(["click","click-prepend","click-append","click-prepend-inner","click-append-inner"]),Wpe=dt({name:"VaInput",__name:"VaInput",props:{...CH,...Vf,...Ipe,...sh,...Zw,...hi,...dn,placeholder:{type:String,default:""},tabindex:{type:[String,Number],default:0},modelValue:{type:[Number,String,null],default:""},type:{type:String,default:"text"},inputClass:{type:String,default:""},pattern:{type:String},inputmode:{type:String,default:"text"},counter:{type:Boolean,default:!1},autocomplete:{type:String},ariaResetLabel:mi("$t:reset"),strictBindInputValue:{type:Boolean,default:!1}},emits:["update:modelValue",...If,...jT,...Bpe(),...Hpe(),...Ao],setup(e,{expose:t,emit:i}){const s=e,r=i;Vpe([()=>s.type!=="textarea"||'Use VaTextarea component instead of VaInput with type="textarea"']);const n=vi(),{valueComputed:o}=mr(s,r,"modelValue"),a=()=>R(()=>{o.value=s.clearValue,r("clear"),O()}),{focus:l,blur:c}=Npe(n,s),u=so(),h=V(()=>{const Ie=["icon"];return Object.keys(u).filter(he=>!Ie.includes(he))}),{tp:f}=Hs(),{isValid:p,isTouched:y,isDirty:v,computedError:C,computedErrorMessages:S,listeners:{onBlur:_},validationAriaAttributes:x,isLoading:A,withoutValidation:R,resetValidation:O}=rh(s,r,{reset:a,focus:l,value:o}),{modelValue:k}=Il(s),{canBeCleared:F,clearIconProps:N}=KT(s,k,n,C),j=Gpe(r),ee={...j,onBlur:Ope(_,j.onBlur)},K=Ie=>{if(!s.strictBindInputValue)return;const he=n.value;if(!he)return;const Ee=he.selectionStart||0,Y=he.selectionEnd||0;he.value!==Ie&&(he.value=String(Ie)),he.setSelectionRange(Ee,Y)};Ot(o,Ie=>{K(String(Ie))},{immediate:!0}),cr("input",()=>{K(String(o.value))},n);const Q=V(()=>s.disabled?-1:s.tabindex),be=td(),te=V(()=>({"aria-label":s.inputAriaLabel||s.label,"aria-labelledby":s.inputAriaLabelledby,"aria-required":s.requiredMark,tabindex:Q.value,class:s.inputClass,"aria-disabled":s.disabled,"aria-readonly":s.readonly,...x.value})),ne=V(()=>({...te.value,...xr(s,["type","disabled","readonly","placeholder","pattern","inputmode","name","autocomplete"]),...xr(be,["minlength","minlength"])})),H=V(()=>s.counter&&typeof o.value=="string"?o.value.length:void 0),ie=Ie=>{!Ie.target||!("tagName"in Ie.target)||Ie.target.tagName==="INPUT"||Ie.target.tagName==="TEXTAREA"||l()},ue=Gs(CH),Te=$pe(r);return t({isValid:p,isDirty:v,isTouched:y,isLoading:A,computedError:C,computedErrorMessages:S,reset:a,focus:l,blur:c,value:o,withoutValidation:R,resetValidation:O}),(Ie,he)=>(q(),nt(P(ol),ut({...P(Te),...P(ue)},{class:["va-input",Ie.$attrs.class],style:Ie.$attrs.style,loading:Ie.$props.loading||P(A),error:P(C),"error-messages":P(S),"error-count":Ie.errorCount,"counter-value":H.value,onClick:ie}),zs({icon:tt(Ee=>[P(F)?(q(),nt(P(ns),ut({key:0,role:"button","aria-label":P(f)(Ie.$props.ariaResetLabel)},P(N),{onClick:Dt(a,["stop"]),onKeydown:[xt(Dt(a,["stop"]),["enter"]),xt(Dt(a,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):Le("",!0),Fe(Ie.$slots,"icon",Ft(Wt(Ee)))]),default:tt(()=>[Ie.$slots.content?Le("",!0):Ss((q(),ve("input",ut({key:0,ref_key:"input",ref:n,class:"va-input__content__input"},{...ne.value,...ee},{"onUpdate:modelValue":he[0]||(he[0]=Ee=>cs(o)?o.value=Ee:null)}),null,16)),[[Qg,P(o)]])]),_:2},[si(h.value,Ee=>({name:Ee,fn:tt(Y=>[Fe(Ie.$slots,Ee,Ft(Wt(Y)))])}))]),1040,["class","style","loading","error","error-messages","error-count","counter-value"]))}}),BO=zt(Wpe),Upe={class:"va-color-input"},bH=vs(BO),zpe=dt({name:"VaColorInput",__name:"VaColorInput",props:{...bH,...dn,...hi,modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},indicator:{type:String,default:"dot",validator:e=>["dot","square"].includes(e)},ariaOpenColorPickerLabel:mi("$t:openColorPicker")},emits:[...Ao],setup(e,{emit:t}){const i=e,s=t,r=vi(),{valueComputed:n}=mr(i,s),o=()=>{var h;return!i.disabled&&((h=r.value)==null?void 0:h.click())},a=V(()=>i.disabled?-1:0),l=V({get:()=>i.modelValue,set:h7(h=>s("update:modelValue",h),500)}),c=Gs(bH),{tp:u}=Hs();return(h,f)=>(q(),ve("div",Upe,[wt(P(BO),ut(P(c),{modelValue:P(n),"onUpdate:modelValue":f[0]||(f[0]=p=>cs(n)?n.value=p:null),class:"va-color-input__input",tabindex:a.value}),{appendInner:tt(()=>[wt(P(NO),{class:"va-color-input__dot",role:"button","aria-label":P(u)(h.$props.ariaOpenColorPickerLabel),"aria-disabled":h.$props.disabled,tabindex:a.value,color:P(n),indicator:h.$props.indicator,size:"16px",onClick:o,onKeydown:[xt(o,["space"]),xt(o,["enter"])]},null,8,["aria-label","aria-disabled","tabindex","color","indicator"])]),_:1},16,["modelValue","tabindex"]),Ss(me("input",{ref_key:"colorPicker",ref:r,type:"color",class:"va-color-input__hidden-input","aria-hidden":"true",tabindex:"-1","onUpdate:modelValue":f[1]||(f[1]=p=>l.value=p)},null,512),[[yf,l.value]])]))}}),jpe=zt(zpe),Kpe=["aria-label"],Ype=dt({name:"VaColorPalette",__name:"VaColorPalette",props:{...dn,...hi,modelValue:{type:String,default:null},palette:{type:Array,default:()=>[]},indicator:{type:String,default:"dot",validator:e=>["dot","square"].includes(e)},ariaLabel:mi("$t:colorSelection"),ariaIndicatorLabel:mi("$t:color")},emits:[...Ao],setup(e,{emit:t}){const i=e,s=t,{valueComputed:r}=mr(i,s),n=a=>r.value===a,{tp:o}=Hs();return(a,l)=>(q(),ve("ul",{class:"va-color-palette",role:"listbox","aria-label":P(o)(a.$props.ariaLabel)},[(q(!0),ve(kt,null,si(e.palette,(c,u)=>(q(),nt(P(NO),{key:u,role:"option","aria-label":P(o)(a.$props.ariaIndicatorLabel,{color:c}),"aria-selected":n(c),tabindex:"0",modelValue:n(c),color:c,square:e.indicator==="square","onUpdate:modelValue":h=>r.value=c},null,8,["aria-label","aria-selected","modelValue","color","square","onUpdate:modelValue"]))),128))],8,Kpe))}}),Xpe=zt(Ype),qpe={name:"VaContent"},Qpe={class:"va-typography-block"};function Jpe(e,t,i,s,r,n){return q(),ve("div",Qpe,[Fe(e.$slots,"default")])}const Zpe=om(qpe,[["render",Jpe]]),ege=zt(Zpe),SF=e=>typeof e=="number"?`${e}px`:e;function tge(e){Ot([()=>e.step,()=>e.min,()=>e.max],()=>{const i=Number(e.modelValue),s=Number(e.max),r=Number(e.min),n=Number(e.step);if(Number.isNaN(i)){Ps("The value is not a number or cannot be reduced to a number.");return}r&&s&&r>s&&Ps(`The maximum value (${s}) can not be less than the minimum value (${r}).`),r&&i<r&&Ps(`The value of the counter (${i}) can not be less than the minimum value (${r}).`),s&&i>s&&Ps(`The value of the counter (${i}) can not be greater than the maximum value (${s}).`),r&&s&&n>s-r&&Ps(`The value of the step (${n}) can not be greater than the difference (${s-r}) between maximum value (${s}) and minimum value (${r}).`)},{immediate:!0})}const z7=e=>Number(e.toPrecision(13)),ige=(e,t)=>{const i=z7(e%t);return i===0||i===t};function wH(e,t){let i=-1,s=-1;const r=()=>{var a;(a=t.onStart)==null||a.call(t),clearTimeout(i),i=setTimeout(()=>{s=setInterval(()=>{var l;return(l=t.onUpdate)==null?void 0:l.call(t)},t.interval||100)},P(t.delay)||500)},n=()=>{var a;clearTimeout(i),clearInterval(s),(a=t.onEnd)==null||a.call(t)},o=H0(e);cr(["mousedown","touchstart","dragstart"],r,o),cr(["mouseup","mouseleave","touchend","touchcancel","drop","dragend","blur"],n,!0)}const sge=["value","aria-live"],{createEmits:rge,createListeners:nge}=nm(["change"]),{createEmits:oge,createListeners:age}=nm([{listen:"click-prepend",emit:"click:decrease-button"},{listen:"click-append",emit:"click:increase-button"},{listen:"click-prepend-inner",emit:"click:decrease-icon"},{listen:"click-append-inner",emit:"click:increase-icon"}]),SH=vs(ol),lge=dt({name:"VaCounter",inheritAttrs:!1,__name:"VaCounter",props:{...Vf,...dn,...hi,...Zw,...SH,modelValue:{type:[String,Number],default:0},manualInput:{type:Boolean,default:!1},min:{type:[Number,String]},max:{type:[Number,String]},step:{type:[Number,String],default:1},color:{type:String,default:"primary"},increaseIcon:{type:String,default:"va-plus"},decreaseIcon:{type:String,default:"va-minus"},buttons:{type:Boolean,default:!1},flat:{type:Boolean,default:!0},rounded:{type:Boolean,default:!1},margins:{type:[String,Number],default:"4px"},longPressDelay:{type:[Number,String],default:500},ariaLabel:mi("$t:counterValue"),ariaDecreaseLabel:mi("$t:decreaseCounter"),ariaIncreaseLabel:mi("$t:increaseCounter")},emits:["update:modelValue",...If,...rge(),...oge(),...BT],setup(e,{expose:t,emit:i}){const s=e,r=i,n=vi(),{min:o=We(void 0),max:a=We(void 0),step:l}=Il(s),c=Bi("longPressDelay"),{isFocused:u,focus:h,blur:f}=nh(n,r),{valueComputed:p}=mr(s,r);function y(Ze){return parseFloat(Number(Ze).toFixed(10))}const v=V({get(){return p.value},set(Ze){p.value=y(Ze)}}),C=()=>x(()=>{r("update:modelValue",s.clearValue),r("clear"),A()}),{computedError:S,computedErrorMessages:_,withoutValidation:x,resetValidation:A,listeners:R,isDirty:O,isTouched:k}=rh(s,r,{reset:C,focus:h,value:v}),F=({target:Ze})=>{v.value=Number(Ze==null?void 0:Ze.value)},N=({target:Ze})=>{ee(Number(Ze==null?void 0:Ze.value))},j=Ze=>typeof o.value>"u"||!Number(l.value)?Ze:z7(Number(o.value)+Number(l.value)*((Number(Ze)-Number(o.value))/Number(l.value))),ee=Ze=>{if(typeof o.value<"u"&&Ze<Number(o.value)){v.value=Number(o.value);return}if(typeof a.value<"u"&&Ze>Number(a.value)){v.value=j(Number(a.value));return}v.value=j(Ze)},K=V(()=>tl(o.value)?!1:Number(v.value)<=Number(o.value)),Q=V(()=>tl(a.value)?!1:l.value?Number(v.value)>Number(a.value)-Number(l.value):Number(v.value)>=Number(a.value)),be=V(()=>s.disabled?-1:0),te=V(()=>K.value||s.disabled||s.readonly),ne=V(()=>Q.value||s.disabled||s.readonly),H=()=>{te.value||ee(Number(v.value)-Number(l.value))},ie=()=>{ne.value||ee(Number(v.value)+Number(l.value))};wH(gF("decreaseButtonRef"),{onUpdate:H,delay:c}),wH(gF("increaseButtonRef"),{onUpdate:ie,delay:c});const{getColor:ue}=xi(),Te=V(()=>ue(s.color)),Ie=V(()=>({class:{"va-counter__icon--inactive":te.value},color:Te.value,icon:s.decreaseIcon,plain:!0,disabled:te.value,readonly:s.readonly,tabindex:-1,"aria-label":ke(s.ariaDecreaseLabel),...!te.value&&{onClick:H}})),he=V(()=>({class:{"va-counter__icon--inactive":ne.value},color:Te.value,icon:s.increaseIcon,plain:!0,disabled:ne.value,readonly:s.readonly,tabindex:-1,"aria-label":ke(s.ariaIncreaseLabel),...!ne.value&&{onClick:ie}})),Ee=V(()=>(typeof s.margins=="string"?parseFloat(s.margins):s.margins)===0),Y=()=>u.value?s.color:"background-border",Z=V(()=>({...xr(s,["color"]),round:s.rounded,preset:s.flat?"secondary":"",borderColor:s.flat?Y():""})),Se=V(()=>({...Z.value,icon:s.decreaseIcon,disabled:te.value,"aria-label":ke(s.ariaDecreaseLabel),...!te.value&&{onClick:H}})),ye=V(()=>({...Z.value,icon:s.increaseIcon,disabled:ne.value,"aria-label":ke(s.ariaIncreaseLabel),...!ne.value&&{onClick:ie}})),{tp:ke}=Hs(),Oe=td(),He=so(),mt=V(()=>({tabindex:be.value,"aria-label":ke(s.ariaLabel),"aria-valuemin":Number(o.value),"aria-valuemax":Number(a.value),...zu(Oe,["class","style"]),...xr(s,["disabled","min","max","step"]),readonly:s.readonly||!s.manualInput})),we=V(()=>[Oe.class,{"va-counter--input-square":Ee.value},{"va-counter--content-slot":He.content&&s.buttons}].filter(Boolean)),de=V(()=>({...Oe.style||{}})),pe=V(()=>SF(s.margins));tge(s);const Ve=age(r),Qe=nge(r),Ge=Gs(SH);return t({isDirty:O,isTouched:k,focus:h,blur:f,decreaseCount:H,increaseCount:ie,reset:C}),(Ze,ot)=>(q(),nt(P(ol),ut({class:"va-counter"},{...P(Ve),...P(Ge),...P(R)},{class:we.value,style:de.value,focused:P(u),error:P(S),"error-messages":P(_),onKeydown:[xt(Dt(ie,["prevent"]),["up"]),xt(Dt(ie,["prevent"]),["right"]),xt(Dt(H,["prevent"]),["down"]),xt(Dt(H,["prevent"]),["left"])]}),zs({default:tt(()=>[Ze.$slots.content?Le("",!0):(q(),ve("input",ut({key:0,ref_key:"input",ref:n,class:"va-input__content__input",type:"number",inputmode:"decimal"},{...mt.value,...P(Qe)},{value:v.value,"aria-live":Ze.$props.disabled?"off":"polite",onInput:F,onChange:N}),null,16,sge))]),_:2},[Ze.$props.buttons?{name:"prepend",fn:tt(xe=>[me("div",{class:"va-counter__prepend-wrapper",style:St({marginRight:pe.value}),onMousedown:ot[0]||(ot[0]=Dt((...Ae)=>P(h)&&P(h)(...Ae),["prevent"]))},[Fe(Ze.$slots,"decreaseAction",Ft(Wt({...xe,decreaseCount:H})),()=>[wt(P(ps),ut({class:"va-counter__button-decrease"},Se.value,{ref:"decreaseButtonRef"}),null,16)])],36)]),key:"0"}:{name:"prependInner",fn:tt(xe=>[me("div",{class:"va-counter__prepend-inner",onMousedown:ot[1]||(ot[1]=Dt((...Ae)=>P(h)&&P(h)(...Ae),["prevent"]))},[Fe(Ze.$slots,"decreaseAction",Ft(Wt({...xe,decreaseCount:H})),()=>[wt(P(ps),ut(Ie.value,{ref:"decreaseButtonRef"}),null,16)])],32)]),key:"1"},Ze.$props.buttons?{name:"append",fn:tt(xe=>[me("div",{class:"va-counter__append-wrapper",style:St({marginLeft:pe.value}),onMousedown:ot[2]||(ot[2]=Dt((...Ae)=>P(h)&&P(h)(...Ae),["prevent"]))},[Fe(Ze.$slots,"increaseAction",Ft(Wt({...xe,increaseCount:ie})),()=>[wt(P(ps),ut({class:"va-counter__button-increase"},ye.value,{ref:"increaseButtonRef"}),null,16)])],36)]),key:"2"}:{name:"appendInner",fn:tt(xe=>[me("div",{class:"va-counter__append-inner",onMousedown:ot[3]||(ot[3]=Dt((...Ae)=>P(h)&&P(h)(...Ae),["prevent"]))},[Fe(Ze.$slots,"increaseAction",Ft(Wt({...xe,increaseCount:ie})),()=>[wt(P(ps),ut(he.value,{ref:"increaseButtonRef"}),null,16)])],32)]),key:"3"},Ze.$slots.content?{name:"default",fn:tt(xe=>[me("div",{ref_key:"input",ref:n,tabindex:"0",class:"va-counter__content-wrapper"},[Fe(Ze.$slots,"content",Ft(Wt({...xe,value:Number(v.value)})))],512)]),key:"4"}:void 0]),1040,["class","style","focused","error","error-messages","onKeydown"]))}}),cge=zt(lge),j7={currentPage:{type:Number}},K7=()=>({items:{type:Array,default:()=>[]}}),Y7={selectable:{type:Boolean,default:!1}},X7={itemsTrackBy:{type:[String,Function],default:""}},q7=e=>{const t=e.length===2||e.length===3,i=e.every(r=>["asc","desc",null].includes(r)),s=e.length===new Set(e).size;return t&&i&&s},uge={...K7(),columns:{type:Array,default:()=>[]},sortingOptions:{type:Array,default:()=>["asc","desc",null],validator:q7}},Q7=(e,t,i)=>{const s=typeof e=="string"?{key:e}:e,r=s.sortingOptions?q7(s.sortingOptions):!0;return r||Ps(`The "sortingOptions" array in the column with "${s.key}" key is invalid. For this column, the "sortingOptions" value is taken as for the table: ${JSON.stringify(i.sortingOptions)}.`),{source:e,initialIndex:t,key:s.key,name:s.name||s.key,label:s.label||kG(s.key),thTitle:s.thTitle||s.headerTitle||s.label||kG(s.key),sortable:s.sortable||!1,sortingFn:s.sortingFn,displayFormatFn:s.displayFormatFn,sortingOptions:r&&s.sortingOptions||i.sortingOptions,thAlign:s.thAlign||s.alignHead||"left",thVerticalAlign:s.thVerticalAlign||s.verticalAlignHead||"middle",tdAlign:s.tdAlign||s.align||"left",tdVerticalAlign:s.tdVerticalAlign||s.verticalAlign||"middle",width:s.width,tdClass:s.tdClass||s.classes,thClass:s.thClass||s.headerClasses,tdStyle:s.tdStyle||s.style,thStyle:s.thStyle||s.headerStyle}},dge=e=>Object.keys(Fle({},...e.items)).map((t,i)=>Q7(t,i,e)),hge=e=>e.columns.map((t,i)=>Q7(t,i,e)),fge=e=>({columnsComputed:V(()=>e.columns.length===0?dge(e):hge(e))}),z0={delay:{type:Number,default:0,validator:e=>e>=0}};function pge(e,t){const i=Dn(t,"delay")??0,s=We(!0);let r;return function(...n){const o=()=>e.apply(this,n);return P(i)?(s.value&&(s.value=!1,setTimeout(()=>s.value=!0,P(i)),r=o()),r):o()}}function GO(e,t){const i=Dn(t,"delay")??0;if(!P(i))return e;const s=We(!0),r=We(),n=We(),o=We();return Ot(e,()=>{r.value=e.value;const a=setTimeout(()=>{o.value=r.value},P(i));s.value?(s.value=!1,o.value=e.value,n.value=e.value,clearTimeout(a),setTimeout(()=>s.value=!0,P(i))):o.value=n.value},{immediate:!0}),o}const gge={...z0,...j7,perPage:{type:Number}},mge=(e,t)=>{const i=V(()=>{if(!t.perPage||t.perPage<0)return e.value;if(!t.currentPage||t.currentPage<0)return e.value.slice(0,t.perPage);const r=t.perPage*(t.currentPage-1);return e.value.slice(r,r+t.perPage)});return{paginatedRows:GO(i,t)}},J7=(e,t)=>typeof t=="function"?t(e):FO(e,t)||e,vge=()=>({...K7(),...X7}),yge=(e,t,i,s)=>{var r;const n=FO(i,s.key);return{rowIndex:e,rowKey:t,rowData:i,column:s,source:n,value:((r=n==null?void 0:n.toString)==null?void 0:r.call(n))||""}},Cge=(e,t,i,s)=>{const r=J7(e,i);return{initialIndex:t,itemKey:r,source:e,cells:s.map(n=>yge(t,r,e,n)),rowData:e}},bge=(e,t)=>{const i=We({});return{rowsComputed:V(()=>t.items.map((r,n)=>({...Cge(r,n,t.itemsTrackBy,e.value),toggleRowDetails:o=>{typeof o=="boolean"?i.value[n]=o:i.value[n]=!i.value[n]},isExpandableRowVisible:!!i.value[n]})))}},wge={...Y7,...X7,modelValue:{type:Array},selectMode:{type:String,default:"multiple"}},Sge=(e,t,i)=>{const s=We([]),r=V({get(){return t.modelValue===void 0?s.value:t.modelValue},set(k){t.modelValue===void 0&&(s.value=k),i("update:modelValue",k)}}),n=We(-1);Ot(()=>t.selectMode,(k,F)=>{k==="single"&&F==="multiple"&&(r.value=[],C(-1))}),Ot(e,()=>{C(-1)}),Ot(r,(k,F=[])=>{i("selectionChange",{currentSelectedItems:k,previousSelectedItems:F})},{immediate:!0});const o=k=>J7(k,t.itemsTrackBy),a=V(()=>!e.value.some(({source:k})=>r.value.includes(o(k)))),l=V(()=>e.value.length===0?!1:e.value.every(({source:k})=>r.value.includes(o(k)))),c=V(()=>!a.value&&!l.value);function u(k){return r.value.includes(o(k.source))}function h(){r.value=[...new Set([...r.value,...e.value.map(k=>o(k.source))])]}function f(){const k=e.value.map(F=>o(F.source));r.value=r.value.filter(F=>!k.includes(F))}function p(k){r.value=[...r.value,o(k.source)]}function y(k){r.value=[o(k.source)]}function v(k){const F=r.value.findIndex(N=>N===o(k.source));r.value=[...r.value.slice(0,F),...r.value.slice(F+1)]}function C(k){if(k===-1)n.value=-1;else{const F=e.value.find(N=>N.initialIndex===k);F?n.value=e.value.indexOf(F):n.value=-1}}function S(k){let F,N;return u(e.value[n.value])?(F=Math.min(n.value,k),N=Math.max(n.value,k)):(F=Math.min(n.value+1,k),N=Math.max(n.value-1,k)),e.value.slice(F,N+1)}function _(k){const F=k.map(j=>o(j.source));if(a.value){r.value=F;return}if(F.every(j=>r.value.includes(j))){r.value=r.value.filter(j=>!F.includes(j));return}r.value=[...new Set([...r.value,...F])]}function x(k){t.selectable&&(u(k)?(v(k),t.selectMode==="single"?C(-1):C(k.initialIndex)):(t.selectMode==="single"?y(k):p(k),C(k.initialIndex)))}function A(k){t.selectable&&x(k)}function R(k){if(!t.selectable)return;if(t.selectMode==="single"||n.value===-1)return x(k);const F=e.value.indexOf(k);_(S(F)),C(-1)}function O(){l.value?f():h(),C(-1)}return{ctrlSelectRow:A,shiftSelectRows:R,toggleRowSelection:x,toggleBulkSelection:O,isRowSelected:u,noRowsSelected:a,severalRowsSelected:c,allRowsSelected:l}},md="--va-data-table",Z7=e=>typeof e=="function",e9={...Y7,selectedColor:{type:String,default:"primary"},allowFooterSorting:{type:Boolean,default:!1},stickyHeader:{type:Boolean,default:!1},stickyFooter:{type:Boolean,default:!1},height:{type:[String,Number]}},xge=e=>Z7(e)?e():e,Ege=e=>Z7(e)?e():e,t9=e=>{const{getColor:t,getFocusColor:i,getHoverColor:s}=xi(),r=V(()=>t(e.selectedColor));return{CSSVariables:V(()=>({hoverColor:s(r.value),selectedColor:e.selectable?i(r.value):void 0,tableHeight:e.height?SF(e.height):"var(--va-data-table-height)",theadBg:e.stickyHeader?"var(--va-data-table-thead-background, var(--va-data-table-header-background))":"var(--va-data-table-thead-background)",tfootBg:e.stickyFooter?"var(--va-data-table-tfoot-background, var(--va-data-table-header-background))":"var(--va-data-table-tfoot-background)"})),getHeaderCSSVariables:c=>({[`${md}-width`]:c.width&&SF(c.width),[`${md}-align`]:c.thAlign,[`${md}-vertical-align`]:c.thVerticalAlign,[`${md}-cursor`]:c.sortable?"pointer":"default"}),getCellCSSVariables:c=>({[`${md}-align`]:c.column.tdAlign,[`${md}-vertical-align`]:c.column.tdVerticalAlign}),getFooterCSSVariables:c=>({[`${md}-align`]:c.thAlign,[`${md}-vertical-align`]:c.thVerticalAlign,[`${md}-cursor`]:e.allowFooterSorting&&c.sortable?"pointer":"default"}),getClass:xge,getStyle:Ege}},xH=e=>typeof e=="function",EH=e=>e!==null&&typeof e=="object",_ge={rowBind:{type:null},cellBind:{type:null}},Tge=e=>({getRowBind:s=>xH(e.rowBind)?e.rowBind(s.source,s.initialIndex):EH(e.rowBind)?e.rowBind:{},getCellBind:(s,r)=>xH(e.cellBind)?e.cellBind(s.source,r.source,s.column,r.initialIndex):EH(e.cellBind)?e.cellBind:{}}),Age={...j7,animated:{type:Boolean,default:!0}},kge=(e,t)=>{const i=We("shuffle"),s=V(()=>e.animated?`table-transition-${i.value}`:""),r=We(t.value.length),n=V(()=>t.value.length!==r.value);return Ot(t,(o,a)=>{const l=!!(o.length&&a.length);i.value=o.length>50||n.value&&l?"fade":"shuffle",r.value=o.length}),Ot(()=>e.currentPage,()=>{n.value||(i.value="shuffle")}),s},Dge={...z0,filter:{type:String,default:""},filterMethod:{type:Function}},Rge=(e,t,i)=>{const s=V(()=>!e.value.length||t.filter===""&&!t.filterMethod?e.value:e.value.filter(n=>n.cells.some(o=>typeof t.filterMethod=="function"?t.filterMethod(o.source,o):new RegExp(t.filter,"i").test(o.value)))),r=GO(s,t);return Ot(r,()=>{i("filtered",{items:r.value.map(n=>n.source),itemsIndexes:r.value.map(n=>n.initialIndex)})}),s.value.length!==e.value.length&&i("filtered",{items:s.value.map(n=>n.source),itemsIndexes:s.value.map(n=>n.initialIndex)}),{filteredRows:r}},Pge={...z0,sortBy:{type:String},columnSorted:{type:Object},sortingOrder:{type:[String,null]},disableClientSideSorting:{type:Boolean,default:!1}},Fge=(e,t,i,s)=>{const r=We(""),n=V({get(){return i.sortBy===void 0?r.value:i.sortBy},set(y){i.sortBy===void 0&&(r.value=y),s("update:sortBy",y)}}),o=We(null),a=V({get(){return i.sortingOrder===void 0?o.value:i.sortingOrder},set(y){i.sortingOrder===void 0&&(o.value=y),s("update:sortingOrder",y)}}),l=(y,v)=>{if(typeof y=="string"&&typeof v=="string")return y.localeCompare(v);if(typeof y=="number"&&typeof v=="number")return y-v;const C=parseFloat(y),S=parseFloat(v);return!isNaN(C)&&!isNaN(S)?C-S:isNaN(C)?isNaN(S)?0:1:-1},c=V(()=>{if(i.disableClientSideSorting||t.value.length<=1)return t.value;const y=e.value.findIndex(({name:S,sortable:_})=>n.value===S&&_),v=e.value[y];if(!v)return t.value;const C=a.value==="desc"?-1:1;return[...t.value].sort((S,_)=>{if(a.value===null)return S.initialIndex-_.initialIndex;{const x=S.cells[y].source,A=_.cells[y].source;return C*(typeof v.sortingFn=="function"?v.sortingFn(x,A):l(x,A))}})});Ot(c,()=>{s("sorted",{sortBy:n.value,sortingOrder:a.value,items:c.value.map(y=>y.source),itemsIndexes:c.value.map(y=>y.initialIndex)})});const u=(y,v)=>{const C=v.findIndex(S=>S===y);return C!==-1?v[(C+1)%v.length]:v[0]};function h(y){let v;y.name===n.value?v=u(a.value,y.sortingOptions):(n.value=y.name,v=y.sortingOptions[0]),a.value=v,s("columnSorted",{columnName:y.name,value:v,column:y})}const f=pge(h,i),p=V(()=>a.value==="asc"?"va-sort-asc":a.value==="desc"?"va-sort-desc":"va-unsorted");return{sortBySync:n,sortingOrderSync:a,toggleSorting:f,sortedRows:c,sortingOrderIconName:p}},Mge=e=>{const t=P(e);return Nr(t)},K1=()=>{const e=vi();return V({get(){return Mge(e)},set(t){e.value=t}})},Lge={scrollTopMargin:{type:[Number,String],default:0},scrollBottomMargin:{type:[Number,String],default:0}},Oge=["scroll:top","scroll:bottom"],Ige=(e,t)=>{var i;const s=(i=Di())==null?void 0:i.vnode.props,r=(s==null?void 0:s["onScroll:top"])!==void 0,n=(s==null?void 0:s["onScroll:bottom"])!==void 0,o=K1(),a=K1(),l=K1(),c=Bi("scrollTopMargin"),u=Bi("scrollBottomMargin"),h=V(()=>!!o.value),f=v=>{v.forEach(C=>{C.isIntersecting&&(C.target===a.value?t("scroll:top"):t("scroll:bottom"))})},p=V(()=>{const v=[];return h.value&&(a.value&&v.push(a.value),l.value&&v.push(l.value)),v}),y=V(()=>({root:o.value,rootMargin:`${c.value??0}px 0px ${u.value??0}px 0px`}));return $7(f,y,p),{scrollContainer:o,topTrigger:a,bottomTrigger:l,doRenderTopTrigger:r,doRenderBottomTrigger:n}},Nge={class:"va-data-table__table-tr"},Vge={key:0,scope:"col",class:"va-data-table__table-th va-data-table__table-cell-select"},Bge=["title","onClick","onKeydown"],Gge={class:"va-data-table__table-th-wrapper"},Hge={key:0},$ge=dt({name:"VaDataTableThRow",__name:"VaDataTableThRow",props:{...e9,selectMode:{type:String,default:"multiple"},allRowsSelected:{type:Boolean,default:!1},severalRowsSelected:{type:Boolean,default:!1},columns:{type:Array,required:!0},isFooter:{type:Boolean,default:!1},sortBySync:{type:String,required:!0},sortingOrderIconName:{type:String,required:!0},sortingOrderSync:{type:String,default:null},ariaSelectAllRowsLabel:mi("$t:selectAllRows"),ariaSortColumnByLabel:mi("$t:sortColumnBy")},emits:["toggleBulkSelection","toggleSorting"],setup(e,{emit:t}){const i=e,s=t,{tp:r}=Hs(),{getFooterCSSVariables:n,getHeaderCSSVariables:o,getClass:a,getStyle:l}=t9(i),c=v=>{const C=i.sortingOrderSync&&i.sortBySync===v.name?i.sortingOrderSync==="asc"?"ascending":"descending":"none",S=v.sortable?r(i.ariaSortColumnByLabel,{name:v.label}):void 0;return{"aria-sort":C,"aria-label":S}},u=v=>{i.isFooter&&!i.allowFooterSorting||!v.sortable||s("toggleSorting",v)},h=()=>s("toggleBulkSelection"),f=v=>[v.width?{minWidth:v.width,maxWidth:v.width}:{},i.isFooter?n(v):o(v),l(v.thStyle)],p=V(()=>i.isFooter?"footer":"header"),y=V(()=>i.selectMode==="multiple");return(v,C)=>(q(),ve("tr",Nge,[v.$props.selectable?(q(),ve("th",Vge,[y.value?(q(),nt(P(Jw),{key:0,class:"va-data-table__table-cell-checkbox","model-value":v.$props.severalRowsSelected?"idl":v.$props.allRowsSelected,"aria-label":P(r)(v.$props.ariaSelectAllRowsLabel),"true-value":!0,"false-value":!1,color:v.$props.selectedColor,"indeterminate-value":"idl",indeterminate:"","onUpdate:modelValue":h},null,8,["model-value","aria-label","color"])):Le("",!0)])):Le("",!0),(q(!0),ve(kt,null,si(e.columns,S=>(q(),ve("th",ut({key:S.name,scope:"col",class:["va-data-table__table-th",P(a)(S.thClass)],title:S.thTitle,style:f(S)},c(S),{onClick:Dt(_=>u(S),["exact"]),onKeydown:xt(Dt(_=>u(S),["stop"]),["enter"])}),[me("div",Gge,[`${p.value}(${S.name})`in v.$slots?(q(),ve("span",Hge,[Fe(v.$slots,`${p.value}(${S.name})`,Ft(Wt({label:S.label,key:S.key})))])):Fe(v.$slots,p.value,Ft(ut({key:1},{label:S.label,key:S.key})),()=>[me("span",null,Mt(S.label),1)]),S.sortable?(q(),nt(P(ns),{key:2,class:Et(["va-data-table__table-th-sorting-icon",{active:e.sortBySync===S.name&&e.sortingOrderSync!==null}]),size:"small",role:S.sortable?"button":void 0,tabindex:S.sortable?0:-1,name:e.sortingOrderIconName,onSelectstart:Dt(()=>{},["prevent"])},null,8,["class","role","tabindex","name"])):Le("",!0)])],16,Bge))),128))]))}}),xF=zt($ge),{isParsablePositiveMeasure:Wge,parseSizeValue:_H}=_7(),TH=(e,t)=>{const i=Wge(e);return!i&&Ps(`[va-virtual-scroller] ${t} should be number or parsable int greater or equal to 0. Provided: ${e}.`),i},Uge={horizontal:{type:Boolean,default:!1},itemSize:{type:[Number,String],default:0,validator:e=>TH(e,"itemSize")},wrapperSize:{type:[Number,String],default:100,validator:e=>e==="auto"||TH(e,"wrapperSize")}},zge=(e,t)=>{const i=vi(),s=vi(),r=V(()=>e.horizontal?"clientWidth":"clientHeight"),n=V(()=>{var p;return e.wrapperSize==="auto"?((p=s.value)==null?void 0:p[r.value])||0:_H(e.wrapperSize,o)}),o=We(16);cr("resize",()=>{o.value=parseFloat(getComputedStyle(document.documentElement).fontSize),c()},!0);const l=We(0),c=()=>{if(!i.value)return;const p=[],v=i.value.children.length;for(let C=0;C<v;C++){const S=i.value.children.item(C);S&&p.push(S[r.value])}l.value=v?Math.trunc(p.reduce((C,S)=>C+S,0)/(v-1)):0},u=Di();Ri(()=>{var p,y;i.value||(i.value=(y=(p=u==null?void 0:u.parent)==null?void 0:p.refs)==null?void 0:y.list),c()}),Ot(t,c),Ot(n,c);let h=0;const f=V(()=>{const p=_H(e.itemSize,o),y=Math.max(p,l.value,1);return Math.abs(h/y*100-100)>5||h===0?(h=y,y):h});return{list:i,wrapper:s,itemSize:f,wrapperSize:n}},jge={trackBy:{type:[String,Number,Function],default:""}},Kge=e=>({getKey:(i,s,r)=>{if(e.trackBy&&i&&typeof i=="object"&&!Rb(e.trackBy)){const n=Array.isArray(i);let o;if(n&&!isNaN(+e.trackBy)&&(o=i[+e.trackBy]),n||(o=i[e.trackBy]),o||o===0)return o;Ps(`${n?"Index":"Key"} '${e.trackBy}' wasn't found in provided ${n?"array":"object"}: `,i)}return Rb(e.trackBy)?e.trackBy(i):r}}),Yge=dt({name:"VaVirtualScroller",__name:"VaVirtualScroller",props:{...jge,...Uge,items:{type:Array,default:()=>[]},bench:{type:[Number,String],default:10,validator:e=>Number(e)>=0},disabled:{type:Boolean,default:!1},table:{type:Boolean,default:!1}},emits:["scroll:bottom"],setup(e,{expose:t,emit:i}){const s=e,r=i,n=We(0),o=Bi("bench"),a=V(()=>s.horizontal?"scrollLeft":"scrollTop"),l=()=>{u.value&&(n.value=u.value[a.value])};s.disabled||cr("scroll",l,!0);const{list:c,wrapper:u,itemSize:h,wrapperSize:f}=zge(s,n),{getKey:p}=Kge(s),y=(Q,be,te)=>p(Q,be,te);Ot(n,Q=>{Q+f.value===k.value&&r("scroll:bottom")});const v=V(()=>Math.max(0,Math.floor(n.value/h.value)-o.value)),C=V(()=>{var Q;return(Q=s.items)!=null&&Q.length?s.disabled?s.items.length:Math.min(s.items.length-v.value,Math.ceil(f.value/h.value)+o.value*2):0}),S=V(()=>v.value+C.value),_=V(()=>{var Q;return(Q=s.items)!=null&&Q.length?s.items.slice(v.value,S.value):[]}),x=V(()=>s.horizontal?"width":"height"),A=V(()=>s.table&&s.disabled),R=V(()=>({[x.value]:A.value||!f.value?void 0:`${f.value}px`})),O=Is("va-virtual-scroller",()=>({...xr(s,["horizontal"])})),k=V(()=>{var Q;return(((Q=s.items)==null?void 0:Q.length)??0)*h.value}),F=V(()=>({[x.value]:A.value?void 0:`${k.value}px`})),N=V(()=>v.value*h.value),j=V(()=>({transform:`translate${s.horizontal?"X":"Y"}(${N.value}px)`})),ee=V(()=>s.horizontal?"left":"top");return t({scrollToAttribute:ee,virtualScrollTo:Q=>{var be;!Q&&Q!==0||(be=u.value)==null||be.scrollTo({[ee.value]:Q*h.value})}}),(Q,be)=>(q(),ve("div",{ref_key:"wrapper",ref:u,class:Et(["va-virtual-scroller",P(O)]),style:St(R.value)},[Fe(Q.$slots,"content",Ft(Wt({containerStyleComputed:F.value,listStyleComputed:j.value,renderBuffer:_.value,uniqueKey:y,currentListOffset:N.value})),()=>[me("div",{class:"va-virtual-scroller__container",style:St(F.value)},[me("div",{ref_key:"list",ref:c,role:"list",class:"va-virtual-scroller__list",style:St(j.value)},[(q(!0),ve(kt,null,si(_.value,(te,ne)=>Fe(Q.$slots,"default",Ft(ut({key:y(te,ne)},{item:te,index:v.value+ne})))),128))],4)],4)])],6))}}),YT=zt(Yge),Xge={key:0,class:"va-inner-loading__overlay","aria-hidden":"true"},qge=dt({name:"VaInnerLoading",__name:"VaInnerLoading",props:{...Kw,...hi,color:{type:String},icon:{type:String,default:"va-loading"},size:{type:[Number,String],default:30}},setup(e){const t=e,{getColor:i}=xi(),s=V(()=>i(t.color)),r=V(()=>({"va-inner-loading--active":t.loading})),n=V(()=>({"aria-busy":t.loading}));return(o,a)=>(q(),ve("div",ut({class:["va-inner-loading",r.value],"aria-live":"polite"},n.value),[Fe(o.$slots,"default"),o.$props.loading?(q(),ve("div",Xge,[Fe(o.$slots,"loading",{},()=>[wt(P(ns),{class:"va-inner-loading__spinner",spin:"counter-clockwise",color:s.value,size:o.$props.size,name:o.$props.icon},null,8,["color","size","name"])])])):Le("",!0)],16))}}),i9=zt(qge),Qge={key:0},Jge={ref:"list",class:"va-data-table__table-tbody"},Zge={key:"showNoDataHtml",class:"va-data-table__table-tr"},eme={class:"va-data-table__table-td no-data",colspan:"99999"},tme=["innerHTML"],ime={key:"showNoDataFilteredHtml",class:"va-data-table__table-tr"},sme={class:"va-data-table__table-td no-data",colspan:"99999"},rme=["innerHTML"],nme=["onClick","onDblclick","onContextmenu"],ome={key:0,class:"va-data-table__grid-column-header"},ame={key:0,class:"va-data-table__table-tr"},AH=vs(YT,["items","trackBy","horizontal","disabled","table"]),kH=vs(xF),lme=dt({name:"VaDataTable",inheritAttrs:!1,__name:"VaDataTable",props:{...hi,...AH,...Age,..._ge,...Lge,...Pge,...e9,...uge,...Dge,...gge,...vge(),...wge,...z0,...xr(kH,["ariaSelectAllRowsLabel","ariaSortColumnByLabel"]),hoverable:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingColor:{type:String,default:"primary"},noDataHtml:{type:String,default:"No items"},noDataFilteredHtml:{type:String,default:"No items match the provided filtering condition"},hideDefaultHeader:{type:Boolean,default:!1},footerClone:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},virtualScroller:{type:Boolean,default:!1},virtualTrackBy:{type:[String,Number],default:"initialIndex"},grid:{type:Boolean,default:!1},gridColumns:{type:[Number,String],default:0},wrapperSize:{type:[Number,String],default:"auto"},ariaSelectRowLabel:mi("$t:selectRowByIndex")},emits:["update:modelValue","update:sortBy","update:sortingOrder","filtered","sorted","selectionChange","row:click","row:dblclick","row:contextmenu","columnSorted",...Oge],setup(e,{emit:t}){const{tp:i}=Hs(),s=e,r=t,{columnsComputed:n}=fge(s),{rowsComputed:o}=bge(n,s),{filteredRows:a}=Rge(o,s,r),{sortBySync:l,sortingOrderSync:c,toggleSorting:u,sortedRows:h,sortingOrderIconName:f}=Fge(n,a,s,r),{paginatedRows:p}=mge(h,s),{ctrlSelectRow:y,shiftSelectRows:v,toggleBulkSelection:C,isRowSelected:S,severalRowsSelected:_,allRowsSelected:x,toggleRowSelection:A}=Sge(p,s,r),{CSSVariables:R,getCellCSSVariables:O,getClass:k,getStyle:F}=t9(s),{getRowBind:N,getCellBind:j}=Tge(s),ee=kge(s,p),K=V(()=>s.items.length===0),Q=V(()=>p.value.length===0),be=(He,mt,we)=>{r(He,{event:mt,item:we.source,itemIndex:we.initialIndex,row:we}),s.selectable&&s.grid&&A(we)},te=V(()=>({...zu(ie,["class","style"]),class:xr(s,["striped","selectable","hoverable","clickable"])})),ne=Gs(AH),H=V(()=>({...ne.value,items:p.value,trackBy:s.virtualTrackBy,disabled:!s.virtualScroller,table:!0})),ie=td(),ue=V(()=>({class:[{"va-data-table--sticky":s.stickyHeader||s.stickyFooter},{"va-data-table--scroll":!!s.height},{"va-data-table--virtual-scroller":ye.value},{"va-data-table--grid":s.grid},ie.class],style:[ie.style],...H.value})),Te=Gs(kH),Ie=V(()=>({...Te.value,columns:n.value,sortingOrderIconName:f.value,severalRowsSelected:_.value,sortingOrderSync:c.value,allRowsSelected:x.value,sortBySync:l.value})),{scrollContainer:he,topTrigger:Ee,bottomTrigger:Y,doRenderTopTrigger:Z,doRenderBottomTrigger:Se}=Ige(s,r),ye=V(()=>s.virtualScroller&&!s.grid),ke=V(()=>s.gridColumns||"var(--va-data-table-grid-tbody-columns)"),Oe=(He,mt)=>mt.displayFormatFn?mt.displayFormatFn(He.value):He.value;return(He,mt)=>(q(),nt(P(YT),ut({class:"va-data-table"},ue.value,{ref_key:"scrollContainer",ref:he,style:`--va-css-variables-selected-color: ${String(P(R).selectedColor)};--va-css-variables-hover-color: ${String(P(R).hoverColor)};--va-css-variables-table-height: ${String(P(R).tableHeight)};--va-css-variables-thead-bg: ${String(P(R).theadBg)};--va-css-variables-tfoot-bg: ${String(P(R).tfootBg)};--va-grid-columns-count: ${String(ke.value)}`}),{content:tt(({uniqueKey:we,renderBuffer:de,currentListOffset:pe,listStyleComputed:Ve,containerStyleComputed:Qe})=>[wt(P(i9),{"aria-live":"polite",style:St(Qe),loading:e.loading,color:e.loadingColor},{default:tt(()=>[P(Z)?(q(),ve("div",{key:0,ref_key:"topTrigger",ref:Ee,class:"va-data-table__scroll-trigger"},null,512)):Le("",!0),me("table",ut({class:"va-data-table__table",style:Ve},te.value),["colgroup"in He.$slots?(q(),ve("colgroup",Qge,[Fe(He.$slots,"colgroup",Ft(Wt(P(n))))])):Le("",!0),me("thead",{class:Et(["va-data-table__table-thead",{"va-data-table__table-thead--sticky":He.$props.stickyHeader}]),style:St({top:ye.value&&He.$props.stickyHeader?`-${pe}px`:void 0})},[Fe(He.$slots,"headerPrepend"),Fe(He.$slots,"header",{},()=>[e.hideDefaultHeader?Le("",!0):(q(),nt(P(xF),ut({key:0},Ie.value,{onToggleBulkSelection:P(C),onToggleSorting:P(u)}),zs({_:2},[si(He.$slots,(Ge,Ze)=>({name:Ze,fn:tt(ot=>[Fe(He.$slots,Ze,Ft(Wt(ot)))])}))]),1040,["onToggleBulkSelection","onToggleSorting"]))]),Fe(He.$slots,"headerAppend")],6),me("tbody",Jge,[Fe(He.$slots,"bodyPrepend"),wt(kT,{name:ye.value?"":P(ee),css:!He.$props.virtualScroller,appear:!He.$props.virtualScroller},{default:tt(()=>[K.value?(q(),ve("tr",Zge,[me("td",eme,[Fe(He.$slots,"no-data",{},()=>[me("div",{innerHTML:e.noDataHtml},null,8,tme)])])])):Q.value?(q(),ve("tr",ime,[me("td",sme,[Fe(He.$slots,"no-filtered-data",{},()=>[Fe(He.$slots,"no-data",{},()=>[me("div",{innerHTML:e.noDataFilteredHtml},null,8,rme)])])])])):Le("",!0),(q(!0),ve(kt,null,si(de,(Ge,Ze)=>(q(),ve(kt,{key:`table-row_${we(Ge,Ze)}`},[me("tr",ut({class:["va-data-table__table-tr",[{selected:P(S)(Ge),"va-data-table__table-tr--expanded":Ge.isExpandableRowVisible}]]},P(N)(Ge),{onClick:ot=>be("row:click",ot,Ge),onDblclick:ot=>be("row:dblclick",ot,Ge),onContextmenu:ot=>be("row:contextmenu",ot,Ge)}),[He.selectable&&!He.$props.grid?(q(),ve("td",{class:"va-data-table__table-td va-data-table__table-cell-select",key:`selectable_${we(Ge,Ze)}`,onSelectstart:mt[0]||(mt[0]=Dt(()=>{},["prevent"]))},[wt(P(Jw),{class:"va-data-table__table-cell-checkbox","model-value":P(S)(Ge),color:He.selectedColor,"aria-label":P(i)(He.$props.ariaSelectRowLabel,{index:Ge.initialIndex}),onClick:[Dt(ot=>P(v)(Ge),["shift","exact","stop"]),Dt(ot=>P(y)(Ge),["ctrl","exact","stop"]),Dt(ot=>P(y)(Ge),["exact","stop"])]},null,8,["model-value","color","aria-label","onClick"])],32)):Le("",!0),(q(!0),ve(kt,null,si(Ge.cells,(ot,xe)=>(q(),ve("td",ut({key:`table-cell_${ot.column.name+ot.rowIndex}`,class:["va-data-table__table-td",P(k)(ot.column.tdClass)],style:[ot.column.width?{minWidth:ot.column.width,maxWidth:ot.column.width}:{},P(O)(ot),P(F)(ot.column.tdStyle)]},P(j)(ot,Ge)),[`cell(${ot.column.name})`in He.$slots?Fe(He.$slots,`cell(${ot.column.name})`,Ft(ut({key:0},{...ot,row:Ge,isExpanded:Ge.isExpandableRowVisible}))):Fe(He.$slots,"cell",Ft(ut({key:1},{cell:ot,row:Ge})),()=>[He.$props.grid?(q(),ve("span",ome,Mt(P(n)[xe].label),1)):Le("",!0),oi(" "+Mt(Oe(ot,P(n)[xe])),1)])],16))),128))],16,nme),Ge.isExpandableRowVisible?(q(),ve("tr",ame,[(q(),ve("td",{class:"va-data-table__table-expanded-content",colspan:"99999",key:we(Ge,Ze)},[Fe(He.$slots,"expandableRow",Ft(Wt(Ge)))]))])):Le("",!0)],64))),128))]),_:2},1032,["name","css","appear"]),Fe(He.$slots,"bodyAppend")],512),["footer","footerPrepend","footerAppend"].some(Ge=>He.$slots[Ge])||e.footerClone&&!He.$props.grid?(q(),ve("tfoot",{key:1,class:Et(["va-data-table__table-tfoot",{"va-data-table__table-tfoot--sticky":He.$props.stickyFooter}]),style:St({bottom:ye.value&&He.$props.stickyFooter?`${pe}px`:void 0})},[Fe(He.$slots,"footerPrepend"),Fe(He.$slots,"footer",{},()=>[e.hideDefaultHeader?Le("",!0):(q(),nt(P(xF),ut({key:0},Ie.value,{"is-footer":"",onToggleBulkSelection:P(C),onToggleSorting:P(u)}),zs({_:2},[si(He.$slots,(Ge,Ze)=>({name:Ze,fn:tt(ot=>[Fe(He.$slots,Ze,Ft(Wt(ot)))])}))]),1040,["onToggleBulkSelection","onToggleSorting"]))]),Fe(He.$slots,"footerAppend")],6)):Le("",!0)],16),P(Se)?(q(),ve("div",{key:1,ref_key:"bottomTrigger",ref:Y,class:"va-data-table__scroll-trigger"},null,512)):Le("",!0)]),_:2},1032,["style","loading","color"])]),_:3},16,["style"]))}}),cme=zt(lme),DH=e=>e===null?!1:typeof e=="object"&&("start"in e||"end"in e),ume=(e,t)=>{const i=We(e.value),s=V({get:()=>i.value,set:n=>{if(t.value&&(e.value=n),!n){e.value=n;return}DH(n)?n.end!==null&&(e.value=n):e.value=n,i.value=n}});return Ot(e,n=>{i.value=n}),{valueComputed:s,reset:()=>{i.value&&DH(i.value)&&(i.value=e.value)}}},GC=e=>Object.prototype.toString.call(e)==="[object Date]",RH=e=>new Date(Date.parse(e)),PH=e=>GC(e)&&!isNaN(e.getTime()),dme=e=>{const t=o=>{const a=o.split(e.delimiter);return a.length<2?!1:a.every(l=>{const c=(e.parseDate||RH)(l);return PH(c)})},i=o=>o.includes(e.rangeDelimiter),s=We(!0),r=o=>{const a=o.split("."),l=(a==null?void 0:a.length)===3?a.reverse().join("-"):o,c=(e.parseDate||RH)(l);return s.value=PH(c),c};return{parseDateInputValue:o=>{if(s.value=!0,e.parse)return e.parse(o,s);if(t(o))return o.split(e.delimiter).map(r);if(i(o)){const[a,l]=o.split(e.rangeDelimiter).map(r);return{start:a,end:l}}return r(o)},isValid:s}},hme=e=>{const t=Date.parse(e);return!isNaN(t)&&!e.includes(" ")},fme=e=>e.endsWith("GMT"),pme=e=>{const t=new Date(e);return!isNaN(t.getTime())},gme=(e,t)=>fme(t)?e.toUTCString():hme(t)?e.toISOString():pme(t)?e.toString():null,tR=e=>e===null?!1:typeof e=="object"&&("start"in e||"end"in e),iR=e=>e===null?!1:Array.isArray(e),FH=e=>e===null?!1:typeof e=="string"||typeof e=="number"||e instanceof Date,mme=(e,t,i,s,r)=>{const n=(u,h)=>{if(r)return r(h);if(typeof u=="string"){const f=gme(h,u);return f||s(h)}return typeof u=="number"?h.getTime():h},o=u=>u instanceof Date?u:new Date(u),a=V(()=>e.value===null||e.value===void 0?null:typeof e.value=="string"?i(e.value):typeof e.value=="number"?new Date(e.value):e.value),l=V({get:()=>{if(a.value===null||a.value===void 0)return null;if(iR(a.value))return a.value.map(o);if(tR(a.value)){const{start:u,end:h}=a.value;return{start:u?o(u):null,end:h?o(h):null}}return o(a.value)},set(u){var h,f;if(u==null){e.value=u;return}if(iR(u)&&(iR(e.value)||UD(e.value))){const p=e.value;e.value=u.map((y,v)=>n((p==null?void 0:p[v])||(p==null?void 0:p[0]),y));return}if(tR(u)&&(tR(e.value)||UD(e.value))){const{start:p,end:y}=u;e.value={start:p?n((h=e.value)==null?void 0:h.start,p):null,end:y?n((f=e.value)==null?void 0:f.start,y):null};return}if(FH(u)&&(FH(e.value)||UD(e.value))){e.value=n(e.value,u);return}throw new Error("Input date is not the same as date from props")}});return{text:V({get:()=>l.value===null||l.value===void 0?"":s(l.value),set:u=>{e.value=i(u)}}),normalized:l}},vme=(e,t)=>(e==null?void 0:e.toDateString())===(t==null?void 0:t.toDateString()),s9=(e,t)=>(e==null?void 0:e.getFullYear())===(t==null?void 0:t.getFullYear()),yme=(e,t)=>s9(e,t)&&(e==null?void 0:e.getMonth())===(t==null?void 0:t.getMonth()),Cme=e=>{const t=new Date;return t.setFullYear(e),t},n0=e=>e===null?!1:typeof e=="object"&&("start"in e||"end"in e),XT=e=>GC(e),qT=e=>Array.isArray(e),r9=0,n9=11,bme=e=>e.month===n9?{...e,year:e.year+1,month:r9}:{...e,month:e.month+1},wme=e=>e.month===r9?{...e,year:e.year-1,month:n9}:{...e,month:e.month-1},Sme=e=>GC(e)?e:GC(e==null?void 0:e.start)?e.start:Array.isArray(e)&&GC(e[0])?e[0]:new Date,o9=(e,t,i)=>{const s=Sme(e.modelValue),r={type:"day",year:s.getFullYear(),month:s.getMonth(),...i},n=We(r),o=V({get(){return{...n.value,...e.view}},set(c){n.value=c,t("update:view",c)}});return{syncView:o,next:()=>{o.value.type==="day"?o.value=bme(o.value):o.value.type==="month"&&(o.value={...o.value,year:o.value.year+1})},prev:()=>{o.value.type==="day"?o.value=wme(o.value):o.value.type==="month"&&(o.value={...o.value,year:o.value.year-1})}}},xme=["onKeypress"],HO=dt({name:"VaDatePickerCell",__name:"VaDatePickerCell",props:{otherMonth:{type:Boolean,default:!1},today:{type:Boolean,default:!1},inRange:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},weekend:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},highlightWeekend:{type:Boolean,default:!1},highlightToday:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["click"],setup(e,{emit:t}){const i=e,s=t,r=()=>{i.disabled||s("click")},{getColor:n}=xi(),o=V(()=>n(i.color)),{textColorComputed:a}=yn(o);return(l,c)=>e.hidden?(q(),ve("div",{key:0,class:"va-date-picker-cell va-date-picker-cell_clear",style:St(`--va-bg: ${String(o.value)};--va-text-color-computed: ${String(P(a))}`)},null,4)):(q(),ve("div",{key:1,class:Et(["va-date-picker-cell",{"va-date-picker-cell_other-month":e.otherMonth,"va-date-picker-cell_today":e.highlightToday&&e.today,"va-date-picker-cell_in-range":e.inRange,"va-date-picker-cell_disabled":e.disabled,"va-date-picker-cell_highlighted-weekend":e.highlightWeekend&&e.weekend,"va-date-picker-cell_selected":e.selected,"va-date-picker-cell_focused":e.focused,"va-date-picker-cell_readonly":e.readonly}]),onClick:r,onKeypress:xt(Dt(r,["prevent","stop"]),["space","enter"]),style:St(`--va-bg: ${String(o.value)};--va-text-color-computed: ${String(P(a))}`)},[Fe(l.$slots,"default")],46,xme))}});function MH(e){return e===void 0}const $O=({rowSize:e,start:t,end:i,onSelected:s,onFocusIndex:r})=>{const n=We(-1);let o=!1;return{focusedCellIndex:n,containerAttributes:{onFocus:()=>{if(o)return;o=!1;const f=r===void 0?P(t)||0:P(r);n.value=f},onKeydown:f=>{if(["ArrowRight","ArrowLeft","ArrowDown","ArrowUp","Enter","Space"].includes(f.key)&&(f.preventDefault(),f.stopPropagation()),f.key==="Enter"||f.key==="Space"){if(s===void 0)return;s(n.value);return}f.key==="ArrowRight"&&(n.value+=1),f.key==="ArrowLeft"&&(n.value-=1),f.key==="ArrowDown"&&(n.value+=e),f.key==="ArrowUp"&&(n.value-=e),!MH(t)&&n.value<P(t)&&(n.value=P(t)),!MH(i)&&n.value>P(i)-1&&(n.value=P(i)-1)},onBlur:()=>{o=!1,n.value=-1},onMousedown:()=>{o=!0},tabindex:0}}},Eme=(e,t)=>{if(t==="single")return e;if(t==="range")return{start:e,end:null};if(t==="multiple")return[e];if(t==="auto")return e;throw new Error("Unknown mode")},Y1=(e,t)=>{throw Error(`Incorrect modelValue for mode ${t}. Got ${JSON.stringify(e)}`)},_me=e=>XT(e)?"single":n0(e)?"range":qT(e)?"multiple":Y1(e,"auto"),LH=e=>e.start&&e.end&&e.start>e.end?{start:e.end,end:e.start}:e,Tme=(e,t,i)=>({updateModelValue:r=>{if(!e.modelValue){t("update:modelValue",Eme(r,e.mode));return}const n=e.mode==="auto"?_me(e.modelValue):e.mode;if(n==="single"){if(!XT(e.modelValue))return Y1(e.modelValue,n);t("update:modelValue",r)}else if(n==="range"){if(!n0(e.modelValue))return Y1(e.modelValue,n);if(e.modelValue.end&&i(e.modelValue.end,r))return t("update:modelValue",{start:e.modelValue.start,end:null});if(e.modelValue.start&&i(e.modelValue.start,r))return t("update:modelValue",{start:null,end:e.modelValue.end});if(e.modelValue.end===null)return t("update:modelValue",LH({start:e.modelValue.start,end:r}));if(e.modelValue.start===null)return t("update:modelValue",LH({end:e.modelValue.end,start:r}));t("update:modelValue",{start:r,end:null})}else if(n==="multiple"){if(!qT(e.modelValue))return Y1(e.modelValue,n);!!e.modelValue.find(a=>i(a,r))?t("update:modelValue",e.modelValue.filter(a=>!i(a,r))):t("update:modelValue",[...e.modelValue,r].sort((a,l)=>a.getTime()-l.getTime()))}}}),Ame=e=>({month:yme,day:vme,year:s9})[e],WO=(e,t,i,s)=>{const r=Ame(e),n=i.allowedDays||i.allowedMonths||i.allowedYears,o=y=>n===void 0?!1:!n(y),a=We(-1),l=V(()=>t.value[a.value]),{updateModelValue:c}=Tme(i,s,r),u=y=>{i.readonly||o(y)||(c(y),s(`click:${e}`,y))},h=y=>r(new Date,y),f=y=>i.modelValue?XT(i.modelValue)?r(i.modelValue,y):qT(i.modelValue)?!!i.modelValue.find(v=>r(v,y)):n0(i.modelValue)?r(i.modelValue.start,y)||r(i.modelValue.end,y):!1:!1,p=y=>{if(!i.modelValue||!n0(i.modelValue))return!1;if(i.modelValue.start&&i.modelValue.end)return i.modelValue.start<y&&i.modelValue.end>y;const v=i.modelValue.start||i.modelValue.end;return v&&l.value?v<y?l.value>=y:l.value<=y:!1};return Ot(l,y=>{s(`hover:${e}`,y)}),{hoveredIndex:a,hoveredValue:l,onClick:u,isToday:h,isSelected:f,isInRange:p}},sR=(e,t)=>new Date(e,t+1,0).getDate(),kme=(e,t)=>new Date(e,t,1).getDay(),rR=e=>Array.from(Array(e).keys()).map(t=>t+1),Dme=(e,t)=>{const s=u=>{var h;return!t||!((h=t.firstWeekday)!=null&&h.value)?u:t.firstWeekday.value.toLowerCase()==="monday"?u===0?6:u-1:u},r=V(()=>s(kme(e.value.year,e.value.month))),n=()=>{if(r.value===0)return[];const u=sR(e.value.year,e.value.month-1);return rR(u).slice(-r.value).map(f=>new Date(e.value.year,e.value.month-1,f))},o=()=>rR(sR(e.value.year,e.value.month)).map(h=>new Date(e.value.year,e.value.month,h)),a=V(()=>[...n(),...o()]),l=V(()=>a.value.length);return{calendarDates:V(()=>{const u=a.value,h=42-u.length,f=sR(e.value.year,e.value.month+1),p=rR(f);return[...u,...p.slice(0,h).map(y=>new Date(e.value.year,e.value.month+1,y))]}),currentMonthStartIndex:r,currentMonthEndIndex:l}},Rme=["onMouseenter"],Pme={class:"va-date-picker-cell__day"},Xx=dt({name:"VaDayPicker",__name:"VaDayPicker",props:{monthNames:{type:Array,required:!0},weekdayNames:{type:Array,required:!0},firstWeekday:{type:String,default:"Sunday"},hideWeekDays:{type:Boolean,default:!1},view:{type:Object,default:()=>({type:"day"})},modelValue:{type:[Date,Array,Object]},mode:{type:String,default:"auto"},showOtherMonths:{type:Boolean,default:!1},allowedDays:{type:Function},weekends:{type:Function},highlightWeekend:{type:Boolean,default:!1},highlightToday:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["update:modelValue","hover:day","click:day"],setup(e,{emit:t}){const i=e,s=t,{firstWeekday:r,weekdayNames:n,view:o}=Il(i),{calendarDates:a,currentMonthStartIndex:l,currentMonthEndIndex:c}=Dme(o,{firstWeekday:r}),u=V(()=>r.value.toLowerCase()==="sunday"?n.value:[...n.value.slice(1),n.value[0]]),{hoveredIndex:h,onClick:f,isToday:p,isSelected:y,isInRange:v}=WO("day",a,i,s),C=V(()=>i.showOtherMonths?0:l.value),S=V(()=>i.showOtherMonths?a.value.length:c.value),{focusedCellIndex:_,containerAttributes:x}=$O({rowSize:7,start:C,end:S,onSelected:k=>f(a.value[k])});Ot(_,k=>{h.value=k}),Ot(h,k=>{_.value=k});const A=k=>i.view.month!==k.getMonth(),R=k=>i.allowedDays===void 0?!1:!i.allowedDays(k),O=k=>i.weekends===void 0?k.getDay()===6||k.getDay()===0:i.weekends(k);return(k,F)=>(q(),ve("div",ut({class:"va-day-picker"},P(x)),[e.hideWeekDays?Le("",!0):(q(!0),ve(kt,{key:0},si(u.value,N=>(q(),ve("div",{key:N,class:"va-day-picker__weekday"},[Fe(k.$slots,"weekday",{},()=>[oi(Mt(N),1)])]))),128)),(q(!0),ve(kt,null,si(P(a),(N,j)=>(q(),ve("div",{class:"va-day-picker__calendar__day-wrapper",key:j,onMouseenter:ee=>h.value=j,onMouseleave:F[0]||(F[0]=ee=>h.value=-1)},[wt(HO,{hidden:A(N)&&!e.showOtherMonths,today:P(p)(N),selected:P(y)(N),"in-range":P(v)(N),"other-month":A(N),weekend:O(N),disabled:R(N),focused:P(h)===j,"highlight-today":e.highlightToday,"highlight-weekend":e.highlightWeekend,readonly:k.$props.readonly,color:e.color,onClick:ee=>{P(f)(N),_.value=j}},{default:tt(()=>[me("span",Pme,[Fe(k.$slots,"day",Ft(Wt({date:N})),()=>[oi(Mt(N.getDate()),1)])])]),_:2},1032,["hidden","today","selected","in-range","other-month","weekend","disabled","focused","highlight-today","highlight-weekend","readonly","color","onClick"])],40,Rme))),128))],16))}}),Fme={key:0,class:"va-date-picker-header va-date-picker__header"},Mme={class:"va-date-picker__header__text"},Lme={class:"va-date-picker__header__month"},qx=dt({name:"VaDatePickerHeader",__name:"VaDatePickerHeader",props:{monthNames:{type:Array,required:!0},view:{type:Object},color:{type:String},disabled:{type:Boolean,default:!1},ariaNextPeriodLabel:mi("$t:nextPeriod"),ariaPreviousPeriodLabel:mi("$t:previousPeriod"),ariaSwitchViewLabel:mi("$t:switchView")},emits:["update:view"],setup(e,{emit:t}){const i=e,s=t,{syncView:r,prev:n,next:o}=o9(i,s),a=()=>{r.value.type==="day"?r.value={...r.value,type:"month"}:r.value.type==="month"&&(r.value={...r.value,type:"year"})},l=h=>{r.value=h},c=p7(K5(EO())),{tp:u}=Hs();return(h,f)=>P(r).type!=="year"?(q(),ve("div",Fme,[Fe(h.$slots,"buttonPrev",Ft(Wt({onClick:P(n)})),()=>[wt(P(ps),{"va-child":"prevButton",disabled:h.$props.disabled,icon:"va-arrow-left",preset:"plain",size:"small",color:e.color,textColor:P(c),"aria-label":P(u)(h.$props.ariaPreviousPeriodLabel),round:"",onClick:P(n)},null,8,["disabled","color","textColor","aria-label","onClick"])]),me("div",Mme,[Fe(h.$slots,"header",Ft(Wt({year:P(r).year,month:P(r).month,monthNames:e.monthNames,view:P(r),changeView:l,switchView:a})),()=>[wt(P(ps),{"va-child":"middleButton",disabled:h.$props.disabled,preset:"plain",size:"small",color:e.color,textColor:P(c),"aria-label":P(u)(h.$props.ariaSwitchViewLabel),onClick:a},{default:tt(()=>[Fe(h.$slots,"year",Ft(Wt({year:P(r).year})),()=>[oi(Mt(P(r).year),1)]),P(r).type==="day"?Fe(h.$slots,"month",Ft(ut({key:0},{month:P(r).month})),()=>[me("span",Lme,Mt(e.monthNames[P(r).month]),1)]):Le("",!0)]),_:3},8,["disabled","color","textColor","aria-label"])])]),Fe(h.$slots,"buttonNext",Ft(Wt({onClick:P(o)})),()=>[wt(P(ps),{"va-child":"nextButton",disabled:h.$props.disabled,icon:"va-arrow-right",preset:"plain",size:"small",color:e.color,textColor:P(c),"aria-label":P(u)(h.$props.ariaNextPeriodLabel),onClick:P(o),round:""},null,8,["disabled","color","textColor","aria-label","onClick"])])])):Le("",!0)}}),Ome=["onMouseenter"],Qx=dt({name:"VaMonthPicker",__name:"VaMonthPicker",props:{modelValue:{type:[Date,Array,Object]},monthNames:{type:Array,required:!0},view:{type:Object,default:()=>({type:"month"})},allowedMonths:{type:Function,default:void 0},highlightToday:{type:Boolean,default:!0},mode:{type:String,default:"auto"},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["update:modelValue","hover:month","click:month"],setup(e,{emit:t}){const i=e,s=t,{view:r}=Il(i),n=V(()=>Array.from(Array(12).keys()).map(y=>new Date(r.value.year,y))),{hoveredIndex:o,onClick:a,isToday:l,isSelected:c,isInRange:u}=WO("month",n,i,s),h=y=>i.allowedMonths===void 0?!1:!i.allowedMonths(y),{focusedCellIndex:f,containerAttributes:p}=$O({rowSize:3,start:0,end:n.value.length,onSelected:y=>a(n.value[y])});return Ot(f,y=>{o.value=y}),Ot(o,y=>{f.value=y}),(y,v)=>(q(),ve("div",ut({class:"va-month-picker"},P(p)),[(q(!0),ve(kt,null,si(n.value,(C,S)=>(q(),ve("div",{key:S,class:"va-month-picker__month-wrapper",onMouseenter:_=>o.value=S,onMouseleave:v[0]||(v[0]=_=>o.value=-1)},[wt(HO,{"in-range":!!P(u)(C),selected:!!P(c)(C),disabled:!!h(C),today:!!P(l)(C),focused:P(o)===S,"highlight-today":e.highlightToday,readonly:y.$props.readonly,color:e.color,onClick:_=>{P(a)(C),f.value=S}},{default:tt(()=>[Fe(y.$slots,"month",Ft(Wt({monthIndex:S,month:e.monthNames[S]})),()=>[oi(Mt(e.monthNames[S]),1)])]),_:2},1032,["in-range","selected","disabled","today","focused","highlight-today","readonly","color","onClick"])],40,Ome))),128))],16))}}),Jx=dt({name:"VaYearPicker",__name:"VaYearPicker",props:{modelValue:{type:[Date,Array,Object]},allowedYears:{type:Function,default:void 0},highlightToday:{type:Boolean,default:!0},startYear:{type:[Number,String],default:1970},mode:{type:String,default:"auto"},view:{type:Object,default:()=>({type:"year"})},endYear:{type:[Number,String],default:()=>new Date().getFullYear()+50},readonly:{type:Boolean,default:!1},color:{type:String,default:"primary"}},emits:["update:modelValue","hover:year","click:year"],setup(e,{emit:t}){const i=e,s=t,r=vi(),{view:n}=Il(i),o=(A,R)=>{const O=R-A+1;return Array.from(Array(O).keys()).map(k=>Cme(A+k))},a=Bi("startYear"),l=Bi("endYear"),c=V(()=>o(a.value,l.value)),u=A=>{if(!r.value)return;const R=r.value.scrollHeight,O=r.value.offsetHeight,k=R/c.value.length*A,F=R/c.value.length,N=k-r.value.scrollTop;N<0?r.value.scrollTo({top:k}):N>O&&r.value.scrollTo({top:k-O+F})},h=A=>{if(!r.value)return;const R=r.value.scrollHeight,O=r.value.offsetHeight,k=R/c.value.length*A;r.value.scrollTo({top:k-O/2})};Ri(()=>{const A=c.value.findIndex(R=>R.getFullYear()===n.value.year);h(A)});const{hoveredIndex:f,onClick:p,isToday:y,isSelected:v,isInRange:C}=WO("year",c,i,s),S=A=>i.allowedYears===void 0?!1:!i.allowedYears(A),{focusedCellIndex:_,containerAttributes:x}=$O({rowSize:1,start:0,end:c.value.length,onFocusIndex:V(()=>c.value.findIndex(A=>A.getFullYear()===n.value.year)),onSelected:A=>p(c.value[A])});return Ot(_,A=>A!==-1&&u(A)),Ot(_,A=>{f.value=A}),Ot(f,A=>{_.value=A}),(A,R)=>(q(),ve("div",ut({ref_key:"rootNode",ref:r,class:"va-year-picker"},P(x),{onKeydown:R[1]||(R[1]=xt(Dt(()=>{},["prevent"]),["space"]))}),[(q(!0),ve(kt,null,si(c.value,(O,k)=>(q(),nt(HO,{key:O.toString(),"in-range":P(C)(O),selected:P(v)(O),disabled:S(O),today:P(y)(O),focused:P(_)===k,"highlight-today":e.highlightToday,readonly:A.$props.readonly,color:e.color,onClick:F=>{P(p)(O),_.value=k},onMouseenter:F=>f.value=k,onMouseleave:R[0]||(R[0]=F=>f.value=-1)},{default:tt(()=>[oi(Mt(O.getFullYear()),1)]),_:2},1032,["in-range","selected","disabled","today","focused","highlight-today","readonly","color","onClick","onMouseenter"]))),128))],16))}}),Ime={class:"va-date-picker__picker-wrapper"},Nme=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Vme=["SU","MO","TU","WE","TH","FR","SA"],e_=dt({name:"VaDatePicker",__name:"VaDatePicker",props:{...g5({prevButton:ps,nextButton:ps,middleButton:ps}),...dn,...hi,...vs(qx),...vs(Xx),...vs(Qx),...vs(Jx),modelValue:{type:[Date,Array,Object]},monthNames:{type:Array,default:Nme},weekdayNames:{type:Array,default:Vme},view:{type:Object},type:{type:String,default:"day"},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{type:String,default:void 0},weekendsColor:{type:String,default:void 0}},emits:[...Ao,...Hp(qx),...Hp(Jx),...Hp(Xx),...Hp(Qx)],setup(e,{expose:t,emit:i}){const s=e;m5(s);const r=i,n=We(),{valueComputed:o}=mr(s,r),{syncView:a}=o9(s,r,{type:s.type}),l=V(()=>({"va-date-picker_without-week-days":s.hideWeekDays,"va-date-picker_disabled":s.disabled})),c=O=>{s.readonly||s.type==="day"&&(o.value=O)},u=O=>{r("click:month",O);const k=O.getFullYear(),F=O.getMonth();s.type!=="month"&&(a.value={type:"day",year:k,month:F})},h=O=>{s.type==="month"&&(o.value=O)},f=O=>{r("click:year",O);const k=O.getFullYear();s.type!=="year"&&(a.value={type:"month",year:k,month:a.value.month})},p=O=>{s.type==="year"&&(o.value=O)},{colorsToCSSVariable:y}=xi(),v=V(()=>({...y({color:s.color,"weekends-color":s.weekendsColor},"va-date-picker")})),C=()=>{var O;return(O=n.value)==null?void 0:O.$el.focus()};Ot(a,(O,k)=>{O.type!==k.type&&rs(C)});const S=O=>s.readonly&&s.type===O,_=Gs(vs(Xx)),x=Gs(vs(qx)),A=Gs(vs(Qx)),R=Gs(vs(Jx));return t({focus:C,focusCurrentPicker:C}),(O,k)=>(q(),ve("div",{class:Et(["va-date-picker",l.value]),style:St(v.value)},[wt(qx,ut(P(x),{view:P(a),"onUpdate:view":k[0]||(k[0]=F=>cs(a)?a.value=F:null)}),zs({_:2},[si(O.$slots,(F,N)=>({name:N,fn:tt(j=>[Fe(O.$slots,N,Ft(Wt(j)))])}))]),1040,["view"]),me("div",Ime,[P(a).type==="day"?(q(),nt(Xx,ut({key:0,ref_key:"currentPicker",ref:n},P(_),{"model-value":P(o),view:P(a),readonly:O.$props.disabled||S("day"),"onUpdate:modelValue":c,"onHover:day":k[1]||(k[1]=F=>O.$emit("hover:day",F)),"onClick:day":k[2]||(k[2]=F=>O.$emit("click:day",F))}),zs({_:2},[si(O.$slots,(F,N)=>({name:N,fn:tt(j=>[Fe(O.$slots,N,Ft(Wt(j)))])}))]),1040,["model-value","view","readonly"])):Le("",!0),P(a).type==="month"?(q(),nt(Qx,ut({key:1,ref_key:"currentPicker",ref:n},P(A),{view:P(a),"model-value":P(o),readonly:O.$props.disabled||S("month"),"onUpdate:modelValue":h,"onHover:month":k[3]||(k[3]=F=>O.$emit("hover:month",F)),"onClick:month":u}),zs({_:2},[si(O.$slots,(F,N)=>({name:N,fn:tt(j=>[Fe(O.$slots,N,Ft(Wt(j)))])}))]),1040,["view","model-value","readonly"])):Le("",!0),P(a).type==="year"?(q(),nt(Jx,ut({key:2,ref_key:"currentPicker",ref:n},P(R),{view:P(a),"model-value":P(o),readonly:O.$props.disabled||S("year"),"onHover:year":k[4]||(k[4]=F=>O.$emit("hover:year",F)),"onUpdate:modelValue":p,"onClick:year":f}),zs({_:2},[si(O.$slots,(F,N)=>({name:N,fn:tt(j=>[Fe(O.$slots,N,Ft(Wt(j)))])}))]),1040,["view","model-value","readonly"])):Le("",!0)])],6))}}),a9=vs(Pl,["innerAnchorSelector","stateful","keyboardNavigation","modelValue"]),Lc={...a9,modelValue:{},closeOnChange:{type:Boolean,default:null},isOpen:{type:Boolean,default:void 0}},UO=["update:isOpen"],zO=function(e,t,i={}){const[s]=Cg("isOpen",e,t,!1),r=V(()=>e.closeOnChange!==null?e.closeOnChange:P(i.defaultCloseOnValueUpdate||!1));return Ot(()=>e.modelValue,()=>{r.value&&(s.value=!1)}),{dropdownProps:Gs(a9),isOpenSync:s}},OH=vs(ol,["focused","maxLength","counterValue"]),IH=vs(e_),Bme=dt({name:"VaDateInput",__name:"VaDateInput",props:{...Lc,...Zw,...OH,...IH,...sh,...hi,clearValue:{type:void 0,default:void 0},modelValue:{type:[Date,Array,Object,String,Number]},resetOnClose:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!1},offset:{...Lc.offset,default:()=>[2,0]},format:{type:Function},formatDate:{type:Function,default:e=>e.toLocaleDateString()},formatValue:{type:Function},parse:{type:Function},parseDate:{type:Function},delimiter:{type:String,default:", "},rangeDelimiter:{type:String,default:" ~ "},manualInput:{type:Boolean,default:!1},color:{type:String,default:"primary"},leftIcon:{type:Boolean,default:!1},icon:{type:String,default:"va-calendar"},ariaToggleDropdownLabel:mi("$t:toggleDropdown"),ariaResetLabel:mi("$t:resetDate"),ariaSelectedDateLabel:mi("$t:selectedDate")},emits:[...BT,...Hp(e_),...jT,...If,...Ao,...UO,"update:text"],setup(e,{expose:t,emit:i}){const s=e,r=i,n=vi(),o=We(),{resetOnClose:a}=Il(s),{trapFocusIn:l,freeFocus:c}=n7(),u=()=>{const qe=Nr(o.value);if(!qe){c();return}l(qe)};Ot([o],()=>{u()});const{valueComputed:h}=mr(s,r),{isOpenSync:f,dropdownProps:p}=zO(s,r,{defaultCloseOnValueUpdate:V(()=>!(Array.isArray(v.value)||n0(v.value)&&v.value.end===null))}),y=V(()=>!a.value),{valueComputed:v,reset:C}=ume(h,y);Ot(f,qe=>{!qe&&!y.value&&C()});const{isFocused:S,focus:_,blur:x,onFocus:A,onBlur:R}=nh(n),O=VO(o),k=qe=>qe?s.formatDate(qe):"...",{parseDateInputValue:F,isValid:N}=dme(s);Ot(v,()=>{N.value=!0});const j=qe=>s.format?s.format(v.value):qT(qe)?qe.map(pt=>s.formatDate(pt)).join(s.delimiter):XT(qe)?s.formatDate(qe):n0(qe)?k(qe.start)+s.rangeDelimiter+k(qe.end):(qe==null,""),{text:ee,normalized:K}=mme(v,Dn(s,"mode"),F,j,s.formatValue),Q=V(()=>N.value?v.value?ee.value:s.clearValue?j(s.clearValue):"":""),be=({target:qe})=>{if(s.disabled)return;const pt=qe.value;N.value&&(v.value=pt===""?s.clearValue:F(pt))},te=()=>Oe(()=>{h.value=s.clearValue,r("clear"),He()}),ne=()=>{f.value=!1,_()},H=()=>{rs(()=>{var qe;return(qe=o.value)==null?void 0:qe.focusCurrentPicker()})},ie=()=>{f.value?H():_()},ue=qe=>f.value?!1:s.disabled||s.readonly?!0:qe===void 0?!1:s.manualInput&&(qe==null?void 0:qe.code)!=="Space",Te=qe=>{ue(qe instanceof KeyboardEvent?qe:void 0)||(f.value=!f.value,rs(ie))},Ie=()=>{s.disabled||s.readonly||(f.value=!0,rs(H))},{isDirty:he,isTouched:Ee,computedError:Y,computedErrorMessages:Z,listeners:Se,validationAriaAttributes:ye,validate:ke,withoutValidation:Oe,resetValidation:He}=rh(s,r,{reset:te,focus:_,value:v});Ot(f,qe=>{qe||(Ee.value=!0)});const mt=V(()=>!N.value&&v.value!==s.clearValue||Y.value),we=so(),de=V(()=>{const qe=[s.leftIcon&&"prependInner",(!s.leftIcon||s.clearable)&&"icon"];return Object.keys(we).filter(pt=>!qe.includes(pt))}),{canBeCleared:pe,clearIconProps:Ve,onFocus:Qe,onBlur:Ge}=KT(s,v),Ze=V(()=>s.disabled?{}:s.manualInput?{cursor:"text"}:{cursor:"pointer"}),ot=V(()=>s.manualInput?s.disabled||s.readonly?-1:0:-1),xe=V(()=>({role:ot.value===0?"button":"none",ariaHidden:ot.value===-1,name:s.icon,color:"secondary",tabindex:ot.value})),Ae=Gs(OH),Ke=V(()=>({...Ae.value,focused:S.value||O.value,error:mt.value,errorMessages:Z.value,readonly:s.readonly||!s.manualInput})),yt=V(()=>({focus:()=>{s.disabled||(A(),!s.readonly&&Qe())},blur:()=>{s.disabled||(R(),!s.readonly&&(Ge(),Se.onBlur()))}})),{tp:Ct}=Hs(),ft=td(),Je=V(()=>({readonly:s.readonly||!s.manualInput,disabled:s.disabled,tabindex:s.disabled?-1:0,placeholder:s.placeholder,value:Q.value,ariaLabel:s.label||Ct(s.ariaSelectedDateLabel),ariaRequired:s.requiredMark,ariaDisabled:s.disabled,ariaReadOnly:s.readonly,...ye.value,...zu(ft,["class","style"])})),ht=V(()=>({...p.value,stateful:!1,innerAnchorSelector:".va-input-wrapper__field",trigger:["click","right-click","enter","space"]})),Yt=Ke,$e=yt,Me=Gs(IH);return t({valueText:Q,valueWithoutText:K,valueDate:K,focus:_,blur:x,reset:te,validate:ke,showDropdown:Ie,hideAndFocus:ne,toggleDropdown:Te,focusDatePicker:H,isDirty:he,isTouched:Ee}),(qe,pt)=>(q(),nt(P(Pl),ut({modelValue:P(f),"onUpdate:modelValue":pt[9]||(pt[9]=vt=>cs(f)?f.value=vt:null),class:["va-date-input",qe.$attrs.class],style:qe.$attrs.style},ht.value,{onOpen:H,role:"none"}),{anchor:tt(()=>[Fe(qe.$slots,"input",Ft(Wt({valueText:Q.value,inputAttributes:Je.value,inputWrapperProps:P(Yt),inputListeners:P($e)})),()=>[wt(P(ol),ut({class:"va-date-input__anchor",style:Ze.value},P(Yt),Ta(P($e)),{"model-value":Q.value,onChange:be}),zs({icon:tt(()=>[P(pe)?(q(),nt(P(ns),ut({key:0,"aria-label":P(Ct)(qe.$props.ariaResetLabel)},{...xe.value,...P(Ve)},{onClick:Dt(te,["stop"]),onKeydown:[xt(Dt(te,["stop"]),["enter"]),xt(Dt(te,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):Le("",!0),!qe.$props.leftIcon&&qe.$props.icon?(q(),nt(P(ns),ut({key:1,"aria-label":P(Ct)(qe.$props.ariaToggleDropdownLabel)},xe.value),null,16,["aria-label"])):Le("",!0)]),_:2},[si(de.value,vt=>({name:vt,fn:tt(_i=>[Fe(qe.$slots,vt,Ft(Wt(_i)))])})),qe.$slots.prependInner||qe.$props.leftIcon?{name:"prependInner",fn:tt(vt=>[Fe(qe.$slots,"prependInner",Ft(Wt(vt))),qe.$props.leftIcon?(q(),nt(P(ns),ut({key:0,"aria-label":P(Ct)(qe.$props.ariaToggleDropdownLabel)},xe.value),null,16,["aria-label"])):Le("",!0)]),key:"0"}:void 0]),1040,["style","model-value"])])]),default:tt(()=>[wt(P(xg),{class:"va-date-input__dropdown-content",onKeydown:pt[8]||(pt[8]=xt(vt=>P(_)(),["esc"])),role:"dialog"},{default:tt(()=>[wt(e_,ut({ref_key:"datePicker",ref:o},P(Me),{modelValue:P(K),"onUpdate:modelValue":pt[0]||(pt[0]=vt=>cs(K)?K.value=vt:null),"onClick:day":pt[1]||(pt[1]=vt=>qe.$emit("click:day",vt)),"onClick:month":pt[2]||(pt[2]=vt=>qe.$emit("click:month",vt)),"onClick:year":pt[3]||(pt[3]=vt=>qe.$emit("click:year",vt)),"onHover:day":pt[4]||(pt[4]=vt=>qe.$emit("hover:day",vt)),"onHover:month":pt[5]||(pt[5]=vt=>qe.$emit("hover:month",vt)),"onHover:year":pt[6]||(pt[6]=vt=>qe.$emit("hover:year",vt)),"onUpdate:view":pt[7]||(pt[7]=vt=>{qe.$nextTick(()=>u()),qe.$emit("update:view",vt)})}),zs({_:2},[si(qe.$slots,(vt,_i)=>({name:_i,fn:tt(dr=>[Fe(qe.$slots,_i,Ft(Wt(dr)))])}))]),1040,["modelValue"])]),_:3})]),_:3},16,["modelValue","class","style"]))}}),Gme=zt(Bme),Hme=zt(e_),$me=["aria-orientation"],Wme={key:0,class:"va-divider__text"},Zx="va-divider",Ume=dt({name:"VaDivider",__name:"VaDivider",props:{...hi,vertical:{type:Boolean,default:!1},dashed:{type:Boolean,default:!1},inset:{type:Boolean,default:!1},orientation:{type:String,default:"center",validator:e=>["left","right","center"].includes(e)},color:{type:String,default:"backgroundBorder"}},setup(e){const t=e,{getColor:i}=xi(),s=V(()=>i(t.color)),r=so(),n=V(()=>!!r.default),o=V(()=>({[`${Zx}--vertical`]:t.vertical,[`${Zx}--inset`]:t.inset,[`${Zx}--${t.orientation}`]:t.orientation&&!t.vertical,[`${Zx}--dashed`]:t.dashed}));return(a,l)=>(q(),ve("div",{role:"separator",class:Et(["va-divider",o.value]),"aria-orientation":e.vertical?"vertical":"horizontal","aria-hidden":!0,style:St(`--va-color-computed: ${String(s.value)}`)},[n.value&&!e.vertical?(q(),ve("div",Wme,[Fe(a.$slots,"default")])):Le("",!0)],14,$me))}}),l9=zt(Ume),eS=Symbol("VaFileUpload"),zme=dt({name:"VaList",__name:"VaList",props:{...hi,fit:{type:Boolean,default:!1}},setup(e){const t=e,i=V(()=>({"va-list--fit":t.fit}));return(s,r)=>(q(),ve("div",{class:Et(["va-list",i.value]),role:"list"},[Fe(s.$slots,"default")],2))}}),jme=dt({name:"VaListItem",__name:"VaListItem",props:{...sm,...hi,tag:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},emits:["focus","click"],setup(e,{emit:t}){const i=e,s=V(()=>i.disabled?-1:0),r=Is("va-list-item",()=>({...xr(i,["disabled"])})),{tagComputed:n,hrefComputed:o}=Nf(i);return(a,l)=>(q(),nt(io(P(n)),{class:Et(["va-list-item",P(r)]),role:"listitem",href:P(o),target:a.target,to:a.to,replace:a.replace,exact:a.exact,"active-class":a.activeClass,"exact-active-class":a.exactActiveClass,tabindex:s.value},{default:tt(()=>[me("div",{class:"va-list-item__inner",onClick:l[0]||(l[0]=c=>a.$emit("click")),onFocus:l[1]||(l[1]=c=>a.$emit("focus"))},[Fe(a.$slots,"default")],32)]),_:3},8,["href","target","to","replace","exact","active-class","exact-active-class","class","tabindex"]))}}),Kme=dt({name:"VaListLabel",__name:"VaListLabel",props:{...hi,color:{type:String,default:"primary"}},setup(e){const t=e,{getColor:i}=xi(),s=V(()=>({color:i(t.color)}));return(r,n)=>(q(),ve("div",{class:"va-list-label",style:St(s.value)},[Fe(r.$slots,"default")],4))}}),Yme=dt({name:"VaListItemLabel",__name:"VaListItemLabel",props:{...hi,caption:{type:Boolean,default:!1},lines:{type:[Number,String],default:1}},setup(e){const t=e,i=Bi("lines"),s=V(()=>({"va-list-item-label--caption":t.caption})),r=V(()=>({"-webkit-line-clamp":i.value}));return(n,o)=>(q(),ve("div",{class:Et(["va-list-item-label",s.value]),style:St(r.value)},[Fe(n.$slots,"default")],6))}}),Xme=dt({name:"VaListItemSection",__name:"VaListItemSection",props:{...hi,icon:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1}},setup(e){const t=e,i=V(()=>({"va-list-item-section--main":!t.icon&&!t.avatar,"va-list-item-section--icon":t.icon,"va-list-item-section--avatar":t.avatar}));return(s,r)=>(q(),ve("div",{class:Et(["va-list-item-section",i.value])},[Fe(s.$slots,"default")],2))}}),qme=dt({name:"VaListSeparator",__name:"VaListSeparator",props:{...hi,fit:{type:Boolean,default:!1},spaced:{type:Boolean,default:!1}},setup(e){const t=e,i=V(()=>({"va-list-separator--offset":!t.fit,"va-list-separator--spaced":t.spaced}));return(s,r)=>(q(),ve("div",{"aria-hidden":"true",class:Et(["va-list-separator",i.value])},null,2))}}),QT=zt(jme),Qme=zt(Kme),Jme=zt(Yme),o0=zt(Xme),Zme=zt(qme),c9=zt(zme),eve={key:0,class:"va-progress-bar__info"},tve=dt({name:"VaProgressBar",__name:"VaProgressBar",props:{...hi,modelValue:{type:[Number,String],default:0},indeterminate:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:[Number,String],default:"medium"},buffer:{type:[Number,String],default:100},rounded:{type:Boolean,default:!0},reverse:{type:Boolean,default:!1},contentInside:{type:Boolean,default:!1},showPercent:{type:Boolean,default:!1},max:{type:[Number,String],default:100},ariaLabel:mi("$t:progressState")},setup(e){const t=e,{getColor:i,getHoverColor:s}=xi(),r=V(()=>i(t.color)),{textColorComputed:n}=yn(r),o=V(()=>typeof t.size=="string"&&["small","medium","large"].includes(t.size)),a=()=>{if(typeof t.size=="number")return`${t.size}px`;if(!o.value)return t.size},{tp:l}=Hs(),c=V(()=>100/Number(t.max)*Number(t.modelValue)),u=V(()=>({"va-progress-bar--square":!t.rounded,[`va-progress-bar--${t.size}`]:o.value})),h=V(()=>({"--va-progress-bar-color":r.value,"--va-progress-bar-background-color":s(r.value)})),f=V(()=>({height:a()})),p=V(()=>({width:`${t.indeterminate?100:wg(Number(t.buffer),0,100)}%`,color:n.value,[t.reverse?"right":"left"]:0})),y=V(()=>({marginLeft:t.reverse?"auto":void 0,width:`${wg(c.value,0,100)}%`})),v=V(()=>({animationDirection:t.reverse?"reverse":"normal"})),C=V(()=>({role:"progressbar","aria-label":l(t.ariaLabel),"aria-valuenow":t.indeterminate?void 0:t.modelValue}));return(S,_)=>(q(),ve("div",ut({class:["va-progress-bar",u.value],style:h.value},C.value),[S.$props.contentInside?Le("",!0):(q(),ve("div",eve,[Fe(S.$slots,"default",Ft(Wt({value:S.$props.modelValue})),()=>[S.$props.showPercent?(q(),ve(kt,{key:0},[oi(Mt(S.$props.modelValue)+"% ",1)],64)):Le("",!0)])])),me("div",{class:"va-progress-bar__wrapper",style:St(f.value)},[me("div",{class:"va-progress-bar__buffer",style:St(p.value)},[S.$props.contentInside?Fe(S.$slots,"default",Ft(ut({key:0},{value:S.$props.modelValue})),()=>[S.$props.showPercent?(q(),ve(kt,{key:0},[oi(Mt(S.$props.modelValue)+"% ",1)],64)):Le("",!0)]):Le("",!0)],4),e.indeterminate?(q(),ve(kt,{key:0},[me("div",{class:"va-progress-bar__progress--indeterminate-start",style:St(v.value)},null,4),me("div",{class:"va-progress-bar__progress--indeterminate-end",style:St(v.value)},null,4)],64)):(q(),ve("div",{key:1,class:"va-progress-bar__progress",style:St(y.value)},null,4))],4)],16))}}),u9=zt(tve),tS=(e,t)=>{const i=Xr(e);if(!i)throw new Error(t);return i},ive={class:"va-file-upload-undo__text"},sve="The VaFileUploadUndo component should be used in the context of VaFileUpload component",rve=dt({name:"VaFileUploadUndo",__name:"VaFileUploadUndo",props:{vertical:{type:Boolean,default:!1}},emits:["recover"],setup(e,{emit:t}){const i=e,s=We(100),{undoDuration:r,undoButtonText:n,deletedFileMessage:o}=tS(eS,sve),a=Is("va-file-upload-undo",()=>({vertical:i.vertical})),l=V(()=>`${r.value??0}ms`);return Ri(()=>{const c=setTimeout(()=>{s.value=0,clearTimeout(c)},0)}),(c,u)=>(q(),ve(kt,null,[wt(P(u9),{"model-value":s.value,rounded:!1,class:"va-file-upload-undo-progress-bar",style:St(`--va-undo-duration-style: ${String(l.value)}`)},null,8,["model-value","style"]),me("div",{class:Et(["va-file-upload-undo",P(a)]),style:St(`--va-undo-duration-style: ${String(l.value)}`)},[me("span",ive,Mt(P(o)),1),wt(P(ps),{class:"va-file-upload-undo__button","aria-label":P(n),size:"small",outline:"",onClick:u[0]||(u[0]=h=>c.$emit("recover"))},{default:tt(()=>[oi(Mt(P(n)),1)]),_:1},8,["aria-label"])],6)],64))}}),d9=zt(rve),nve={class:"va-file-upload-list-item__content"},ove={key:0,class:"va-file-upload-list-item__name"},ave={class:"va-file-upload-list-item__size"},lve="The VaFileUploadListItem component should be used in the context of VaFileUpload component",cve=dt({name:"VaFileUploadListItem",__name:"VaFileUploadListItem",props:{file:{type:Object,default:null},color:{type:String,default:"success"},ariaRemoveFileLabel:mi("$t:removeFile")},emits:["remove"],setup(e,{emit:t}){const{tp:i}=Hs(),s=t,{undo:r,disabled:n,undoDuration:o}=tS(eS,lve),{onFocus:a,onBlur:l}=nh(),c=We(!1),u=()=>{r.value?(c.value=!0,setTimeout(()=>{c.value&&(s("remove"),c.value=!1)},o.value??0)):(s("remove"),c.value=!1)},h=()=>{c.value=!1},f=Is("va-file-upload-list-item",()=>({undo:c.value}));return(p,y)=>(q(),nt(P(QT),{class:Et(["va-file-upload-list-item",P(f)]),tabindex:"-1",disabled:P(n),"aria-disabled":P(n)},{default:tt(()=>[c.value&&P(r)?(q(),nt(P(o0),{key:0},{default:tt(()=>[wt(P(d9),{onRecover:h})]),_:1})):(q(),nt(P(o0),{key:1},{default:tt(()=>[me("div",nve,[e.file&&e.file.name?(q(),ve("div",ove,Mt(e.file&&e.file.name),1)):Le("",!0),me("div",ave,Mt(e.file&&e.file.size),1),P(n)?Le("",!0):(q(),nt(P(ps),{key:1,flat:"",color:"danger",icon:"clear",class:"va-file-upload-list-item__delete","aria-label":P(i)(p.$props.ariaRemoveFileLabel),onClick:Dt(u,["stop"]),onKeydown:[xt(Dt(u,["stop"]),["enter"]),xt(Dt(u,["stop"]),["space"])],onFocus:P(a),onBlur:P(l)},null,8,["aria-label","onKeydown","onFocus","onBlur"]))])]),_:1}))]),_:1},8,["class","disabled","aria-disabled"]))}}),h9=zt(cve),uve=["src","alt"],dve={class:"va-file-upload-gallery-item__overlay"},hve=["title"],fve="The VaFileUploadGalleryItem component should be used in the context of VaFileUpload component",pve=dt({name:"VaFileUploadGalleryItem",__name:"VaFileUploadGalleryItem",props:{file:{type:Object,default:null},color:{type:String,default:"success"},ariaRemoveFileLabel:mi("$t:removeFile")},emits:["remove"],setup(e,{emit:t}){const i=e,s=t,{undo:r,disabled:n,undoDuration:o}=tS(eS,fve),{isFocused:a,onFocus:l,onBlur:c}=nh(),u=We(""),h=We(!1),f=V(()=>({backgroundColor:em(i.color,.7)})),p=Is("va-file-upload-gallery-item",()=>({notImage:!u.value,focused:a.value,undo:h.value})),y=()=>{r.value?(h.value=!0,setTimeout(()=>{h.value&&(s("remove"),h.value=!1)},o.value??0)):(s("remove"),h.value=!1)},v=()=>{h.value=!1},C=()=>{if(!(!i.file.name||!i.file.image)){if(i.file.image.url)u.value=i.file.image.url;else if(i.file.image instanceof File){const x=new FileReader;x.readAsDataURL(i.file.image),x.onload=A=>{var R,O;((R=A.target)==null?void 0:R.result).includes("image")&&(u.value=(O=A.target)==null?void 0:O.result)}}}};Ri(C),Ot(()=>i.file,C);const{tp:S}=Hs(),{textColorComputed:_}=yn(Dn(i,"color"));return(x,A)=>(q(),nt(P(QT),{class:Et(["va-file-upload-gallery-item",P(p)]),tabindex:"-1",disabled:P(n),"aria-disabled":P(n),onFocus:P(l),onBlur:P(c)},{default:tt(()=>[h.value&&P(r)?(q(),nt(P(o0),{key:0},{default:tt(()=>[wt(P(d9),{vertical:"",onRecover:v})]),_:1})):(q(),nt(P(o0),{key:1},{default:tt(()=>[u.value?(q(),ve("img",{key:0,src:u.value,alt:e.file.name||"",class:"va-file-upload-gallery-item__image"},null,8,uve)):Le("",!0),me("div",dve,[me("div",{class:"va-file-upload-gallery-item__overlay-background",style:St(f.value)},null,4),e.file&&e.file.name?(q(),ve("div",{key:0,class:"va-file-upload-gallery-item__name",title:e.file.name,style:St({color:P(_)})},Mt(e.file.name),13,hve)):Le("",!0),P(n)?Le("",!0):(q(),nt(P(ps),{key:1,flat:"",color:"danger",icon:"va-delete",class:"va-file-upload-gallery-item__delete","aria-label":P(S)(x.$props.ariaRemoveFileLabel),onClick:y,onFocus:P(l),onBlur:P(c)},null,8,["aria-label","onFocus","onBlur"]))])]),_:1}))]),_:1},8,["class","disabled","aria-disabled","onFocus","onBlur"]))}}),f9=zt(pve),gve={class:"va-file-upload-single-item__name"},mve="The VaFileUploadSingleItem component should be used in the context of VaFileUpload component",vve=dt({name:"VaFileUploadSingleItem",__name:"VaFileUploadSingleItem",props:{file:{type:Object,default:null},ariaRemoveFileLabel:mi("$t:removeFile")},emits:["remove"],setup(e,{emit:t}){const{tp:i}=Hs(),{disabled:s}=tS(eS,mve);return(r,n)=>(q(),nt(P(QT),{disabled:P(s),"aria-disabled":P(s),class:"va-file-upload-single-item",tabindex:"-1"},{default:tt(()=>[wt(P(o0),{class:"va-file-upload-single-item__content"},{default:tt(()=>[me("div",gve,Mt(e.file&&e.file.name),1),P(s)?Le("",!0):(q(),nt(P(ps),{key:0,class:"va-file-upload-single-item__button","aria-label":P(i)(r.$props.ariaRemoveFileLabel),size:"small",color:"danger",preset:"secondary",onClick:n[0]||(n[0]=o=>r.$emit("remove"))},{default:tt(()=>[oi(" Delete ")]),_:1},8,["aria-label"]))]),_:1})]),_:1},8,["disabled","aria-disabled"]))}}),p9=zt(vve),NH=vs(f9),VH=vs(h9),BH=vs(p9),yve=dt({name:"VaFileUploadList",__name:"VaFileUploadList",props:{type:{type:String,default:""},files:{type:Array,default:null},...NH,...VH,...BH},emits:["remove","removeSingle"],setup(e,{emit:t}){const i=e,s=V(()=>i.files.map(r)),r=u=>({name:u.name||u.url||"",size:n(u.size),date:o(new Date),image:u}),n=u=>{if(u===0)return"0 Bytes";if(!u)return"";const h=1024,f=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],p=Math.floor(Math.log(u)/Math.log(h));return parseFloat((u/Math.pow(h,p)).toFixed(2))+" "+f[p]},o=(u=new Date)=>u.toLocaleDateString("en-US",{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric",year:"numeric"}),a=Gs(NH),l=Gs(VH),c=Gs(BH);return(u,h)=>(q(),nt(P(c9),{class:Et(["va-file-upload-list",`va-file-upload-list--${e.type}`]),role:e.type!=="single"?"list":void 0},{default:tt(()=>[e.type==="list"?(q(!0),ve(kt,{key:0},si(s.value,(f,p)=>(q(),nt(P(h9),ut({key:f.name},P(l),{file:f,role:"listitem",onRemove:y=>u.$emit("remove",p)}),null,16,["file","onRemove"]))),128)):Le("",!0),e.type==="gallery"?(q(!0),ve(kt,{key:1},si(s.value,(f,p)=>(q(),nt(P(f9),ut(P(a),{key:f.name,file:f,role:"listitem",onRemove:y=>u.$emit("remove",p)}),null,16,["file","onRemove"]))),128)):Le("",!0),e.type==="single"&&s.value.length?(q(),nt(P(p9),ut({key:2},P(c),{file:s.value[s.value.length-1],onRemove:h[0]||(h[0]=f=>u.$emit("removeSingle"))}),null,16,["file"])):Le("",!0)]),_:1},8,["role","class"]))}}),g9=zt(yve),Cve={class:"va-file-upload__field"},bve={key:0,class:"va-file-upload__field__text"},wve=["accept","multiple","disabled"],GH=vs(g9),Sve=dt({name:"VaFileUpload",__name:"VaFileUpload",props:{...hi,...GH,fileTypes:{type:String,default:""},dropzone:{type:Boolean,default:!1},hideFileList:{type:Boolean,default:!1},color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},undo:{type:Boolean,default:!1},undoDuration:{type:[Number,String],default:3e3},undoButtonText:mi("$t:undo"),dropZoneText:mi("$t:dropzone"),uploadButtonText:mi("$t:uploadFile"),deletedFileMessage:mi("$t:fileDeleted"),fileIncorrectMessage:mi("$t:fileTypeIncorrect"),modelValue:{type:[Object,Array],default:()=>[]},type:{type:String,default:"list",validator:e=>["list","gallery","single"].includes(e)}},emits:["update:modelValue","file-removed","file-added"],setup(e,{emit:t}){const i=e,s=t,r=vi(),n=We(!1),o=We(!1),{getColor:a,shiftHSLAColor:l}=xi(),c=V(()=>a(i.color)),u=V(()=>({backgroundColor:i.dropzone?l(c.value,{a:o.value?-.82:-.92}):"transparent"})),h=Is("va-file-upload",()=>({dropzone:i.dropzone,disabled:i.disabled})),f=V({get(){return Array.isArray(i.modelValue)?i.modelValue:[i.modelValue]},set(R){i.type==="single"?s("update:modelValue",R[0]):s("update:modelValue",R)}}),p=R=>R.filter(O=>{const k=O.name||O.url;if(!k)return!1;if(O.url||["audio/*","video/*","image/*"].find(K=>i.fileTypes.includes(K)))return!0;const j=k.substring(k.lastIndexOf(".")+1).toLowerCase(),ee=i.fileTypes.includes(j);return ee||(n.value=!0),ee}),y=R=>{var O,k;const F=((O=R.target)==null?void 0:O.files)||((k=R.dataTransfer)==null?void 0:k.files);if(!F)return;const N=i.fileTypes?p(Array.from(F)):F;f.value=i.type==="single"?N:[...f.value,...N],s("file-added",N)},v=R=>{y(R),r.value&&(r.value.value="")},C=R=>{if(R in f.value){const O=f.value[R];f.value=f.value.filter((k,F)=>F!==R),s("file-removed",O)}},S=()=>{if(f.value.length>0){const R=f.value[0];f.value=[],s("file-removed",R)}},_=()=>{r.value&&r.value.click()};Ri(()=>{if(Array.isArray(f.value)){const R=p(f.value);R.length!==f.value.length&&(f.value=R)}});const{tp:x}=Hs();la(eS,{undo:Dn(i,"undo"),disabled:Dn(i,"disabled"),undoDuration:Bi("undoDuration"),undoButtonText:V(()=>x(i.undoButtonText)),deletedFileMessage:V(()=>x(i.deletedFileMessage))});const A=Gs(GH);return(R,O)=>(q(),ve("div",{class:Et(["va-file-upload",P(h)]),style:St(u.value)},[Fe(R.$slots,"default",{},()=>[me("div",Cve,[e.dropzone?(q(),ve("div",bve,Mt(P(x)(e.dropZoneText)),1)):Le("",!0),wt(P(ps),{class:"va-file-upload__field__button",disabled:e.disabled,"aria-disabled":e.disabled,color:c.value,style:St({"pointer-events":o.value?"none":void 0}),onChange:v,onClick:_},{default:tt(()=>[oi(Mt(P(x)(e.uploadButtonText)),1)]),_:1},8,["disabled","aria-disabled","color","style"])])]),me("input",{ref_key:"fileInputRef",ref:r,type:"file",class:"va-file-upload__field__input",tabindex:-1,"aria-hidden":"true",accept:e.fileTypes,multiple:e.type!=="single",disabled:e.disabled,onChange:v,onDragenter:O[0]||(O[0]=k=>o.value=!0),onDragleave:O[1]||(O[1]=k=>o.value=!1)},null,40,wve),f.value.length&&!R.$props.hideFileList?(q(),nt(P(g9),ut({key:0},P(A),{type:e.type,files:f.value,color:c.value,onRemove:C,onRemoveSingle:S}),null,16,["type","files","color"])):Le("",!0),wt(P(xO),{modelValue:n.value,"onUpdate:modelValue":O[2]||(O[2]=k=>n.value=k),"hide-default-actions":"",message:P(x)("$t:fileTypeIncorrect")},null,8,["modelValue","message"])],6))}}),xve=zt(Sve),Eve=e=>{const t=We(new Map);return{immediate:V(()=>e.immediate),fields:V(()=>[...t.value.values()]),forceHideErrors:V(()=>e.hideErrors),forceHideErrorMessages:V(()=>e.hideErrorMessages),forceHideLoading:V(()=>e.hideLoading),forceDirty:We(!1),registerField:(i,s)=>{t.value.set(i,s)},unregisterField:i=>{t.value.delete(i)}}},_ve=e=>{const t=Eve(e);la(H5,t);const{fields:i,forceDirty:s}=t,r=V(()=>i.value.map(x=>P(x.name)).filter(Boolean)),n=V(()=>i.value.reduce((x,A)=>(P(A.name)&&(x[P(A.name)]=A),x),{})),o=V(()=>i.value.reduce((x,A)=>(P(A.name)&&(x[P(A.name)]=P(A.value)),x),{})),a=V(()=>i.value.every(x=>P(x.isValid))),l=V(()=>i.value.some(x=>P(x.isLoading))),c=V(()=>i.value.map(x=>P(x.errorMessages)).flat()),u=V(()=>i.value.reduce((x,A)=>(P(A.name)&&(x[P(A.name)]=P(A.errorMessages)),x),{})),h=V({get(){return i.value.some(x=>P(x.isDirty))||s.value},set(x){s.value=x,i.value.forEach(A=>{A.isDirty=x})}}),f=V({get(){return i.value.some(x=>x.isTouched)},set(x){i.value.forEach(A=>{A.isTouched=x})}}),p=()=>(h.value=!0,i.value.reduce((x,A)=>A.validate()&&x,!0)),y=()=>(h.value=!0,Promise.all(i.value.map(x=>x.validateAsync())).then(x=>x.every(Boolean))),v=()=>{h.value=!1,i.value.forEach(x=>x.reset())},C=()=>{h.value=!1,i.value.forEach(x=>x.resetValidation())},S=()=>{var x;(x=i.value[0])==null||x.focus()},_=()=>{const x=i.value.find(A=>!A.isValid);x==null||x.focus()};return $5({name:Dn(e,"name"),isValid:a,isLoading:l,isDirty:h,isTouched:f,validate:p,validateAsync:y,reset:v,resetValidation:C,focus:S,errorMessages:c}),{immediate:V(()=>e.immediate),isDirty:h,isTouched:f,formData:o,fields:i,fieldsNamed:n,fieldNames:r,isValid:a,isLoading:l,errorMessages:c,errorMessagesNamed:u,validate:p,validateAsync:y,reset:v,resetValidation:C,focus:S,focusInvalidField:_}},ml={stateful:!0},Tve={VaInput:ml,VaSelect:ml,VaCheckbox:ml,VaRadio:ml,VaDatePicker:ml,VaTimePicker:ml,VaColorPicker:ml,VaSlider:ml,VaSwitch:ml,VaFileUpload:ml,VaRating:ml,VaDateInput:ml,VaTimeInput:ml},Ave=dt({name:"VaForm",__name:"VaForm",props:{...hi,autofocus:{type:Boolean,default:!1},immediate:{type:Boolean,default:!1},tag:{type:String,default:"form"},trigger:{type:String,default:"blur"},modelValue:{type:Boolean,default:!0},hideErrors:{type:Boolean,default:!1},hideErrorMessages:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},stateful:{type:Boolean,default:!1},name:{type:String,default:void 0}},emits:["update:modelValue"],setup(e,{expose:t,emit:i}){const s=e,r=i,n=_ve(s);Ot(n.isValid,k=>{r("update:modelValue",k)}),Ot(()=>s.autofocus,k=>{k&&n.focus()}),Ri(()=>{s.autofocus&&n.focus()}),Ot(n.fields,k=>{k.length&&s.immediate&&n.validate()},{immediate:!0}),_le(V(()=>s.stateful?Tve:{}));const{immediate:o,isDirty:a,isTouched:l,formData:c,fields:u,fieldsNamed:h,fieldNames:f,isValid:p,isLoading:y,errorMessages:v,errorMessagesNamed:C,validate:S,validateAsync:_,reset:x,resetValidation:A,focus:R,focusInvalidField:O}=n;return t({immediate:o,isDirty:a,formData:c,fields:u,fieldsNamed:h,fieldNames:f,isValid:p,isTouched:l,isLoading:y,errorMessages:v,errorMessagesNamed:C,validate:S,validateAsync:_,reset:x,resetValidation:A,focus:R,focusInvalidField:O}),(k,F)=>(q(),nt(io(e.tag),ut({class:"va-form",onSubmit:F[0]||(F[0]=N=>k.$attrs.action===void 0&&N.preventDefault())},k.$attrs),{default:tt(()=>[Fe(k.$slots,"default",Ft(Wt({isValid:P(p),isDirty:P(a),isTouched:P(l),isLoading:P(y),errorMessages:P(v),errorMessagesNamed:P(C),formData:P(c),fields:P(u),fieldsNamed:P(h),fieldNames:P(f),validate:P(S),validateAsync:P(_),reset:P(x),resetValidation:P(A),focus:P(R),focusInvalidField:P(O)})))]),_:3},16))}}),kve=zt(Ave),Dve=(e=0)=>new Promise(t=>setTimeout(t,e)),Rve=(e,t,i)=>{const s=()=>{var n;(n=t.value)==null||n.addEventListener("scroll",i.value,{passive:!0})},r=()=>{var n;(n=t.value)==null||n.removeEventListener("scroll",i.value)};return Ri(()=>{t.value&&(t.value.style.overflowY="scroll",e.reverse&&(t.value.scrollTop=t.value.scrollHeight),s())}),Rr(r),{addScrollListener:s,removeScrollListener:r}},Pve={class:"va-infinite-scroll__spinner__default"},Fve=dt({name:"VaInfiniteScroll",__name:"VaInfiniteScroll",props:{...hi,load:{type:Function,required:!0},offset:{type:[Number,String],default:500},reverse:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},scrollTarget:{type:[String,Object],default:null},debounce:{type:[Number,String],default:100},tag:{type:String,default:"div"}},emits:["onload","onerror"],setup(e,{emit:t}){const i=e,s=t,r=vi(),n=vi(),o=We(!1),a=We(!1),l=We(!1),c=We(),u=We(0),h=We(0),f=V(()=>{var Q;let be;return typeof i.scrollTarget=="string"?be=document.querySelector(i.scrollTarget):be=i.scrollTarget||((Q=r.value)==null?void 0:Q.parentElement),be||document.body}),{addScrollListener:p,removeScrollListener:y}=Rve(i,f,c),v=Bi("offset"),C=Bi("debounce"),{getColor:S}=xi(),_=V(()=>a.value?S("danger"):S("primary")),x=V(()=>{var Q;return((Q=n.value)==null?void 0:Q.offsetHeight)||0}),A=V(()=>v.value+x.value),R=()=>{i.disabled||(o.value=!1,y())},O=()=>{i.disabled||p()},k=()=>{const{scrollTop:Q,scrollHeight:be,clientHeight:te}=f.value;u.value=be-Q;const ne=Q-h.value;if(h.value=Q,i.disabled||a.value||o.value)return;if(l.value){l.value=!1;return}i.reverse&&ne>0||!i.reverse&&ne<0||(i.reverse?Q:be-Q-te)>A.value||(o.value=!0,i.load().then(j).catch(K))},F=Q=>{l.value=!0,f.value.scrollTop=Q},N=()=>{const{scrollTop:Q,scrollHeight:be,clientHeight:te}=f.value;if(i.reverse){const ne=be-Q<u.value,H=Q>=x.value;if(ne&&H)return;be-u.value>x.value?F(be-u.value):F(x.value)}i.reverse||!(be-Q-te>=x.value)&&F(be-te-x.value)},j=()=>{N(),o.value=!1,s("onload")},ee=()=>{N(),l.value=!1,a.value=!1,o.value=!1,s("onerror")},K=()=>{R(),a.value=!0,Dve(1200).then(ee).then(O)};return Ot(()=>C.value,Q=>{c.value=_O(k,Q)},{immediate:!0}),Ot(()=>i.disabled,Q=>{Q?R():O()}),(Q,be)=>(q(),nt(io(Q.$props.tag),{ref_key:"element",ref:r,role:"feed",class:Et(["va-infinite-scroll",{"va-infinite-scroll--reversed":Q.$props.reverse}]),"aria-busy":o.value},{default:tt(()=>[Fe(Q.$slots,"default"),me("div",{ref_key:"spinnerSlotContainer",ref:n,class:Et(["va-infinite-scroll__spinner",{"va-infinite-scroll__spinner--invisible":!o.value}])},[Q.$props.disabled?Le("",!0):Fe(Q.$slots,"loading",{key:0},()=>[me("div",Pve,[wt(P(G0),{size:"small",thickness:.15,color:_.value,indeterminate:""},null,8,["color"])])])],2)]),_:3},8,["class","aria-busy"]))}}),Mve=zt(Fve),Lve={top:[0,1,2],left:[0,3,6],right:[2,5,8],bottom:[6,7,8]},Ove=["left","right","top","bottom"],Ive=e=>{const t=()=>[...Ove].sort((s,r)=>(e[s].order??0)-(e[r].order??0)),i=(s,r,n)=>{r.forEach(o=>{s[o]=n})};return V(()=>{const s=t(),r=[".",".",".",".",".",".",".",".","."].map(()=>"content");return s.forEach(n=>{i(r,Lve[n],n)}),['"'+r.slice(0,3).join(" ")+'"','"'+r.slice(3,6).join(" ")+'"','"'+r.slice(6,9).join(" ")+'"'].join(" ")})},Nve={top:{type:Object,default:()=>({order:2})},right:{type:Object,default:()=>({order:1})},left:{type:Object,default:()=>({order:1})},bottom:{type:Object,default:()=>({order:2})}},m9="VaLayout",Vve=e=>{const t=We({top:null,right:null,bottom:null,left:null}),i=V(()=>{const{top:r,right:n,bottom:o,left:a}=t.value,{top:l,right:c,bottom:u,left:h}=e;return{top:r&&!l.absolute?r.sizes.height:0,right:n&&!c.absolute?n.sizes.width:0,bottom:o&&!u.absolute?o.sizes.height:0,left:a&&!h.absolute?a.sizes.width:0}}),s=V(()=>({top:e.top.order||0,right:e.right.order||0,bottom:e.bottom.order||0,left:e.left.order||0}));return la(m9,{items:t,paddings:i,orders:s}),{paddings:i,orders:s,items:t}},Bve=(e,t)=>{const i=Xr(m9,null);if(!i)throw new Error("VaLayoutChild must be used inside VaLayout");return Fa(()=>{t.value?i.items.value[e]={sizes:t.value}:i.items.value[e]=null}),Rr(()=>{i.items.value[e]=null}),{paddings:V(()=>Object.keys(i.paddings.value).reduce((s,r)=>(i.orders.value[r]>i.orders.value[e]&&(s[r]=i.paddings.value[r]),s),{}))}},Gve={},Hve={class:"va-layout__absolute-area-wrapper"};function $ve(e,t){return q(),ve("div",Hve,[Fe(e.$slots,"default")])}const Wve=om(Gve,[["render",$ve]]),Uve=dt({name:"VaLayoutSizeKeeper",__name:"VaResizeObserver",emits:{resize:e=>!0},setup(e,{emit:t}){const i=t,s=We();let r=null;return Ot(s,n=>{r&&r.disconnect(),r=new ResizeObserver(([o])=>{i("resize",o.contentRect)}),r.observe(n)}),(n,o)=>(q(),ve("div",{class:"va-resize-observer",ref_key:"el",ref:s},[Fe(n.$slots,"default")],512))}}),HH=dt({name:"VaLayoutFixedWrapper",__name:"VaLayoutFixedWrapper",props:{area:{type:String,required:!0}},setup(e){const t=e,i=We(null),s=V(()=>t.area==="top"||t.area==="bottom"?"vertical":"horizontal"),r=a=>a?a+"px":"0px",n=V(()=>s.value==="vertical"?{width:`calc(100% - ${r(o.value.left)} - ${r(o.value.right)})`,[t.area]:0}:{height:`calc(100% - ${r(o.value.top)} - ${r(o.value.bottom)})`,[t.area]:0}),{paddings:o}=Bve(t.area,i);return V(()=>Object.keys(o.value).reduce((a,l)=>l===t.area?a:{...a,[l]:`${o.value[l]}px`},{})),(a,l)=>(q(),ve("div",{class:"va-layout-fixed-wrapper",style:St([[{height:i.value&&s.value==="vertical"?i.value.height+"px":"auto",width:i.value&&s.value==="horizontal"?i.value.width+"px":"auto"}],`--va-styles-width: ${String(n.value.width)};--va-styles-height: ${String(n.value.height)}`])},[wt(Uve,{class:Et(["va-layout-fixed-wrapper__content",`va-layout-fixed-wrapper__content--${e.area}`]),style:St(i.value?{}:{position:"relative"}),onResize:l[0]||(l[0]=c=>i.value=c)},{default:tt(()=>[Fe(a.$slots,"default")]),_:3},8,["class","style"])],4))}}),zve=dt({name:"VaLayoutArea",__name:"VaLayoutArea",props:{area:{type:String,required:!0},config:{type:Object,required:!0}},emits:["overlay-click"],setup(e,{emit:t}){const i=e,s=V(()=>i.config.absolute||!1),r=V(()=>i.config.fixed||!1),n=V(()=>i.config.overlay||!1),o=V(()=>(i.config.order||0)+1);return(a,l)=>(q(),ve(kt,null,[s.value?(q(),nt(Wve,{key:0,style:St(`--va-props-area: ${String(a.$props.area)};--va-z-index: ${String(o.value)};--va-z-index-1: ${String(o.value-1)}`)},{default:tt(()=>[me("div",{class:Et(`va-layout-area va-layout__area va-layout__area--${e.area}`)},[r.value?(q(),nt(HH,{key:0,area:e.area},{default:tt(()=>[Fe(a.$slots,"default")]),_:3},8,["area"])):Fe(a.$slots,"default",{key:1})],2)]),_:3},8,["style"])):(q(),ve("div",{key:1,class:Et(`va-layout-area va-layout__area va-layout__area--${e.area}`),style:St(`--va-props-area: ${String(a.$props.area)};--va-z-index: ${String(o.value)};--va-z-index-1: ${String(o.value-1)}`)},[r.value?(q(),nt(HH,{key:0,area:e.area},{default:tt(()=>[Fe(a.$slots,"default")]),_:3},8,["area"])):Fe(a.$slots,"default",{key:1})],6)),wt(yc,{style:St(`--va-props-area: ${String(a.$props.area)};--va-z-index: ${String(o.value)};--va-z-index-1: ${String(o.value-1)}`)},{default:tt(()=>[n.value?(q(),ve("div",{key:0,class:Et(["va-layout-area__overlay",{"va-layout-area__overlay--fixed":r.value}]),onClick:l[0]||(l[0]=c=>a.$emit("overlay-click"))},null,2)):Le("",!0)]),_:1},8,["style"])],64))}}),jve={class:"va-layout__area va-layout__area--content"},$H=["top","left","right","bottom"],Kve=dt({name:"VaLayout",__name:"VaLayout",props:{...Nve,allowBodyScrollOnOverlay:{type:Boolean,default:!1}},emits:["top-overlay-click","left-overlay-click","right-overlay-click","bottom-overlay-click"],setup(e,{emit:t}){const i=e,{paddings:s}=Vve(i),r=V(()=>!i.allowBodyScrollOnOverlay&&$H.some(u=>{var h;return(h=i[u])==null?void 0:h.overlay})),n=im();Fa(()=>{var u;const h=(u=n.value)==null?void 0:u.body;h&&(r.value?h.style.overflow="hidden":h.style.overflow="")});const o=Ive(i),a=so(),l=V(()=>[a.top?"min-content":"0fr","1fr",a.bottom?"min-content":"0fr"].filter(Boolean).join(" ")),c=V(()=>[a.left?"min-content":"0fr","1fr",a.right?"min-content":"0fr"].filter(Boolean).join(" "));return(u,h)=>(q(),ve("div",{class:"va-layout",style:St(`--va-horizontal-template: ${String(c.value)};--va-vertical-template: ${String(l.value)};--va-template-area: ${String(P(o))};--va-paddings-top-px: ${P(s).top+"px"};--va-paddings-bottom-px: ${P(s).bottom+"px"};--va-paddings-left-px: ${P(s).left+"px"};--va-paddings-right-px: ${P(s).right+"px"}`)},[(q(),ve(kt,null,si($H,f=>wt(zve,{key:f,area:f,config:u.$props[f]||{},onOverlayClick:p=>u.$emit(`${f}-overlay-click`)},{default:tt(()=>[Fe(u.$slots,f)]),_:2},1032,["area","config","onOverlayClick"])),64)),me("div",jve,[Fe(u.$slots,"default",{},()=>[Fe(u.$slots,"content")])])],4))}}),Yve=th(Kve),Xve={class:"va-navbar__left"},qve={class:"va-navbar__center"},Qve={class:"va-navbar__right"},Jve=dt({name:"VaNavbar",__name:"VaNavbar",props:{...g7,...hi,color:{type:String,default:"background-secondary"},textColor:{type:String},shape:{type:Boolean,default:!1},shadowed:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1}},setup(e){const t=e,{scrollRoot:i,isScrolledDown:s}=v7(t.fixed),{fixedBarStyleComputed:r}=m7(t,s),{getColor:n,shiftHSLAColor:o}=xi(),a=V(()=>n(t.color)),{textColorComputed:l}=yn(a),c=V(()=>({borderTopColor:o(a.value,{h:-1,s:-11,l:10})})),u=V(()=>({...r.value,backgroundColor:a.value,color:l.value,fill:l.value})),h=Is("va-navbar",()=>({shadowed:t.shadowed,bordered:t.bordered}));return(f,p)=>(q(),ve("header",{ref_key:"scrollRoot",ref:i,class:Et(["va-navbar",P(h)]),style:St(u.value)},[Fe(f.$slots,"default",{},()=>[me("div",Xve,[Fe(f.$slots,"left")]),me("div",qve,[Fe(f.$slots,"center")]),me("div",Qve,[Fe(f.$slots,"right")])]),e.shape?(q(),ve("div",{key:0,class:"va-navbar__background-shape",style:St(c.value)},null,4)):Le("",!0)],6))}}),Zve=dt({name:"VaNavbarItem",props:{}}),e0e={class:"va-navbar__item"};function t0e(e,t,i,s,r,n){return q(),ve("div",e0e,[Fe(e.$slots,"default")])}const i0e=om(Zve,[["render",t0e]]),s0e=zt(Jve),r0e=zt(i0e),n0e=["role"],o0e=["value","checked","aria-checked","onChange"],a0e=me("span",{"aria-hidden":"true",class:"va-radio__icon"},[me("span",{class:"va-radio__icon__background"}),me("span",{class:"va-radio__icon__dot"})],-1),l0e=dt({name:"VaRadio",__name:"VaRadio",props:{...OO,...hi,...$0,modelValue:{type:[Boolean,Array,String,Object,Number],default:null},options:{type:Array,default:()=>[]},name:{type:String,default:""},label:{type:String,default:void 0},leftLabel:{type:Boolean,default:!1},color:{type:String,default:"primary"},option:{type:[Object,String,Number],default:void 0},vertical:{type:Boolean,default:!1}},emits:zT,setup(e,{emit:t}){const i=e,s=t,{getColor:r}=xi(),n={container:vi(),input:vi(),label:vi()},{computedError:o,computedErrorMessages:a,onBlur:l,onFocus:c}=IO(i,s,n),{getText:u,getDisabled:h,getValue:f}=W0(i),p=Q=>i.options.length>0?u(Q):i.label??u(Q),y=Q=>h(Q)||i.disabled,v=V(()=>i.options.length===0&&!i.option),C=Q=>v.value?i.modelValue:i.modelValue===f(Q),S=V(()=>v.value?[{}]:i.option?[i.option]:i.options),_=Q=>({"va-radio--left-label":i.leftLabel,"va-radio--selected":C(Q),"va-radio--readonly":i.readonly,"va-radio--disabled":i.disabled,"va-radio--indeterminate":i.indeterminate,"va-radio--error":o.value,"va-radio--single-option":v.value}),x=(Q,be)=>{var te;if(v.value){s("update:modelValue",((te=be==null?void 0:be.target)==null?void 0:te.checked)||!1);return}s("update:modelValue",Q)},A=V(()=>({color:o.value?r("danger"):""}));V(()=>{const Q={background:r(i.color),borderColor:r(i.color)};return o.value&&(Q.borderColor=r("danger")),Q});const R=V(()=>({backgroundColor:r(i.color)})),O=V(()=>({borderColor:o.value?r("danger"):r(i.color),backgroundColor:r(i.color)})),k=V(()=>({borderColor:o.value?r("danger"):r(i.color)})),F=sd(),N=V(()=>i.name||F),j=Q=>{const be=y(Q);return{name:N.value,disabled:be,readonly:i.readonly,tabindex:be?-1:0}},ee=V(()=>i.vertical?"column":"row"),K=V(()=>{var Q;return((Q=i.options)==null?void 0:Q.length)>0?"radiogroup":""});return(Q,be)=>(q(),nt(P(IT),{disabled:Q.disabled,success:Q.success,messages:Q.messages,error:P(o),"error-messages":P(a),"error-count":Q.errorCount,onBlur:P(l),style:St(`--va-flex-direction: ${String(ee.value)};--va-label-style-color: ${String(A.value.color)};--va-icon-computed-styles-border-color: ${String(k.value.borderColor)};--va-icon-dot-computed-styles-border-color: ${String(O.value.borderColor)};--va-icon-dot-computed-styles-background-color: ${String(O.value.backgroundColor)};--va-icon-background-computed-styles-background-color: ${String(R.value.backgroundColor)}`)},{default:tt(({ariaAttributes:te})=>[me("div",ut({ref:"container",class:"va-radio",role:K.value},te),[(q(!0),ve(kt,null,si(S.value,(ne,H)=>(q(),ve("label",{key:H,class:Et([_(ne),"va-radio__square"])},[me("input",ut({ref_for:!0,ref:"input",class:"va-radio__input",type:"radio",role:"radio",value:C(ne),checked:C(ne),"aria-checked":C(ne)},{...j(ne),...te},{onChange:ie=>x(P(f)(ne),ie),onFocus:be[0]||(be[0]=(...ie)=>P(c)&&P(c)(...ie)),onBlur:be[1]||(be[1]=(...ie)=>P(l)&&P(l)(...ie))}),null,16,o0e),Fe(Q.$slots,"icon",Ft(Wt({value:C(ne),text:p(ne),disabled:y(ne),index:H})),()=>[a0e]),p(ne)||Q.$slots.default?(q(),ve("div",{key:0,ref_for:!0,ref:"label",class:"va-radio__text"},[Fe(Q.$slots,"default",Ft(Wt({value:C(ne),text:p(ne),disabled:y(ne),index:H})),()=>[oi(Mt(p(ne)),1)])],512)):Le("",!0)],2))),128))],16,n0e)]),_:3},8,["disabled","success","messages","error","error-messages","error-count","onBlur","style"]))}}),v9=zt(l0e),c0e={class:"va-switch__inner"},u0e={class:"va-switch__checker-wrapper"},d0e={class:"va-switch__checker"},h0e={class:"va-switch__checker-circle"},f0e=["id"],p0e=dt({name:"VaSwitch",__name:"VaSwitch",props:{...OO,...hi,id:{type:String,default:""},name:{type:String,default:""},modelValue:{type:[Number,Boolean,Array,String,Object],default:!1},trueLabel:{type:String,default:null},falseLabel:{type:String,default:null},trueInnerLabel:{type:String,default:null},falseInnerLabel:{type:String,default:null},ariaLabel:mi("$t:switch"),color:{type:String,default:"primary"},offColor:{type:String,default:"background-element"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)}},emits:[...zT,"focus","blur","update:modelValue"],setup(e,{expose:t,emit:i}){const s=e,r=i,n={container:vi(),input:vi(),label:vi()},{getColor:o}=xi(),{hasKeyboardFocus:a,keyboardFocusListeners:l}=U0(),{isChecked:c,computedError:u,isIndeterminate:h,computedErrorMessages:f,validationAriaAttributes:p,toggleSelection:y,onBlur:v,onFocus:C,reset:S,focus:_,isDirty:x,isTouched:A,isLoading:R,isError:O}=IO(s,r,n),k=V(()=>o(c.value?s.color:s.offColor)),{textColorComputed:F}=yn(k),N=V(()=>s.trueInnerLabel&&c.value?s.trueInnerLabel:s.falseInnerLabel&&!c.value?s.falseInnerLabel:""),j=V(()=>s.trueLabel&&c.value?s.trueLabel:s.falseLabel&&!c.value?s.falseLabel:s.label),ee=Is("va-switch",()=>({...xr(s,["readonly","disabled","leftLabel"]),checked:c.value,indeterminate:h.value,small:s.size==="small",large:s.size==="large",error:u.value,keyboardFocus:a.value})),K=V(()=>({lineHeight:f.value.length?1:0})),Q=V(()=>({small:"15px",medium:"20px",large:"25px"})[s.size]),be=V(()=>({borderColor:u.value?o("danger"):"",backgroundColor:k.value})),te=V(()=>({color:u.value?o("danger"):""})),ne=V(()=>({color:F.value,"text-align":c.value?"left":"right"})),H=so(),ie=sd(),ue=V(()=>`aria-label-id-${ie}`),Te=V(()=>({id:s.id||void 0,name:s.name||void 0,disabled:s.disabled,readonly:s.readonly,"aria-disabled":s.disabled,"aria-readonly":s.readonly,"aria-checked":!!s.modelValue,"aria-label":H.default?void 0:s.ariaLabel,"aria-labelledby":j.value||H.default?ue.value:void 0,tabindex:s.disabled?-1:0,checked:c.value,...p.value})),Ie=()=>{var Ee;(Ee=n.input.value)==null||Ee.click()},he=n.input;return t({focus:_,reset:S,isDirty:x,isTouched:A,isLoading:R,isError:O}),(Ee,Y)=>(q(),nt(P(IT),{class:Et(["va-switch",P(ee)]),style:St(K.value),disabled:Ee.$props.disabled,success:Ee.$props.success,messages:Ee.$props.messages,error:P(u),"error-messages":P(f),"error-count":Ee.$props.errorCount},{default:tt(()=>[me("div",{ref:"container",class:"va-switch__container",tabindex:"-1",onBlur:Y[5]||(Y[5]=(...Z)=>P(v)&&P(v)(...Z)),onClick:Y[6]||(Y[6]=(...Z)=>P(y)&&P(y)(...Z))},[me("div",c0e,[me("input",ut({ref_key:"input",ref:he,type:"checkbox",class:"va-switch__input",role:"switch"},Te.value,Ta(P(l),!0),{onFocus:Y[0]||(Y[0]=(...Z)=>P(C)&&P(C)(...Z)),onBlur:Y[1]||(Y[1]=(...Z)=>P(v)&&P(v)(...Z)),onKeypress:xt(Ie,["enter"])}),null,16),me("div",{class:"va-switch__track","aria-hidden":"true",style:St(be.value)},[N.value||Ee.$slots.innerLabel?(q(),ve("div",{key:0,class:"va-switch__track-label",style:St(ne.value)},[Fe(Ee.$slots,"innerLabel",{},()=>[oi(Mt(N.value),1)])],4)):Le("",!0),me("div",u0e,[me("div",d0e,[Fe(Ee.$slots,"checker",Ft(Wt({value:P(c)})),()=>[me("div",h0e,[Ee.$props.loading?(q(),nt(P(G0),{key:0,indeterminate:"",size:Q.value,color:be.value.backgroundColor},null,8,["size","color"])):Le("",!0)])])])])],4)]),j.value||Ee.$slots.default?(q(),ve("div",{key:0,ref:"label",class:"va-switch__label",style:St(te.value),id:ue.value,onBlur:Y[2]||(Y[2]=(...Z)=>P(v)&&P(v)(...Z)),onClick:Y[3]||(Y[3]=(...Z)=>P(y)&&P(y)(...Z)),onKeydown:Y[4]||(Y[4]=xt(Dt((...Z)=>P(y)&&P(y)(...Z),["stop"]),["enter"]))},[Fe(Ee.$slots,"default",{},()=>[oi(Mt(j.value),1)])],44,f0e)):Le("",!0)],544)]),_:3},8,["class","style","disabled","success","messages","error","error-messages","error-count"]))}}),y9=zt(p0e),JT=()=>{const e=vi([]),t=s=>{s&&e.value.push(s)},i=s=>r=>{r&&(e.value[s]=r)};return Xg(()=>{e.value=[]}),{itemRefs:e,setItemRef:t,setItemRefByIndex:i}},g0e={class:"va-option-list__list"},m0e=dt({name:"VaOptionList",__name:"VaOptionList",props:{...hi,...$0,...sh,...dn,type:{type:String,default:"checkbox",validator:e=>["radio","checkbox","switch"].includes(e)},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},defaultValue:{type:[String,Number,Boolean,Object,Array]},name:{type:String,default:""},color:{type:String,default:"primary"},leftLabel:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean,Object,Array]}},emits:[...Ao,...If,"clear"],setup(e,{expose:t,emit:i}){const s=e,r=i,{valueComputed:n}=mr(s,r,"modelValue",{defaultValue:s.defaultValue}),{getValue:o,getText:a,getTrackBy:l,getDisabled:c}=W0(s),{itemRefs:u,setItemRef:h}=JT(),f=V(()=>s.type==="radio"),p=V({get(){const O=f.value?null:[];return n.value||O},set(O){s.readonly||(f.value&&!Array.isArray(O)?n.value=O&&o(O):n.value=Array.isArray(O)?O.map(o):[O&&o(O)])}}),y=O=>s.disabled||c(O),v=()=>x(()=>{n.value=null,r("clear"),A()}),C=()=>{const O=Array.isArray(u.value)&&u.value.find(k=>!k.disabled);O&&typeof O.focus=="function"&&O.focus()},{computedError:S,computedErrorMessages:_,withoutValidation:x,resetValidation:A}=rh(s,r,{reset:v,focus:C,value:n}),R=V(()=>xr(s,["name","color","readonly","leftLabel"]));return Ri(()=>{B0&&s.type!=="radio"&&!Array.isArray(s.modelValue)&&console.warn(`Prop 'modelValue = ${s.modelValue}' has not a proper type!
 For component property 'type = ${s.type}' it must be of type 'array'.`)}),t({focus:C,reset:v}),(O,k)=>(q(),nt(P(IT),{error:P(S),"error-messages":P(_),"error-count":O.$props.errorCount},{default:tt(()=>[me("ul",g0e,[(q(!0),ve(kt,null,si(O.$props.options,F=>(q(),ve("li",{key:P(l)(F)},[Fe(O.$slots,"default",Ft(Wt({option:F,selectedValue:p.value,isDisabled:y,getText:P(a),getValue:P(o)})),()=>[O.$props.type==="radio"?(q(),nt(P(v9),ut({key:0,ref_for:!0,ref:P(h),modelValue:p.value,"onUpdate:modelValue":k[0]||(k[0]=N=>p.value=N),label:P(a)(F),disabled:y(F),option:P(o)(F)},R.value),null,16,["modelValue","label","disabled","option"])):O.$props.type==="checkbox"?(q(),nt(P(Jw),ut({key:1,ref_for:!0,ref:P(h),modelValue:p.value,"onUpdate:modelValue":k[1]||(k[1]=N=>p.value=N),label:P(a)(F),disabled:y(F),"array-value":P(o)(F)},R.value),null,16,["modelValue","label","disabled","array-value"])):(q(),nt(P(y9),ut({key:2,ref_for:!0,ref:P(h),modelValue:p.value,"onUpdate:modelValue":k[2]||(k[2]=N=>p.value=N),label:P(a)(F),disabled:y(F),"array-value":P(o)(F)},R.value),null,16,["modelValue","label","disabled","array-value"]))])]))),128))])]),_:3},8,["error","error-messages","error-count"]))}}),v0e=zt(m0e),y0e=(e=1,t,i,s=!1)=>{let r=0;if(i===0&&(i=1),t>i&&(t=i),t===0)r=1,t=i>10?10:i;else{const o=t/2;e-o<=0||e>i?r=1:r=e+o>i?i-t+1:Math.ceil(e-o)}const n=[];for(let o=0;o<t;o++)n.push(r+o);return s&&t<7?i>=7&&Ps("[va-pagination] To work in a proper way, the `boundaryNumbers` prop needs at least 7 visible pages to be set via the `visiblePages` prop (first, last, 2 boundaries, current, previous, next)."):s&&(r!==1&&n.splice(0,2,1,"..."),n[n.length-1]!==i&&n.splice(-2,2,"...",i)),n},C0e=["aria-label","onKeydown"],b0e=["aria-label"],w0e=dt({name:"VaPagination",__name:"VaPagination",props:{...dn,...hi,modelValue:{type:Number,default:1},visiblePages:{type:[Number,String],default:0},pages:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},boundaryLinks:{type:Boolean,default:!0},boundaryNumbers:{type:Boolean,default:!1},directionLinks:{type:Boolean,default:!0},input:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},total:{type:[Number,String],default:null},pageSize:{type:[Number,String],default:null},boundaryIconLeft:{type:String,default:"va-arrow-first"},boundaryIconRight:{type:String,default:"va-arrow-last"},directionIconLeft:{type:String,default:"va-arrow-left"},directionIconRight:{type:String,default:"va-arrow-right"},gapped:{type:Boolean,default:!1},borderColor:{type:String,default:""},rounded:{type:Boolean,default:!1},activePageColor:{type:String,default:""},activeButtonProps:{type:Object,default:()=>({})},buttonProps:{type:Object,default:()=>({})},buttonsPreset:{type:String,default:"primary"},ariaLabel:mi("$t:pagination"),ariaGoToTheFirstPageLabel:mi("$t:goToTheFirstPage"),ariaGoToPreviousPageLabel:mi("$t:goToPreviousPage"),ariaGoToSpecificPageLabel:mi("$t:goToSpecificPage"),ariaGoToSpecificPageInputLabel:mi("$t:goToSpecificPageInput"),ariaGoToNextPageLabel:mi("$t:goNextPage"),ariaGoToLastPageLabel:mi("$t:goLastPage")},emits:[...Ao],setup(e,{expose:t,emit:i}){const s=e,r=i,n=vi(),o=We(""),a=V(()=>!!((f.value||f.value===0)&&p.value)),{valueComputed:l}=mr(s,r),c=V({get:()=>a.value?Math.ceil(l.value/p.value)||1:l.value,set:Y=>{l.value=Y}}),u=Bi("visiblePages"),h=Bi("pages"),f=Bi("total"),p=Bi("pageSize"),y=V(()=>{const{boundaryNumbers:Y}=s,Z=c.value||1,Se=a.value?Math.ceil(f.value/p.value):h.value;return y0e(Z,u.value,Se,Y)}),v=V(()=>a.value?Math.ceil(f.value/p.value)||1:+h.value),C=V(()=>!!u.value&&v.value>u.value||s.input),S=V(()=>{const{boundaryLinks:Y,boundaryNumbers:Z}=s;return C.value&&Y&&!Z}),_=V(()=>C.value&&s.directionLinks),x=V(()=>v.value>1||!s.hideOnSinglePage&&v.value<=1),A=()=>{o.value=String(c.value),rs(()=>{var Y;return(Y=n.value)==null?void 0:Y.setSelectionRange(0,n.value.value.length)})},{setItemRefByIndex:R,itemRefs:O}=JT(),k=Y=>{var Z;if(Y==="..."||Y===c.value)return;const Se=wg(Y,1,v.value);c.value=a.value?(Se-1)*p.value+1:Se,(Z=O.value[Y-1])==null||Z.focus()},F=()=>{var Y;o.value="",(Y=n.value)==null||Y.blur()},N=()=>{if(+o.value===c.value&&F(),!o.value.length)return;let Y=Number.parseInt(o.value);switch(!0){case Y<1:Y=1;break;case Y>v.value:Y=v.value;break;case isNaN(Y):Y=c.value;break}k(Y),F()},{getColor:j,colorToRgba:ee}=xi(),K=V(()=>{const{color:Y,buttonsPreset:Z}=Il(s);if(!Y.value)return"transparent";switch(Z.value){case"default":return j(Y.value);case void 0:case"primary":return ee(j(Y.value),.1);default:return"transparent"}}),Q=V(()=>({cursor:"default",color:j(s.color),opacity:s.disabled?.4:1,borderColor:K.value}));Ot([a,()=>h.value],()=>{if(B0&&a.value&&h.value)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")});const be=V(()=>({disabled:s.disabled,placeholder:`${c.value}/${v.value}`})),te=V(()=>({size:s.size,preset:s.buttonsPreset,color:s.color,borderColor:s.borderColor,round:s.rounded,...s.buttonProps})),ne=V(()=>({preset:s.buttonsPreset==="default"?"primary":"default",color:s.activePageColor||s.color,...s.activeButtonProps})),H=Y=>!isNaN(+Y)&&Y===c.value?Object.assign({},te.value,ne.value):te.value,ie=V(()=>s.input&&!s.boundaryLinks&&!s.directionLinks),ue=Is("va-pagination__input",()=>({sm:s.size==="small"&&ie.value,md:s.size==="medium"&&ie.value,lg:s.size==="large"&&ie.value,auto:!ie.value})),Te=Is("va-pagination",()=>({...xr(s,["gapped","rounded","disabled"]),bordered:!!s.borderColor})),Ie=()=>k(c.value+1),he=()=>k(c.value-1),{tp:Ee}=Hs();return t({goNextPage:Ie,goPrevPage:he}),(Y,Z)=>x.value?(q(),ve("nav",{key:0,class:Et(["va-pagination",P(Te)]),"aria-label":P(Ee)(Y.$props.ariaLabel),onKeydown:[xt(Dt(he,["stop"]),["left"]),xt(Dt(Ie,["stop"]),["right"]),xt(Dt(he,["stop"]),["up"]),xt(Dt(Ie,["stop"]),["down"])]},[S.value?Fe(Y.$slots,"firstPageLink",Ft(ut({key:0},{onClick:()=>k(1),disabled:Y.$props.disabled||c.value===1})),()=>[S.value?(q(),nt(P(ps),ut({key:0,"aria-label":P(Ee)(Y.$props.ariaGoToTheFirstPageLabel),disabled:Y.$props.disabled||c.value===1,icon:Y.$props.boundaryIconLeft},te.value,{onClick:Z[0]||(Z[0]=Se=>k(1))}),null,16,["aria-label","disabled","icon"])):Le("",!0)]):Le("",!0),_.value?Fe(Y.$slots,"prevPageLink",Ft(ut({key:1},{onClick:he,disabled:Y.$props.disabled||c.value===1})),()=>[_.value?(q(),nt(P(ps),ut({key:0,"aria-label":P(Ee)(Y.$props.ariaGoToPreviousPageLabel),disabled:Y.$props.disabled||c.value===1,icon:Y.$props.directionIconLeft},te.value,{onClick:he}),null,16,["aria-label","disabled","icon"])):Le("",!0)]):Le("",!0),Y.$props.input?Ss((q(),ve("input",ut({key:3,"onUpdate:modelValue":Z[1]||(Z[1]=Se=>o.value=Se),ref_key:"htmlInput",ref:n,class:["va-pagination__input va-button",P(ue)],"aria-label":P(Ee)(Y.$props.ariaGoToSpecificPageInputLabel),style:Q.value},be.value,{onKeydown:xt(N,["enter"]),onFocus:A,onBlur:N}),null,16,b0e)),[[Qg,o.value]]):Fe(Y.$slots,"default",{key:2},()=>[(q(!0),ve(kt,null,si(y.value,(Se,ye)=>(q(),nt(P(ps),ut({key:ye,ref_for:!0,ref:P(R)(ye),class:{"va-button--ellipsis":Se==="...","va-button--current":Se===c.value},"aria-label":P(Ee)(Y.$props.ariaGoToSpecificPageLabel,{page:Se}),"aria-current":Se===c.value,disabled:Y.$props.disabled||Se==="..."},H(Se),{onClick:ke=>k(Se)}),{default:tt(()=>[oi(Mt(Se),1)]),_:2},1040,["class","aria-label","aria-current","disabled","onClick"]))),128))]),_.value?Fe(Y.$slots,"nextPageLink",Ft(ut({key:4},{onClick:Ie,disabled:Y.$props.disabled||c.value===v.value})),()=>[_.value?(q(),nt(P(ps),ut({key:0,"aria-label":P(Ee)(Y.$props.ariaGoToNextPageLabel),disabled:Y.$props.disabled||c.value===v.value,icon:Y.$props.directionIconRight},te.value,{onClick:Ie}),null,16,["aria-label","disabled","icon"])):Le("",!0)]):Le("",!0),S.value?Fe(Y.$slots,"lastPageLink",Ft(ut({key:5},{onClick:()=>k(v.value),disabled:Y.$props.disabled||c.value===v.value})),()=>[S.value?(q(),nt(P(ps),ut({key:0,"aria-label":P(Ee)(Y.$props.ariaGoToLastPageLabel),disabled:Y.$props.disabled||c.value===v.value,icon:Y.$props.boundaryIconRight},te.value,{onClick:Z[2]||(Z[2]=Se=>k(v.value))}),null,16,["aria-label","disabled","icon"])):Le("",!0)]):Le("",!0)],42,C0e)):Le("",!0)}}),S0e=zt(w0e),x0e=()=>{const e=NT(),t=new Proxy(e.value||{},{get:(s,r,n)=>{var o,a;if(r==="scrollTop")return(o=e.value)==null?void 0:o.scrollY;if(r==="scrollLeft")return(a=e.value)==null?void 0:a.scrollX;const l=Reflect.get(s,r,n);return typeof l=="function"?l.bind(s):l}}),i=s=>s?s.scrollHeight>s.clientHeight?s:i(s.parentElement):t;return{getScrollableParent:i}},E0e={class:"va-parallax__image-container"},_0e=["src","alt"],T0e={class:"va-parallax__item-container"},A0e=dt({name:"VaParallax",__name:"VaParallax",props:{...hi,target:{type:[Object,String]},src:{type:String,default:"",required:!0},alt:{type:String,default:"parallax"},height:{type:[Number,String],default:400},reversed:{type:Boolean,default:!1},speed:{type:[Number,String],default:.5,validator:e=>{const t=Number(e);return t>=0&&t<=1}}},setup(e){const t=e,i=vi(),s=vi(),r=We(0),n=We(0),o=We(0),a=We(0),l=We(0),c=We(0),u=We(0),h=We(!1),f=V(()=>({height:S.value+"px"})),p=V(()=>({display:"block",transform:`translate(-50%, ${n.value}px)`,opacity:h.value?1:0,top:t.reversed?0:"auto"})),{getScrollableParent:y}=x0e(),v=V(()=>{var F;if(!t.target)return y((F=i.value)==null?void 0:F.parentElement);if(t.target instanceof HTMLElement)return t.target;const N=document.querySelector(t.target);return N||(Ps("VaParallax target prop got wrong selector. Target is null"),null)}),C=V(()=>{var F;return((F=s.value)==null?void 0:F.naturalHeight)||0}),S=Bi("height"),_=Bi("speed"),x=()=>{var F,N;const j=((F=i.value)==null?void 0:F.getBoundingClientRect())||{top:0};l.value=((N=v.value)==null?void 0:N.scrollTop)||0,o.value=C.value-S.value,r.value=j.top+l.value,c.value=window.innerHeight,u.value=l.value+c.value},A=()=>{x(),a.value=(u.value-r.value)/(S.value+c.value),n.value=Math.round(o.value*a.value)*_.value,t.reversed&&(n.value=-n.value)},R=()=>{var F,N;(F=v.value)==null||F.addEventListener("scroll",A),(N=v.value)==null||N.addEventListener("resize",A)},O=()=>{var F,N;(F=v.value)==null||F.removeEventListener("scroll",A),(N=v.value)==null||N.removeEventListener("resize",A)};return Ri(()=>{var F,N;(F=s.value)!=null&&F.complete?(A(),R()):(N=s.value)==null||N.addEventListener("load",()=>{A(),R()},!1),h.value=!0}),Rr(O),(F,N)=>(q(),ve("div",{ref_key:"rootElement",ref:i,class:"va-parallax",style:St(f.value)},[me("div",E0e,[me("img",{ref_key:"img",ref:s,class:"va-parallax__image",src:F.$props.src,alt:F.$props.alt,style:St(p.value)},null,12,_0e)]),me("div",T0e,[Fe(F.$slots,"default")])],4))}}),k0e=zt(A0e),D0e={key:0,"aria-hidden":"true",class:"va-popover__icon"},R0e={key:1},P0e={key:0,class:"va-popover__title"},F0e={key:1,class:"va-popover__body"},nR=vs(Pl,["closeOnClickOutside"]),M0e=dt({name:"VaPopover",__name:"VaPopover",props:{...nR,...hi,trigger:{...nR.trigger,default:["hover","enter","space","arrow-down","arrow-up"]},color:{type:String,default:"#1b1a1f"},textColor:{type:String},icon:{type:String,default:""},title:{type:String,default:""},message:{type:String,default:""},autoHide:{type:Boolean,default:!0},offset:{type:[Array,Number],default:4},contentClass:{type:String,default:""}},setup(e){const t=e,i=Gs(nR),{getColor:s,getBoxShadowColor:r}=xi(),n=so(),{textColorComputed:o}=yn(V(()=>s(t.color))),a=V(()=>t.icon||n.icon),l=V(()=>t.title||n.title),c=V(()=>t.message||n.body),u=V(()=>l.value||c.value),h=V(()=>({boxShadow:`var(--va-popover-content-box-shadow) ${r(s(t.color))}`,backgroundColor:s(t.color),color:o.value}));return(f,p)=>(q(),nt(P(Pl),ut(P(i),{"model-value":f.modelValue,"close-on-click-outside":e.autoHide,offset:f.$props.offset,"content-class":f.$props.contentClass,class:"va-popover"}),{default:tt(()=>[me("div",{style:St(h.value),class:"va-popover__content",role:"tooltip"},[a.value?(q(),ve("div",D0e,[Fe(f.$slots,"icon",{},()=>[wt(P(ns),{name:f.$props.icon,color:P(o)},null,8,["name","color"])])])):Le("",!0),u.value?(q(),ve("div",R0e,[l.value?(q(),ve("div",P0e,[Fe(f.$slots,"title",{},()=>[oi(Mt(f.$props.title),1)])])):Le("",!0),c.value?(q(),ve("div",F0e,[Fe(f.$slots,"body",{},()=>[oi(Mt(f.$props.message),1)])])):Le("",!0)])):Le("",!0)],4)]),anchor:tt(()=>[Fe(f.$slots,"default")]),_:3},16,["model-value","close-on-click-outside","offset","content-class"]))}}),L0e=zt(M0e);var co=(e=>(e[e.EMPTY=0]="EMPTY",e[e.HALF=.5]="HALF",e[e.FULL=1]="FULL",e))(co||{});const O0e=()=>{const e=Di();if(!e)throw new Error("useRating hooks must be used on top of setup function");return{props:e.props,emit:e.emit}},I0e={...dn,modelValue:{type:Number,default:0},clearable:{type:Boolean,default:!1},hover:{type:Boolean,default:!1}},N0e=e=>{const{emit:t}=O0e(),{isHovered:i,onMouseEnter:s,onMouseLeave:r}=Yw(),{valueComputed:n}=mr(e,t),o=We(0),a=V(()=>!e.disabled&&!e.readonly&&e.hover&&i.value?o.value:n.value);return{visibleValue:a,modelValue:n,hoveredValue:o,isHovered:i,onMouseEnter:s,onMouseLeave:r,onItemValueUpdate:(h,f)=>{const p=h+f;if(e.clearable&&n.value===p){n.value=0;return}n.value=p},onItemHoveredValueUpdate:(h,f)=>{e.hover&&(o.value=h+f)},getItemValue:h=>{const f=a.value-h;return wg(f,co.EMPTY,co.FULL)}}},C9={unselectedColor:{type:String},color:{type:String,default:"primary"},modelValue:{type:Number}},b9=e=>{const{getColor:t,getFocusColor:i,getTextColor:s}=xi(),r=V(()=>t(e.color)),n=V(()=>e.unselectedColor?t(e.unselectedColor):i(t(e.color))),o=V(()=>e.modelValue===co.HALF?`linear-gradient(90deg, ${r.value} 50%, ${n.value} 50%`:e.modelValue===co.EMPTY?n.value:r.value),a=V(()=>e.modelValue===co.FULL?t(s(r.value)):t(s(n.value)));return{computedColor:r,backgroundComputed:o,textColorComputed:a}},V0e=["tabindex","onKeydown"],w9=dt({name:"VaRatingItem",__name:"VaRatingItem",props:{modelValue:{type:Number,default:0},icon:{type:String,default:"star"},halfIcon:{type:String,default:"star_half"},emptyIcon:{type:String,default:"star_outline"},halves:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},tabindex:{type:[String,Number],default:0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},size:{type:[String,Number],default:"medium"},unselectedColor:{type:String},color:{type:String,default:"primary"}},emits:["update:modelValue","click","hover"],setup(e,{emit:t}){const i=e,s=t,r=vi(),[n]=Cg("modelValue",i,s,co.EMPTY),o=We(null),a=V(()=>i.hover&&!i.disabled&&!i.readonly&&o.value||n.value),{getColor:l}=xi(),c=V(()=>l(i.unselectedColor&&a.value===co.EMPTY?i.unselectedColor:i.color)),u=v=>{if(!r.value)return;const{offsetX:C}=v,S=r.value.clientWidth;i.halves?o.value=C/S<=co.HALF?co.HALF:co.FULL:o.value=co.FULL},h=()=>{o.value=null},f=()=>{n.value=o.value||co.FULL,s("click",o.value||co.FULL)};Ot(o,()=>s("hover",o.value||co.EMPTY));const p=V(()=>i.halves&&a.value===co.HALF?i.halfIcon:a.value===co.EMPTY?i.emptyIcon:i.icon),y=V(()=>i.disabled?-1:i.tabindex);return(v,C)=>(q(),ve("div",{ref_key:"rootEl",ref:r,role:"button",class:"va-rating-item",tabindex:y.value,onKeydown:[xt(f,["enter"]),xt(Dt(f,["prevent"]),["space"])],onMousemove:u,onMouseleave:h,onClick:f},[Fe(v.$slots,"default",Ft(Wt({value:a.value,onClick:f})),()=>[wt(P(ns),{class:"va-rating-item__wrapper",tabindex:"-1",tag:"button",name:p.value,size:v.$props.size,color:c.value},null,8,["name","size","color"])])],40,V0e))}}),S9=dt({name:"VaRatingItemNumberButton",__name:"VaRatingItemNumberButton",props:{...C9,...Jg,itemNumber:{type:Number,required:!0},modelValue:{type:Number,required:!0}},setup(e){const t=e,{textColorComputed:i,backgroundComputed:s}=b9(t),{sizeComputed:r,fontSizeComputed:n}=Zg(t,"VaRating");return(o,a)=>(q(),ve("button",{class:"va-rating__number-item",tabindex:"-1","aria-hidden":"true",style:St({background:P(s),color:P(i),width:P(r),height:P(r),fontSize:P(n),borderRadius:`${parseInt(P(n))*.125}rem`})},Mt(e.itemNumber),5))}}),B0e=["aria-label"],WH=vs(w9,["modelValue","itemNumber"]),UH=vs(S9,["modelValue","itemNumber"]),G0e=dt({name:"VaRating",__name:"VaRating",props:{...UH,...I0e,...C9,...Vf,...WH,...hi,modelValue:{type:Number,default:0},numbers:{type:Boolean,default:!1},halves:{type:Boolean,default:!1},max:{type:[Number,String],default:5},texts:{type:Array,default:()=>[]},ariaLabel:mi("$t:currentRating"),ariaItemLabel:mi("$t:voteRating")},emits:["update:modelValue"],setup(e,{emit:t}){const i=e,{computedClasses:s}=U7("va-rating",i),{visibleValue:r,onMouseEnter:n,onMouseLeave:o,onItemValueUpdate:a,onItemHoveredValueUpdate:l,getItemValue:c}=N0e(i),u=V(()=>!i.disabled&&!i.readonly),h=S=>{const _=Number(i.max),x=i.halves?co.HALF:co.FULL,A=r.value+x*S,R=i.clearable?0:x;A>=R&&A<=_?a(r.value,x*S):A<R?a(R,0):a(_,S===-1?x*S:0)},{tp:f}=Hs(),{computedColor:p}=b9(i),y=V(()=>u.value?0:void 0),v=Gs(WH),C=Gs(UH);return(S,_)=>(q(),ve("div",{class:Et(["va-rating",P(s)]),"aria-label":P(f)(S.$props.ariaLabel,{max:S.$props.max,value:S.$props.modelValue})},[me("div",{class:"va-rating__item-wrapper",onKeyup:[_[0]||(_[0]=xt(x=>h(-1),["left"])),_[1]||(_[1]=xt(x=>h(1),["right"]))],onMouseenter:_[2]||(_[2]=(...x)=>P(n)&&P(n)(...x)),onMouseleave:_[3]||(_[3]=(...x)=>P(o)&&P(o)(...x))},[(q(!0),ve(kt,null,si(Number(S.$props.max),x=>(q(),nt(w9,ut({key:x,class:"va-rating__item"},P(v),{"aria-label":P(f)(S.$props.ariaItemLabel,{max:S.$props.max,value:x}),"model-value":P(c)(x-1),tabindex:y.value,disabled:S.$props.disabled,readonly:S.$props.readonly,onHover:A=>u.value&&P(l)(x-1,A),"onUpdate:modelValue":A=>u.value&&P(a)(x-1,A)}),{default:tt(({value:A,onClick:R})=>[Fe(S.$slots,"item",Ft(Wt({value:A,onClick:R,index:x})),()=>[S.$props.numbers?(q(),nt(S9,ut({key:0},P(C),{"model-value":A,"item-number":x}),null,16,["model-value","item-number"])):Le("",!0)])]),_:2},1040,["aria-label","model-value","tabindex","disabled","readonly","onHover","onUpdate:modelValue"]))),128))],32),S.$props.texts&&S.$props.texts.length===S.$props.max?(q(),ve("span",{key:0,class:"va-rating__text-wrapper",style:St({color:P(p)})},Mt(S.$props.texts[Math.round(P(r))-1]),5)):Le("",!0)],10,B0e))}}),H0e=zt(G0e),$0e=e=>e.offsetTop,W0e=e=>e.offsetTop+e.offsetHeight,U0e=e=>e.offsetTop+e.offsetHeight/2,z0e=(e,t,i)=>{const s=t.offsetHeight,r=t.scrollTop,n=$0e(e)-t.offsetTop,o=U0e(e)-t.offsetTop,a=W0e(e)-t.offsetTop;if(i==="start")return n;if(i==="end")return a-s;if(i==="center")return o-s/2;if(i==="any"){if(n-r<0)return n;if(a-r>s)return a-s}},j0e=(e,t={scrollTarget:e.parentElement,verticalAlignment:"any",smooth:!1})=>{const i=t.scrollTarget||e.parentElement,s=z0e(e,i,t.verticalAlignment);s!==void 0&&i.scroll({top:s,behavior:t.smooth?"smooth":"auto"})},K0e=["aria-selected"],Y0e={key:1,class:"va-select-option__highlighted"},X0e=dt({name:"VaSelectOption",__name:"VaSelectOption",props:{...yO,disabled:{type:Boolean,default:!1},option:{type:[Number,String,Boolean,Object],default:()=>({})},getText:{type:Function,required:!0},getTrackBy:{type:Function,required:!0},currentOption:{type:[String,Number,Boolean,Object],default:null},getSelectedState:{type:Function,required:!0},search:{type:String,default:""},highlightMatchedText:{type:Boolean,default:!0},inputFocused:{type:Boolean,default:!1},minSearchChars:{type:[Number,String],default:0}},setup(e,{expose:t}){const i=e,{getColor:s,getHoverColor:r}=xi(),n=Bi("minSearchChars"),o=V(()=>Zp(i.option)?i.option.icon:void 0),a=V(()=>s(i.color)),l=V(()=>i.getText(i.option)),c=V(()=>{const y={start:l.value,searchedSubString:"",end:""};if(!l.value||!i.search||!i.highlightMatchedText||i.search.length<n.value)return y;const v=l.value.toLowerCase().indexOf(i.search.toLowerCase());if(v<0)return y;const C=l.value.slice(0,v),S=l.value.slice(v,v+i.search.length),_=l.value.slice(v+i.search.length);return{start:C,searchedSubString:S,end:_}}),u=V(()=>i.getSelectedState(i.option)),h=V(()=>typeof i.option=="string"?i.option===i.currentOption:i.getTrackBy(i.currentOption)===i.getTrackBy(i.option)),f=Is("va-select-option",()=>({selected:u.value})),p=V(()=>({color:u.value?s(i.color):"inherit",backgroundColor:h.value?r(s(i.color)):"transparent",cursor:i.disabled?"default":void 0,opacity:i.disabled?"var(--va-select-option-list-option-disabled-opacity)":void 0}));return t({isFocused:h,isSelected:u}),(y,v)=>(q(),ve("div",{role:"option",class:Et(["va-select-option",P(f)]),style:St(p.value),"aria-selected":u.value},[Fe(y.$slots,"option-content",{},()=>[o.value?(q(),nt(P(ns),{key:0,size:"small",class:"va-select-option__icon",name:o.value},null,8,["name"])):Le("",!0),oi(" "+Mt(c.value.start)+" ",1),c.value.searchedSubString?(q(),ve("span",Y0e,Mt(c.value.searchedSubString),1)):Le("",!0),oi(" "+Mt(c.value.end),1)]),u.value?(q(),nt(P(ns),{key:0,class:"va-select-option__selected-icon",size:"small",name:"va-check",color:a.value},null,8,["color"])):Le("",!0)],14,K0e))}}),zH=zt(X0e),q0e=()=>{const e=vi({}),t=i=>s=>{if(s)return e.value[i]=s,String(i)};return Xg(()=>{e.value={}}),{itemRefs:e,setItemRef:t}},Q0e=["tabindex","onKeydown","aria-multiselectable"],J0e={key:0,class:"va-select-option-list__group-name",role:"presentation"},Z0e={key:0,class:"va-select-option-list--empty"},eye=dt({name:"VaSelectOptionList",__name:"VaSelectOptionList",props:{...yO,...hi,...$0,...z0,noOptionsText:{type:String,default:"Items not found"},getSelectedState:{type:Function,required:!0},multiple:{type:Boolean,default:!1},search:{type:String,default:""},tabindex:{type:[String,Number],default:0},hoveredOption:{type:[String,Number,Boolean,Object],default:null},virtualScroller:{type:Boolean,default:!0},highlightMatchedText:{type:Boolean,default:!0},minSearchChars:{type:[Number,String],default:0},autoSelectFirstOption:{type:Boolean,default:!1},selectedTopShown:{type:Boolean,default:!1},doShowAllOptions:{type:Boolean,default:!1},searchFn:{type:Function,default:void 0}},emits:["select-option","update:hoveredOption","no-previous-option-to-hover","scroll-bottom"],setup(e,{expose:t,emit:i}){const s=e,r=i,n=vi(),o=()=>{var ye;(ye=n.value)==null||ye.focus({preventScroll:!0})},a=V(()=>{var ye;return((ye=n.value)==null?void 0:ye.clientHeight)??200}),l=()=>r("scroll-bottom"),c=ye=>{const ke=ye.target;ke&&ke.scrollTop+ke.clientHeight===ke.scrollHeight&&l()},u=We(""),h=V(()=>s.hoveredOption??null),f=(ye,ke)=>{r("update:hoveredOption",ye),u.value=ke},{getText:p,getGroupBy:y,getTrackBy:v,getDisabled:C}=W0(s),S=Bi("minSearchChars"),_=V(()=>{var ye;const ke=s.getSelectedState,Oe=(ye=s.options)==null?void 0:ye.find(He=>ke(He));return Oe?p(Oe):""}),x=V(()=>{var ye;return _.value.toLowerCase()===((ye=s.search)==null?void 0:ye.toLowerCase())}),A=V(()=>{if(s.doShowAllOptions&&x.value||!s.search||s.search.length<S.value)return s.options;if(s.searchFn)return s.options.filter(ke=>s.searchFn(s.search,ke));const ye=s.search.toUpperCase().trim();return s.options.filter(ke=>p(ke).toUpperCase().includes(ye))}),R=V(()=>s.groupBy?A.value.reduce((ye,ke)=>{const Oe=y(ke);return Oe?(ye[Oe]||(ye[Oe]=[]),ye[Oe].push(ke)):ye._noGroup.push(ke),ye},{_noGroup:[]}):{_noGroup:A.value}),O=GO(R,s),k=ye=>!tl(ye),F=ye=>{ye===h.value||k(ye)&&C(ye)||f(ye??null,"mouse")},N=ye=>{f(ye??null,"keyboard")},j=()=>{const ye=ne.value&&typeof ne.value=="object"?{...ne.value}:ne.value;r("select-option"),s.selectedTopShown&&F(ye)},ee=V(()=>Object.values(O.value).flat()),K=V(()=>A.value.some(ye=>y(ye))?ee.value:A.value),Q=V(()=>K.value.findIndex(ye=>k(h.value)&&v(ye)===v(h.value))),be=V(()=>({...xr(s,["getSelectedState","color","search","highlightMatchedText"]),minSearchChars:S.value,getText:p,getTrackBy:v})),te=(ye,ke=!1)=>{const Oe=[...K.value||[]],He=ke?Oe.reverse():Oe,mt=ke?ye*-1-1:ye;return He.slice(mt).find(we=>!C(we))},ne=V(()=>{const ye=Q.value-1,ke=K.value[ye];if(k(ke)&&!(ye===0&&C(ke)))return te(Q.value-1,!0)}),H=ye=>{F(ye),r("select-option")},ie=ye=>{s.selectedTopShown||F(ye)},ue=ye=>{s.selectedTopShown&&F(ye)},Te=()=>{if(!k(h.value)){N(te(0,!0));return}k(ne.value)?N(ne.value):r("no-previous-option-to-hover")},Ie=()=>{if(!k(h.value)){he();return}const ye=Q.value+1,ke=K.value[ye];k(ke)&&!(ye===K.value.length-1&&C(ke))&&N(te(Q.value+1))},he=()=>N(te(0)),{itemRefs:Ee,setItemRef:Y}=q0e(),Z=vi(),Se=ye=>{var ke;if(!k(ye))return;const Oe=Nr(Ee.value[v(ye)]);Oe&&j0e(Oe);const He=(ke=Z.value)==null?void 0:ke[0];s.virtualScroller&&He.virtualScrollTo(Q.value)};return Ot(()=>s.hoveredOption,ye=>{(!u.value||u.value==="keyboard")&&k(ye)&&Se(ye)}),Ot(A,()=>{s.autoSelectFirstOption&&he()},{immediate:!0}),t({focusPreviousOption:Te,focusNextOption:Ie,focusFirstOption:he,scrollToOption:Se,focus:o}),(ye,ke)=>(q(),ve("div",{ref_key:"root",ref:n,class:"va-select-option-list",tabindex:e.tabindex,onKeydown:[xt(Dt(Te,["stop","prevent"]),["up"]),xt(Dt(Te,["stop","prevent"]),["left"]),xt(Dt(Ie,["stop","prevent"]),["down"]),xt(Dt(Ie,["stop","prevent"]),["right"]),xt(Dt(j,["stop","prevent"]),["enter"]),xt(Dt(j,["stop","prevent"]),["space"])],onScrollPassive:c,role:"listbox","aria-multiselectable":ye.$props.multiple},[(q(!0),ve(kt,null,si(P(O),(Oe,He)=>(q(),ve(kt,{key:He},[He!=="_noGroup"?(q(),ve("span",J0e,Mt(He),1)):Le("",!0),ye.$props.virtualScroller?(q(),nt(P(YT),{key:1,ref_for:!0,ref_key:"virtualScrollerRef",ref:Z,items:Oe,"track-by":P(v),"wrapper-size":a.value,"onScroll:bottom":l},{default:tt(({item:mt,index:we})=>[Fe(ye.$slots,"default",Ft(Wt({option:mt,index:we,selectOption:(de=mt)=>H(de)})),()=>[wt(P(zH),ut({option:mt,"current-option":h.value,disabled:P(C)(mt)},be.value,{onClick:Dt(j,["stop"]),onMouseenter:de=>ue(mt),onMousemove:de=>ie(mt)}),null,16,["option","current-option","disabled","onMouseenter","onMousemove"])])]),_:2},1032,["items","track-by","wrapper-size"])):(q(!0),ve(kt,{key:2},si(Oe,(mt,we)=>Fe(ye.$slots,"default",Ft(ut({key:P(v)(mt)},{option:mt,index:we,selectOption:H})),()=>[wt(P(zH),ut({ref_for:!0,ref:P(Y)(P(v)(mt)),"current-option":h.value,option:mt,disabled:P(C)(mt)},be.value,{onClick:Dt(j,["stop"]),onMouseenter:de=>ue(mt),onMousemove:de=>ie(mt)}),{"option-content":tt(()=>[Fe(ye.$slots,"option-content",Ft(Wt({option:mt,index:we})))]),_:2},1040,["current-option","option","disabled","onMouseenter","onMousemove"])])),128))],64))),128)),A.value.length?Le("",!0):(q(),ve("div",Z0e,Mt(e.noOptionsText),1))],40,Q0e))}}),tye=zt(eye),iye={key:0,class:"va-select-content__placeholder"},sye=["placeholder"],rye={key:0,class:"va-select-content__option"},nye={key:1,class:"va-select-content__separator"},oye=["placeholder","disabled","readonly"],aye=dt({name:"VaSelectContent",__name:"VaSelectContent",props:{...Vf,ariaAttributes:{type:Object},value:{type:Array,required:!0},valueString:{type:String},separator:{type:String,default:", "},placeholder:{type:String,default:""},tabindex:{type:[String,Number],default:0},hiddenSelectedOptionsAmount:{type:[Number,String],default:0},isAllOptionsShown:{type:Boolean,default:!1},autocomplete:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},getText:{type:Function,required:!0},autocompleteInputValue:{type:String,default:""}},emits:["toggle-hidden","autocomplete-input","focus-prev","focus-next","select-option","delete-last-selected"],setup(e,{emit:t}){const i=e,s=t,r=We(),n=V(()=>i.placeholder&&!i.valueString),o=()=>s("toggle-hidden"),{value:a,focused:l}=Il(i),c=V({get:()=>i.autocompleteInputValue,set:v=>s("autocomplete-input",v)}),u=Bi("hiddenSelectedOptionsAmount");Ri(()=>{i.multiple||i.autocomplete&&(c.value=i.valueString)}),Ot(l,v=>{var C,S;!i.autocomplete||!v||(c.value?(C=r.value)==null||C.setSelectionRange(0,c.value.length):(S=r.value)==null||S.focus())});const h=v=>{i.multiple&&a.value.length&&v.key==="Backspace"&&!c.value&&s("delete-last-selected")},f=v=>{var C;i.autocomplete&&((C=r.value)==null||C.focus(),v.stopPropagation())},p=v=>Zp(v)?v.icon:void 0,y=V(()=>i.multiple?a.value:a.value[0]);return(v,C)=>(q(),ve("div",{class:"va-select-content",onClick:f},[n.value&&!v.$props.autocomplete?(q(),ve("span",iye,[me("input",ut(e.ariaAttributes,{placeholder:v.$props.placeholder,readonly:""}),null,16,sye)])):i.autocomplete&&!i.multiple?Le("",!0):Fe(v.$slots,"content",Ft(ut({key:1},{value:y.value,valueString:v.$props.valueString,valueArray:v.$props.value,tabindex:v.$props.tabindex,ariaAttributes:e.ariaAttributes})),()=>[(q(!0),ve(kt,null,si(v.$props.value,(S,_)=>(q(),ve(kt,{key:_},[S!==""?(q(),ve("span",rye,[Fe(v.$slots,"option-content",Ft(Wt({option:S,index:_,selectOption:()=>{}})),()=>[p(S)?(q(),nt(P(ns),{key:0,size:"small",class:"va-select-option__icon",name:p(S)},null,8,["name"])):Le("",!0),oi(" "+Mt(e.getText(S)),1)])])):Le("",!0),_<v.$props.value.length-1?(q(),ve("span",nye,Mt(v.$props.separator),1)):Le("",!0)],64))),128))]),v.$props.autocomplete?Ss((q(),ve("input",ut({key:2},e.ariaAttributes,{"onUpdate:modelValue":C[0]||(C[0]=S=>c.value=S),class:"va-select-content__autocomplete",ref_key:"autocompleteInput",ref:r,autocomplete:"off","aria-autocomplete":"list",placeholder:v.$props.placeholder,disabled:v.$props.disabled,readonly:v.$props.readonly,onKeydown:[C[1]||(C[1]=xt(Dt(S=>v.$emit("focus-prev"),["stop","prevent"]),["up"])),C[2]||(C[2]=xt(Dt(S=>v.$emit("focus-next"),["stop","prevent"]),["down"])),C[3]||(C[3]=xt(Dt(S=>v.$emit("select-option"),["stop","prevent"]),["enter"])),h]}),null,16,oye)),[[Qg,c.value]]):Le("",!0),Fe(v.$slots,"hiddenOptionsBadge",Ft(Wt({amount:e.hiddenSelectedOptionsAmount,isShown:v.$props.isAllOptionsShown,toggle:o})),()=>[P(u)&&!v.$props.isAllOptionsShown?(q(),nt(P(T7),{key:0,class:"va-select-content__state-icon",color:"info",text:`+${P(u)}`,tabindex:v.$props.tabindex,onClick:Dt(o,["stop"])},null,8,["text","tabindex"])):Le("",!0)]),Fe(v.$slots,"hideOptionsButton",Ft(Wt({isShown:v.$props.isAllOptionsShown,toggle:o})),()=>[v.$props.isAllOptionsShown?(q(),nt(P(ns),{key:0,role:"button",class:"va-select-content__state-icon",size:"small",name:"reply",tabindex:v.$props.tabindex,onClick:Dt(o,["stop"])},null,8,["tabindex"])):Le("",!0)])]))}}),lye=zt(aye),cye={maxVisibleOptions:{type:Number||String,default:0}},uye=(e,t)=>{const i=Dn(e,"modelValue"),s=We(!1),r=We([]),n=We([]),o=V(()=>n.value.length),a=V(()=>[...r.value,...n.value]),l=V(()=>!e.maxVisibleOptions||s.value?a.value:r.value);return Ot(i,()=>{if(!Array.isArray(i.value)){r.value=[t(i.value)],n.value=[];return}const u=i.value.filter(h=>!tl(h)).map(t);e.maxVisibleOptions?(r.value=u.slice(0,e.maxVisibleOptions),n.value=u.slice(e.maxVisibleOptions)):(r.value=[...u],n.value=[])},{immediate:!0}),{toggleHiddenOptionsState:()=>s.value=!s.value,isAllOptionsShown:s,visibleSelectedOptions:l,hiddenSelectedOptionsAmount:o,allSelectedOptions:a}},dye={dropdownIcon:{type:[String,Object],default:()=>({open:"va-arrow-down",close:"va-arrow-up"}),validator:e=>typeof e=="string"?!0:Object.entries(e).every(([t,i])=>["open","close"].includes(t)&&typeof i=="string")}},hye=(e,t)=>{const i=V(()=>e.dropdownIcon?typeof e.dropdownIcon=="string"?e.dropdownIcon:t.value?e.dropdownIcon.close:e.dropdownIcon.open:""),{getHoverColor:s,getColor:r}=xi(),n=V(()=>r("secondary")),o=V(()=>e.readonly?s(n.value):n.value);return{toggleIcon:i,toggleIconColor:o}},fye={separator:{type:String,default:", "}},pye=(e,t,i)=>V(()=>{var s;return(s=t.value)!=null&&s.length?t.value.map(i).join(e.separator)??"":""}),gye={autocomplete:{type:Boolean,default:!1}},mye=(e,t,i,s,r)=>{const n=a=>a!=null&&a.length?r(a.at(-1)):"";t.autocomplete&&!t.multiple&&(e.value=n(i.value)),Ot(i,(a,l)=>{if(!t.autocomplete)return;const c=n(a),u=n(l);c!==u&&(e.value=t.multiple?"":c,t.multiple||(s.value=!1))}),Ot(e,a=>{t.autocomplete&&a&&a!==n(i.value)&&(s.value=!0)});const o=()=>{e.value=t.multiple?"":n(i.value)};return Ot(s,(a,l)=>{t.autocomplete&&(!a||l)&&o()}),e},vye=()=>({popupId:`combobox-controls-${sd()}`}),yye={maxSelections:{type:[Number,String],default:void 0}};function Cye(e,t){return{exceedsMaxSelections:()=>t.value===void 0||isNaN(+t.value)?!1:e.value.length>=Number(t.value),addOption:r=>[...e.value,r]}}const jH=vs(ol),bye=dt({name:"VaSelect",__name:"VaSelect",props:{...jH,...hi,...$0,...sh,...Kw,...yye,...Zw,...Vf,...cye,...dye,...z0,...fye,...gye,...Lc,modelValue:{type:[String,Number,Array,Object,Boolean],default:void 0},placement:{...Lc.placement,default:"bottom"},keepAnchorWidth:{...Lc.keepAnchorWidth,default:!0},offset:{...Lc.offset,default:[1,0]},closeOnContentClick:{...Lc.closeOnContentClick,default:!1},trigger:{...Lc.trigger,default:()=>["click","right-click","space","enter"]},allowCreate:{type:[Boolean,String],default:!1,validator:e=>[!0,!1,"unique"].includes(e)},color:{type:String,default:"primary"},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},width:{type:String,default:"100%"},maxHeight:{type:String,default:"256px"},noOptionsText:mi("$t:noOptions"),hideSelected:{type:Boolean,default:!1},tabindex:{type:[String,Number],default:0},virtualScroller:{type:Boolean,default:!1},selectedTopShown:{type:Boolean,default:!1},highlightMatchedText:{type:Boolean,default:!0},minSearchChars:{type:[Number,String],default:0},autoSelectFirstOption:{type:Boolean,default:!1},placeholder:{type:String,default:""},searchPlaceholderText:mi("$t:search"),ariaLabel:mi("$t:select"),ariaSearchLabel:mi("$t:optionsFilter"),ariaClearLabel:mi("$t:reset"),search:{type:String,default:void 0},searchFn:{type:Function,default:void 0},clearValue:{type:[String,Number,Array,Object,Boolean],default:""}},emits:["update:modelValue","update-search","create-new","scroll-bottom","update:search",...UO,...If,...jT],setup(e,{expose:t,emit:i}){const s=e,r=i,{tp:n,t:o}=Hs(),a=vi(),l=vi(),c=vi(),u=VO(l),{getValue:h,getText:f,getTrackBy:p,tryResolveByValue:y}=W0(s),v=Bt=>f(y(Bt)),C=()=>r("scroll-bottom"),[S]=Cg("search",s,r,""),_=V(()=>s.searchable||s.allowCreate&&!s.autocomplete);Ot(S,Bt=>{r("update-search",Bt),s.autocomplete||(Ee.value=null)});const x=Bt=>{if(tl(Bt)||typeof Bt=="object")return Bt;const fe=s.options.find(De=>Bt===h(De));return fe===void 0?(Ps(`[VaSelect]: can not find option in options list (${JSON.stringify(s.options)}) by provided value (${JSON.stringify(Bt)})!`),Bt):fe},{toggleHiddenOptionsState:A,isAllOptionsShown:R,visibleSelectedOptions:O,hiddenSelectedOptionsAmount:k,allSelectedOptions:F}=uye(s,x),N=V({get(){if(s.multiple)return F.value;const Bt=x(s.modelValue);return Array.isArray(Bt)&&(Ps("Model value should be a string, number, boolean or an object for a single Select."),Bt.length)?Bt.at(-1):Bt},set(Bt){Array.isArray(Bt)?r("update:modelValue",Bt.map(h)):r("update:modelValue",h(Bt))}}),j=pye(s,O,v),{canBeCleared:ee,clearIconProps:K,onFocus:Q,onBlur:be}=KT(s,N),te=V(()=>ee.value?s.multiple&&Array.isArray(N.value)?!!N.value.length:!0:!1),ne=V(()=>s.options?s.selectedTopShown?s.options.slice().sort((Bt,fe)=>{const De=ie(Bt),_e=ie(fe);return De&&_e?0:De&&!_e?-1:1}):s.hideSelected?s.options.filter(Bt=>!ie(Bt)):s.options:[]),H=V(()=>Array.isArray(N.value)?N.value.map(Bt=>y(Bt)):y(N.value)),ie=Bt=>Array.isArray(H.value)?!tl(H.value.find(fe=>ue(fe,Bt))):ue(H.value,Bt),ue=(Bt,fe)=>{const De=h(Bt),_e=h(fe);return De===_e?!0:typeof De=="string"&&typeof _e=="string"?De===_e:De===null||_e===null?!1:typeof De=="object"&&typeof _e=="object"?p(De)===p(_e):!1},Te=Bt=>Array.isArray(Bt.value),Ie=Bt=>{if(Ee.value===null){pe();return}if(_.value&&(S.value=""),s.multiple&&Te(N)){const{exceedsMaxSelections:fe,addOption:De}=Cye(N,We(s.maxSelections));if(ie(Bt))N.value=N.value.filter(Re=>!ue(Bt,Re));else{if(fe())return;N.value=De(Bt)}}else N.value=Bt,pe();Hr()},he=()=>{var Bt;const fe=(Bt=s.options)==null?void 0:Bt.some(_e=>[S.value,gt.value].includes(f(_e)));!((s.allowCreate==="unique"||s.autocomplete)&&fe)&&(r("create-new",S.value||gt.value),S.value="",gt.value="")},Ee=We(null),Y=()=>{if(!ke.value){we();return}Ie(Ee.value)},Z=()=>{const Bt=!!s.allowCreate&&(S.value||gt.value);Ee.value!==null?Y():Bt&&he()},Se=()=>{var Bt;return(Bt=a.value)==null?void 0:Bt.focusPreviousOption()},ye=()=>{var Bt;return(Bt=a.value)==null?void 0:Bt.focusNextOption()},{isOpenSync:ke,dropdownProps:Oe}=zO(s,r,{defaultCloseOnValueUpdate:V(()=>!s.multiple)}),He=V(()=>({...Oe.value,stateful:!1,innerAnchorSelector:".va-input-wrapper__field"})),mt=V({get:()=>ke.value,set:Bt=>{Bt?we():de()}}),we=()=>{s.disabled||s.readonly||(ke.value=!0,Ae(),Ge())},de=()=>{ke.value=!1,s.autocomplete||(S.value=""),rs(()=>{Pr(),u.focusIfNothingIfFocused()})},pe=()=>{de(),u.value=!0},Ve=()=>{var Bt;(Bt=c.value)==null||Bt.focus()},Qe=()=>{var Bt,fe;(Bt=a.value)==null||Bt.focus(),!s.modelValue&&((fe=a.value)==null||fe.focusFirstOption())},Ge=async()=>{await rs(),_.value?Ve():Qe()},Ze=()=>{mt.value||(be(),vh.onBlur(),u.value?u.value=!1:Pr())},ot=V(()=>s.disabled?-1:s.tabindex),xe=V(()=>s.disabled||s.autocomplete?-1:0),Ae=()=>{const Bt=N.value;if(typeof Bt!="object"&&Array.isArray(Bt)&&!Bt.length)return;const De=Array.isArray(Bt)?Bt[Bt.length-1]:Bt;Ee.value=De,rs(()=>{var _e;return(_e=a.value)==null?void 0:_e.scrollToOption(De)})};let Ke="",yt;const Ct=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"," "],ft=Bt=>{if(Ct.some(_e=>_e===Bt.key))return;const fe=Bt.key.length===1,De=Bt.key==="Backspace"||Bt.key==="Delete";if(clearTimeout(yt),De?Ke=Ke?Ke.slice(0,-1):"":fe&&(Ke+=Bt.key),_.value){S.value=Ke;return}if(Ke){const _e=s.options.find(Re=>f(Re).toLowerCase().startsWith(Ke.toLowerCase()));_e&&(Ee.value=_e)}yt=setTimeout(()=>{Ke=""},1e3)},Je=Bi("minSearchChars"),ht=V(()=>({...xr(s,["textBy","trackBy","groupBy","valueBy","disabledBy","color","virtualScroller","highlightMatchedText","delay","selectedTopShown"]),autoSelectFirstOption:s.autoSelectFirstOption||s.autocomplete,search:S.value||gt.value,tabindex:ot.value,selectedValue:N.value,options:ne.value,getSelectedState:ie,noOptionsText:n(s.noOptionsText),doShowAllOptions:Xi.value,minSearchChars:Je.value})),{toggleIcon:Yt,toggleIconColor:$e}=hye(s,ke),Me=V(()=>u.value||ke.value),qe=so(),pt=Is("va-select-anchor",()=>({nowrap:!!(s.maxVisibleOptions&&!qe.content)})),vt=Gs(jH),_i=V(()=>({...vt.value,error:ad.value,errorMessages:ld.value,focused:Me.value,"aria-label":s.ariaLabel||(s.modelValue?`${o("selectedOption")}: ${s.modelValue}`:o("noSelectedOption"))})),dr=V(()=>({...xr(s,["placeholder","autocomplete","multiple","disabled","readonly"]),tabindex:ot.value,value:O.value,valueString:j.value,hiddenSelectedOptionsAmount:k.value,isAllOptionsShown:R.value,focused:u.value,autocompleteInputValue:gt.value,getText:v})),gt=mye(S,s,O,ke,f),Xt=Bt=>gt.value=Bt,Xi=We(!0);Ot(mt,()=>{Xi.value=!0}),Ot(S,()=>{Xi.value=!1});const $s=()=>{s.disabled||Ou(Nr(l.value))},Ls=()=>{mt.value&&(mt.value=!1),rs(()=>{s.disabled||VT(Nr(l.value))})},yi=()=>cd(()=>{s.multiple?N.value=Array.isArray(s.clearValue)?s.clearValue:[]:N.value=s.clearValue,S.value="",r("clear"),hr(),rs(()=>{u.value=!0})}),Hr=Bt=>{s.autocomplete&&!s.disabled&&!s.readonly&&(u.value=!0,ke.value=!0)},bi=Bt=>{if(s.disabled||s.readonly)return;const fe=Bt.target&&"tagName"in Bt.target&&Bt.target.tagName==="INPUT";Bt.code==="Space"&&fe||(Bt.preventDefault(),mt.value=!mt.value)},ou=()=>{Array.isArray(N.value)&&(N.value=N.value.slice(0,-1))},{validate:Pr,computedError:ad,computedErrorMessages:ld,withoutValidation:cd,resetValidation:hr,listeners:vh,isTouched:au}=rh(s,r,{reset:yi,focus:$s,value:N});Ot(ke,Bt=>{Bt||(au.value=!0)});const{popupId:fl}=vye(),lu=S,Fn=Q;return t({focus:$s,blur:Ls,reset:yi}),(Bt,fe)=>(q(),nt(P(Pl),ut({ref:"dropdown",modelValue:mt.value,"onUpdate:modelValue":fe[4]||(fe[4]=De=>mt.value=De),class:"va-select va-select__dropdown va-select-dropdown"},He.value,{role:"combobox","inner-anchor-selector":".va-input-wrapper__field","keyboard-navigation":!1}),{anchor:tt(()=>[wt(P(ol),ut(_i.value,{ref_key:"input",ref:l,class:["va-select__anchor va-select-anchor__input",P(pt)],"aria-haspopup":"listbox","model-value":P(j),readonly:!0,"aria-label":Bt.$props.ariaLabel,"aria-controls":P(fl),"aria-owns":P(fl),onFocus:P(Fn),onBlur:Ze}),zs({icon:tt(()=>[te.value?(q(),nt(P(ns),ut({key:0,role:"button","aria-label":P(n)(Bt.$props.ariaClearLabel)},P(K),{onClick:Dt(yi,["stop"]),onKeydown:[xt(Dt(yi,["stop"]),["enter"]),xt(Dt(yi,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):Le("",!0)]),appendInner:tt(()=>[wt(P(ns),{color:P($e),name:P(Yt),class:"va-select__toggle-icon",role:"button",tabindex:xe.value,"aria-expanded":mt.value,onKeydown:xt(bi,["enter"])},null,8,["color","name","tabindex","aria-expanded"])]),default:tt(({ariaAttributes:De})=>[wt(P(lye),ut(dr.value,{ariaAttributes:De,separator:Bt.$props.separator,onToggleHidden:P(A),onAutocompleteInput:Xt,onFocusPrev:Se,onFocusNext:ye,onSelectOption:Z,onDeleteLastSelected:ou}),zs({_:2},[si(Bt.$slots,(_e,Re)=>({name:Re,fn:tt(Ne=>[Fe(Bt.$slots,Re,Ft(Wt(Ne)))])}))]),1040,["ariaAttributes","separator","onToggleHidden"])]),_:2},[si(Bt.$slots,(De,_e)=>({name:_e,fn:tt(Re=>[Fe(Bt.$slots,_e,Ft(Wt(Re)))])}))]),1040,["class","model-value","aria-label","aria-controls","aria-owns","onFocus"])]),default:tt(()=>[wt(P(xg),{class:"va-select-dropdown__content",style:St({width:Bt.$props.width}),onKeydown:xt(pe,["esc"]),role:"dialog"},{default:tt(()=>[_.value?(q(),nt(P(ol),{key:0,ref_key:"searchBar",ref:c,class:"va-select-dropdown__content-search-input",modelValue:P(lu),"onUpdate:modelValue":fe[0]||(fe[0]=De=>cs(lu)?lu.value=De:null),"aria-label":P(n)(Bt.$props.ariaSearchLabel),tabindex:ot.value,placeholder:P(n)(Bt.$props.searchPlaceholderText),preset:"bordered",onKeydown:[xt(Dt(Se,["stop","prevent"]),["up"]),xt(Dt(Se,["stop","prevent"]),["left"]),xt(Dt(ye,["stop","prevent"]),["down"]),xt(Dt(ye,["stop","prevent"]),["right"]),xt(Dt(Z,["prevent"]),["enter"])],onFocus:fe[1]||(fe[1]=De=>Ee.value=null)},null,8,["modelValue","aria-label","tabindex","placeholder","onKeydown"])):Le("",!0),wt(P(tye),ut({ref_key:"optionList",ref:a,class:"va-select-dropdown__options-wrapper",hoveredOption:Ee.value,"onUpdate:hoveredOption":fe[2]||(fe[2]=De=>Ee.value=De),style:{maxHeight:Bt.$props.maxHeight},id:P(fl),"search-fn":Bt.$props.searchFn},ht.value,{onSelectOption:Y,onNoPreviousOptionToHover:Ve,onKeydown:[fe[3]||(fe[3]=xt(Dt(De=>c.value&&c.value.focus(),["stop","prevent"]),["tab"])),ft],onScrollBottom:C}),{default:tt(De=>[Fe(Bt.$slots,"option",Ft(Wt(De)))]),"option-content":tt(De=>[Fe(Bt.$slots,"option-content",Ft(Wt(De)))]),_:3},16,["hoveredOption","style","id","search-fn"])]),_:3},8,["style"])]),_:3},16,["modelValue"]))}}),wye=zt(bye),Sye={key:0,class:"va-skeleton__wave"},xye=dt({name:"VaSkeleton",__name:"VaSkeleton",props:{color:{type:String,default:"backgroundElement"},delay:{type:[Number,String],default:100},tag:{type:String,default:"div"},animation:{type:String,default:"pulse"},lines:{type:[String,Number],default:1},height:{type:[String],default:"5em"},width:{type:[String],default:"100%"},lineGap:{type:String,default:"8px"},lastLineWidth:{type:[String],default:"75%"},variant:{type:String,default:"squared"},ariaLabel:mi("$t:loading")},setup(e){const t=e,i=We(!1),s=Bi("delay");let r;Ri(()=>{clearTimeout(r),setTimeout(()=>{i.value=!0},s.value)}),Rr(()=>{clearTimeout(r)});const n=V(()=>t.variant==="text"?`${t.lines}em`:t.height),o=V(()=>t.variant==="circle"?n.value:t.width),{getColor:a}=xi(),l=V(()=>a(t.color));V(()=>`-${t.lineGap}`);const c=Is("va-skeleton",()=>({lines:Number(t.lines)>1,text:t.variant==="text",circle:t.variant==="circle",hidden:!i.value,pulse:t.animation==="pulse",wave:t.animation==="wave"})),u=V(()=>t.variant==="circle"?"50%":t.variant==="rounded"?`var(--va-skeleton-border-radius, calc(${n.value} / 5))`:"0px"),{tp:h}=Hs(),f=td(),p=V(()=>[...Object.keys(c),f.class]);return(y,v)=>(q(),nt(io(e.tag),{class:Et(["va-skeleton",p.value]),role:"status","aria-live":"polite","aria-label":P(h)(y.$props.ariaLabel),"aria-atomic":"true",style:St(`--va-color-computed: ${String(l.value)};--va-height-computed: ${String(n.value)};--va-width-computed: ${String(o.value)};--va-border-radius: ${String(u.value)};--va-line-gap: ${String(e.lineGap)};--va-last-line-width: ${String(e.lastLineWidth)}`)},{default:tt(()=>[Fe(y.$slots,"default"),e.animation==="wave"?(q(),ve("div",Sye)):Le("",!0)]),_:3},8,["aria-label","class","style"]))}}),Eye=dt({name:"VaSkeletonGroup",__name:"VaSkeletonGroup",props:{color:{type:String,default:"backgroundElement"},delay:{type:[Number,String],default:100},animation:{type:String,default:"pulse"},lines:{type:[Number,String],default:1},lineGap:{type:String,default:"8px"},lastLineWidth:{type:[String],default:"75%"}},setup(e){const t=e,i=We(!1),s=Bi("delay");let r;Ri(()=>{r=setTimeout(()=>{i.value=!0},s.value)}),V0(()=>{clearTimeout(r)});const n=Is("va-skeleton-group",()=>({hidden:i.value===!1})),o=V(()=>({...t,delay:0}));return(a,l)=>(q(),nt(P(zw),{components:{VaSkeleton:o.value}},{default:tt(()=>[me("div",ut({class:["va-skeleton-group",P(n)]},a.$attrs),[Fe(a.$slots,"default",{},void 0,!0)],16)]),_:3},8,["components"]))}}),_ye=om(Eye,[["__scopeId","data-v-597bab9a"]]),Tye=zt(xye),Aye=zt(_ye),x9=Symbol("VaSidebar"),kye=e=>{la(x9,e)},Dye=()=>Xr(x9,{color:"background-element"}),E9=e=>{const t=We(null);return bg([e],()=>{var i;t.value=((i=e.value)==null?void 0:i.clientWidth)??null}),Fa(()=>{var i;t.value=((i=e.value)==null?void 0:i.clientWidth)??null}),t},Rye=dt({name:"VaSidebar",__name:"VaSidebar",props:{...hi,activeColor:{type:String,default:"primary"},hoverColor:{type:String,default:void 0},hoverOpacity:{type:[Number,String],default:.2,validator:e=>Number(e)>=0&&Number(e)<=1},borderColor:{type:String,default:void 0},color:{type:String,default:"background-element"},textColor:{type:String},gradient:{type:Boolean,default:!1},minimized:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},width:{type:String,default:"16rem"},minimizedWidth:{type:String,default:"4rem"},modelValue:{type:Boolean,default:!0},animated:{type:[Boolean,String],default:!0},closeOnClickOutside:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{expose:t,emit:i}){const s=e,r=i,{getColor:n}=xi();kye(s);const o=We(!1),a=V(()=>s.minimized||s.hoverable&&!o.value),l=We(),c=E9(l),u=V(()=>s.modelValue===!0||c.value===null?!0:c.value>0),h=We(),f=()=>s.modelValue?a.value?s.minimizedWidth:s.width:0,p=V(()=>a.value?s.minimizedWidth:s.width);Fa(()=>{const R=f();setTimeout(()=>{h.value=R})});const y=V(()=>n(s.color)),{textColorComputed:v}=yn(y),C=V(()=>{const R=n(y.value);return{color:v.value,backgroundColor:R,backgroundImage:s.gradient?vO(R):void 0,overflowX:c.value===h.value?void 0:"hidden",width:h.value,minWidth:h.value}}),S=Is("va-sidebar",()=>({minimized:a.value,animated:!!s.animated,"animated-right":s.animated==="right","animated-left":s.animated==="left"||s.animated===!0})),_=R=>{o.value=s.hoverable&&R},x=vi();GT([x],()=>{s.closeOnClickOutside&&s.modelValue&&setTimeout(()=>{r("update:modelValue",!1)},0)});const A=V(()=>({textColor:s.textColor,activeColor:s.activeColor,hoverColor:s.hoverColor,borderColor:s.borderColor,hoverOpacity:s.hoverOpacity}));return t({isMinimized:a,isHovered:o,updateHoverState:_,rootElement:x,menu:l,doShowMenu:u,menuWidth:p,sidebarWidth:h}),(R,O)=>(q(),ve("aside",{ref_key:"rootElement",ref:x,class:Et(["va-sidebar",P(S)]),style:St(C.value),onMouseenter:O[0]||(O[0]=k=>_(!0)),onMouseleave:O[1]||(O[1]=k=>_(!1))},[Ss(me("div",{class:"va-sidebar__menu",ref_key:"menu",ref:l,style:St({width:p.value,minWidth:p.value})},[wt(P(zw),{components:{VaSidebarItem:A.value}},{default:tt(()=>[Fe(R.$slots,"default")]),_:3},8,["components"])],4),[[or,u.value]])],38))}}),Pye=zt(Rye),Fye=dt({name:"VaSidebarItem",__name:"VaSidebarItem",props:{...sm,...hi,active:{type:Boolean,default:!1},textColor:{type:String,default:void 0},activeColor:{type:String,default:"primary"},hoverColor:{type:String,default:void 0},hoverOpacity:{type:[Number,String],default:.2},borderColor:{type:String,default:void 0},disabled:{type:Boolean,default:!1}},setup(e){const t=e,i=K1(),s=Dye(),{isHovered:r}=Yw(i,Dn(t,"disabled")),{getColor:n,getHoverColor:o,getFocusColor:a}=xi(),{hasKeyboardFocus:l,keyboardFocusListeners:c}=U0(),u=V(()=>t.active&&!r.value&&!l.value?n(t.activeColor):l.value?a(n(t.hoverColor||t.activeColor)):"#ffffff00"),h=V(()=>Ace(n(s==null?void 0:s.color),u.value)),{textColorComputed:f}=yn(h),p=V(()=>{const C={color:f.value};if(t.disabled)return C;if((r.value||t.active||l.value)&&(C.backgroundColor=u.value),t.active){const S={...s,...t};C.borderColor=n(S.borderColor||S.activeColor)}return l.value&&(C.backgroundColor=a(n(t.hoverColor||t.activeColor))),r.value&&(C.backgroundColor=o(n(t.hoverColor||t.activeColor),Number(t.hoverOpacity))),C}),{tagComputed:y,linkAttributesComputed:v}=Nf(t);return(C,S)=>(q(),nt(io(P(y)),ut({ref_key:"rootElement",ref:i,class:["va-sidebar__item va-sidebar-item",{"va-sidebar-item--active":C.$props.active,"va-sidebar-item--disabled":C.$props.disabled}],tabindex:C.$props.disabled?-1:0,style:p.value},P(v),Ta(P(c))),{default:tt(()=>[Fe(C.$slots,"default")]),_:3},16,["tabindex","class","style"]))}}),Mye={class:"va-sidebar__item__content va-sidebar-item-content"},Lye=dt({name:"VaSidebarItemContent",__name:"VaSidebarItemContent",setup(e){return(t,i)=>(q(),ve("div",Mye,[Fe(t.$slots,"default")]))}}),Oye={class:"va-sidebar__title va-sidebar-item-title"},Iye=dt({name:"VaSidebarItemTitle",__name:"VaSidebarItemTitle",setup(e){return(t,i)=>(q(),ve("div",Oye,[Fe(t.$slots,"default")]))}}),Nye=zt(Lye),Vye=zt(Iye),Bye=zt(Fye),KH=(e,t,i,s,r)=>{(Array.isArray(e)&&!r||!Array.isArray(e)&&r)&&Ps(`The type "${Array.isArray(e)?"array":typeof e}" of prop "model-value" does not match prop "range = ${r}".`),s<i&&Ps(`The maximum value (${s}) can not be less than the minimum value (${i}).`),ige(s-i,t)||Ps(`Step ${t} is illegal. Slider is non-divisible (Min:Max ${i}:${s}).`);const n=o=>{o<i?Ps(`The value of the slider is ${o}, the minimum value is ${i}, the value of this slider can not be less than the minimum value`):o>s&&Ps(`The value of the slider is ${o}, the maximum value is ${s}, the value of this slider can not be greater than the maximum value`)};return Array.isArray(e)?e.map(n):n(e),!0},Gye={key:0,class:"va-slider__input-wrapper","aria-hidden":"true"},Hye=["id"],$ye={key:2,class:"va-input__label","aria-hidden":"true"},Wye=["tabindex","onFocus"],Uye=["tabindex"],zye={key:3,class:"va-input__label--inverse","aria-hidden":"true"},jye=["id"],Kye={key:5,class:"va-slider__input-wrapper"},Yye=dt({name:"VaSlider",__name:"VaSlider",props:{...dn,...hi,range:{type:Boolean,default:!1},modelValue:{type:[Number,Array],default:0},trackLabel:{type:[Function,String]},color:{type:String,default:"primary"},trackColor:{type:String,default:""},labelColor:{type:String,default:""},trackLabelVisible:{type:Boolean,default:!1},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},label:{type:String,default:""},invertLabel:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},pins:{type:Boolean,default:!1},iconPrepend:{type:String,default:""},iconAppend:{type:String,default:""},vertical:{type:Boolean,default:!1},showTrack:{type:Boolean,default:!0},ariaLabel:mi("$t:sliderValue")},emits:["drag-start","drag-end","change","update:modelValue"],setup(e,{emit:t}){const i=e,s=t,{getColor:r,getHoverColor:n}=xi(),o=vi(),a=vi(),{setItemRefByIndex:l,itemRefs:c}=JT(),u=We(!1),h=We(!1),f=We(0),p=We(0),y=i.range?[0,100]:0,{valueComputed:v}=mr(i,s,"modelValue",{defaultValue:y}),C=We(0),S=We(!1),_=Bi("min"),x=Bi("max"),A=Bi("step"),R=V(()=>i.vertical?[1,0]:[0,1]),O=V(()=>i.vertical?"bottom":"left"),k=V(()=>i.vertical?"height":"width"),F=V(()=>Array.isArray(ie.value)&&ie.value[1]-A.value<ie.value[0]),N=V(()=>Array.isArray(ie.value)&&ie.value[0]+A.value>ie.value[1]),j=Is("va-slider",()=>({...xr(i,["disabled","readonly","vertical"]),active:u.value,horizontal:!i.vertical,grabbing:S.value})),ee=Is("va-slider__handler",()=>({onFocus:!i.range&&(h.value||u.value),inactive:!u.value})),K=V(()=>({color:i.labelColor?r(i.labelColor):r(i.color)})),Q=V(()=>({backgroundColor:i.trackColor?r(i.trackColor):n(r(i.color))})),be=Me=>{const qe=_.value,pt=x.value;return(He(qe,Me,pt)-qe)/(pt-qe)*100},te=V(()=>{if(Array.isArray(ie.value)){const Me=be(ie.value[0]),qe=be(ie.value[1]);return{[O.value]:`${Me}%`,[k.value]:`${qe-Me}%`,backgroundColor:r(i.color),visibility:i.showTrack?"visible":"hidden"}}else{const Me=be(ie.value);return{[k.value]:`${Me>100?100:Me}%`,backgroundColor:r(i.color),visibility:i.showTrack?"visible":"hidden"}}}),ne=V(()=>{if(Array.isArray(ie.value)){const Me=be(ie.value[0]),qe=be(ie.value[1]);return[{[O.value]:`${Me}%`,backgroundColor:Se(0)?r(i.color):"#ffffff",borderColor:r(i.color)},{[O.value]:`${qe}%`,backgroundColor:Se(1)?r(i.color):"#ffffff",borderColor:r(i.color)}]}else{const Me=be(ie.value);return{[O.value]:`${Me>100?100:Me}%`,backgroundColor:Se(0)?r(i.color):"#ffffff",borderColor:r(i.color)}}}),H=Me=>i.range?ne.value[Me]:ne.value,ie=V({get:()=>v.value,set:Me=>{h.value||s("change",Me),v.value=Me}}),ue=Me=>i.range&&Me!==void 0?ie.value[Me]:ie.value,Te=V(()=>{const Me=(x.value-_.value)/A.value;return p.value/Me}),Ie=V(()=>{const Me=`${A.value}`.split(".")[1];return Me?Math.pow(10,Me.length):1}),he=V(()=>(x.value-_.value)/A.value-1),Ee=V(()=>Array.isArray(ie.value)?[(ie.value[0]-_.value)/A.value*Te.value,(ie.value[1]-_.value)/A.value*Te.value]:(ie.value-_.value)/A.value*Te.value),Y=V(()=>[0,p.value]),Z=V(()=>[_.value,x.value]),Se=Me=>!u.value&&!h.value||i.disabled||i.readonly?!1:i.range?C.value===Me:C.value===0,ye=(Me,qe=C.value)=>{var pt,vt;if(Me.preventDefault(),!qe){if(!i.range)qe=0;else if(Array.isArray(Ee.value)){const _i="touches"in Me?Me.touches[0]:Me;qe=Ve(_i)>(Ee.value[1]-Ee.value[0])/2+Ee.value[0]?1:0}}Array.isArray(ie.value)&&(C.value=qe),Array.isArray(ie.value)?(pt=c.value[qe])==null||pt.focus():(vt=a.value)==null||vt.focus(),h.value=!0,s("drag-start")},ke=Me=>{!S.value||!h.value||i.disabled||i.readonly||(Me.preventDefault(),"touches"in Me?xe(Ve(Me.touches[0])):xe(Ve(Me)))},Oe=()=>{!i.disabled&&!i.readonly&&(h.value&&(s("drag-end"),s("change",ie.value)),h.value=!1,S.value=!1)},He=(Me,qe,pt)=>Math.max(Math.min(qe,pt),Me),mt=Me=>{var qe,pt;if(![c.value[0],c.value[1],a.value].includes(document.activeElement)||i.disabled||i.readonly)return;const vt=(dr,gt)=>{if(Array.isArray(ie.value)){const Xt=ie.value[gt]+(dr?A.value:-A.value),Xi=He(_.value,Xt,x.value);ie.value=[gt===0?Xi:ie.value[0],gt===1?Xi:ie.value[1]]}else{const Xt=ie.value+(dr?A.value:-A.value),Xi=He(_.value,Xt,x.value);ie.value=Xi}};["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(Me.key)&&Me.preventDefault();const _i=dr=>dr===document.activeElement;if(i.range&&Array.isArray(ie.value)){const dr=bi=>i.vertical&&_i(c.value[0])&&bi.key==="ArrowUp",gt=bi=>i.vertical&&_i(c.value[0])&&bi.key==="ArrowDown",Xt=bi=>i.vertical&&_i(c.value[1])&&bi.key==="ArrowUp",Xi=bi=>i.vertical&&_i(c.value[1])&&bi.key==="ArrowDown",$s=bi=>!i.vertical&&_i(c.value[0])&&bi.key==="ArrowLeft",Ls=bi=>!i.vertical&&_i(c.value[0])&&bi.key==="ArrowRight",yi=bi=>!i.vertical&&_i(c.value[1])&&bi.key==="ArrowLeft",Hr=bi=>!i.vertical&&_i(c.value[1])&&bi.key==="ArrowRight";switch(!0){case((Xi(Me)||yi(Me))&&F.value&&ie.value[0]!==_.value):(qe=c.value[0])==null||qe.focus(),vt(0,0);break;case((dr(Me)||Ls(Me))&&N.value&&ie.value[1]!==x.value):(pt=c.value[1])==null||pt.focus(),vt(1,1);break;case((gt(Me)||$s(Me))&&ie.value[0]!==_.value):vt(0,0);break;case((Xt(Me)||Hr(Me))&&ie.value[1]!==x.value):vt(1,1);break;case((Xi(Me)||yi(Me))&&ie.value[1]!==_.value):vt(0,1);break;case((dr(Me)||Ls(Me))&&ie.value[0]!==x.value):vt(1,0);break}}else i.vertical?(Me.key==="ArrowDown"&&vt(0,0),Me.key==="ArrowUp"&&vt(1,0)):(Me.key==="ArrowLeft"&&vt(0,0),Me.key==="ArrowRight"&&vt(1,0))},we=Me=>Array.isArray(ie.value)?Me*A.value>ie.value[0]&&Me*A.value<ie.value[1]:Me*A.value<ie.value,de=V(()=>A.value/(x.value-_.value)*100),pe=Me=>({backgroundColor:we(Me)?r(i.color):n(r(i.color)),[O.value]:`${Me*de.value}%`,transition:S.value?"none":"var(--va-slider-pin-transition)"}),Ve=Me=>(Qe(),i.vertical?f.value-Me.clientY:Me.clientX-f.value),Qe=()=>{o.value&&(p.value=o.value[i.vertical?"offsetHeight":"offsetWidth"],f.value=o.value.getBoundingClientRect()[O.value])},Ge=Me=>(A.value*Ie.value*Me+_.value*Ie.value)/Ie.value,Ze=(Me,qe)=>i.trackLabel?typeof i.trackLabel=="function"?i.trackLabel(Me,qe):i.trackLabel:Me,ot=Me=>{const qe=C.value;Array.isArray(ie.value)?Ae(ie.value[qe],Me)&&(qe===0?ie.value=[Me,ie.value[1]]:ie.value=[ie.value[0],Me]):Me<_.value?ie.value=_.value:Me>x.value?ie.value=x.value:Ae(ie.value,Me)&&(ie.value=Me)},xe=Me=>{const qe=Y.value,pt=Z.value,vt=Array.isArray(ie.value)?c.value[C.value]:a.value;if(vt==null||vt.focus(),Me>=qe[0]&&Me<=qe[1]){const _i=Ge(Math.round(Me/Te.value));C.value?Array.isArray(Ee.value)&&Array.isArray(ie.value)&&Me<=Ee.value[0]?(ie.value=[_i,ie.value[0]],C.value=0):ot(_i):Array.isArray(Ee.value)&&Array.isArray(ie.value)&&Me>=Ee.value[1]?(ie.value=[ie.value[1],_i],C.value=1):ot(_i)}else Me<qe[0]?ot(pt[0]):ot(pt[1])},Ae=(Me,qe)=>JSON.stringify(Me)!==JSON.stringify(qe),Ke=Me=>{if(i.disabled||i.readonly)return;const qe="touches"in Me?Ve(Me.touches[0]):Ve(Me);Array.isArray(Ee.value)&&(C.value=qe>(Ee.value[1]-Ee.value[0])/2+Ee.value[0]?1:0),S.value=!0,xe(qe),ye(Me,C.value)},yt=()=>{document.addEventListener("mousemove",ke),document.addEventListener("touchmove",ke,{passive:!1}),document.addEventListener("mouseup",Oe),document.addEventListener("mouseleave",Oe),document.addEventListener("touchcancel",Oe),document.addEventListener("touchend",Oe),document.addEventListener("keydown",mt)},Ct=()=>{document.removeEventListener("mousemove",ke),document.removeEventListener("touchmove",ke),document.removeEventListener("mouseup",Oe),document.removeEventListener("mouseleave",Oe),document.removeEventListener("touchcancel",Oe),document.removeEventListener("touchend",Oe),document.removeEventListener("keydown",mt)},ft=sd(),Je=V(()=>`aria-label-id-${ft}`),{tp:ht}=Hs(),Yt=so(),$e=V(()=>({role:"slider","aria-valuemin":_.value,"aria-valuemax":x.value,"aria-label":!Yt.label&&!i.label?ht(i.ariaLabel,{value:String(ie.value)}):void 0,"aria-labelledby":Yt.label||i.label?Je.value:void 0,"aria-orientation":i.vertical?"vertical":"horizontal","aria-disabled":i.disabled,"aria-readonly":i.readonly,"aria-valuenow":Array.isArray(ie.value)?void 0:ie.value,"aria-valuetext":Array.isArray(ie.value)?String(ie.value):void 0}));return Ri(()=>{KH(ie.value,A.value,_.value,x.value,i.range)&&(Qe(),yt())}),Rr(Ct),Ot([ie,()=>A.value,()=>_.value,()=>x.value,()=>i.range],([Me,qe,pt,vt,_i])=>{KH(Me,qe,pt,vt,_i)}),Ot(S,Me=>{document.documentElement.style.cursor=Me?"grabbing":""}),(Me,qe)=>(q(),ve("div",ut({class:["va-slider",P(j)]},$e.value),[(e.vertical?Me.$slots.append:Me.$slots.prepend)?(q(),ve("div",Gye,[Fe(Me.$slots,e.vertical?"append":"prepend")])):Le("",!0),(Me.$slots.label||e.label)&&!e.invertLabel?(q(),ve("span",{key:1,class:"va-input__label",id:Je.value,style:St(K.value)},[Fe(Me.$slots,"label",{},()=>[oi(Mt(e.label),1)])],12,Hye)):Le("",!0),(e.vertical?e.iconAppend:e.iconPrepend)?(q(),ve("span",$ye,[wt(P(ns),{name:e.vertical?e.iconAppend:e.iconPrepend,color:P(r)(Me.$props.color),size:16},null,8,["name","color"])])):Le("",!0),me("div",{ref_key:"sliderContainer",ref:o,class:"va-slider__container",onMousedown:Ke,onTouchstart:Ke},[me("div",{class:"va-slider__track","aria-hidden":"true",style:St(Q.value)},null,4),e.pins?(q(!0),ve(kt,{key:0},si(he.value,(pt,vt)=>(q(),ve("div",{key:vt,class:Et(["va-slider__mark",{"va-slider__mark--active":we(pt)}]),style:St(pe(pt))},null,6))),128)):Le("",!0),Me.$props.range?(q(),ve(kt,{key:1},[me("div",{ref:"process",class:Et(["va-slider__track va-slider__track--selected",{"va-slider__track--active":u.value}]),"aria-hidden":"true",style:St(te.value)},null,6),(q(!0),ve(kt,null,si(R.value,pt=>(q(),ve("div",{key:"dot"+pt,ref_for:!0,ref:P(l)(pt),class:Et(["va-slider__handler",P(ee)]),style:St(H(pt)),tabindex:e.disabled||e.readonly?void 0:0,onFocus:vt=>(u.value=!0,C.value=pt),onBlur:qe[0]||(qe[0]=vt=>u.value=!1)},[Se(pt)?(q(),ve("div",{key:0,style:St({backgroundColor:P(r)(Me.$props.color)}),class:"va-slider__handler__dot--focus"},null,4)):Le("",!0),e.trackLabelVisible?(q(),ve("div",{key:1,style:St(K.value),class:"va-slider__handler__dot--value"},[Fe(Me.$slots,"trackLabel",Ft(Wt({value:ue(pt),order:pt})),()=>[oi(Mt(Ze(ue(pt),pt)),1)])],4)):Le("",!0)],46,Wye))),128))],64)):(q(),ve(kt,{key:2},[me("div",{ref:"process","aria-hidden":"true",class:Et(["va-slider__track va-slider__track--selected",{"va-slider__track--active":u.value}]),style:St(te.value)},null,6),me("div",{ref_key:"dot",ref:a,class:Et(["va-slider__handler",P(ee)]),style:St(ne.value),tabindex:Me.$props.disabled||Me.$props.readonly?void 0:0,onFocus:qe[1]||(qe[1]=pt=>u.value=!0),onBlur:qe[2]||(qe[2]=pt=>u.value=!1)},[Se(0)?(q(),ve("div",{key:0,class:"va-slider__handler__dot--focus",style:St({backgroundColor:P(r)(Me.$props.color)})},null,4)):Le("",!0),e.trackLabelVisible?(q(),ve("div",{key:1,class:"va-slider__handler__dot--value",style:St(K.value)},[Fe(Me.$slots,"trackLabel",Ft(Wt({value:ue()})),()=>[oi(Mt(Ze(ue())),1)])],4)):Le("",!0)],46,Uye)],64))],544),(e.vertical?e.iconPrepend:e.iconAppend)?(q(),ve("span",zye,[wt(P(ns),{name:e.vertical?e.iconPrepend:e.iconAppend,color:P(r)(Me.$props.color),size:16},null,8,["name","color"])])):Le("",!0),(Me.$slots.label||e.label)&&e.invertLabel?(q(),ve("span",{key:4,class:"va-input__label va-input__label--inverse",style:St(K.value),id:Je.value},[Fe(Me.$slots,"label",{},()=>[oi(Mt(e.label),1)])],12,jye)):Le("",!0),(e.vertical?Me.$slots.prepend:Me.$slots.append)?(q(),ve("div",Kye,[Fe(Me.$slots,e.vertical?"prepend":"append")])):Le("",!0)],16))}}),Xye=zt(Yye),YH=e=>typeof e=="number",qye={vertical:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},Qye=(e,t,i)=>{const s=We(!1),r=We(0),n=We(0),o=We(0),a=(h,f)=>{const p=h.type===f?h:h.changedTouches[0];return i.vertical?p.pageY:p.pageX},l=h=>{i.disabled||!e.value||(s.value=!0,r.value=a(h,"mousedown"),n.value=t.value)},c=h=>{if(!s.value)return;const p=a(h,"mousemove")-r.value;o.value=n.value+Math.floor(p/e.value*100)},u=()=>{s.value=!1};return cr(["mousemove","touchmove"],c),cr(["mouseup","touchcancel"],u),{isDragging:s,startDragging:l,currentSplitterPosition:o}},Jye=["aria-label"],Zye={class:"va-split__dragger"},eCe=dt({name:"VaSplit",__name:"VaSplit",props:{...hi,...qye,...dn,modelValue:{type:Number,default:50,validator:e=>e<=100},maximization:{type:Boolean,default:!1},maximizeStart:{type:Boolean,default:!1},limits:{type:Array,default:()=>[0,0]},snapping:{type:Array,default:void 0},snappingRange:{type:[Number,String],default:4},ariaLabel:mi("$t:splitPanels")},emits:[...Ao],setup(e,{emit:t}){const i=e,s=t,r=vi(),{valueComputed:n}=mr(i,s),o=We(),a=We(16),l=()=>{var Q;const{width:be,height:te}=((Q=r.value)==null?void 0:Q.getBoundingClientRect())||{width:0,height:0};o.value=i.vertical?te:be,a.value=parseFloat(getComputedStyle(document.documentElement).fontSize)};Ri(l),bg([r],l);const c=(Q,be)=>{let te="",ne="";if(YH(Q))return Q;switch(Q.split("").filter(H=>H&&H!==" ").forEach(H=>{isNaN(+H)?ne+=H:te+=H}),ne){case"%":return+te;case"px":return+te/o.value*100;case"rem":return+te*a.value/o.value*100;case"any":return["min","snapping"].includes(be)?0:100;case"":return 100;default:return Ps("Invalid limits measure!"),0}},u=Q=>{if(Q==="undefined"||!o.value)return;let be=0,te=100;return(KE(Q)||YH(Q))&&(be=c(Q,"min")),Array.isArray(Q)&&(be=c(Q[0],"min"),te=c(Q[1],"max")),be>te&&(Ps(`Min panels size can not be larger than max one! Passed limit: ${Q}.`),te=be),{min:be??0,max:te??100}},h=V(()=>u(i.limits[0])??{min:0,max:100}),f=V(()=>u(i.limits[1])??{min:0,max:100}),p=V(()=>{const Q=!(h.value.min+f.value.min>100);return Q||Ps("The sum of different panels min sizes should be lesser or equal to 100% of the container size!"),Q?f.value.min:100-h.value.min}),y=V(()=>(Math.ceil(f.value.max+h.value.max)<100&&Ps("The sum of different panels max sizes should be equal to 100% of the container size!"),{start:{min:h.value.min,max:Math.min(h.value.max,100-p.value)},end:{min:p.value,max:Math.min(f.value.max,100-h.value.min)}})),v=Q=>Q>=y.value.start.min&&Q>=y.value.end.min&&Q<=y.value.start.max&&Q<=y.value.end.max,C=V(()=>{if(!Array.isArray(i.snapping)||!o.value)return;let Q=i.snapping.map(te=>c(te,"snapping"));if(!Q.every(v)){const te=Q.filter(v);Ps(`Some of the snapping marks (${Q}) are not in allowed range (${Object.values(y.value.start).join("-")} / ${Object.values(y.value.end).join("-")}) and will be removed (${te})!`),Q=te}return Q.every((te,ne,H)=>H[ne+1]?Math.abs(te-H[ne+1])>Number(i.snappingRange):!0)||Ps("Distance between some snapping marks is lesser than snapping range!"),Q}),S=V(()=>c(i.snappingRange,"snapping")),_=We(n.value),x=V(()=>{if(C.value){const Q=C.value.find(be=>_.value+S.value>be&&_.value-S.value<be);if(Q)return Q}return wg(_.value,Math.max(y.value.start.min,100-y.value.end.max),Math.min(y.value.start.max,100-y.value.end.min))}),{isDragging:A,startDragging:R,currentSplitterPosition:O}=Qye(o,x,i),k=()=>{!i.maximization||i.disabled||(_.value=i.maximizeStart?y.value.start.max:100-y.value.end.max)};Ot(n,Q=>{(Q<y.value.start.min||Q>100-y.value.end.min)&&Ps("Incorrect `modelValue`. Check current `limits` prop value."),_.value=Q},{immediate:!0}),Ot(O,Q=>{_.value=Q}),Ot(A,Q=>{Q||(n.value=x.value),document.documentElement.style.cursor=Q?"var(--va-split-dragging-cursor)":""});const F=V(()=>i.vertical?"height":"width"),N=Q=>{let be=Q==="start"?x.value:100-x.value;return be<0&&(be=0),be>100&&(be=100),{[F.value]:`${be}%`}},j=V(()=>i.disabled?{}:A.value?{cursor:"var(--va-split-dragging-cursor)"}:{cursor:i.vertical?"var(--va-split-vertical-dragger-cursor)":"var(--va-split-horizontal-dragger-cursor)"}),ee=Is("va-split",()=>({horizontal:!i.vertical,vertical:i.vertical,dragging:A.value})),{tp:K}=Hs();return(Q,be)=>(q(),ve("section",{ref_key:"splitPanelsContainer",ref:r,class:Et(["va-split",P(ee)]),"aria-label":P(K)(Q.$props.ariaLabel)},[me("div",{class:"va-split__panel",style:St(N("start"))},[Fe(Q.$slots,"start",Ft(Wt({containerSize:o.value})))],4),me("div",Zye,[me("div",{class:"va-split__dragger__overlay",style:St(j.value),onMousedown:be[0]||(be[0]=Dt((...te)=>P(R)&&P(R)(...te),["prevent"])),onTouchstart:be[1]||(be[1]=Dt((...te)=>P(R)&&P(R)(...te),["prevent"])),onDblclick:Dt(k,["prevent"]),onContextmenu:be[2]||(be[2]=Dt(()=>{},["prevent"])),onDragstart:be[3]||(be[3]=Dt(()=>{},["prevent"]))},[Fe(Q.$slots,"grabber",{},()=>[wt(P(l9),{class:"va-split__dragger__default",vertical:!Q.$props.vertical},null,8,["vertical"])])],36)]),me("div",{class:"va-split__panel",style:St(N("end"))},[Fe(Q.$slots,"end",Ft(Wt({containerSize:o.value})))],4)],10,Jye))}}),tCe=zt(eCe),_9=Symbol("TabsView"),iCe=["aria-disabled"],sCe=me("div",{class:"va-tabs__slider"},null,-1),rCe=[sCe],nCe={class:"va-tabs__tabs-items"},oCe={class:"va-tabs__content"},Ih=e=>(e==null?void 0:e.clientWidth)||0,aCe=dt({name:"VaTabs",__name:"VaTabs",props:{...dn,...hi,modelValue:{type:[String,Number],default:null},left:{type:Boolean,default:!0},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},grow:{type:Boolean,default:!1},hidePagination:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideSlider:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:{type:String,default:"primary"},prevIcon:{type:String,default:"va-arrow-left"},nextIcon:{type:String,default:"va-arrow-right"},ariaMoveRightLabel:mi("$t:movePaginationLeft"),ariaMoveLeftLabel:mi("$t:movePaginationRight")},emits:["update:modelValue","click:next","click:prev"],setup(e,{expose:t,emit:i}){const{tp:s}=Hs(),r=e,n=i,o=vi(),a=vi(),l=vi(),c=We([]),u=We(null),h=We(null),f=We(0),p=We(0),y=We(!1),v=We(0),C=We(0),S=We(!1),{valueComputed:_}=mr(r,n),x=Nn({VaTab:{color:r.color}}),A=V(()=>{const{left:Y,right:Z,center:Se,grow:ye,disabled:ke}=r;return{"va-tabs__container--left":Y&&!Z&&!Se&&!ye,"va-tabs__container--right":Z,"va-tabs__container--center":Se,"va-tabs__container--grow":ye,"va-tabs__container--disabled":ke}}),R=V(()=>({"va-tabs--vertical":r.vertical})),{getColor:O}=xi(),k=V(()=>O(r.color)),F=V(()=>r.hideSlider?{display:"none"}:{backgroundColor:k.value,height:r.vertical?`${u.value}px`:"",width:r.vertical?"":`${h.value}px`,transform:`translateY(-${p.value}px) translateX(${f.value}px)`,transition:S.value?"var(--va-tabs-slider-wrapper-transition)":""}),N=V(()=>r.vertical?{transform:"translateX(0px)"}:{transform:`translateX(${C.value-v.value}px)`,transition:S.value?"var(--va-tabs-slider-transition)":"",position:r.hidePagination?"unset":"absolute"}),j=V(()=>v.value===0),ee=V(()=>{const Y=c.value[c.value.length-1],Z=P(Y.leftSidePosition),Se=P(Y.rightSidePosition),ye=Ih(a.value);return Se<=v.value+ye||Z<=v.value}),K=()=>{h.value=0,u.value=0},Q=Y=>{const Z=Ih(a.value),Se=P(Y.leftSidePosition),ye=P(Y.rightSidePosition);if(!y.value){v.value=0;return}if(!(Se-v.value>=0&&ye-v.value<=Z)){if(Se-v.value<0){v.value=Se;return}if(ye-v.value>Z){v.value=ye-Z;return}v.value=0}},be=()=>{if(C.value=0,!y.value)return;const Y=Ih(a.value),Z=Ih(l.value);r.right?C.value=Z-Y:r.center&&(C.value=Math.floor((Z-Y)/2))},te=()=>{K(),c.value.forEach(Y=>{var Z;Y.updateSidePositions();const Se=(((Z=Y.name)==null?void 0:Z.value)||Y.id)===_.value;Y.isActive=Y.isActiveRouterLink||Se,Y.isActive&&(Q(Y),ue(Y))}),be()};Fa(()=>{te()});const ne=()=>{const Y=Ih(l.value),Z=Ih(o.value);requestAnimationFrame(()=>{y.value=!!(l.value&&o.value&&Y>Z)})},H=()=>{var Y,Z;const Se=Ih(a.value);let ye=v.value-Se;for(let ke=0;ke<c.value.length-1;ke++){const Oe=P((Y=c.value[ke])==null?void 0:Y.leftSidePosition),He=P((Z=c.value[ke+1])==null?void 0:Z.leftSidePosition);if(Oe>ye&&Oe<v.value||He>=v.value){ye=Oe;break}}v.value=Math.max(0,ye),n("click:prev")},ie=()=>{var Y;const Z=Ih(a.value),Se=v.value+Z;let ye=Se;for(let He=0;He<c.value.length-1&&!(P(c.value[He].rightSidePosition)>Se&&(ye=P(c.value[He].leftSidePosition),v.value<ye));He++);const Oe=P((Y=c.value[c.value.length-1])==null?void 0:Y.rightSidePosition)-Z;ye=Math.min(Oe,ye),v.value=Math.max(0,ye),n("click:next")},ue=Y=>{var Z;const Se=P(Y.tabElement),ye=(Se==null?void 0:Se.offsetTop)||0,ke=(Se==null?void 0:Se.offsetLeft)||0,Oe=(Se==null?void 0:Se.clientHeight)||0,He=(Se==null?void 0:Se.clientWidth)||0;if(r.vertical){const we=(((Z=a.value)==null?void 0:Z.clientHeight)||0)-ye-Oe;p.value=Math.max(we,0),u.value=Oe,f.value=0,h.value=0}else f.value=ke,h.value=He,p.value=0,u.value=0},Te=()=>{S.value||requestAnimationFrame(()=>{S.value=!0})},Ie=Y=>{var Z;Y&&(_.value=((Z=Y.name)==null?void 0:Z.value)||Y.id,r.stateful&&te())},he=Y=>{var Z;const Se=c.value.push(Y)-1;Y.id=((Z=Y.name)==null?void 0:Z.value)||Se},Ee=Y=>{c.value=c.value.filter(Z=>Z.id!==Y.id),c.value.forEach((Z,Se)=>{var ye;Z.id=((ye=Z.name)==null?void 0:ye.value)||Se})};return la(_9,{parentDisabled:r.disabled,selectTab:Ie,moveToTab:Q,registerTab:he,unregisterTab:Ee}),Ot(()=>r.modelValue,te),bg([o],ne),bg([a],te),Ri(()=>{requestAnimationFrame(()=>{Te()})}),t({selectTab:Ie,moveToTab:Q,movePaginationLeft:H,movePaginationRight:ie}),(Y,Z)=>(q(),ve("div",{class:Et(["va-tabs",R.value])},[me("div",{ref_key:"wrapper",ref:o,class:"va-tabs__wrapper",role:"tablist","aria-disabled":Y.$props.disabled},[y.value&&!Y.$props.hidePagination?(q(),nt(P(ps),{key:0,class:"va-tabs__pagination","aria-label":P(s)(Y.$props.ariaMoveLeftLabel),size:"medium",disabled:j.value,color:e.color,preset:"secondary",icon:Y.$props.prevIcon,onClick:H},null,8,["aria-label","disabled","color","icon"])):Le("",!0),me("div",{ref_key:"container",ref:a,class:Et(["va-tabs__container",A.value])},[me("div",{ref_key:"tabs",ref:l,class:"va-tabs__tabs",style:St(N.value)},[me("div",{class:"va-tabs__slider-wrapper","aria-hidden":"true",style:St(F.value)},rCe,4),wt(P(zw),{components:x},{default:tt(()=>[me("div",nCe,[Fe(Y.$slots,"tabs")])]),_:3},8,["components"])],4)],2),y.value&&!Y.$props.hidePagination?(q(),nt(P(ps),{key:1,class:"va-tabs__pagination","aria-label":P(s)(Y.$props.ariaMoveRightLabel),size:"medium",color:e.color,disabled:ee.value,preset:"secondary",icon:Y.$props.nextIcon,onClick:ie},null,8,["aria-label","color","disabled","icon"])):Le("",!0)],8,iCe),me("div",oCe,[Fe(Y.$slots,"default")])],2))}}),lCe=zt(aCe),cCe={class:"va-tab__content"},uCe=["textContent"],dCe=dt({name:"VaTab",__name:"VaTab",props:{...sm,...hi,selected:{type:Boolean,default:!1},color:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean},name:{type:[String,Number]},tag:{type:String,default:"div"}},emits:["click","keydown-enter","focus"],setup(e,{emit:t}){const i=e,s=t,r=vi(),n=V(()=>Nr(r.value)),o=We(!1),a=We(!1),l=We(0),c=We(0),{keyboardFocusListeners:u,hasKeyboardFocus:h}=U0(),{tagComputed:f,isActiveRouterLink:p,linkAttributesComputed:y}=Nf(i),v=V(()=>({"va-tab--disabled":i.disabled})),{parentDisabled:C,selectTab:S,moveToTab:_,registerTab:x,unregisterTab:A}=Xr(_9,{parentDisabled:!1,tabsList:[],selectTab:ne=>ne,moveToTab:ne=>ne,registerTab:ne=>ne,unregisterTab:ne=>ne}),R=V(()=>i.disabled||C?-1:0),{getColor:O}=xi(),k=V(()=>O(i.color)),F=V(()=>({color:a.value||o.value?k.value:"inherit"})),N=ne=>{a.value=ne},j=()=>{var ne,H;const ie=((ne=n.value)==null?void 0:ne.offsetLeft)||0,ue=((H=n.value)==null?void 0:H.offsetWidth)||0;l.value=ie+ue,c.value=ie},ee=E9(r);Ot(ee,()=>{j()});const K=async()=>{await rs(),S(te),s("click")},Q=async()=>{await rs(),S(te),s("keydown-enter")},be=()=>{h.value&&_(te),s("focus")},te={name:V(()=>i.name),id:null,tabElement:n,isActive:o,tabIndexComputed:R,isActiveRouterLink:p,rightSidePosition:l,leftSidePosition:c,onTabClick:K,onTabKeydown:Q,onFocus:be,updateSidePositions:j};return Ri(()=>{x(te)}),Rr(()=>{A(te)}),(ne,H)=>(q(),nt(io(P(f)),ut({ref_key:"rootElement",ref:r,class:["va-tab",v.value],role:"tab","aria-selected":o.value,"aria-disabled":ne.$props.disabled||P(C),style:F.value,onMouseenter:H[0]||(H[0]=ie=>N(!0)),onMouseleave:H[1]||(H[1]=ie=>N(!1)),onFocus:be,onClick:K,onKeydown:xt(Q,["enter"]),tabindex:R.value},Ta(P(u)),P(y)),{default:tt(()=>[me("div",cCe,[Fe(ne.$slots,"default",{},()=>[e.icon?(q(),nt(P(ns),{key:0,class:"va-tab__icon",size:"small",name:e.icon},null,8,["name"])):Le("",!0),me("span",{class:"va-tab__label",textContent:Mt(e.label)},null,8,uCe)])])]),_:3},16,["aria-selected","aria-disabled","class","style","tabindex"]))}}),hCe=zt(dCe),jO=(e,...t)=>Rb(e)?e(...t):e,fCe={class:"va-stepper__default-controls"},pCe=dt({name:"VaStepperControls",__name:"VaStepperControls",props:{modelValue:{type:[Number,String],required:!0},steps:{type:Array,required:!0},nextDisabled:{type:Boolean,required:!0},stepControls:{type:Object,required:!0},finishButtonHidden:{type:Boolean,default:!1}},setup(e){const t=e,{t:i}=Hs(),s=V(()=>{const n=t.steps[Number(t.modelValue)];return jO(n.isLoading)||!1}),r=V(()=>{const n=t.steps.length-1;return Number(t.modelValue)>=n});return(n,o)=>(q(),ve("div",fCe,[wt(P(ps),{preset:"primary",disabled:Number(n.$props.modelValue)<=0,loading:s.value,onClick:o[0]||(o[0]=a=>n.$props.stepControls.prevStep())},{default:tt(()=>[oi(Mt(P(i)("back")),1)]),_:1},8,["disabled","loading"]),r.value?n.$props.finishButtonHidden?Le("",!0):(q(),nt(P(ps),{key:1,onClick:o[2]||(o[2]=a=>n.$props.stepControls.finish()),loading:s.value},{default:tt(()=>[oi(Mt(P(i)("finish")),1)]),_:1},8,["loading"])):(q(),nt(P(ps),{key:0,onClick:o[1]||(o[1]=a=>n.$props.stepControls.nextStep()),disabled:n.$props.nextDisabled,loading:s.value},{default:tt(()=>[oi(Mt(P(i)("next")),1)]),_:1},8,["disabled","loading"]))]))}}),gv=e=>jO(e.hasError,e)||!1,gCe={class:"va-stepper__step-button__icon"},mCe=dt({name:"VaStepperStepButton",__name:"VaStepperStepButton",props:{modelValue:{type:Number,required:!0},step:{type:Object,required:!0},color:{type:String,required:!0},stepIndex:{type:[Number,String],required:!0},navigationDisabled:{type:Boolean,required:!0},nextDisabled:{type:Boolean,required:!0},focus:{type:Object,required:!0},stepControls:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const i=e,s=vi(),r=V(()=>gv(i.step)),n=Bi("stepIndex"),o=V(()=>r.value&&i.modelValue===n.value),a=V(()=>jO(i.step.isLoading)||!1),{getColor:l}=xi(),c=V(()=>l(r.value?"danger":i.color)),u=y=>i.nextDisabled&&y>i.modelValue,{t:h}=Hs(),f=Is("va-stepper__step-button",()=>({active:i.modelValue>=n.value,disabled:i.step.disabled||u(n.value),"navigation-disabled":i.navigationDisabled,error:o.value}));Ot(()=>i.focus,()=>{i.focus.trigger&&rs(()=>{var y;return(y=s.value)==null?void 0:y.focus()})},{deep:!0});const p=V(()=>({tabindex:i.focus.stepIndex===n.value&&!i.navigationDisabled?0:void 0,"aria-disabled":i.step.disabled||u(n.value)?!0:void 0,"aria-current":i.modelValue===i.stepIndex?h("step"):void 0}));return(y,v)=>(q(),ve("li",ut({ref_key:"stepElement",ref:s,class:["va-stepper__step-button",P(f)],onClick:v[0]||(v[0]=C=>!y.$props.navigationDisabled&&y.$props.stepControls.setStep(P(n))),onKeyup:[v[1]||(v[1]=xt(C=>!y.$props.navigationDisabled&&y.$props.stepControls.setStep(P(n)),["enter"])),v[2]||(v[2]=xt(C=>!y.$props.navigationDisabled&&y.$props.stepControls.setStep(P(n)),["space"]))]},p.value,{style:`--va-stepper-color: ${String(c.value)}`}),[me("div",gCe,[a.value?(q(),nt(P(G0),{key:0,color:"currentColor",indeterminate:"",size:"small"})):e.step.icon?(q(),nt(P(ns),{key:1,name:e.step.icon,size:"1.3rem"},null,8,["name"])):(q(),ve(kt,{key:2},[oi(Mt(P(n)+1),1)],64))]),oi(" "+Mt(e.step.label),1)],16))}}),vCe={class:"va-stepper__step-content"},yCe={class:"va-stepper__controls"},CCe=dt({name:"VaStepper",__name:"VaStepper",props:{...dn,modelValue:{type:Number,default:0},steps:{type:Array,default:()=>[],required:!0},color:{type:String,default:"primary"},vertical:{type:Boolean,default:!1},navigationDisabled:{type:Boolean,default:!1},controlsHidden:{type:Boolean,default:!1},nextDisabled:{type:Boolean,default:!1},nextDisabledOnError:{type:Boolean,default:!1},finishButtonHidden:{type:Boolean,default:!1},ariaLabel:mi("$t:progress"),linear:{type:Boolean,default:!1},finishStep:{type:Object}},emits:["update:modelValue","finish","update:steps"],setup(e,{expose:t,emit:i}){const s=e,r=i,n=vi(),{valueComputed:o}=mr(s,r,"modelValue"),a=V(()=>s.finishStep?[...s.steps,s.finishStep]:s.steps),l=te=>s.finishStep?te===a.value.length-1:!1,c=We({trigger:!1,stepIndex:s.navigationDisabled?-1:s.modelValue}),{getColor:u}=xi(),h=te=>s.nextDisabledOnError&&gv(a.value[te])?!0:s.nextDisabled,f=(te,ne)=>{for(;te>=0&&te<a.value.length;){te+=ne;const H=a.value[te];if(!H)return;if(!H.disabled)return H}},p=(te,ne)=>{for(;te>=0&&te<a.value.length;){te+=ne;const H=a.value[te];if(!H)return;if(gv(H)===!0)return te}},y=async te=>{var ne;const H=a.value[te],ie=a.value[o.value],ue=f(te,-1);if(H.disabled)return!1;if(s.linear&&te<o.value)return!0;const Te=p(o.value,1);if(s.linear&&Te!==void 0&&Te<te)return!1;let Ie;try{Ie=await((ne=ie.beforeLeave)==null?void 0:ne.call(ie,ie,H))}catch(he){throw new Error(`Error in beforeLeave function: ${he}`)}return!(Ie===!1||(ie.completed===void 0&&(ie.completed=!0),s.linear&&ue&&!ue.completed)||s.linear&&gv(ie))},v=async te=>{await y(te)&&(o.value=te)},C=te=>{s.navigationDisabled||(te==="next"?S(1):_(1))},S=(te=1)=>{const ne=c.value.stepIndex+te;if(!h(ne)){if(ne<a.value.length){if(a.value[ne].disabled){S(te+1);return}c.value.stepIndex=ne,c.value.trigger=!0}else for(let H=0;H<a.value.length;H++)if(!a.value[H].disabled){c.value.stepIndex=H,c.value.trigger=!0;break}}},_=(te=1)=>{const ne=c.value.stepIndex-te;if(ne>=0){if(a.value[ne].disabled){_(te+1);return}c.value.stepIndex=ne,c.value.trigger=!0}else for(let H=a.value.length-1;H>=0;H--)if(!a.value[H].disabled&&!h(H)){c.value.stepIndex=H,c.value.trigger=!0;break}},x=()=>{requestAnimationFrame(()=>{var te;(te=n.value)!=null&&te.contains(document.activeElement)||(c.value.stepIndex=s.modelValue,c.value.trigger=!1)})};Ot(()=>s.modelValue,()=>{c.value.stepIndex=s.modelValue,c.value.trigger=!1});const A=(te=0)=>{const ne=o.value+1+te;a.value[ne]&&(a.value[ne].disabled&&A(te+1),v(ne))},R=(te=0)=>{const ne=o.value-1-te;a.value[ne]&&(a.value[ne].disabled&&R(te+1),v(ne))},k={setStep:v,nextStep:A,prevStep:R,finish:async()=>{await y(s.steps.length-1)&&r("finish")}},F=(te,ne)=>({...k,focus:c,isActive:s.modelValue===ne,isCompleted:s.modelValue>ne,isLastStep:a.value.length-1===ne,isNextStepDisabled:h(ne),isPrevStepDisabled:ne===0,index:ne,step:te,hasError:gv(te)}),{tp:N}=Hs(),j=()=>{c.value.stepIndex=s.modelValue,c.value.trigger=!0},ee=V(()=>({role:"group","aria-label":N(s.ariaLabel),"aria-orientation":s.vertical?"vertical":"horizontal"}));function K(te){return gv(a.value[te])?"danger":u(s.color)}return t({modelValue:o,focusedStep:c,getIterableSlotData:F,stepControls:k,nextStep:A,prevStep:R,setStep:v,setFocus:C,completeStep:te=>{const ne={...a.value};te===!0&&(ne[s.modelValue].hasError=!1),ne[s.modelValue].completed=te??!0,r("update:steps",ne)},setError:te=>{const ne={...a.value};ne[s.modelValue].hasError=te??!0,ne[s.modelValue].completed=!te,r("update:steps",ne)}}),(te,ne)=>(q(),ve("div",ut({class:["va-stepper",{"va-stepper--vertical":te.$props.vertical}]},ee.value),[me("ol",{class:Et(["va-stepper__navigation",{"va-stepper__navigation--vertical":te.$props.vertical}]),ref_key:"stepperNavigation",ref:n,onClick:j,onKeyup:[xt(j,["enter"]),xt(j,["space"]),ne[0]||(ne[0]=xt(H=>C("prev"),["left"])),ne[1]||(ne[1]=xt(H=>C("next"),["right"]))],onFocusout:x},[(q(!0),ve(kt,null,si(a.value,(H,ie)=>(q(),ve(kt,{key:ie+H.label},[l(ie)?Le("",!0):(q(),ve(kt,{key:0},[ie>0?Fe(te.$slots,"divider",Ft(ut({key:0},F(H,ie))),()=>[me("span",{class:Et(["va-stepper__divider",{"va-stepper__divider--vertical":te.$props.vertical}]),"aria-hidden":"true"},null,2)]):Le("",!0),Fe(te.$slots,`step-button-${ie}`,Ft(Wt(F(H,ie))),()=>[wt(mCe,{stepIndex:ie,color:K(ie),modelValue:P(o),nextDisabled:e.nextDisabled,step:H,stepControls:k,navigationDisabled:e.navigationDisabled,focus:c.value},null,8,["stepIndex","color","modelValue","nextDisabled","step","navigationDisabled","focus"])])],64))],64))),128))],34),me("div",{class:Et(["va-stepper__step-content-wrapper",{"va-stepper__step-content-wrapper--vertical":te.$props.vertical}])},[me("div",vCe,[Fe(te.$slots,`step-content-${l(P(o))?"finish":P(o)}`,Ft(Wt(F(a.value[P(o)],P(o)))))]),me("div",yCe,[Fe(te.$slots,"controls",Ft(Wt(F(a.value[P(o)],P(o)))),()=>[e.controlsHidden?Le("",!0):(q(),nt(pCe,{key:0,modelValue:P(o),nextDisabled:h(P(o)),steps:a.value,stepControls:k,finishButtonHidden:e.finishButtonHidden},null,8,["modelValue","nextDisabled","steps","finishButtonHidden"]))])])],2)],16))}}),bCe=zt(CCe),wCe=e=>{const t=e.match(/[0-9]{1,2}/g);return t?t.map(i=>Number(i)):[]},SCe=e=>{const t=e.match(/pm|am/i);return t?+(t[0].toLowerCase()==="pm"):null},xCe=e=>{const t=new Date,[i,s,r]=wCe(e),n=SCe(e);if(!i)return null;const o=n!==null&&i<=12,a=o&&!!n,l=o&&i===12?0:i;return t.setHours(Math.min(l||0,o?12:24)+(a?12:0)),t.setMinutes(Math.min(s||0,60)),t.setSeconds(Math.min(r||0,60)),t},ECe=e=>{const t=()=>e.parse||xCe,i=We(!0),s=n=>{const a=t()(n);return a||(i.value=!1),a};return{parse:n=>(i.value=!0,s(n)),isValid:i}},_Ce=e=>{const t=r=>r?e.ampm?r.toLocaleTimeString("en-US"):r.toLocaleTimeString("en-GB"):"",i=(r,n,o)=>r.split(":").slice(n,o).join(":"),s=r=>{if(e.view==="seconds")return t(r);const[n,o]=t(r).split(" ");return e.view==="minutes"?o?[i(n,0,2),o].join(" "):i(n,0,2):e.view==="hours"?o?[i(n,0,1),o].join(" "):i(n,0,1):""};return{format:r=>e.format?e.format(r):s(r)}},a0=e=>e.value?e.value:new Date(new Date().setHours(0,0,0,0)),KO=e=>Array.from(Array(e).keys()),XH=e=>(e===0?12:e)-+(e>12)*12,TCe=(e,t=!1)=>(e===12?0:e)+Number(t)*12,ACe=(e,t,i)=>{const s=V(()=>e.ampm?12:24),r=V(()=>{let o=KO(s.value);return e.hoursFilter&&(o=o.filter(a=>e.hoursFilter(e.ampm?a+12*Number(i.value):a))),o.map(a=>e.ampm?XH(a):a)}),n=V({get:()=>{if(!t.value)return-1;if(e.ampm){const a=XH(t.value.getHours()-12*Number(i.value));return r.value.findIndex(l=>l===a)}const o=t.value.getHours();return r.value.findIndex(a=>a===o)},set:o=>{if(e.readonly)return;const a=e.ampm?TCe(r.value[o],i.value):r.value[o];t.value=new Date(a0(t).setHours(a))}});return V(()=>({items:r.value,activeItem:n}))},kCe=(e,t)=>{const i=V(()=>{const r=KO(60);return e.minutesFilter?r.filter(e.minutesFilter):r}),s=V({get:()=>{if(!t.value)return-1;const r=t.value.getMinutes();return i.value.findIndex(n=>n===r)},set:r=>{if(e.readonly)return;const n=i.value[r];t.value=new Date(a0(t).setMinutes(n))}});return V(()=>({items:i.value,activeItem:s}))},DCe=(e,t)=>{const i=V(()=>{const r=KO(60);return e.secondsFilter?r.filter(e.secondsFilter):r}),s=V({get:()=>{if(!t.value)return-1;const r=t.value.getSeconds();return i.value.findIndex(n=>n===r)},set:r=>{if(e.readonly)return;const n=i.value[r];t.value=new Date(a0(t).setSeconds(n))}});return V(()=>({items:i.value,activeItem:s}))},RCe=(e,t,i)=>V(()=>({items:["AM","PM"],activeItem:V({get:()=>t.value?Number(i.value):-1,set:s=>{i.value=!!s;const r=a0(t).getHours();let n=i.value?r+12:r;i.value&&r<=12&&(n=r+12),!i.value&&r>=12&&(n=r-12);const o=!e.hoursFilter||e.hoursFilter(n);e.periodUpdatesModelValue&&o&&(t.value=new Date(a0(t).setHours(n)))}})})),PCe=(e,t)=>{const{view:i}=Il(e),s=We(!1);Ot(t,()=>{s.value=a0(t).getHours()>=12},{immediate:!0});const r=ACe(e,t,s),n=kCe(e,t),o=DCe(e,t),a=RCe(e,t,s);return{columns:V(()=>{const c=[];return i.value==="hours"?c.push(r.value):i.value==="minutes"?c.push(r.value,n.value):i.value==="seconds"&&c.push(r.value,n.value,o.value),e.ampm&&!e.hidePeriodSwitch&&c.push(a.value),c}),isPM:s}},FCe=dt({name:"VaTimePickerColumnCell",__name:"VaTimePickerColumnCell",setup(e){const{isHovered:t,onMouseEnter:i,onMouseLeave:s}=Yw(),{getTextColor:r,getColor:n}=xi(),o=V(()=>t.value?{color:n(r(n("background-secondary"))),background:n("background-secondary")}:void 0);return(a,l)=>(q(),ve("div",{onMouseenter:l[0]||(l[0]=(...c)=>P(i)&&P(i)(...c)),onMouseleave:l[1]||(l[1]=(...c)=>P(s)&&P(s)(...c)),style:St(o.value)},[Fe(a.$slots,"default")],36))}}),MCe=["onClick"],LCe=dt({name:"VaTimePickerColumn",__name:"VaTimePickerColumn",props:{items:{type:Array,default:()=>[]},activeItemIndex:{type:Number,default:0},cellHeight:{type:[Number,String],default:30}},emits:["item-selected","update:activeItemIndex",...BT],setup(e,{expose:t,emit:i}){const s=e,r=i,n=vi(),{focus:o,blur:a}=nh(n,r),[l]=Cg("activeItemIndex",s,r),c=Bi("cellHeight");Ot(l,S=>{u(S)}),Ri(()=>u(l.value,!1));const u=(S,_=!0)=>{rs(()=>{var x,A;(A=(x=n.value)==null?void 0:x.scrollTo)==null||A.call(x,{behavior:_?"smooth":"auto",top:S*c.value})})},h=S=>{l.value=(l.value+(S||1))%s.items.length,rs(()=>u(l.value))},f=S=>{l.value=(l.value-1+s.items.length)%s.items.length,rs(()=>u(l.value))},p=S=>{l.value=S},y=S=>Number.isInteger(S)?Number(S)<10?`0${S}`:`${S}`:S,v=()=>{const S=n.value.scrollTop,_=Math.max((S-S%c.value)/c.value,S/c.value);return _>=s.items.length?s.items.length-1:_<0?0:l.value*c.value<S?Math.ceil(_):l.value*c.value>S?Math.floor(_):Math.round(_)},C=_O(()=>{n.value&&l.value!==-1&&(l.value=v())},200);return t({focus:o,blur:a}),(S,_)=>(q(),ve("div",{ref_key:"rootElement",ref:n,tabindex:"0",class:"va-time-picker-column",onKeydown:[_[0]||(_[0]=xt(Dt(x=>h(),["stop","prevent"]),["down"])),_[1]||(_[1]=xt(Dt(x=>h(5),["stop","prevent"]),["space"])),_[2]||(_[2]=xt(Dt(x=>f(),["stop","prevent"]),["up"]))]},[(q(!0),ve(kt,null,si(e.items,(x,A)=>(q(),nt(FCe,{key:x,onScrollPassive:P(C),onTouchmovePassive:P(C),onMousewheelPassive:P(C)},{default:tt(()=>[me("div",{class:Et(["va-time-picker-cell",{"va-time-picker-cell--active":A===S.$props.activeItemIndex}]),onClick:R=>p(A)},[Fe(S.$slots,"cell",Ft(Wt({item:x,index:A,activeItemIndex:e.activeItemIndex,items:e.items,formattedItem:y(x)})),()=>[oi(Mt(y(x)),1)])],10,MCe)]),_:2},1032,["onScrollPassive","onTouchmovePassive","onMousewheelPassive"]))),128))],544))}}),OCe=zt(LCe),ICe=(e,t)=>V(()=>Object.entries(t()).reduce((i,[s,r])=>(i[`--${e}-${kb(s)}`]=r,i),{})),X1=dt({name:"VaTimePicker",__name:"VaTimePicker",props:{...dn,...Vf,...hi,modelValue:{type:Date,required:!1},ampm:{type:Boolean,default:!1},hidePeriodSwitch:{type:Boolean,default:!1},periodUpdatesModelValue:{type:Boolean,default:!0},view:{type:String,default:"minutes"},hoursFilter:{type:Function},minutesFilter:{type:Function},secondsFilter:{type:Function},framed:{type:Boolean,default:!1},cellHeight:{type:[Number,String],default:30},visibleCellsCount:{type:[Number,String],default:7}},emits:[...Ao],setup(e,{expose:t,emit:i}){const s=e,r=i,{valueComputed:n}=mr(s,r),{columns:o}=PCe(s,n),a=Bi("cellHeight"),l=Bi("visibleCellsCount"),{setItemRef:c,itemRefs:u}=JT(),h=We(),f=(x=0)=>{var A;(A=u.value[x])==null||A.focus()},p=x=>{var A;x?(A=u.value[x])==null||A.blur():u.value.forEach(R=>R==null?void 0:R.blur())},{computedClasses:y}=U7("va-time-picker",s),v=()=>{const x=((h==null?void 0:h.value)||0)+1;h.value=x%o.value.length,f(h.value)},C=()=>{const x=((h==null?void 0:h.value)||0)-1+o.value.length;h.value=x%o.value.length,f(h.value)},S=V(()=>({...y,"va-time-picker--framed":s.framed})),_=ICe("va-time-picker",()=>{const x=(l.value-1)/2*a.value;return{height:`${a.value*l.value}px`,"cell-height":`${a.value}px`,"column-gap-height":`${x}px`}});return t({focus:f,blur:p,focusNext:v,focusPrev:C}),(x,A)=>(q(),ve("div",{class:Et(["va-time-picker",S.value]),style:St(P(_))},[(q(!0),ve(kt,null,si(P(o),(R,O)=>(q(),nt(P(OCe),{key:O,ref_for:!0,ref:P(c),items:R.items,tabindex:x.disabled?-1:0,"cell-height":P(a),activeItemIndex:R.activeItem.value,"onUpdate:activeItemIndex":k=>R.activeItem.value=k,onKeydown:[A[0]||(A[0]=xt(Dt(k=>v(),["stop","prevent"]),["right"])),A[1]||(A[1]=xt(Dt(k=>v(),["exact","stop","prevent"]),["tab"])),A[2]||(A[2]=xt(Dt(k=>C(),["stop","prevent"]),["left"])),A[3]||(A[3]=xt(Dt(k=>C(),["shift","stop","prevent"]),["tab"]))],onFocus:k=>h.value=O},null,8,["items","tabindex","cell-height","activeItemIndex","onUpdate:activeItemIndex","onFocus"]))),128))],6))}});function NCe(e,t){let i=-1,s=-1;const r=a=>{var l;(l=t.onStart)==null||l.call(t,a),clearTimeout(i),i=setTimeout(()=>{s=setInterval(()=>{var c;return(c=t.onUpdate)==null?void 0:c.call(t,a)},t.interval||100)},P(t.delay)||500)},n=a=>{var l;clearTimeout(i),clearInterval(s),(l=t.onEnd)==null||l.call(t,a)},o=H0(e);cr(["keydown"],r,o),cr(["keyup","blur"],n,!0)}const qH=vs(ol,["focused","maxLength","counterValue"]),VCe=dt({name:"VaTimeInput",inheritAttrs:!1,__name:"VaTimeInput",props:{...qH,...Lc,...hi,...Zw,...vs(X1),...sh,...dn,closeOnContentClick:{type:Boolean,default:!1},offset:{...Lc.offset,default:()=>[2,0]},placement:{...Lc.placement,default:"bottom-end"},modelValue:{type:Date,default:void 0},clearValue:{type:Date,default:null},format:{type:Function},parse:{type:Function},manualInput:{type:Boolean,default:!1},leftIcon:{type:Boolean,default:!1},icon:{type:String,default:"schedule"},ariaLabel:mi("$t:selectedTime"),ariaResetLabel:mi("$t:resetTime"),ariaToggleDropdownLabel:mi("$t:toggleDropdown")},emits:[...BT,...If,...jT,...Ao,...UO,"update:modelValue"],setup(e,{expose:t,emit:i}){const s=e,r=i,n=vi(),o=vi(),{isOpenSync:a,dropdownProps:l}=zO(s,r,{defaultCloseOnValueUpdate:V(()=>Array.isArray(s.view)&&s.view.length===1)}),{valueComputed:c}=mr(s,r),{parse:u,isValid:h}=ECe(s),{format:f}=_Ce(s),p=V(()=>f(c.value||s.clearValue)),y=V({get(){return s.disabled||s.readonly?!1:a.value},set(Qe){a.value=Qe,rs(Qe?()=>{var Ge;return(Ge=o.value)==null?void 0:Ge.focus()}:()=>{var Ge;return(Ge=n.value)==null?void 0:Ge.focus()})}}),{isFocused:v,focus:C,blur:S,onFocus:_,onBlur:x}=nh(n),A=Qe=>{var Ge;if(s.disabled)return;const Ze=(Ge=Qe.target)==null?void 0:Ge.value;if(!Ze)return R();const ot=u(Ze);h.value&&ot?c.value=ot:(c.value=void 0,h.value=!0)},R=()=>j(()=>{r("update:modelValue",s.clearValue),r("clear"),ee(),Se()}),{computedError:O,computedErrorMessages:k,listeners:F,validationAriaAttributes:N,withoutValidation:j,resetValidation:ee,isDirty:K,isTouched:Q}=rh(s,r,{reset:R,focus:C,value:c});Ot(y,Qe=>{Qe||(Q.value=!0)});const{canBeCleared:be,clearIconProps:te,onFocus:ne,onBlur:H}=KT(s,p),ie=V(()=>be.value&&p.value!==f(s.clearValue)),ue=Gs(qH),Te=V(()=>({...ue.value,focused:v.value,error:O.value,errorMessages:k.value,readonly:s.readonly||!s.manualInput,modelValue:p.value})),Ie={seconds:1e3,minutes:1e3*60,hours:1e3*60*60},he=Qe=>{"key"in Qe&&(Qe.key==="ArrowDown"&&(c.value=new Date(Number(c.value)-Ie[s.view]),Qe.preventDefault()),Qe.key==="ArrowUp"&&(c.value=new Date(Number(c.value)+Ie[s.view]),Qe.preventDefault()))};NCe(n,{onStart:he,onUpdate:he});const Ee={onFocus:()=>{s.disabled||(_(),!s.readonly&&ne())},onBlur:()=>{s.disabled||(x(),!s.readonly&&(H(),F.onBlur()))}},Y=so(),Z=V(()=>{const Qe=[s.leftIcon&&"prependInner",(!s.leftIcon||s.clearable)&&"icon"];return Object.keys(Y).filter(Ge=>!Qe.includes(Ge))}),Se=()=>{y.value=!1},ye=(Qe,Ge,Ze)=>{y.value=!0},ke=Qe=>a.value?!1:s.disabled||s.readonly?!0:Qe===void 0?!1:s.manualInput&&(Qe==null?void 0:Qe.code)!=="Space",Oe=Qe=>{ke(Qe instanceof KeyboardEvent?Qe:void 0)||(y.value=!y.value)},He=V(()=>s.disabled?{}:s.manualInput?{cursor:"text"}:{cursor:"pointer"}),mt=V(()=>s.manualInput?s.disabled||s.readonly?-1:0:-1),we=V(()=>({role:"button","aria-hidden":!1,name:s.icon,color:"secondary",tabindex:mt.value})),{tp:de}=Hs();td();const pe=V(()=>({...l.value,innerAnchorSelector:".va-input-wrapper__field",trigger:["click","right-click","space","enter"]})),Ve=Gs(vs(X1));return t({isFocused:v,isValid:h,value:c,isDirty:K,isTouched:Q,focus:C,blur:S,reset:R,withoutValidation:j,resetValidation:ee,toggleDropdown:Oe,showDropdown:ye,hideDropdown:Se}),(Qe,Ge)=>(q(),nt(P(Pl),ut({modelValue:y.value,"onUpdate:modelValue":Ge[1]||(Ge[1]=Ze=>y.value=Ze),class:["va-time-input",Qe.$attrs.class],style:Qe.$attrs.style},pe.value),{anchor:tt(()=>[wt(P(ol),ut({class:"va-time-input__anchor",ref_key:"input",ref:n,style:He.value},{...Te.value,...P(N),...Ee},{onChange:A}),zs({icon:tt(()=>[ie.value?(q(),nt(P(ns),ut({key:0,class:"va-time-input__clear-button"},{...we.value,...P(te)},{"aria-label":P(de)(Qe.$props.ariaResetLabel),onClick:Dt(R,["stop"]),onKeydown:[xt(Dt(R,["stop"]),["enter"]),xt(Dt(R,["stop"]),["space"])]}),null,16,["aria-label","onKeydown"])):Le("",!0),!Qe.$props.leftIcon&&Qe.$props.icon?(q(),nt(P(ns),ut({key:1,class:"va-time-input__right-button va-time-input__side-button","aria-label":P(de)(Qe.$props.ariaToggleDropdownLabel)},we.value),null,16,["aria-label"])):Le("",!0)]),_:2},[si(Z.value,Ze=>({name:Ze,fn:tt(ot=>[Fe(Qe.$slots,Ze,Ft(Wt({...ot,toggleDropdown:Oe,showDropdown:ye,hideDropdown:Se,isOpen:P(a),focus:P(C)})))])})),Qe.$slots.prependInner||Qe.$props.leftIcon?{name:"prependInner",fn:tt(Ze=>[Fe(Qe.$slots,"prependInner",Ft(Wt({...Ze,toggleDropdown:Oe,showDropdown:ye,hideDropdown:Se,isOpen:P(a),focus:P(C)}))),Qe.$props.leftIcon?(q(),nt(P(ns),ut({key:0,class:"va-time-input__left-button va-time-input__side-button","aria-label":P(de)(Qe.$props.ariaToggleDropdownLabel)},we.value),null,16,["aria-label"])):Le("",!0)]),key:"0"}:void 0]),1040,["style"])]),default:tt(()=>[wt(P(xg),{"no-padding":"",onKeydown:[xt(Dt(Se,["prevent"]),["esc"]),xt(Dt(Se,["prevent"]),["enter"])]},{default:tt(()=>[wt(X1,ut({ref_key:"timePicker",ref:o},P(Ve),{modelValue:P(c),"onUpdate:modelValue":Ge[0]||(Ge[0]=Ze=>cs(c)?c.value=Ze:null)}),null,16,["modelValue"])]),_:1},8,["onKeydown"])]),_:3},16,["modelValue","class","style"]))}}),BCe=zt(VCe),QH=e=>e==null?void 0:e.props,JH=e=>{var t;return!!((t=e==null?void 0:e.props)!=null&&t.active)||!1},GCe=e=>e.type===kt,HCe=e=>e&&e.length===0;function $Ce(e){var t;const i=(t=e.default)==null?void 0:t.call(e);return!i||HCe(i)?[]:GCe(i[0])?i[0].children:i}const WCe=e=>{const t=$Ce(e.slots);return t.forEach((i,s)=>{QH(i)||(i.props={});const r=QH(i);r.vertical=e.props.vertical,e.props.centered&&(r.inverted=!!(s%2)),s===0&&(r.isFirst=!0),s===t.length-1&&(r.isLast=!0);const n=r.active;if(!n)return;s===0&&(r.activePrevious=n),s===t.length-1&&(r.activeNext=n),JH(t[s-1])&&(r.activePrevious=!0),JH(t[s+1])&&(r.activeNext=!0)}),t},e1="va-timeline",UCe={name:e1,props:{...hi,vertical:{type:Boolean},centered:{type:Boolean},alignTop:{type:Boolean}},setup(e,{slots:t}){return()=>ji("div",{class:{[e1]:!0,[`${e1}--vertical`]:e.vertical,[`${e1}--align-top`]:e.alignTop}},WCe({props:e,slots:t}))}},zCe=zt(UCe),vd="va-timeline-separator",jCe=dt({name:vd,props:{...hi,color:{type:String,default:"primary"},vertical:{type:Boolean},active:{type:Boolean},activePrevious:{type:Boolean},activeNext:{type:Boolean}},setup(e){const{getColor:t}=xi();return()=>ji("div",{class:{[vd]:!0,[`${vd}--vertical`]:e.vertical}},[ji("div",{class:{[`${vd}__line`]:!0,[`${vd}__line--active`]:e.activePrevious},style:{backgroundColor:t(e.activePrevious?e.color:"divider")}}),ji("div",{class:{[`${vd}__center`]:!0,[`${vd}__center--active`]:e.active},style:{backgroundColor:t(e.active?e.color:"divider")}}),ji("div",{class:{[`${vd}__line`]:!0,[`${vd}__line--active`]:e.activeNext},style:{backgroundColor:t(e.activeNext?e.color:"divider")}})])}}),T9=zt(jCe),yp="va-timeline-item",ZH=vs(T9),KCe=dt({name:yp,props:{...hi,...ZH,color:{type:String,default:"primary"},isFirst:{type:Boolean},isLast:{type:Boolean},inverted:{type:Boolean}},setup(e,{slots:t}){const i=[ji(T9,{...Gs(ZH).value})],s=e.inverted?t.after:t.before;s&&i.unshift(ji("div",{class:`${yp}__before`},s()));const r=e.inverted?t.before:t.after;return r&&i.push(ji("div",{class:`${yp}__after`},r())),()=>ji("div",{class:[{[yp]:!0},{[`${yp}--vertical`]:e.vertical},{[`${yp}--is-first`]:e.isFirst},{[`${yp}--is-last`]:e.isLast}]},i)}}),YCe=zt(KCe),XCe=zt(X1),qCe={nodes:{type:Array,default:[]},stateful:{type:Boolean,default:!0},selectable:{type:Boolean,default:!1},selectionType:{type:String,default:"leaf",validator:e=>["leaf","independent"].includes(e)},valueBy:{type:[String,Function],default:"id"},textBy:{type:[String,Function],default:"label"},trackBy:{type:[String,Function],default:"id"},iconBy:{type:[String,Function],default:"icon"},disabledBy:{type:[String,Function],default:"disabled"},expandedBy:{type:[String,Function],default:"expanded"},checkedBy:{type:[String,Function],default:"checked"},childrenBy:{type:[String,Function],default:"children"},expandAll:{type:Boolean,default:!1},expanded:{type:Array,default:[]},expandNodeBy:{type:String,default:"leaf"},filter:{type:String,default:""},filterMethod:{type:Function,default:void 0},checked:{type:Array,default:[]},color:{type:String,default:"primary"}},QCe=["update:modelValue","update:checked","update:expanded","update:selected"],JCe=e=>{const t=f=>{const p=typeof f;return p==="string"||p==="number"},i=(f,p)=>!p||t(f)?f:H7(f,p),s=f=>i(f,e.valueBy),r=f=>e.valueBy&&e.nodes.find(p=>f===s(p))||f,n=f=>i(f,e.textBy),o=f=>i(f,e.checkedBy),a=f=>i(f,e.disabledBy),l=f=>i(f,e.expandedBy),c=f=>i(f,e.trackBy),u=f=>i(f,e.childrenBy)??[],h=(f,p)=>{f.forEach(y=>{const v=y.children||[];v.length&&h(v,p),p(y)})};return{getText:n,getValue:s,getChecked:o,getTrackBy:c,getChildren:u,getDisabled:a,getExpanded:l,iterateNodes:h,getNodeByValue:r,getNodeProperty:i}},A9=Symbol("TreeView"),ZCe=(e,t)=>{const{emit:i,toggleNode:s,toggleCheckbox:r}=t,n=C=>(C==null?void 0:C.getAttribute("aria-expanded"))==="true",o=C=>{var S;return((S=C==null?void 0:C.parentElement)==null?void 0:S.closest(".va-tree-node"))||null},a=C=>C==null?void 0:C.previousElementSibling,l=C=>{if(!C)return null;let S=a(C),_=n(S)&&f(S);if(_)do if(n(_)){if(_=f(_),_)continue;break}else{S=_;break}while(!0);return S||o(C)},c=C=>C==null?void 0:C.nextElementSibling,u=C=>{if(!C)return null;let S=c(C);const _=n(C);if(!S){let x=o(C);do if(c(x)){S=c(x);break}else{if(x=o(x),x)continue;break}while(!0)}return _?h(C):S},h=C=>{var S;return((S=C==null?void 0:C.querySelector(".va-tree-node-children"))==null?void 0:S.firstElementChild)||null},f=C=>{var S;return((S=C==null?void 0:C.querySelector(".va-tree-node-children"))==null?void 0:S.lastElementChild)||null},p=(C,S,_)=>{var x,A;const R=n(C);S==="left"?R?s(_):(x=o(C))==null||x.focus():R?(A=h(C))==null||A.focus():s(_)},y=(C,S)=>{var _,x;S==="up"?(_=l(C))==null||_.focus():(x=u(C))==null||x.focus()};return{handleKeyboardNavigation:(C,S)=>{const _=C.target;switch(C.code){case"ArrowUp":y(_,"up");break;case"ArrowRight":p(_,"right",S);break;case"ArrowDown":y(_,"down");break;case"ArrowLeft":p(_,"left",S);break;case"Space":if(e.selectable){const x=typeof S.checked<"u"?!S.checked:null;r(S,x)}else i("update:selected",S);break;case"Escape":e.selectable||i("update:selected",null),_.blur();break;default:_.blur()}}}},ebe=ZCe,tbe=(e,t)=>{const{getColor:i}=xi(),s=V(()=>i(e.color)),r=V(()=>e.selectionType==="leaf"),{getText:n,getValue:o,getChecked:a,getTrackBy:l,getChildren:c,getDisabled:u,getExpanded:h,iterateNodes:f,getNodeProperty:p}=JCe(e),{nodes:y,expandAll:v,filter:C,filterMethod:S,textBy:_}=Il(e),{valueComputed:x}=mr(e,t,"expanded"),{valueComputed:A}=mr(e,t,"checked"),R=We(),O=V({get:()=>R.value,set:H=>{const ie=o(H);R.value!==ie&&(R.value=ie,t("update:selected",H))}}),k=(H,ie,ue)=>{ue?H.value=H.value.concat(ie).filter((Te,Ie,he)=>he.indexOf(Te)===Ie):H.value=H.value.filter(Te=>!ie.includes(Te))},F=(H,ie)=>{let ue=ie===null?!0:ie;ie&&H.indeterminate&&(ue=!1);const Te=[o(H)];if(r.value&&H.hasChildren){const Ie=he=>{he.forEach(Ee=>{if(Ee.disabled)return;const Y=c(Ee);Y.length&&Ie(Y),Te.push(o(Ee))})};Ie(c(H))}k(A,Te,ue)},N=H=>{H.expanded=!H.expanded},j=({node:H,level:ie,children:ue=[],computedFilterMethod:Te})=>{var Ie;const he=o(H);let Ee=!0;const Y=!!ue.length;let Z=!1,Se=A.value.includes(he)||!1;if(r.value&&Y){const ye=ue.every(ke=>ke.checked);Se=ye,Z=!ye&&ue.some(ke=>ke.indeterminate||ke.checked),Z&&(Se=null)}return C.value&&(Ee=(ue==null?void 0:ue.some(ye=>ye.matchesFilter))||((Ie=Te.value)==null?void 0:Ie.call(Te,H,C.value,_.value))),{...H,level:ie,checked:Se,children:ue,get disabled(){return u(H)||!1},get expanded(){const ye=e.expandedBy;return ye in H?H[ye]:x.value.includes(he)||!1},set expanded(ye){const ke=e.expandedBy;H[ke]=ye,Y&&k(x,[o(H)],ye)},hasChildren:Y,matchesFilter:Ee,indeterminate:Z}},ee=V(()=>S!=null&&S.value?S.value:(H,ie)=>n(H).toLowerCase().includes(ie.toLowerCase())),K=(H,ie=0)=>H.map(ue=>{const Te=c(ue);if(Te.length){const Ie=K(Te,ie+1);return j({node:ue,level:ie,children:Ie,computedFilterMethod:ee})}return j({node:ue,level:ie,computedFilterMethod:ee})}),Q=H=>H.filter(ie=>(ie.children&&(ie.children=Q(ie.children)),ie.children.length===0&&(ie.hasChildren=!1),ie.matchesFilter)),{handleKeyboardNavigation:be}=ebe(e,{emit:t,toggleCheckbox:F,toggleNode:N});la(A9,{selectedNodeComputed:O,colorComputed:s,iconBy:e.iconBy,selectable:e.selectable,expandNodeBy:e.expandNodeBy,getText:n,getValue:o,getTrackBy:l,toggleNode:N,toggleCheckbox:F,getNodeProperty:p,handleKeyboardNavigation:be});const te=V(()=>K(y.value));return(()=>{const H=[],ie=[];f(y.value,ue=>{(v.value||h(ue))&&H.push(o(ue)),a(ue)&&ie.push(o(ue))}),H.length&&k(x,H,!0),ie.length&&k(A,ie,!0)})(),{treeItems:V(()=>Q(te.value)),getText:n,getTrackBy:l,toggleCheckbox:F}},ibe=tbe,sbe=["role","aria-expanded","aria-disabled","aria-checked","tabindex"],rbe={class:"va-tree-node-root"},nbe={key:2,class:"va-tree-node-content__item"},obe=["aria-hidden"],abe="The VaTreeNode component should be used in the context of VaTreeView component",lbe=dt({name:"VaTreeNode",__name:"VaTreeNode",props:{node:{type:Object,required:!0}},setup(e){const t=e,{iconBy:i,selectable:s,expandNodeBy:r,colorComputed:n,selectedNodeComputed:o,getText:a,getTrackBy:l,toggleNode:c,toggleCheckbox:u,getNodeProperty:h,handleKeyboardNavigation:f}=tS(A9,abe),p=V(()=>a(t.node)||""),y=V(()=>t.node.hasChildren?!!t.node.expanded:void 0),v=V(()=>h(t.node,i)),C=V(()=>t.node.hasChildren?"group":"treeitem"),S=Is("va-tree-node",()=>({disabled:!!t.node.disabled,checked:!!t.node.checked,hasChildren:!!t.node.hasChildren,[`level-${t.node.level}`]:!0,[`expand-by-${r}`]:!0})),_=Is("va-tree-node-children",()=>({expanded:!!y.value})),x=Is("va-tree-node-content",()=>({indent:t.node.hasChildren===!1})),A=Is("va-tree-node-content",()=>({clickable:t.node.hasChildren===!0&&r==="node"})),R=V(()=>t.node.disabled?-1:0),O=k=>{r===(r==="node"&&k==="leaf"?"node":k)&&c(t.node),o.value=t.node};return(k,F)=>{const N=xn("va-tree-node",!0);return q(),ve("div",{class:Et(["va-tree-node",P(S)]),role:C.value,"aria-expanded":y.value,"aria-disabled":k.$props.node.disabled,"aria-checked":!!k.$props.node.checked,tabindex:R.value,onKeydown:[F[4]||(F[4]=xt(Dt(j=>P(f)(j,k.$props.node),["stop","prevent"]),["up"])),F[5]||(F[5]=xt(Dt(j=>P(f)(j,k.$props.node),["stop","prevent"]),["right"])),F[6]||(F[6]=xt(Dt(j=>P(f)(j,k.$props.node),["stop","prevent"]),["down"])),F[7]||(F[7]=xt(Dt(j=>P(f)(j,k.$props.node),["stop","prevent"]),["left"])),F[8]||(F[8]=xt(Dt(j=>P(f)(j,k.$props.node),["stop","prevent"]),["space"])),F[9]||(F[9]=xt(Dt(j=>P(f)(j,k.$props.node),["stop","prevent"]),["esc"]))]},[me("div",rbe,[me("div",{class:Et(["va-tree-node-content",P(x)]),onClick:F[3]||(F[3]=j=>O("node"))},[k.$props.node.hasChildren?(q(),ve("div",{key:0,class:"va-tree-node-content__item va-tree-node-content__item--leaf",onClick:F[0]||(F[0]=Dt(j=>O("leaf"),["stop"]))},[Fe(k.$slots,"icon-toggle",Ft(Wt(k.$props.node)),()=>[wt(P(ns),{name:y.value?"keyboard_arrow_down":"keyboard_arrow_right",size:"20px"},null,8,["name"])])])):Le("",!0),P(s)?(q(),ve("div",{key:1,class:"va-tree-node-content__item",onClick:F[2]||(F[2]=Dt(()=>{},["stop"]))},[Fe(k.$slots,"checkbox",Ft(Wt(k.$props.node)),()=>[wt(P(Jw),{"model-value":k.$props.node.checked,color:P(n),indeterminate:"","onUpdate:modelValue":F[1]||(F[1]=j=>P(u)(k.$props.node,j)),class:"va-tree-node__checkbox"},null,8,["model-value","color"])])])):Le("",!0),v.value?(q(),ve("div",nbe,[Fe(k.$slots,"icon",Ft(Wt(k.$props.node)),()=>[wt(P(ns),{name:v.value,size:"small"},null,8,["name"])])])):Le("",!0),me("div",{class:Et(["va-tree-node-content__body",P(A)])},[Fe(k.$slots,"content",Ft(Wt(k.$props.node)),()=>[oi(Mt(p.value),1)])],2)],2)]),Ss(me("div",{"aria-hidden":!k.$props.node.expanded,class:Et(["va-tree-node-children",P(_)])},[(q(!0),ve(kt,null,si(k.$props.node.children,j=>(q(),nt(N,{key:P(l)(j),node:j},zs({_:2},[si(k.$slots,(ee,K)=>({name:K,fn:tt(Q=>[Fe(k.$slots,K,Ft(Wt(Q)))])}))]),1032,["node"]))),128))],10,obe),[[or,k.$props.node.hasChildren]])],42,sbe)}}}),cbe=zt(lbe),ube={class:"va-tree-view",role:"tree"},dbe=dt({name:"VaTreeView",__name:"VaTreeView",props:{...qCe},emits:[...QCe],setup(e,{emit:t}){const i=e,s=t,{treeItems:r,getTrackBy:n}=ibe(i,s);return(o,a)=>(q(),ve("div",ube,[o.$props.filter&&!P(r).length?Fe(o.$slots,"not-found",{key:0},()=>[oi("No matching nodes found")]):(q(!0),ve(kt,{key:1},si(P(r),l=>(q(),nt(P(cbe),{key:P(n)(l),node:l},zs({_:2},[si(o.$slots,(c,u)=>({name:u,fn:tt(h=>[Fe(o.$slots,u,Ft(Wt(h)))])}))]),1032,["node"]))),128))]))}}),hbe=zt(dbe),fbe={class:"va-scroll-container__content"},pbe=dt({name:"VaScrollContainer",__name:"VaScrollContainer",props:{...Jg,vertical:{type:Boolean,default:!1},horizontal:{type:Boolean,default:!1},color:{type:String,default:"secondary"},rtl:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1},sizesConfig:{type:Object,default:()=>({defaultSize:4,sizes:{small:4,medium:6,large:8}})},size:{type:String,default:"small",validator:e=>["small","medium","large"].includes(e)}},setup(e){const t=e,{getColor:i}=xi(),{sizeComputed:s}=Zg(t),r=V(()=>t.horizontal?"auto":"hidden"),n=V(()=>t.vertical?"auto":"hidden"),o=V(()=>{const c=i(t.color);return t.gradient?`linear-gradient(0deg, var(--va-scroll-container-scrollbar-gradient-to) 0%, ${c} 100%)`:c}),a=V(()=>s.value),l=V(()=>t.rtl?"rtl":"ltr");return(c,u)=>(q(),ve("div",{class:"va-scroll-container",style:St(`--va-scroll-color: ${String(o.value)};--va-scrollbar-size: ${String(a.value)};--va-overflow-x: ${String(r.value)};--va-overflow-y: ${String(n.value)};--va-scrollbar-position: ${String(l.value)}`)},[me("div",fbe,[Fe(c.$slots,"default")])],4))}}),gbe=zt(pbe),mbe={class:"va-viewer-content"},vbe=dt({name:"VaViewer",inheritAttrs:!1,__name:"VaViewer",setup(e,{expose:t}){const i=We(),s=We(),r=jw(),n=We(!0),o=V(()=>r.value&&!n.value),a=()=>n.value=!1,l=()=>n.value=!0,c=so(),u=()=>{c.anchor||a()};GT([i,s],l);const h=im(),f=V(()=>{var p;return(p=h.value)==null?void 0:p.body});return t({openViewer:a,closeViewer:l}),(p,y)=>(q(),ve(kt,null,[me("div",ut({class:"va-viewer"},p.$attrs,{onClick:u}),[Fe(p.$slots,"anchor",Ft(Wt({openViewer:a}))),p.$slots.anchor?Le("",!0):Fe(p.$slots,"default",{key:0})],16),o.value?(q(),nt(mf,{key:0,to:f.value},[me("div",mbe,[me("div",{ref_key:"content",ref:i,class:"va-viewer-content__main-area"},[p.$slots.image?Le("",!0):Fe(p.$slots,"default",{key:0}),Fe(p.$slots,"image")],512),me("div",{ref_key:"controls",ref:s,class:"va-viewer-content__controls-panel"},[Fe(p.$slots,"controls"),Fe(p.$slots,"close",Ft(Wt({close:l})),()=>[me("button",{class:"va-viewer-content__close-button",onClick:l},[wt(P(ns),{name:"close",color:"backgroundPrimary"})])])],512)])],8,["to"])):Le("",!0)],64))}}),ybe=zt(vbe),Cbe=dt({name:"VaValue",props:{defaultValue:{type:null,required:!1,default:!1}},setup(e,{slots:t}){const i=We(e.defaultValue),s=new Proxy(i,{get(r,n){return n==="value"?r.value:r[n]},set(r,n,o){return n==="value"&&(r.value=o),!0}});return()=>ji(kt,[W5(t.default,s)])}}),bbe=zt(Cbe),wbe=e=>{const t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="auto";const{font:i}=window.getComputedStyle(e);return t.style.font=i,t.textContent="Vuestic",t.style.zIndex="-1",t.style.pointerEvents="none",t.style.opacity="0",t.ariaHidden="true",t.innerText=e.value,t},Sbe=(e,t)=>{const i=We(),s=We();return Ot(e,r=>{var n,o;r&&(i.value=wbe(r),(o=(n=e.value)==null?void 0:n.parentElement)==null||o.appendChild(i.value))}),bg(i,r=>{!r||!e.value||(s.value=r[0].contentRect.height)}),Ot(t,r=>{i.value&&(i.value.innerText=String(r),i.value.innerHTML+="&nbsp;;")}),s},xbe=["rows","loading","ariaLabel"],e4=e=>{if(e>0)return!0;throw new Error(`\`minRows|maxRows\` must be a positive integer greater than 0, but ${e} is provided`)},{createEmits:Ebe,createListeners:_be}=nm(["input","change","click","update:modelValue"]),t4=vs(ol),Tbe=dt({name:"VaTextarea",__name:"VaTextarea",props:{...Vf,...t4,...dn,...sh,modelValue:{type:[String,Number],default:""},placeholder:{type:String},autosize:{type:Boolean,default:!1},minRows:{type:[Number,String],default:1,validator:e4},maxRows:{type:[Number,String],validator:e4},resize:{type:Boolean,default:!0},clearValue:{type:[String],default:""}},emits:[...Ebe(),...If],setup(e,{expose:t,emit:i}){const s=e,r=i,n=td(),o=vi(),{valueComputed:a}=mr(s,r,"modelValue",{defaultValue:""}),l=()=>{Ou(o.value)},c=()=>{VT(o.value)},u=()=>x(()=>{r("update:modelValue",s.clearValue),r("clear"),_()}),{isDirty:h,isTouched:f,computedError:p,computedErrorMessages:y,listeners:v,validationAriaAttributes:C,isLoading:S,resetValidation:_,withoutValidation:x}=rh(s,r,{value:a,focus:l,reset:u}),A=V(()=>s.resize&&!s.autosize),R=We(s.minRows),O=Sbe(o,a);function k(){let Q=parseFloat(String(s.minRows)),be=parseFloat(String(s.maxRows));if(Q=isNaN(Q)?1:Q,be=isNaN(be)?1/0:be,!s.autosize){R.value=Math.max(be,Math.min(Q,be??0));return}if(!O.value||!o.value)return;const te=getComputedStyle(o.value),ne=O.value,H=parseFloat(te.lineHeight),ie=Math.max(Q*H,Q+Math.round(H)),ue=be*H||1/0,Te=Math.max(ie,Math.min(ue,ne??0));R.value=Math.round(Te/H),o.value.style.height=`${Te+1}px`}Fa(()=>{k()});const F=V(()=>({resize:A.value?void 0:"none"})),N=V(()=>({...xr(s,["disabled","readonly","placeholder","name"])})),j=V(()=>({...C.value,...zu(n,["class","style"])})),ee=Gs(t4),K=_be(r);return t({isDirty:h,isTouched:f,isLoading:S,computedError:p,computedErrorMessages:y,reset:u,focus:l,blur:c,value:a,withoutValidation:x,resetValidation:_}),(Q,be)=>(q(),nt(P(ol),ut({class:"va-textarea"},P(ee),{error:P(p),"error-messages":P(y)}),{default:tt(()=>[me("div",{class:Et(["va-textarea__resize-wrapper",{"va-textarea__resize-wrapper--resizable":A.value}])},[Ss(me("textarea",ut({"onUpdate:modelValue":be[0]||(be[0]=te=>cs(a)?a.value=te:null)},{...N.value,...P(K),...j.value,...P(v)},{class:["va-textarea__textarea",{"va-textarea__textarea--autosize":e.autosize}],ref_key:"textarea",ref:o,rows:R.value,style:F.value,loading:P(S),ariaLabel:Q.$props.label}),null,16,xbe),[[yf,P(a)]])],2)]),_:1},16,["error","error-messages"]))}}),Abe=th(Tbe),i4='[role="menuitem"]:not([aria-disabled="true"])',kbe='[role="menuitem"]:focus',Dbe=e=>({role:"menuitem",tabindex:-1,"aria-disabled":!!e.disabled}),Rbe=()=>({role:"menu",tabindex:0}),Pbe=e=>{cr("keydown",({key:t})=>{if(!e.value)return;const i=e.value.querySelectorAll(i4),s=e.value.querySelector(kbe);if(i.length){if(!s){const r=e.value.querySelector(i4);r&&Ou(r);return}if(t==="ArrowDown"||t==="ArrowRight"){const r=Array.from(i).indexOf(s);Ou(i[r+1])}if(t==="ArrowUp"||t==="ArrowLeft"){const r=Array.from(i).indexOf(s);Ou(i[r-1])}}},e)},Fbe={class:"va-menu-item__cell va-menu-item__cell--left"},Mbe={class:"va-menu-item__cell va-menu-item__cell--center"},Lbe={class:"va-menu-item__content"},Obe={class:"va-menu-item__cell va-menu-item__cell--right"},k9=dt({name:"VaMenuItem",__name:"VaMenuItem",props:{name:{type:String,default:""},icon:{type:String,defatult:""},rightIcon:{type:String,defatult:""},disabled:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const{hasKeyboardFocus:i,keyboardFocusListeners:s}=cpe();return(r,n)=>(q(),ve("tr",ut({class:"va-menu-item"},P(Dbe)({disabled:e.disabled}),Ta(P(s),!0),{class:{"va-menu-item--disabled":e.disabled,"va-menu-item--keyboard-focus":P(i)},onClick:n[0]||(n[0]=o=>r.$emit("selected")),onKeydown:n[1]||(n[1]=xt(o=>r.$emit("selected"),["enter","space"]))}),[me("td",Fbe,[Fe(r.$slots,"left-icon",{},()=>[e.icon?(q(),nt(P(ns),{key:0,class:"va-menu-item__icon--left",name:e.icon},null,8,["name"])):Le("",!0)])]),me("td",Mbe,[Fe(r.$slots,"default",{},()=>[me("a",Lbe,Mt(e.name),1)])]),me("td",Obe,[Fe(r.$slots,"right-icon",{},()=>[e.rightIcon?(q(),nt(P(ns),{key:0,class:"va-menu-item__icon--right",name:e.rightIcon},null,8,["name"])):Le("",!0)])])],16))}}),Ibe={class:"va-menu-list__group-name"},Nbe=dt({name:"VaMenuGroup",__name:"VaMenuGroup",props:{groupName:{type:String,required:!0},color:{type:String,default:"secondary"}},setup(e){const t=e,{getColor:i}=xi(),s=V(()=>i(t.color));return(r,n)=>(q(),ve(kt,null,[me("div",{class:"va-menu-list__group-name-wrapper",colspan:"99999",style:St(`--va-color-computed: ${String(s.value)}`)},[me("span",Ibe,Mt(e.groupName),1)],4),Fe(r.$slots,"default",{style:St(`--va-color-computed: ${String(s.value)}`)},void 0,!0)],64))}}),D9=om(Nbe,[["__scopeId","data-v-4dd1ae9a"]]),Vbe={colspan:"9999"},Bbe=dt({name:"VaMenuList",__name:"VaMenuList",props:{...$0,options:{type:Array,default:()=>[]}},emits:["selected"],setup(e,{emit:t}){const i=e,s=We();Pbe(s);const{getText:r,getValue:n,getDisabled:o,getGroupBy:a,getTrackBy:l}=W0(i),c=V(()=>i.options.reduce((p,y)=>{const v=a(y);return v?(p[v]||(p[v]=[]),p[v].push(y)):p._noGroup.push(y),p},{_noGroup:[]})),u=p=>Array.isArray(p)&&p[0].type===kt?p[0].children:p,h=p=>typeof p.type=="object"&&"name"in p.type&&typeof p.type.name=="string"?p.type.name:"",f=p=>typeof p.type=="string"?p.type:typeof p.type=="object"&&"name"in p.type&&typeof p.type.name=="string"?p.type.name:String(p.key);return(p,y)=>(q(),ve("table",ut({class:"va-menu-list",ref_key:"container",ref:s},P(Rbe)()),[me("tbody",null,[p.$slots.default?(q(!0),ve(kt,{key:0},si(u(p.$slots.default()),v=>(q(),ve(kt,null,[h(v)==="VaMenuItem"?(q(),nt(io(v),{key:f(v)+"menuitem"})):h(v)==="VaDropdown"?(q(),nt(io(v),{key:f(v)+"menu-dropdown"})):(q(),ve("td",{colspan:"999",key:f(v),class:"va-menu-list__virtual-td"},[(q(),nt(io(v)))]))],64))),256)):Fe(p.$slots,"default",{key:1},()=>[(q(!0),ve(kt,null,si(c.value,(v,C)=>(q(),ve(kt,{key:C},[C!=="_noGroup"?Fe(p.$slots,"group",{key:0},()=>[me("tr",null,[me("td",Vbe,[wt(D9,{"group-name":C},null,8,["group-name"])])])]):Le("",!0),(q(!0),ve(kt,null,si(v,S=>(q(),nt(k9,{key:P(l)(S),name:P(r)(S),icon:S.icon,"right-icon":S.rightIcon,disabled:P(o)(S),onSelected:_=>p.$emit("selected",P(n)(S),S)},{"left-icon":tt(_=>[Fe(p.$slots,"left-icon",Ft(Wt(_)))]),"right-icon":tt(_=>[Fe(p.$slots,"right-icon",Ft(Wt(_)))]),_:2},1032,["name","icon","right-icon","disabled","onSelected"]))),128))],64))),128))])])],16))}}),ZT=th(Bbe),Gbe=th(k9),Hbe=th(D9),$be=e=>{Fa(()=>{e.value&&rs(()=>{Ou(Nr(e.value))})})},s4=vs(ZT),Wbe=Hp(ZT),r4=vs(Pl),Ube=Hp(Pl),zbe=dt({name:"VaMenu",__name:"VaMenu",props:{...hi,...s4,...r4,stickToEdges:{type:Boolean,default:!0}},emits:[...Ube,...Wbe],setup(e,{expose:t,emit:i}){const s=We(),r=We();$be(s);const n=()=>{var c;(c=r.value)==null||c.hide(),rs(()=>{var u;const h=Nr((u=r.value)==null?void 0:u.anchorRef);h&&vF(h)})},o=c=>{c.key==="Escape"&&n(),(c.key==="ArrowDown"||c.key==="ArrowUp")&&c.preventDefault()},a=Gs(s4),l=Gs(r4);return t({close:n}),(c,u)=>(q(),nt(P(Pl),ut(P(l),{ref_key:"dropdown",ref:r}),{anchor:tt(()=>[Fe(c.$slots,"anchor")]),default:tt(()=>[wt(P(xg),{onKeydown:o},{default:tt(()=>[wt(P(ZT),ut({onKeydown:u[0]||(u[0]=xt(Dt(()=>{},["prevent","stop"]),["enter","space"]))},P(a),{ref_key:"menuList",ref:s,onSelected:u[1]||(u[1]=h=>{c.$emit("selected",h),n()})}),zs({_:2},[c.$slots.default?{name:"default",fn:tt(()=>[Fe(c.$slots,"default")]),key:"0"}:void 0]),1040)]),_:3})]),_:3},16))}}),jbe=th(zbe),Kbe={rules:()=>[],dirty:!1,errorCount:1,success:!1,messages:()=>[],immediateValidation:!1},Ybe={stateful:!1},Xbe=dt({__name:"VaFormField",props:_L({stateful:{type:Boolean},modelValue:{},name:{},rules:{},dirty:{type:Boolean},error:{type:Boolean},errorMessages:{},errorCount:{},success:{type:Boolean},messages:{},immediateValidation:{type:Boolean},clearValue:{}},{...Ybe,...Kbe}),emits:["update:error","update:errorMessages","update:dirty","update:modelValue"],setup(e,{emit:t}){const i=e,s=t,{valueComputed:r}=mr(i,s,"modelValue"),n=()=>{r.value=i.clearValue},o=()=>{},{computedError:a,computedErrorMessages:l,validate:c,isDirty:u,isLoading:h,isValid:f,resetValidation:p,validationAriaAttributes:y,listeners:v}=rh(i,s,{reset:n,focus:o,value:r}),C=V(()=>a.value?l.value:i.messages),S=V(()=>f.value?i.success?"success":"":"danger"),_=V(()=>i.error?Number(i.errorCount):99),x=We(r.value);Fa(()=>{x.value=r.value});const A=()=>new Proxy(x,{get(R,O){return O==="ref"?x.value:Reflect.get(R,O)},set(R,O,k){return O==="ref"?(x.value=k,r.value=k,!0):Reflect.set(r,O,k)}});return(R,O)=>(q(),nt(P(OT),{"model-value":C.value,"has-error":!P(f),color:S.value,limit:_.value},zs({default:tt(({ariaAttributes:k,attrs:F})=>[Fe(R.$slots,"default",Ft(Wt({error:P(a),errorMessages:C.value,messages:C.value,validate:P(c),isDirty:P(u),isLoading:P(h),isValid:P(f),resetValidation:P(p),validationAriaAttributes:P(y),...P(v),value:A(),modelValue:A(),ariaAttributes:k,bind:{...F,...k,...P(v)}})))]),_:2},[si(["message","messages"],k=>({name:k,fn:tt(F=>[Fe(R.$slots,k,Ft(Wt(F)))])}))]),1032,["model-value","has-error","color","limit"]))}}),qbe=th(Xbe),Qbe=Object.freeze(Object.defineProperty({__proto__:null,VaAccordion:mde,VaAffix:Sde,VaAlert:Ade,VaAppBar:Rde,VaAspectRatio:y7,VaAvatar:qE,VaAvatarGroup:Bde,VaBacktop:$de,VaBadge:T7,VaBreadcrumbs:lhe,VaBreadcrumbsItem:ahe,VaButton:ps,VaButtonDropdown:Sfe,VaButtonGroup:HT,VaButtonToggle:Efe,VaCard:Ife,VaCardActions:Lfe,VaCardBlock:Ofe,VaCardContent:Ffe,VaCardTitle:Mfe,VaCarousel:ape,VaCheckbox:Jw,VaChip:gpe,VaCollapse:bpe,VaColorIndicator:NO,VaColorInput:jpe,VaColorPalette:Xpe,VaConfig:zw,VaContent:ege,VaCounter:cge,VaDataTable:cme,VaDateInput:Gme,VaDatePicker:Hme,VaDivider:l9,VaDropdown:Pl,VaDropdownContent:xg,VaFallback:i0,VaFileUpload:xve,VaForm:kve,VaFormField:qbe,VaHover:j1,VaIcon:ns,VaImage:MO,VaInfiniteScroll:Mve,VaInnerLoading:i9,VaInput:BO,VaInputWrapper:ol,VaLayout:Yve,VaList:c9,VaListItem:QT,VaListItemLabel:Jme,VaListItemSection:o0,VaListLabel:Qme,VaListSeparator:Zme,VaMenu:jbe,VaMenuGroup:Hbe,VaMenuItem:Gbe,VaMenuList:ZT,VaMessageList:OT,VaModal:xO,VaNavbar:s0e,VaNavbarItem:r0e,VaOptionList:v0e,VaPagination:S0e,VaParallax:k0e,VaPopover:L0e,VaProgressBar:u9,VaProgressCircle:G0,VaRadio:v9,VaRating:H0e,VaScrollContainer:gbe,VaSelect:wye,VaSeparator:$ce,VaSidebar:Pye,VaSidebarItem:Bye,VaSidebarItemContent:Nye,VaSidebarItemTitle:Vye,VaSkeleton:Tye,VaSkeletonGroup:Aye,VaSlider:Xye,VaSpacer:Uce,VaSplit:tCe,VaStepper:bCe,VaStickyScrollbar:Yce,VaSwitch:y9,VaTab:hCe,VaTabs:lCe,VaTextarea:Abe,VaTimeInput:BCe,VaTimePicker:XCe,VaTimeline:zCe,VaTimelineItem:YCe,VaToast:q5,VaTreeView:hbe,VaValue:bbe,VaViewer:ybe,VaVirtualScroller:YT},Symbol.toStringTag,{value:"Module"})),Jbe=e=>typeof e=="function",Nh=(e,t,...i)=>{Jbe(t)?e.use(t(...i)):e.use(t)},Zbe=ih((e={})=>({install(t){const{config:i}=e;EG(t),Object.entries(Qbe).forEach(([s,r])=>{t.component(s,r)}),Nh(t,sue(i)),Nh(t,pce),Nh(t,oue(i)),Nh(t,dde),Nh(t,uue),Nh(t,Pue),Nh(t,Rue),Nh(t,cde),EG(null)}})),ewe=()=>{const e=Di();return V(()=>{var t;return((t=dO())==null?void 0:t._context)||(e==null?void 0:e.appContext)})},R9=()=>{const e=ewe(),t=[],i=a=>{const l=J5(a,e.value);return l&&t.push(l),l};return{init:a=>i(a),notify:i,close:a=>mF(a),closeAll:(a=!1)=>Q5(a?void 0:e.value),closeAllCreatedInThisHook:()=>{t.forEach(a=>mF(a))}}};function twe(){return P9().__VUE_DEVTOOLS_GLOBAL_HOOK__}function P9(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const iwe=typeof Proxy=="function",swe="devtools-plugin:setup",rwe="plugin:settings:set";let tv,EF;function nwe(){var e;return tv!==void 0||(typeof window<"u"&&window.performance?(tv=!0,EF=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(tv=!0,EF=globalThis.perf_hooks.performance):tv=!1),tv}function owe(){return nwe()?EF.now():Date.now()}class awe{constructor(t,i){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=i;const s={};if(t.settings)for(const o in t.settings){const a=t.settings[o];s[o]=a.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let n=Object.assign({},s);try{const o=localStorage.getItem(r),a=JSON.parse(o);Object.assign(n,a)}catch{}this.fallbacks={getSettings(){return n},setSettings(o){try{localStorage.setItem(r,JSON.stringify(o))}catch{}n=o},now(){return owe()}},i&&i.on(rwe,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const i of this.onQueue)this.target.on[i.method](...i.args);for(const i of this.targetQueue)i.resolve(await this.target[i.method](...i.args))}}function lwe(e,t){const i=e,s=P9(),r=twe(),n=iwe&&i.enableEarlyProxy;if(r&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!n))r.emit(swe,e,t);else{const o=n?new awe(i,r):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:i,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var F9="store";function cwe(e){return e===void 0&&(e=null),Xr(e!==null?e:F9)}function j0(e,t){Object.keys(e).forEach(function(i){return t(e[i],i)})}function uwe(e){return e!==null&&typeof e=="object"}function dwe(e){return e&&typeof e.then=="function"}function hwe(e,t){return function(){return e(t)}}function M9(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var s=t.indexOf(e);s>-1&&t.splice(s,1)}}function L9(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;eA(e,i,[],e._modules.root,!0),YO(e,i,t)}function YO(e,t,i){var s=e._state,r=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var n=e._wrappedGetters,o={},a={},l=hT(!0);l.run(function(){j0(n,function(c,u){o[u]=hwe(c,e),a[u]=V(function(){return o[u]()}),Object.defineProperty(e.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),e._state=Nn({data:t}),e._scope=l,e.strict&&vwe(e),s&&i&&e._withCommit(function(){s.data=null}),r&&r.stop()}function eA(e,t,i,s,r){var n=!i.length,o=e._modules.getNamespace(i);if(s.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=s),!n&&!r){var a=XO(t,i.slice(0,-1)),l=i[i.length-1];e._withCommit(function(){a[l]=s.state})}var c=s.context=fwe(e,o,i);s.forEachMutation(function(u,h){var f=o+h;pwe(e,f,u,c)}),s.forEachAction(function(u,h){var f=u.root?h:o+h,p=u.handler||u;gwe(e,f,p,c)}),s.forEachGetter(function(u,h){var f=o+h;mwe(e,f,u,c)}),s.forEachChild(function(u,h){eA(e,t,i.concat(h),u,r)})}function fwe(e,t,i){var s=t==="",r={dispatch:s?e.dispatch:function(n,o,a){var l=t_(n,o,a),c=l.payload,u=l.options,h=l.type;return(!u||!u.root)&&(h=t+h),e.dispatch(h,c)},commit:s?e.commit:function(n,o,a){var l=t_(n,o,a),c=l.payload,u=l.options,h=l.type;(!u||!u.root)&&(h=t+h),e.commit(h,c,u)}};return Object.defineProperties(r,{getters:{get:s?function(){return e.getters}:function(){return O9(e,t)}},state:{get:function(){return XO(e.state,i)}}}),r}function O9(e,t){if(!e._makeLocalGettersCache[t]){var i={},s=t.length;Object.keys(e.getters).forEach(function(r){if(r.slice(0,s)===t){var n=r.slice(s);Object.defineProperty(i,n,{get:function(){return e.getters[r]},enumerable:!0})}}),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}function pwe(e,t,i,s){var r=e._mutations[t]||(e._mutations[t]=[]);r.push(function(o){i.call(e,s.state,o)})}function gwe(e,t,i,s){var r=e._actions[t]||(e._actions[t]=[]);r.push(function(o){var a=i.call(e,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:e.getters,rootState:e.state},o);return dwe(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function mwe(e,t,i,s){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(n){return i(s.state,s.getters,n.state,n.getters)})}function vwe(e){Ot(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function XO(e,t){return t.reduce(function(i,s){return i[s]},e)}function t_(e,t,i){return uwe(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}var ywe="vuex bindings",n4="vuex:mutations",oR="vuex:actions",iv="vuex",Cwe=0;function bwe(e,t){lwe({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[ywe]},function(i){i.addTimelineLayer({id:n4,label:"Vuex Mutations",color:o4}),i.addTimelineLayer({id:oR,label:"Vuex Actions",color:o4}),i.addInspector({id:iv,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),i.on.getInspectorTree(function(s){if(s.app===e&&s.inspectorId===iv)if(s.filter){var r=[];B9(r,t._modules.root,s.filter,""),s.rootNodes=r}else s.rootNodes=[V9(t._modules.root,"")]}),i.on.getInspectorState(function(s){if(s.app===e&&s.inspectorId===iv){var r=s.nodeId;O9(t,r),s.state=xwe(_we(t._modules,r),r==="root"?t.getters:t._makeLocalGettersCache,r)}}),i.on.editInspectorState(function(s){if(s.app===e&&s.inspectorId===iv){var r=s.nodeId,n=s.path;r!=="root"&&(n=r.split("/").filter(Boolean).concat(n)),t._withCommit(function(){s.set(t._state.data,n,s.state.value)})}}),t.subscribe(function(s,r){var n={};s.payload&&(n.payload=s.payload),n.state=r,i.notifyComponentUpdate(),i.sendInspectorTree(iv),i.sendInspectorState(iv),i.addTimelineEvent({layerId:n4,event:{time:Date.now(),title:s.type,data:n}})}),t.subscribeAction({before:function(s,r){var n={};s.payload&&(n.payload=s.payload),s._id=Cwe++,s._time=Date.now(),n.state=r,i.addTimelineEvent({layerId:oR,event:{time:s._time,title:s.type,groupId:s._id,subtitle:"start",data:n}})},after:function(s,r){var n={},o=Date.now()-s._time;n.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},s.payload&&(n.payload=s.payload),n.state=r,i.addTimelineEvent({layerId:oR,event:{time:Date.now(),title:s.type,groupId:s._id,subtitle:"end",data:n}})}})})}var o4=8702998,wwe=6710886,Swe=16777215,I9={label:"namespaced",textColor:Swe,backgroundColor:wwe};function N9(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function V9(e,t){return{id:t||"root",label:N9(t),tags:e.namespaced?[I9]:[],children:Object.keys(e._children).map(function(i){return V9(e._children[i],t+i+"/")})}}function B9(e,t,i,s){s.includes(i)&&e.push({id:s||"root",label:s.endsWith("/")?s.slice(0,s.length-1):s||"Root",tags:t.namespaced?[I9]:[]}),Object.keys(t._children).forEach(function(r){B9(e,t._children[r],i,s+r+"/")})}function xwe(e,t,i){t=i==="root"?t:t[i];var s=Object.keys(t),r={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(s.length){var n=Ewe(t);r.getters=Object.keys(n).map(function(o){return{key:o.endsWith("/")?N9(o):o,editable:!1,value:_F(function(){return n[o]})}})}return r}function Ewe(e){var t={};return Object.keys(e).forEach(function(i){var s=i.split("/");if(s.length>1){var r=t,n=s.pop();s.forEach(function(o){r[o]||(r[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),r=r[o]._custom.value}),r[n]=_F(function(){return e[i]})}else t[i]=_F(function(){return e[i]})}),t}function _we(e,t){var i=t.split("/").filter(function(s){return s});return i.reduce(function(s,r,n){var o=s[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+t+'".');return n===i.length-1?o:o._children},t==="root"?e:e.root._children)}function _F(e){try{return e()}catch(t){return t}}var su=function(t,i){this.runtime=i,this._children=Object.create(null),this._rawModule=t;var s=t.state;this.state=(typeof s=="function"?s():s)||{}},G9={namespaced:{configurable:!0}};G9.namespaced.get=function(){return!!this._rawModule.namespaced};su.prototype.addChild=function(t,i){this._children[t]=i};su.prototype.removeChild=function(t){delete this._children[t]};su.prototype.getChild=function(t){return this._children[t]};su.prototype.hasChild=function(t){return t in this._children};su.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};su.prototype.forEachChild=function(t){j0(this._children,t)};su.prototype.forEachGetter=function(t){this._rawModule.getters&&j0(this._rawModule.getters,t)};su.prototype.forEachAction=function(t){this._rawModule.actions&&j0(this._rawModule.actions,t)};su.prototype.forEachMutation=function(t){this._rawModule.mutations&&j0(this._rawModule.mutations,t)};Object.defineProperties(su.prototype,G9);var am=function(t){this.register([],t,!1)};am.prototype.get=function(t){return t.reduce(function(i,s){return i.getChild(s)},this.root)};am.prototype.getNamespace=function(t){var i=this.root;return t.reduce(function(s,r){return i=i.getChild(r),s+(i.namespaced?r+"/":"")},"")};am.prototype.update=function(t){H9([],this.root,t)};am.prototype.register=function(t,i,s){var r=this;s===void 0&&(s=!0);var n=new su(i,s);if(t.length===0)this.root=n;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],n)}i.modules&&j0(i.modules,function(a,l){r.register(t.concat(l),a,s)})};am.prototype.unregister=function(t){var i=this.get(t.slice(0,-1)),s=t[t.length-1],r=i.getChild(s);r&&r.runtime&&i.removeChild(s)};am.prototype.isRegistered=function(t){var i=this.get(t.slice(0,-1)),s=t[t.length-1];return i?i.hasChild(s):!1};function H9(e,t,i){if(t.update(i),i.modules)for(var s in i.modules){if(!t.getChild(s))return;H9(e.concat(s),t.getChild(s),i.modules[s])}}function Twe(e){return new cl(e)}var cl=function(t){var i=this;t===void 0&&(t={});var s=t.plugins;s===void 0&&(s=[]);var r=t.strict;r===void 0&&(r=!1);var n=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new am(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=n;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(f,p){return l.call(o,f,p)},this.commit=function(f,p,y){return c.call(o,f,p,y)},this.strict=r;var u=this._modules.root.state;eA(this,u,[],this._modules.root),YO(this,u),s.forEach(function(h){return h(i)})},qO={state:{configurable:!0}};cl.prototype.install=function(t,i){t.provide(i||F9,this),t.config.globalProperties.$store=this;var s=this._devtools!==void 0?this._devtools:!1;s&&bwe(t,this)};qO.state.get=function(){return this._state.data};qO.state.set=function(e){};cl.prototype.commit=function(t,i,s){var r=this,n=t_(t,i,s),o=n.type,a=n.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(l,r.state)}))};cl.prototype.dispatch=function(t,i){var s=this,r=t_(t,i),n=r.type,o=r.payload,a={type:n,payload:o},l=this._actions[n];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,s.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,h){c.then(function(f){try{s._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,s.state)})}catch{}u(f)},function(f){try{s._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,s.state,f)})}catch{}h(f)})})}};cl.prototype.subscribe=function(t,i){return M9(t,this._subscribers,i)};cl.prototype.subscribeAction=function(t,i){var s=typeof t=="function"?{before:t}:t;return M9(s,this._actionSubscribers,i)};cl.prototype.watch=function(t,i,s){var r=this;return Ot(function(){return t(r.state,r.getters)},i,Object.assign({},s))};cl.prototype.replaceState=function(t){var i=this;this._withCommit(function(){i._state.data=t})};cl.prototype.registerModule=function(t,i,s){s===void 0&&(s={}),typeof t=="string"&&(t=[t]),this._modules.register(t,i),eA(this,this.state,t,this._modules.get(t),s.preserveState),YO(this,this.state)};cl.prototype.unregisterModule=function(t){var i=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var s=XO(i.state,t.slice(0,-1));delete s[t[t.length-1]]}),L9(this)};cl.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};cl.prototype.hotUpdate=function(t){this._modules.update(t),L9(this,!0)};cl.prototype._withCommit=function(t){var i=this._committing;this._committing=!0,t(),this._committing=i};Object.defineProperties(cl.prototype,qO);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const mv=typeof document<"u";function $9(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Awe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&$9(e.default)}const fr=Object.assign;function aR(e,t){const i={};for(const s in t){const r=t[s];i[s]=eu(r)?r.map(e):e(r)}return i}const HC=()=>{},eu=Array.isArray,W9=/#/g,kwe=/&/g,Dwe=/\//g,Rwe=/=/g,Pwe=/\?/g,U9=/\+/g,Fwe=/%5B/g,Mwe=/%5D/g,z9=/%5E/g,Lwe=/%60/g,j9=/%7B/g,Owe=/%7C/g,K9=/%7D/g,Iwe=/%20/g;function QO(e){return encodeURI(""+e).replace(Owe,"|").replace(Fwe,"[").replace(Mwe,"]")}function Nwe(e){return QO(e).replace(j9,"{").replace(K9,"}").replace(z9,"^")}function TF(e){return QO(e).replace(U9,"%2B").replace(Iwe,"+").replace(W9,"%23").replace(kwe,"%26").replace(Lwe,"`").replace(j9,"{").replace(K9,"}").replace(z9,"^")}function Vwe(e){return TF(e).replace(Rwe,"%3D")}function Bwe(e){return QO(e).replace(W9,"%23").replace(Pwe,"%3F")}function Gwe(e){return e==null?"":Bwe(e).replace(Dwe,"%2F")}function Mb(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Hwe=/\/$/,$we=e=>e.replace(Hwe,"");function lR(e,t,i="/"){let s,r={},n="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),n=t.slice(l+1,a>-1?a:t.length),r=e(n)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=jwe(s??t,i),{fullPath:s+(n&&"?")+n+o,path:s,query:r,hash:Mb(o)}}function Wwe(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function a4(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Uwe(e,t,i){const s=t.matched.length-1,r=i.matched.length-1;return s>-1&&s===r&&l0(t.matched[s],i.matched[r])&&Y9(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function l0(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Y9(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!zwe(e[i],t[i]))return!1;return!0}function zwe(e,t){return eu(e)?l4(e,t):eu(t)?l4(t,e):e===t}function l4(e,t){return eu(t)?e.length===t.length&&e.every((i,s)=>i===t[s]):e.length===1&&e[0]===t}function jwe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let n=i.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")n>1&&n--;else break;return i.slice(0,n).join("/")+"/"+s.slice(o).join("/")}const Vh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Lb;(function(e){e.pop="pop",e.push="push"})(Lb||(Lb={}));var $C;(function(e){e.back="back",e.forward="forward",e.unknown=""})($C||($C={}));function Kwe(e){if(!e)if(mv){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),$we(e)}const Ywe=/^[^#]+#/;function Xwe(e,t){return e.replace(Ywe,"#")+t}function qwe(e,t){const i=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-i.left-(t.left||0),top:s.top-i.top-(t.top||0)}}const tA=()=>({left:window.scrollX,top:window.scrollY});function Qwe(e){let t;if("el"in e){const i=e.el,s=typeof i=="string"&&i.startsWith("#"),r=typeof i=="string"?s?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!r)return;t=qwe(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function c4(e,t){return(history.state?history.state.position-t:-1)+e}const AF=new Map;function Jwe(e,t){AF.set(e,t)}function Zwe(e){const t=AF.get(e);return AF.delete(e),t}let eSe=()=>location.protocol+"//"+location.host;function X9(e,t){const{pathname:i,search:s,hash:r}=t,n=e.indexOf("#");if(n>-1){let a=r.includes(e.slice(n))?e.slice(n).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),a4(l,"")}return a4(i,e)+s+r}function tSe(e,t,i,s){let r=[],n=[],o=null;const a=({state:f})=>{const p=X9(e,location),y=i.value,v=t.value;let C=0;if(f){if(i.value=p,t.value=f,o&&o===y){o=null;return}C=v?f.position-v.position:0}else s(p);r.forEach(S=>{S(i.value,y,{delta:C,type:Lb.pop,direction:C?C>0?$C.forward:$C.back:$C.unknown})})};function l(){o=i.value}function c(f){r.push(f);const p=()=>{const y=r.indexOf(f);y>-1&&r.splice(y,1)};return n.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(fr({},f.state,{scroll:tA()}),"")}function h(){for(const f of n)f();n=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function u4(e,t,i,s=!1,r=!1){return{back:e,current:t,forward:i,replaced:s,position:window.history.length,scroll:r?tA():null}}function iSe(e){const{history:t,location:i}=window,s={value:X9(e,i)},r={value:t.state};r.value||n(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(l,c,u){const h=e.indexOf("#"),f=h>-1?(i.host&&document.querySelector("base")?e:e.slice(h))+l:eSe()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),i[u?"replace":"assign"](f)}}function o(l,c){const u=fr({},t.state,u4(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});n(l,u,!0),s.value=l}function a(l,c){const u=fr({},r.value,t.state,{forward:l,scroll:tA()});n(u.current,u,!0);const h=fr({},u4(s.value,l,null),{position:u.position+1},c);n(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function sSe(e){e=Kwe(e);const t=iSe(e),i=tSe(e,t.state,t.location,t.replace);function s(n,o=!0){o||i.pauseListeners(),history.go(n)}const r=fr({location:"",base:e,go:s,createHref:Xwe.bind(null,e)},t,i);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function rSe(e){return typeof e=="string"||e&&typeof e=="object"}function q9(e){return typeof e=="string"||typeof e=="symbol"}const Q9=Symbol("");var d4;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(d4||(d4={}));function c0(e,t){return fr(new Error,{type:e,[Q9]:!0},t)}function yd(e,t){return e instanceof Error&&Q9 in e&&(t==null||!!(e.type&t))}const h4="[^/]+?",nSe={sensitive:!1,strict:!1,start:!0,end:!0},oSe=/[.+*?^${}()[\]/\\]/g;function aSe(e,t){const i=fr({},nSe,t),s=[];let r=i.start?"^":"";const n=[];for(const c of e){const u=c.length?[]:[90];i.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(i.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(oSe,"\\$&"),p+=40;else if(f.type===1){const{value:y,repeatable:v,optional:C,regexp:S}=f;n.push({name:y,repeatable:v,optional:C});const _=S||h4;if(_!==h4){p+=10;try{new RegExp(`(${_})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${y}" (${_}): `+A.message)}}let x=v?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;h||(x=C&&c.length<2?`(?:/${x})`:"/"+x),C&&(x+="?"),r+=x,p+=20,C&&(p+=-8),v&&(p+=-20),_===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(i.strict&&i.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}i.strict||(r+="/?"),i.end?r+="$":i.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,i.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",y=n[f-1];h[y.name]=p&&y.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:y,repeatable:v,optional:C}=p,S=y in c?c[y]:"";if(eu(S)&&!v)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const _=eu(S)?S.join("/"):S;if(!_)if(C)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);u+=_}}return u||"/"}return{re:o,score:s,keys:n,parse:a,stringify:l}}function lSe(e,t){let i=0;for(;i<e.length&&i<t.length;){const s=t[i]-e[i];if(s)return s;i++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function J9(e,t){let i=0;const s=e.score,r=t.score;for(;i<s.length&&i<r.length;){const n=lSe(s[i],r[i]);if(n)return n;i++}if(Math.abs(r.length-s.length)===1){if(f4(s))return 1;if(f4(r))return-1}return r.length-s.length}function f4(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const cSe={type:0,value:""},uSe=/[a-zA-Z0-9_]/;function dSe(e){if(!e)return[[]];if(e==="/")return[[cSe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${i})/"${c}": ${p}`)}let i=0,s=i;const r=[];let n;function o(){n&&r.push(n),n=[]}let a=0,l,c="",u="";function h(){c&&(i===0?n.push({type:0,value:c}):i===1||i===2||i===3?(n.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&i!==2){s=i,i=4;continue}switch(i){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),i=1):f();break;case 4:f(),i=s;break;case 1:l==="("?i=2:uSe.test(l)?f():(h(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:i=3:u+=l;break;case 3:h(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function hSe(e,t,i){const s=aSe(dSe(e.path),i),r=fr(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function fSe(e,t){const i=[],s=new Map;t=v4({strict:!1,end:!0,sensitive:!1},t);function r(h){return s.get(h)}function n(h,f,p){const y=!p,v=g4(h);v.aliasOf=p&&p.record;const C=v4(t,h),S=[v];if("alias"in h){const A=typeof h.alias=="string"?[h.alias]:h.alias;for(const R of A)S.push(g4(fr({},v,{components:p?p.record.components:v.components,path:R,aliasOf:p?p.record:v})))}let _,x;for(const A of S){const{path:R}=A;if(f&&R[0]!=="/"){const O=f.record.path,k=O[O.length-1]==="/"?"":"/";A.path=f.record.path+(R&&k+R)}if(_=hSe(A,f,C),p?p.alias.push(_):(x=x||_,x!==_&&x.alias.push(_),y&&h.name&&!m4(_)&&o(h.name)),Z9(_)&&l(_),v.children){const O=v.children;for(let k=0;k<O.length;k++)n(O[k],_,p&&p.children[k])}p=p||_}return x?()=>{o(x)}:HC}function o(h){if(q9(h)){const f=s.get(h);f&&(s.delete(h),i.splice(i.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=i.indexOf(h);f>-1&&(i.splice(f,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return i}function l(h){const f=mSe(h,i);i.splice(f,0,h),h.record.name&&!m4(h)&&s.set(h.record.name,h)}function c(h,f){let p,y={},v,C;if("name"in h&&h.name){if(p=s.get(h.name),!p)throw c0(1,{location:h});C=p.record.name,y=fr(p4(f.params,p.keys.filter(x=>!x.optional).concat(p.parent?p.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),h.params&&p4(h.params,p.keys.map(x=>x.name))),v=p.stringify(y)}else if(h.path!=null)v=h.path,p=i.find(x=>x.re.test(v)),p&&(y=p.parse(v),C=p.record.name);else{if(p=f.name?s.get(f.name):i.find(x=>x.re.test(f.path)),!p)throw c0(1,{location:h,currentLocation:f});C=p.record.name,y=fr({},f.params,h.params),v=p.stringify(y)}const S=[];let _=p;for(;_;)S.unshift(_.record),_=_.parent;return{name:C,path:v,params:y,matched:S,meta:gSe(S)}}e.forEach(h=>n(h));function u(){i.length=0,s.clear()}return{addRoute:n,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function p4(e,t){const i={};for(const s of t)s in e&&(i[s]=e[s]);return i}function g4(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:pSe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function pSe(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const s in e.components)t[s]=typeof i=="object"?i[s]:i;return t}function m4(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function gSe(e){return e.reduce((t,i)=>fr(t,i.meta),{})}function v4(e,t){const i={};for(const s in e)i[s]=s in t?t[s]:e[s];return i}function mSe(e,t){let i=0,s=t.length;for(;i!==s;){const n=i+s>>1;J9(e,t[n])<0?s=n:i=n+1}const r=vSe(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function vSe(e){let t=e;for(;t=t.parent;)if(Z9(t)&&J9(e,t)===0)return t}function Z9({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ySe(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const n=s[r].replace(U9," "),o=n.indexOf("="),a=Mb(o<0?n:n.slice(0,o)),l=o<0?null:Mb(n.slice(o+1));if(a in t){let c=t[a];eu(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function y4(e){let t="";for(let i in e){const s=e[i];if(i=Vwe(i),s==null){s!==void 0&&(t+=(t.length?"&":"")+i);continue}(eu(s)?s.map(n=>n&&TF(n)):[s&&TF(s)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+i,n!=null&&(t+="="+n))})}return t}function CSe(e){const t={};for(const i in e){const s=e[i];s!==void 0&&(t[i]=eu(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const bSe=Symbol(""),C4=Symbol(""),iA=Symbol(""),JO=Symbol(""),kF=Symbol("");function Xy(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function i(){e=[]}return{add:t,list:()=>e.slice(),reset:i}}function qh(e,t,i,s,r,n=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(c0(4,{from:i,to:t})):f instanceof Error?l(f):rSe(f)?l(c0(2,{from:t,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},u=n(()=>e.call(s&&s.instances[r],t,i,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function cR(e,t,i,s,r=n=>n()){const n=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if($9(l)){const u=(l.__vccOpts||l)[t];u&&n.push(qh(u,i,s,o,a,r))}else{let c=l();n.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Awe(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const p=(h.__vccOpts||h)[t];return p&&qh(p,i,s,o,a,r)()}))}}return n}function b4(e){const t=Xr(iA),i=Xr(JO),s=V(()=>{const l=P(e.to);return t.resolve(l)}),r=V(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=i.matched;if(!u||!h.length)return-1;const f=h.findIndex(l0.bind(null,u));if(f>-1)return f;const p=w4(l[c-2]);return c>1&&w4(u)===p&&h[h.length-1].path!==p?h.findIndex(l0.bind(null,l[c-2])):f}),n=V(()=>r.value>-1&&_Se(i.params,s.value.params)),o=V(()=>r.value>-1&&r.value===i.matched.length-1&&Y9(i.params,s.value.params));function a(l={}){if(ESe(l)){const c=t[P(e.replace)?"replace":"push"](P(e.to)).catch(HC);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:V(()=>s.value.href),isActive:n,isExactActive:o,navigate:a}}function wSe(e){return e.length===1?e[0]:e}const SSe=dt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:b4,setup(e,{slots:t}){const i=Nn(b4(e)),{options:s}=Xr(iA),r=V(()=>({[S4(e.activeClass,s.linkActiveClass,"router-link-active")]:i.isActive,[S4(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const n=t.default&&wSe(t.default(i));return e.custom?n:ji("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:r.value},n)}}}),xSe=SSe;function ESe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _Se(e,t){for(const i in t){const s=t[i],r=e[i];if(typeof s=="string"){if(s!==r)return!1}else if(!eu(r)||r.length!==s.length||s.some((n,o)=>n!==r[o]))return!1}return!0}function w4(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const S4=(e,t,i)=>e??t??i,TSe=dt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const s=Xr(kF),r=V(()=>e.route||s.value),n=Xr(C4,0),o=V(()=>{let c=P(n);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=V(()=>r.value.matched[o.value]);la(C4,V(()=>o.value+1)),la(bSe,a),la(kF,r);const l=We();return Ot(()=>[l.value,a.value,e.name],([c,u,h],[f,p,y])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!l0(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return x4(i.default,{Component:f,route:c});const p=h.props[u],y=p?p===!0?c.params:typeof p=="function"?p(c):p:null,C=ji(f,fr({},y,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return x4(i.default,{Component:C,route:c})||C}}});function x4(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const ASe=TSe;function kSe(e){const t=fSe(e.routes,e),i=e.parseQuery||ySe,s=e.stringifyQuery||y4,r=e.history,n=Xy(),o=Xy(),a=Xy(),l=vi(Vh);let c=Vh;mv&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=aR.bind(null,ye=>""+ye),h=aR.bind(null,Gwe),f=aR.bind(null,Mb);function p(ye,ke){let Oe,He;return q9(ye)?(Oe=t.getRecordMatcher(ye),He=ke):He=ye,t.addRoute(He,Oe)}function y(ye){const ke=t.getRecordMatcher(ye);ke&&t.removeRoute(ke)}function v(){return t.getRoutes().map(ye=>ye.record)}function C(ye){return!!t.getRecordMatcher(ye)}function S(ye,ke){if(ke=fr({},ke||l.value),typeof ye=="string"){const pe=lR(i,ye,ke.path),Ve=t.resolve({path:pe.path},ke),Qe=r.createHref(pe.fullPath);return fr(pe,Ve,{params:f(Ve.params),hash:Mb(pe.hash),redirectedFrom:void 0,href:Qe})}let Oe;if(ye.path!=null)Oe=fr({},ye,{path:lR(i,ye.path,ke.path).path});else{const pe=fr({},ye.params);for(const Ve in pe)pe[Ve]==null&&delete pe[Ve];Oe=fr({},ye,{params:h(pe)}),ke.params=h(ke.params)}const He=t.resolve(Oe,ke),mt=ye.hash||"";He.params=u(f(He.params));const we=Wwe(s,fr({},ye,{hash:Nwe(mt),path:He.path})),de=r.createHref(we);return fr({fullPath:we,hash:mt,query:s===y4?CSe(ye.query):ye.query||{}},He,{redirectedFrom:void 0,href:de})}function _(ye){return typeof ye=="string"?lR(i,ye,l.value.path):fr({},ye)}function x(ye,ke){if(c!==ye)return c0(8,{from:ke,to:ye})}function A(ye){return k(ye)}function R(ye){return A(fr(_(ye),{replace:!0}))}function O(ye){const ke=ye.matched[ye.matched.length-1];if(ke&&ke.redirect){const{redirect:Oe}=ke;let He=typeof Oe=="function"?Oe(ye):Oe;return typeof He=="string"&&(He=He.includes("?")||He.includes("#")?He=_(He):{path:He},He.params={}),fr({query:ye.query,hash:ye.hash,params:He.path!=null?{}:ye.params},He)}}function k(ye,ke){const Oe=c=S(ye),He=l.value,mt=ye.state,we=ye.force,de=ye.replace===!0,pe=O(Oe);if(pe)return k(fr(_(pe),{state:typeof pe=="object"?fr({},mt,pe.state):mt,force:we,replace:de}),ke||Oe);const Ve=Oe;Ve.redirectedFrom=ke;let Qe;return!we&&Uwe(s,He,Oe)&&(Qe=c0(16,{to:Ve,from:He}),Ie(He,He,!0,!1)),(Qe?Promise.resolve(Qe):j(Ve,He)).catch(Ge=>yd(Ge)?yd(Ge,2)?Ge:Te(Ge):ie(Ge,Ve,He)).then(Ge=>{if(Ge){if(yd(Ge,2))return k(fr({replace:de},_(Ge.to),{state:typeof Ge.to=="object"?fr({},mt,Ge.to.state):mt,force:we}),ke||Ve)}else Ge=K(Ve,He,!0,de,mt);return ee(Ve,He,Ge),Ge})}function F(ye,ke){const Oe=x(ye,ke);return Oe?Promise.reject(Oe):Promise.resolve()}function N(ye){const ke=Y.values().next().value;return ke&&typeof ke.runWithContext=="function"?ke.runWithContext(ye):ye()}function j(ye,ke){let Oe;const[He,mt,we]=DSe(ye,ke);Oe=cR(He.reverse(),"beforeRouteLeave",ye,ke);for(const pe of He)pe.leaveGuards.forEach(Ve=>{Oe.push(qh(Ve,ye,ke))});const de=F.bind(null,ye,ke);return Oe.push(de),Se(Oe).then(()=>{Oe=[];for(const pe of n.list())Oe.push(qh(pe,ye,ke));return Oe.push(de),Se(Oe)}).then(()=>{Oe=cR(mt,"beforeRouteUpdate",ye,ke);for(const pe of mt)pe.updateGuards.forEach(Ve=>{Oe.push(qh(Ve,ye,ke))});return Oe.push(de),Se(Oe)}).then(()=>{Oe=[];for(const pe of we)if(pe.beforeEnter)if(eu(pe.beforeEnter))for(const Ve of pe.beforeEnter)Oe.push(qh(Ve,ye,ke));else Oe.push(qh(pe.beforeEnter,ye,ke));return Oe.push(de),Se(Oe)}).then(()=>(ye.matched.forEach(pe=>pe.enterCallbacks={}),Oe=cR(we,"beforeRouteEnter",ye,ke,N),Oe.push(de),Se(Oe))).then(()=>{Oe=[];for(const pe of o.list())Oe.push(qh(pe,ye,ke));return Oe.push(de),Se(Oe)}).catch(pe=>yd(pe,8)?pe:Promise.reject(pe))}function ee(ye,ke,Oe){a.list().forEach(He=>N(()=>He(ye,ke,Oe)))}function K(ye,ke,Oe,He,mt){const we=x(ye,ke);if(we)return we;const de=ke===Vh,pe=mv?history.state:{};Oe&&(He||de?r.replace(ye.fullPath,fr({scroll:de&&pe&&pe.scroll},mt)):r.push(ye.fullPath,mt)),l.value=ye,Ie(ye,ke,Oe,de),Te()}let Q;function be(){Q||(Q=r.listen((ye,ke,Oe)=>{if(!Z.listening)return;const He=S(ye),mt=O(He);if(mt){k(fr(mt,{replace:!0,force:!0}),He).catch(HC);return}c=He;const we=l.value;mv&&Jwe(c4(we.fullPath,Oe.delta),tA()),j(He,we).catch(de=>yd(de,12)?de:yd(de,2)?(k(fr(_(de.to),{force:!0}),He).then(pe=>{yd(pe,20)&&!Oe.delta&&Oe.type===Lb.pop&&r.go(-1,!1)}).catch(HC),Promise.reject()):(Oe.delta&&r.go(-Oe.delta,!1),ie(de,He,we))).then(de=>{de=de||K(He,we,!1),de&&(Oe.delta&&!yd(de,8)?r.go(-Oe.delta,!1):Oe.type===Lb.pop&&yd(de,20)&&r.go(-1,!1)),ee(He,we,de)}).catch(HC)}))}let te=Xy(),ne=Xy(),H;function ie(ye,ke,Oe){Te(ye);const He=ne.list();return He.length?He.forEach(mt=>mt(ye,ke,Oe)):console.error(ye),Promise.reject(ye)}function ue(){return H&&l.value!==Vh?Promise.resolve():new Promise((ye,ke)=>{te.add([ye,ke])})}function Te(ye){return H||(H=!ye,be(),te.list().forEach(([ke,Oe])=>ye?Oe(ye):ke()),te.reset()),ye}function Ie(ye,ke,Oe,He){const{scrollBehavior:mt}=e;if(!mv||!mt)return Promise.resolve();const we=!Oe&&Zwe(c4(ye.fullPath,0))||(He||!Oe)&&history.state&&history.state.scroll||null;return rs().then(()=>mt(ye,ke,we)).then(de=>de&&Qwe(de)).catch(de=>ie(de,ye,ke))}const he=ye=>r.go(ye);let Ee;const Y=new Set,Z={currentRoute:l,listening:!0,addRoute:p,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:v,resolve:S,options:e,push:A,replace:R,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:n.add,beforeResolve:o.add,afterEach:a.add,onError:ne.add,isReady:ue,install(ye){const ke=this;ye.component("RouterLink",xSe),ye.component("RouterView",ASe),ye.config.globalProperties.$router=ke,Object.defineProperty(ye.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),mv&&!Ee&&l.value===Vh&&(Ee=!0,A(r.location).catch(mt=>{}));const Oe={};for(const mt in Vh)Object.defineProperty(Oe,mt,{get:()=>l.value[mt],enumerable:!0});ye.provide(iA,ke),ye.provide(JO,N0(Oe)),ye.provide(kF,l);const He=ye.unmount;Y.add(ye),ye.unmount=function(){Y.delete(ye),Y.size<1&&(c=Vh,Q&&Q(),Q=null,l.value=Vh,Ee=!1,H=!1),He()}}};function Se(ye){return ye.reduce((ke,Oe)=>ke.then(()=>N(Oe)),Promise.resolve())}return Z}function DSe(e,t){const i=[],s=[],r=[],n=Math.max(t.matched.length,e.matched.length);for(let o=0;o<n;o++){const a=t.matched[o];a&&(e.matched.find(c=>l0(c,a))?s.push(a):i.push(a));const l=e.matched[o];l&&(t.matched.find(c=>l0(c,l))||r.push(l))}return[i,s,r]}function ej(){return Xr(iA)}function RSe(e){return Xr(JO)}function tj(e,t){return function(){return e.apply(t,arguments)}}const{toString:PSe}=Object.prototype,{getPrototypeOf:ZO}=Object,{iterator:sA,toStringTag:ij}=Symbol,rA=(e=>t=>{const i=PSe.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),ru=e=>(e=e.toLowerCase(),t=>rA(t)===e),nA=e=>t=>typeof t===e,{isArray:K0}=Array,Ob=nA("undefined");function iS(e){return e!==null&&!Ob(e)&&e.constructor!==null&&!Ob(e.constructor)&&il(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sj=ru("ArrayBuffer");function FSe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sj(e.buffer),t}const MSe=nA("string"),il=nA("function"),rj=nA("number"),sS=e=>e!==null&&typeof e=="object",LSe=e=>e===!0||e===!1,q1=e=>{if(rA(e)!=="object")return!1;const t=ZO(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ij in e)&&!(sA in e)},OSe=e=>{if(!sS(e)||iS(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ISe=ru("Date"),NSe=ru("File"),VSe=ru("Blob"),BSe=ru("FileList"),GSe=e=>sS(e)&&il(e.pipe),HSe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||il(e.append)&&((t=rA(e))==="formdata"||t==="object"&&il(e.toString)&&e.toString()==="[object FormData]"))},$Se=ru("URLSearchParams"),[WSe,USe,zSe,jSe]=["ReadableStream","Request","Response","Headers"].map(ru),KSe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rS(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),K0(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(iS(e))return;const n=i?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let a;for(s=0;s<o;s++)a=n[s],t.call(null,e[a],a,e)}}function nj(e,t){if(iS(e))return null;t=t.toLowerCase();const i=Object.keys(e);let s=i.length,r;for(;s-- >0;)if(r=i[s],t===r.toLowerCase())return r;return null}const $p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oj=e=>!Ob(e)&&e!==$p;function DF(){const{caseless:e}=oj(this)&&this||{},t={},i=(s,r)=>{const n=e&&nj(t,r)||r;q1(t[n])&&q1(s)?t[n]=DF(t[n],s):q1(s)?t[n]=DF({},s):K0(s)?t[n]=s.slice():t[n]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&rS(arguments[s],i);return t}const YSe=(e,t,i,{allOwnKeys:s}={})=>(rS(t,(r,n)=>{i&&il(r)?e[n]=tj(r,i):e[n]=r},{allOwnKeys:s}),e),XSe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),qSe=(e,t,i,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},QSe=(e,t,i,s)=>{let r,n,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),n=r.length;n-- >0;)o=r[n],(!s||s(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=i!==!1&&ZO(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},JSe=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const s=e.indexOf(t,i);return s!==-1&&s===i},ZSe=e=>{if(!e)return null;if(K0(e))return e;let t=e.length;if(!rj(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},exe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ZO(Uint8Array)),txe=(e,t)=>{const s=(e&&e[sA]).call(e);let r;for(;(r=s.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},ixe=(e,t)=>{let i;const s=[];for(;(i=e.exec(t))!==null;)s.push(i);return s},sxe=ru("HTMLFormElement"),rxe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,r){return s.toUpperCase()+r}),E4=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),nxe=ru("RegExp"),aj=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),s={};rS(i,(r,n)=>{let o;(o=t(r,n,e))!==!1&&(s[n]=o||r)}),Object.defineProperties(e,s)},oxe=e=>{aj(e,(t,i)=>{if(il(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=e[i];if(il(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},axe=(e,t)=>{const i={},s=r=>{r.forEach(n=>{i[n]=!0})};return K0(e)?s(e):s(String(e).split(t)),i},lxe=()=>{},cxe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function uxe(e){return!!(e&&il(e.append)&&e[ij]==="FormData"&&e[sA])}const dxe=e=>{const t=new Array(10),i=(s,r)=>{if(sS(s)){if(t.indexOf(s)>=0)return;if(iS(s))return s;if(!("toJSON"in s)){t[r]=s;const n=K0(s)?[]:{};return rS(s,(o,a)=>{const l=i(o,r+1);!Ob(l)&&(n[a]=l)}),t[r]=void 0,n}}return s};return i(e,0)},hxe=ru("AsyncFunction"),fxe=e=>e&&(sS(e)||il(e))&&il(e.then)&&il(e.catch),lj=((e,t)=>e?setImmediate:t?((i,s)=>($p.addEventListener("message",({source:r,data:n})=>{r===$p&&n===i&&s.length&&s.shift()()},!1),r=>{s.push(r),$p.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",il($p.postMessage)),pxe=typeof queueMicrotask<"u"?queueMicrotask.bind($p):typeof process<"u"&&process.nextTick||lj,gxe=e=>e!=null&&il(e[sA]),bt={isArray:K0,isArrayBuffer:sj,isBuffer:iS,isFormData:HSe,isArrayBufferView:FSe,isString:MSe,isNumber:rj,isBoolean:LSe,isObject:sS,isPlainObject:q1,isEmptyObject:OSe,isReadableStream:WSe,isRequest:USe,isResponse:zSe,isHeaders:jSe,isUndefined:Ob,isDate:ISe,isFile:NSe,isBlob:VSe,isRegExp:nxe,isFunction:il,isStream:GSe,isURLSearchParams:$Se,isTypedArray:exe,isFileList:BSe,forEach:rS,merge:DF,extend:YSe,trim:KSe,stripBOM:XSe,inherits:qSe,toFlatObject:QSe,kindOf:rA,kindOfTest:ru,endsWith:JSe,toArray:ZSe,forEachEntry:txe,matchAll:ixe,isHTMLForm:sxe,hasOwnProperty:E4,hasOwnProp:E4,reduceDescriptors:aj,freezeMethods:oxe,toObjectSet:axe,toCamelCase:rxe,noop:lxe,toFiniteNumber:cxe,findKey:nj,global:$p,isContextDefined:oj,isSpecCompliantForm:uxe,toJSONObject:dxe,isAsyncFn:hxe,isThenable:fxe,setImmediate:lj,asap:pxe,isIterable:gxe};function ls(e,t,i,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}bt.inherits(ls,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bt.toJSONObject(this.config),code:this.code,status:this.status}}});const cj=ls.prototype,uj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uj[e]={value:e}});Object.defineProperties(ls,uj);Object.defineProperty(cj,"isAxiosError",{value:!0});ls.from=(e,t,i,s,r,n)=>{const o=Object.create(cj);return bt.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ls.call(o,e.message,t,i,s,r),o.cause=e,o.name=e.name,n&&Object.assign(o,n),o};const mxe=null;function RF(e){return bt.isPlainObject(e)||bt.isArray(e)}function dj(e){return bt.endsWith(e,"[]")?e.slice(0,-2):e}function _4(e,t,i){return e?e.concat(t).map(function(r,n){return r=dj(r),!i&&n?"["+r+"]":r}).join(i?".":""):t}function vxe(e){return bt.isArray(e)&&!e.some(RF)}const yxe=bt.toFlatObject(bt,{},null,function(t){return/^is[A-Z]/.test(t)});function oA(e,t,i){if(!bt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=bt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,C){return!bt.isUndefined(C[v])});const s=i.metaTokens,r=i.visitor||u,n=i.dots,o=i.indexes,l=(i.Blob||typeof Blob<"u"&&Blob)&&bt.isSpecCompliantForm(t);if(!bt.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(bt.isDate(y))return y.toISOString();if(bt.isBoolean(y))return y.toString();if(!l&&bt.isBlob(y))throw new ls("Blob is not supported. Use a Buffer instead.");return bt.isArrayBuffer(y)||bt.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,v,C){let S=y;if(y&&!C&&typeof y=="object"){if(bt.endsWith(v,"{}"))v=s?v:v.slice(0,-2),y=JSON.stringify(y);else if(bt.isArray(y)&&vxe(y)||(bt.isFileList(y)||bt.endsWith(v,"[]"))&&(S=bt.toArray(y)))return v=dj(v),S.forEach(function(x,A){!(bt.isUndefined(x)||x===null)&&t.append(o===!0?_4([v],A,n):o===null?v:v+"[]",c(x))}),!1}return RF(y)?!0:(t.append(_4(C,v,n),c(y)),!1)}const h=[],f=Object.assign(yxe,{defaultVisitor:u,convertValue:c,isVisitable:RF});function p(y,v){if(!bt.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(y),bt.forEach(y,function(S,_){(!(bt.isUndefined(S)||S===null)&&r.call(t,S,bt.isString(_)?_.trim():_,v,f))===!0&&p(S,v?v.concat(_):[_])}),h.pop()}}if(!bt.isObject(e))throw new TypeError("data must be an object");return p(e),t}function T4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function eI(e,t){this._pairs=[],e&&oA(e,this,t)}const hj=eI.prototype;hj.append=function(t,i){this._pairs.push([t,i])};hj.toString=function(t){const i=t?function(s){return t.call(this,s,T4)}:T4;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};function Cxe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fj(e,t,i){if(!t)return e;const s=i&&i.encode||Cxe;bt.isFunction(i)&&(i={serialize:i});const r=i&&i.serialize;let n;if(r?n=r(t,i):n=bt.isURLSearchParams(t)?t.toString():new eI(t,i).toString(s),n){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}class A4{constructor(){this.handlers=[]}use(t,i,s){return this.handlers.push({fulfilled:t,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){bt.forEach(this.handlers,function(s){s!==null&&t(s)})}}const pj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bxe=typeof URLSearchParams<"u"?URLSearchParams:eI,wxe=typeof FormData<"u"?FormData:null,Sxe=typeof Blob<"u"?Blob:null,xxe={isBrowser:!0,classes:{URLSearchParams:bxe,FormData:wxe,Blob:Sxe},protocols:["http","https","file","blob","url","data"]},tI=typeof window<"u"&&typeof document<"u",PF=typeof navigator=="object"&&navigator||void 0,Exe=tI&&(!PF||["ReactNative","NativeScript","NS"].indexOf(PF.product)<0),_xe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Txe=tI&&window.location.href||"http://localhost",Axe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tI,hasStandardBrowserEnv:Exe,hasStandardBrowserWebWorkerEnv:_xe,navigator:PF,origin:Txe},Symbol.toStringTag,{value:"Module"})),ia={...Axe,...xxe};function kxe(e,t){return oA(e,new ia.classes.URLSearchParams,{visitor:function(i,s,r,n){return ia.isNode&&bt.isBuffer(i)?(this.append(s,i.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...t})}function Dxe(e){return bt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Rxe(e){const t={},i=Object.keys(e);let s;const r=i.length;let n;for(s=0;s<r;s++)n=i[s],t[n]=e[n];return t}function gj(e){function t(i,s,r,n){let o=i[n++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=n>=i.length;return o=!o&&bt.isArray(r)?r.length:o,l?(bt.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!bt.isObject(r[o]))&&(r[o]=[]),t(i,s,r[o],n)&&bt.isArray(r[o])&&(r[o]=Rxe(r[o])),!a)}if(bt.isFormData(e)&&bt.isFunction(e.entries)){const i={};return bt.forEachEntry(e,(s,r)=>{t(Dxe(s),r,i,0)}),i}return null}function Pxe(e,t,i){if(bt.isString(e))try{return(t||JSON.parse)(e),bt.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(e)}const nS={transitional:pj,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const s=i.getContentType()||"",r=s.indexOf("application/json")>-1,n=bt.isObject(t);if(n&&bt.isHTMLForm(t)&&(t=new FormData(t)),bt.isFormData(t))return r?JSON.stringify(gj(t)):t;if(bt.isArrayBuffer(t)||bt.isBuffer(t)||bt.isStream(t)||bt.isFile(t)||bt.isBlob(t)||bt.isReadableStream(t))return t;if(bt.isArrayBufferView(t))return t.buffer;if(bt.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return kxe(t,this.formSerializer).toString();if((a=bt.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return oA(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return n||r?(i.setContentType("application/json",!1),Pxe(t)):t}],transformResponse:[function(t){const i=this.transitional||nS.transitional,s=i&&i.forcedJSONParsing,r=this.responseType==="json";if(bt.isResponse(t)||bt.isReadableStream(t))return t;if(t&&bt.isString(t)&&(s&&!this.responseType||r)){const o=!(i&&i.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?ls.from(a,ls.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ia.classes.FormData,Blob:ia.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bt.forEach(["delete","get","head","post","put","patch"],e=>{nS.headers[e]={}});const Fxe=bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mxe=e=>{const t={};let i,s,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),i=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!i||t[i]&&Fxe[i])&&(i==="set-cookie"?t[i]?t[i].push(s):t[i]=[s]:t[i]=t[i]?t[i]+", "+s:s)}),t},k4=Symbol("internals");function qy(e){return e&&String(e).trim().toLowerCase()}function Q1(e){return e===!1||e==null?e:bt.isArray(e)?e.map(Q1):String(e)}function Lxe(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(e);)t[s[1]]=s[2];return t}const Oxe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uR(e,t,i,s,r){if(bt.isFunction(s))return s.call(this,t,i);if(r&&(t=i),!!bt.isString(t)){if(bt.isString(s))return t.indexOf(s)!==-1;if(bt.isRegExp(s))return s.test(t)}}function Ixe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,s)=>i.toUpperCase()+s)}function Nxe(e,t){const i=bt.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+i,{value:function(r,n,o){return this[s].call(this,t,r,n,o)},configurable:!0})})}let sl=class{constructor(t){t&&this.set(t)}set(t,i,s){const r=this;function n(a,l,c){const u=qy(l);if(!u)throw new Error("header name must be a non-empty string");const h=bt.findKey(r,u);(!h||r[h]===void 0||c===!0||c===void 0&&r[h]!==!1)&&(r[h||l]=Q1(a))}const o=(a,l)=>bt.forEach(a,(c,u)=>n(c,u,l));if(bt.isPlainObject(t)||t instanceof this.constructor)o(t,i);else if(bt.isString(t)&&(t=t.trim())&&!Oxe(t))o(Mxe(t),i);else if(bt.isObject(t)&&bt.isIterable(t)){let a={},l,c;for(const u of t){if(!bt.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?bt.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,i)}else t!=null&&n(i,t,s);return this}get(t,i){if(t=qy(t),t){const s=bt.findKey(this,t);if(s){const r=this[s];if(!i)return r;if(i===!0)return Lxe(r);if(bt.isFunction(i))return i.call(this,r,s);if(bt.isRegExp(i))return i.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=qy(t),t){const s=bt.findKey(this,t);return!!(s&&this[s]!==void 0&&(!i||uR(this,this[s],s,i)))}return!1}delete(t,i){const s=this;let r=!1;function n(o){if(o=qy(o),o){const a=bt.findKey(s,o);a&&(!i||uR(s,s[a],a,i))&&(delete s[a],r=!0)}}return bt.isArray(t)?t.forEach(n):n(t),r}clear(t){const i=Object.keys(this);let s=i.length,r=!1;for(;s--;){const n=i[s];(!t||uR(this,this[n],n,t,!0))&&(delete this[n],r=!0)}return r}normalize(t){const i=this,s={};return bt.forEach(this,(r,n)=>{const o=bt.findKey(s,n);if(o){i[o]=Q1(r),delete i[n];return}const a=t?Ixe(n):String(n).trim();a!==n&&delete i[n],i[a]=Q1(r),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return bt.forEach(this,(s,r)=>{s!=null&&s!==!1&&(i[r]=t&&bt.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const s=new this(t);return i.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[k4]=this[k4]={accessors:{}}).accessors,r=this.prototype;function n(o){const a=qy(o);s[a]||(Nxe(r,o),s[a]=!0)}return bt.isArray(t)?t.forEach(n):n(t),this}};sl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);bt.reduceDescriptors(sl.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[i]=s}}});bt.freezeMethods(sl);function dR(e,t){const i=this||nS,s=t||i,r=sl.from(s.headers);let n=s.data;return bt.forEach(e,function(a){n=a.call(i,n,r.normalize(),t?t.status:void 0)}),r.normalize(),n}function mj(e){return!!(e&&e.__CANCEL__)}function Y0(e,t,i){ls.call(this,e??"canceled",ls.ERR_CANCELED,t,i),this.name="CanceledError"}bt.inherits(Y0,ls,{__CANCEL__:!0});function vj(e,t,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?e(i):t(new ls("Request failed with status code "+i.status,[ls.ERR_BAD_REQUEST,ls.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Vxe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Bxe(e,t){e=e||10;const i=new Array(e),s=new Array(e);let r=0,n=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=s[n];o||(o=c),i[r]=l,s[r]=c;let h=n,f=0;for(;h!==r;)f+=i[h++],h=h%e;if(r=(r+1)%e,r===n&&(n=(n+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function Gxe(e,t){let i=0,s=1e3/t,r,n;const o=(c,u=Date.now())=>{i=u,r=null,n&&(clearTimeout(n),n=null),e(...c)};return[(...c)=>{const u=Date.now(),h=u-i;h>=s?o(c,u):(r=c,n||(n=setTimeout(()=>{n=null,o(r)},s-h)))},()=>r&&o(r)]}const i_=(e,t,i=3)=>{let s=0;const r=Bxe(50,250);return Gxe(n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,l=o-s,c=r(l),u=o<=a;s=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:n,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},i)},D4=(e,t)=>{const i=e!=null;return[s=>t[0]({lengthComputable:i,total:e,loaded:s}),t[1]]},R4=e=>(...t)=>bt.asap(()=>e(...t)),Hxe=ia.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,ia.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(ia.origin),ia.navigator&&/(msie|trident)/i.test(ia.navigator.userAgent)):()=>!0,$xe=ia.hasStandardBrowserEnv?{write(e,t,i,s,r,n){const o=[e+"="+encodeURIComponent(t)];bt.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),bt.isString(s)&&o.push("path="+s),bt.isString(r)&&o.push("domain="+r),n===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Wxe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Uxe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function yj(e,t,i){let s=!Wxe(t);return e&&(s||i==!1)?Uxe(e,t):t}const P4=e=>e instanceof sl?{...e}:e;function Eg(e,t){t=t||{};const i={};function s(c,u,h,f){return bt.isPlainObject(c)&&bt.isPlainObject(u)?bt.merge.call({caseless:f},c,u):bt.isPlainObject(u)?bt.merge({},u):bt.isArray(u)?u.slice():u}function r(c,u,h,f){if(bt.isUndefined(u)){if(!bt.isUndefined(c))return s(void 0,c,h,f)}else return s(c,u,h,f)}function n(c,u){if(!bt.isUndefined(u))return s(void 0,u)}function o(c,u){if(bt.isUndefined(u)){if(!bt.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,h){if(h in t)return s(c,u);if(h in e)return s(void 0,c)}const l={url:n,method:n,data:n,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>r(P4(c),P4(u),h,!0)};return bt.forEach(Object.keys({...e,...t}),function(u){const h=l[u]||r,f=h(e[u],t[u],u);bt.isUndefined(f)&&h!==a||(i[u]=f)}),i}const Cj=e=>{const t=Eg({},e);let{data:i,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:n,headers:o,auth:a}=t;t.headers=o=sl.from(o),t.url=fj(yj(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(bt.isFormData(i)){if(ia.hasStandardBrowserEnv||ia.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ia.hasStandardBrowserEnv&&(s&&bt.isFunction(s)&&(s=s(t)),s||s!==!1&&Hxe(t.url))){const c=r&&n&&$xe.read(n);c&&o.set(r,c)}return t},zxe=typeof XMLHttpRequest<"u",jxe=zxe&&function(e){return new Promise(function(i,s){const r=Cj(e);let n=r.data;const o=sl.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,h,f,p,y;function v(){p&&p(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let C=new XMLHttpRequest;C.open(r.method.toUpperCase(),r.url,!0),C.timeout=r.timeout;function S(){if(!C)return;const x=sl.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:x,config:e,request:C};vj(function(k){i(k),v()},function(k){s(k),v()},R),C=null}"onloadend"in C?C.onloadend=S:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(S)},C.onabort=function(){C&&(s(new ls("Request aborted",ls.ECONNABORTED,e,C)),C=null)},C.onerror=function(){s(new ls("Network Error",ls.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let A=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const R=r.transitional||pj;r.timeoutErrorMessage&&(A=r.timeoutErrorMessage),s(new ls(A,R.clarifyTimeoutError?ls.ETIMEDOUT:ls.ECONNABORTED,e,C)),C=null},n===void 0&&o.setContentType(null),"setRequestHeader"in C&&bt.forEach(o.toJSON(),function(A,R){C.setRequestHeader(R,A)}),bt.isUndefined(r.withCredentials)||(C.withCredentials=!!r.withCredentials),a&&a!=="json"&&(C.responseType=r.responseType),c&&([f,y]=i_(c,!0),C.addEventListener("progress",f)),l&&C.upload&&([h,p]=i_(l),C.upload.addEventListener("progress",h),C.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(u=x=>{C&&(s(!x||x.type?new Y0(null,e,C):x),C.abort(),C=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const _=Vxe(r.url);if(_&&ia.protocols.indexOf(_)===-1){s(new ls("Unsupported protocol "+_+":",ls.ERR_BAD_REQUEST,e));return}C.send(n||null)})},Kxe=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let s=new AbortController,r;const n=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof ls?u:new Y0(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,n(new ls(`timeout ${t} of ms exceeded`,ls.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(n):c.removeEventListener("abort",n)}),e=null)};e.forEach(c=>c.addEventListener("abort",n));const{signal:l}=s;return l.unsubscribe=()=>bt.asap(a),l}},Yxe=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let s=0,r;for(;s<i;)r=s+t,yield e.slice(s,r),s=r},Xxe=async function*(e,t){for await(const i of qxe(e))yield*Yxe(i,t)},qxe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:s}=await t.read();if(i)break;yield s}}finally{await t.cancel()}},F4=(e,t,i,s)=>{const r=Xxe(e,t);let n=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let h=u.byteLength;if(i){let f=n+=h;i(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},aA=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bj=aA&&typeof ReadableStream=="function",Qxe=aA&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wj=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Jxe=bj&&wj(()=>{let e=!1;const t=new Request(ia.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),M4=64*1024,FF=bj&&wj(()=>bt.isReadableStream(new Response("").body)),s_={stream:FF&&(e=>e.body)};aA&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!s_[t]&&(s_[t]=bt.isFunction(e[t])?i=>i[t]():(i,s)=>{throw new ls(`Response type '${t}' is not supported`,ls.ERR_NOT_SUPPORT,s)})})})(new Response);const Zxe=async e=>{if(e==null)return 0;if(bt.isBlob(e))return e.size;if(bt.isSpecCompliantForm(e))return(await new Request(ia.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(bt.isArrayBufferView(e)||bt.isArrayBuffer(e))return e.byteLength;if(bt.isURLSearchParams(e)&&(e=e+""),bt.isString(e))return(await Qxe(e)).byteLength},e1e=async(e,t)=>{const i=bt.toFiniteNumber(e.getContentLength());return i??Zxe(t)},t1e=aA&&(async e=>{let{url:t,method:i,data:s,signal:r,cancelToken:n,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=Cj(e);c=c?(c+"").toLowerCase():"text";let p=Kxe([r,n&&n.toAbortSignal()],o),y;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let C;try{if(l&&Jxe&&i!=="get"&&i!=="head"&&(C=await e1e(u,s))!==0){let R=new Request(t,{method:"POST",body:s,duplex:"half"}),O;if(bt.isFormData(s)&&(O=R.headers.get("content-type"))&&u.setContentType(O),R.body){const[k,F]=D4(C,i_(R4(l)));s=F4(R.body,M4,k,F)}}bt.isString(h)||(h=h?"include":"omit");const S="credentials"in Request.prototype;y=new Request(t,{...f,signal:p,method:i.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:S?h:void 0});let _=await fetch(y,f);const x=FF&&(c==="stream"||c==="response");if(FF&&(a||x&&v)){const R={};["status","statusText","headers"].forEach(N=>{R[N]=_[N]});const O=bt.toFiniteNumber(_.headers.get("content-length")),[k,F]=a&&D4(O,i_(R4(a),!0))||[];_=new Response(F4(_.body,M4,k,()=>{F&&F(),v&&v()}),R)}c=c||"text";let A=await s_[bt.findKey(s_,c)||"text"](_,e);return!x&&v&&v(),await new Promise((R,O)=>{vj(R,O,{data:A,headers:sl.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:y})})}catch(S){throw v&&v(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new ls("Network Error",ls.ERR_NETWORK,e,y),{cause:S.cause||S}):ls.from(S,S&&S.code,e,y)}}),MF={http:mxe,xhr:jxe,fetch:t1e};bt.forEach(MF,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const L4=e=>`- ${e}`,i1e=e=>bt.isFunction(e)||e===null||e===!1,Sj={getAdapter:e=>{e=bt.isArray(e)?e:[e];const{length:t}=e;let i,s;const r={};for(let n=0;n<t;n++){i=e[n];let o;if(s=i,!i1e(i)&&(s=MF[(o=String(i)).toLowerCase()],s===void 0))throw new ls(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+n]=s}if(!s){const n=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?n.length>1?`since :
`+n.map(L4).join(`
`):" "+L4(n[0]):"as no adapter specified";throw new ls("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:MF};function hR(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Y0(null,e)}function O4(e){return hR(e),e.headers=sl.from(e.headers),e.data=dR.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Sj.getAdapter(e.adapter||nS.adapter)(e).then(function(s){return hR(e),s.data=dR.call(e,e.transformResponse,s),s.headers=sl.from(s.headers),s},function(s){return mj(s)||(hR(e),s&&s.response&&(s.response.data=dR.call(e,e.transformResponse,s.response),s.response.headers=sl.from(s.response.headers))),Promise.reject(s)})}const xj="1.11.0",lA={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lA[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const I4={};lA.transitional=function(t,i,s){function r(n,o){return"[Axios v"+xj+"] Transitional option '"+n+"'"+o+(s?". "+s:"")}return(n,o,a)=>{if(t===!1)throw new ls(r(o," has been removed"+(i?" in "+i:"")),ls.ERR_DEPRECATED);return i&&!I4[o]&&(I4[o]=!0,console.warn(r(o," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(n,o,a):!0}};lA.spelling=function(t){return(i,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function s1e(e,t,i){if(typeof e!="object")throw new ls("options must be an object",ls.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const n=s[r],o=t[n];if(o){const a=e[n],l=a===void 0||o(a,n,e);if(l!==!0)throw new ls("option "+n+" must be "+l,ls.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ls("Unknown option "+n,ls.ERR_BAD_OPTION)}}const J1={assertOptions:s1e,validators:lA},gu=J1.validators;let eg=class{constructor(t){this.defaults=t||{},this.interceptors={request:new A4,response:new A4}}async request(t,i){try{return await this._request(t,i)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const n=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?n&&!String(s.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+n):s.stack=n}catch{}}throw s}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Eg(this.defaults,i);const{transitional:s,paramsSerializer:r,headers:n}=i;s!==void 0&&J1.assertOptions(s,{silentJSONParsing:gu.transitional(gu.boolean),forcedJSONParsing:gu.transitional(gu.boolean),clarifyTimeoutError:gu.transitional(gu.boolean)},!1),r!=null&&(bt.isFunction(r)?i.paramsSerializer={serialize:r}:J1.assertOptions(r,{encode:gu.function,serialize:gu.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),J1.assertOptions(i,{baseUrl:gu.spelling("baseURL"),withXsrfToken:gu.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let o=n&&bt.merge(n.common,n[i.method]);n&&bt.forEach(["delete","get","head","post","put","patch","common"],y=>{delete n[y]}),i.headers=sl.concat(o,n);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(i)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,h=0,f;if(!l){const y=[O4.bind(this),void 0];for(y.unshift(...a),y.push(...c),f=y.length,u=Promise.resolve(i);h<f;)u=u.then(y[h++],y[h++]);return u}f=a.length;let p=i;for(h=0;h<f;){const y=a[h++],v=a[h++];try{p=y(p)}catch(C){v.call(this,C);break}}try{u=O4.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Eg(this.defaults,t);const i=yj(t.baseURL,t.url,t.allowAbsoluteUrls);return fj(i,t.params,t.paramsSerializer)}};bt.forEach(["delete","get","head","options"],function(t){eg.prototype[t]=function(i,s){return this.request(Eg(s||{},{method:t,url:i,data:(s||{}).data}))}});bt.forEach(["post","put","patch"],function(t){function i(s){return function(n,o,a){return this.request(Eg(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}eg.prototype[t]=i(),eg.prototype[t+"Form"]=i(!0)});let r1e=class Ej{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(n){i=n});const s=this;this.promise.then(r=>{if(!s._listeners)return;let n=s._listeners.length;for(;n-- >0;)s._listeners[n](r);s._listeners=null}),this.promise.then=r=>{let n;const o=new Promise(a=>{s.subscribe(a),n=a}).then(r);return o.cancel=function(){s.unsubscribe(n)},o},t(function(n,o,a){s.reason||(s.reason=new Y0(n,o,a),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=s=>{t.abort(s)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new Ej(function(r){t=r}),cancel:t}}};function n1e(e){return function(i){return e.apply(null,i)}}function o1e(e){return bt.isObject(e)&&e.isAxiosError===!0}const LF={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(LF).forEach(([e,t])=>{LF[t]=e});function _j(e){const t=new eg(e),i=tj(eg.prototype.request,t);return bt.extend(i,eg.prototype,t,{allOwnKeys:!0}),bt.extend(i,t,null,{allOwnKeys:!0}),i.create=function(r){return _j(Eg(e,r))},i}const vn=_j(nS);vn.Axios=eg;vn.CanceledError=Y0;vn.CancelToken=r1e;vn.isCancel=mj;vn.VERSION=xj;vn.toFormData=oA;vn.AxiosError=ls;vn.Cancel=vn.CanceledError;vn.all=function(t){return Promise.all(t)};vn.spread=n1e;vn.isAxiosError=o1e;vn.mergeConfig=Eg;vn.AxiosHeaders=sl;vn.formToJSON=e=>gj(bt.isHTMLForm(e)?new FormData(e):e);vn.getAdapter=Sj.getAdapter;vn.HttpStatusCode=LF;vn.default=vn;const{Axios:zje,AxiosError:jje,CanceledError:Kje,isCancel:Yje,CancelToken:Xje,VERSION:qje,all:Qje,Cancel:Jje,isAxiosError:Zje,spread:eKe,toFormData:tKe,AxiosHeaders:iKe,HttpStatusCode:sKe,formToJSON:rKe,getAdapter:nKe,mergeConfig:oKe}=vn;/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function a1e(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const r_=typeof window<"u",Bf=(e,t=!1)=>t?Symbol.for(e):Symbol(e),l1e=(e,t,i)=>c1e({l:e,k:t,s:i}),c1e=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),In=e=>typeof e=="number"&&isFinite(e),u1e=e=>Aj(e)==="[object Date]",Sf=e=>Aj(e)==="[object RegExp]",cA=e=>Qi(e)&&Object.keys(e).length===0,$o=Object.assign,d1e=Object.create,kr=(e=null)=>d1e(e);let N4;const Fd=()=>N4||(N4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:kr());function V4(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function B4(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h1e(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(s,r,n)=>`${r}="${B4(n)}"`),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(s,r,n)=>`${r}='${B4(n)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(s=>{e=e.replace(s,"$1javascript&#58;")}),e}const f1e=Object.prototype.hasOwnProperty;function Nc(e,t){return f1e.call(e,t)}const jr=Array.isArray,Ir=e=>typeof e=="function",li=e=>typeof e=="string",_s=e=>typeof e=="boolean",tr=e=>e!==null&&typeof e=="object",p1e=e=>tr(e)&&Ir(e.then)&&Ir(e.catch),Tj=Object.prototype.toString,Aj=e=>Tj.call(e),Qi=e=>{if(!tr(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},g1e=e=>e==null?"":jr(e)||Qi(e)&&e.toString===Tj?JSON.stringify(e,null,2):String(e);function m1e(e,t=""){return e.reduce((i,s,r)=>r===0?i+s:i+t+s,"")}function uA(e){let t=e;return()=>++t}const t1=e=>!tr(e)||jr(e);function Z1(e,t){if(t1(e)||t1(t))throw new Error("Invalid value");const i=[{src:e,des:t}];for(;i.length;){const{src:s,des:r}=i.pop();Object.keys(s).forEach(n=>{n!=="__proto__"&&(tr(s[n])&&!tr(r[n])&&(r[n]=Array.isArray(s[n])?[]:kr()),t1(r[n])||t1(s[n])?r[n]=s[n]:i.push({src:s[n],des:r[n]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function v1e(e,t,i){return{line:e,column:t,offset:i}}function n_(e,t,i){return{start:e,end:t}}const y1e=/\{([0-9a-zA-Z]+)\}/g;function kj(e,...t){return t.length===1&&C1e(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(y1e,(i,s)=>t.hasOwnProperty(s)?t[s]:"")}const Dj=Object.assign,G4=e=>typeof e=="string",C1e=e=>e!==null&&typeof e=="object";function Rj(e,t=""){return e.reduce((i,s,r)=>r===0?i+s:i+t+s,"")}const iI={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},b1e={[iI.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function w1e(e,t,...i){const s=kj(b1e[e],...i||[]),r={message:String(s),code:e};return t&&(r.location=t),r}const Ii={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},S1e={[Ii.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ii.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ii.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ii.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ii.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ii.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ii.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ii.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ii.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ii.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ii.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ii.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ii.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ii.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ii.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ii.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function X0(e,t,i={}){const{domain:s,messages:r,args:n}=i,o=kj((r||S1e)[e]||"",...n||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=s,a}function x1e(e){throw e}const Cd=" ",E1e="\r",Ca=`
`,_1e="\u2028",T1e="\u2029";function A1e(e){const t=e;let i=0,s=1,r=1,n=0;const o=k=>t[k]===E1e&&t[k+1]===Ca,a=k=>t[k]===Ca,l=k=>t[k]===T1e,c=k=>t[k]===_1e,u=k=>o(k)||a(k)||l(k)||c(k),h=()=>i,f=()=>s,p=()=>r,y=()=>n,v=k=>o(k)||l(k)||c(k)?Ca:t[k],C=()=>v(i),S=()=>v(i+n);function _(){return n=0,u(i)&&(s++,r=0),o(i)&&i++,i++,r++,t[i]}function x(){return o(i+n)&&n++,n++,t[i+n]}function A(){i=0,s=1,r=1,n=0}function R(k=0){n=k}function O(){const k=i+n;for(;k!==i;)_();n=0}return{index:h,line:f,column:p,peekOffset:y,charAt:v,currentChar:C,currentPeek:S,next:_,peek:x,reset:A,resetPeek:R,skipToPeek:O}}const Bh=void 0,k1e=".",H4="'",D1e="tokenizer";function R1e(e,t={}){const i=t.location!==!1,s=A1e(e),r=()=>s.index(),n=()=>v1e(s.line(),s.column(),s.index()),o=n(),a=r(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function h(xe,Ae,Ke,...yt){const Ct=c();if(Ae.column+=Ke,Ae.offset+=Ke,u){const ft=i?n_(Ct.startLoc,Ae):null,Je=X0(xe,ft,{domain:D1e,args:yt});u(Je)}}function f(xe,Ae,Ke){xe.endLoc=n(),xe.currentType=Ae;const yt={type:Ae};return i&&(yt.loc=n_(xe.startLoc,xe.endLoc)),Ke!=null&&(yt.value=Ke),yt}const p=xe=>f(xe,14);function y(xe,Ae){return xe.currentChar()===Ae?(xe.next(),Ae):(h(Ii.EXPECTED_TOKEN,n(),0,Ae),"")}function v(xe){let Ae="";for(;xe.currentPeek()===Cd||xe.currentPeek()===Ca;)Ae+=xe.currentPeek(),xe.peek();return Ae}function C(xe){const Ae=v(xe);return xe.skipToPeek(),Ae}function S(xe){if(xe===Bh)return!1;const Ae=xe.charCodeAt(0);return Ae>=97&&Ae<=122||Ae>=65&&Ae<=90||Ae===95}function _(xe){if(xe===Bh)return!1;const Ae=xe.charCodeAt(0);return Ae>=48&&Ae<=57}function x(xe,Ae){const{currentType:Ke}=Ae;if(Ke!==2)return!1;v(xe);const yt=S(xe.currentPeek());return xe.resetPeek(),yt}function A(xe,Ae){const{currentType:Ke}=Ae;if(Ke!==2)return!1;v(xe);const yt=xe.currentPeek()==="-"?xe.peek():xe.currentPeek(),Ct=_(yt);return xe.resetPeek(),Ct}function R(xe,Ae){const{currentType:Ke}=Ae;if(Ke!==2)return!1;v(xe);const yt=xe.currentPeek()===H4;return xe.resetPeek(),yt}function O(xe,Ae){const{currentType:Ke}=Ae;if(Ke!==8)return!1;v(xe);const yt=xe.currentPeek()===".";return xe.resetPeek(),yt}function k(xe,Ae){const{currentType:Ke}=Ae;if(Ke!==9)return!1;v(xe);const yt=S(xe.currentPeek());return xe.resetPeek(),yt}function F(xe,Ae){const{currentType:Ke}=Ae;if(!(Ke===8||Ke===12))return!1;v(xe);const yt=xe.currentPeek()===":";return xe.resetPeek(),yt}function N(xe,Ae){const{currentType:Ke}=Ae;if(Ke!==10)return!1;const yt=()=>{const ft=xe.currentPeek();return ft==="{"?S(xe.peek()):ft==="@"||ft==="%"||ft==="|"||ft===":"||ft==="."||ft===Cd||!ft?!1:ft===Ca?(xe.peek(),yt()):K(xe,!1)},Ct=yt();return xe.resetPeek(),Ct}function j(xe){v(xe);const Ae=xe.currentPeek()==="|";return xe.resetPeek(),Ae}function ee(xe){const Ae=v(xe),Ke=xe.currentPeek()==="%"&&xe.peek()==="{";return xe.resetPeek(),{isModulo:Ke,hasSpace:Ae.length>0}}function K(xe,Ae=!0){const Ke=(Ct=!1,ft="",Je=!1)=>{const ht=xe.currentPeek();return ht==="{"?ft==="%"?!1:Ct:ht==="@"||!ht?ft==="%"?!0:Ct:ht==="%"?(xe.peek(),Ke(Ct,"%",!0)):ht==="|"?ft==="%"||Je?!0:!(ft===Cd||ft===Ca):ht===Cd?(xe.peek(),Ke(!0,Cd,Je)):ht===Ca?(xe.peek(),Ke(!0,Ca,Je)):!0},yt=Ke();return Ae&&xe.resetPeek(),yt}function Q(xe,Ae){const Ke=xe.currentChar();return Ke===Bh?Bh:Ae(Ke)?(xe.next(),Ke):null}function be(xe){const Ae=xe.charCodeAt(0);return Ae>=97&&Ae<=122||Ae>=65&&Ae<=90||Ae>=48&&Ae<=57||Ae===95||Ae===36}function te(xe){return Q(xe,be)}function ne(xe){const Ae=xe.charCodeAt(0);return Ae>=97&&Ae<=122||Ae>=65&&Ae<=90||Ae>=48&&Ae<=57||Ae===95||Ae===36||Ae===45}function H(xe){return Q(xe,ne)}function ie(xe){const Ae=xe.charCodeAt(0);return Ae>=48&&Ae<=57}function ue(xe){return Q(xe,ie)}function Te(xe){const Ae=xe.charCodeAt(0);return Ae>=48&&Ae<=57||Ae>=65&&Ae<=70||Ae>=97&&Ae<=102}function Ie(xe){return Q(xe,Te)}function he(xe){let Ae="",Ke="";for(;Ae=ue(xe);)Ke+=Ae;return Ke}function Ee(xe){C(xe);const Ae=xe.currentChar();return Ae!=="%"&&h(Ii.EXPECTED_TOKEN,n(),0,Ae),xe.next(),"%"}function Y(xe){let Ae="";for(;;){const Ke=xe.currentChar();if(Ke==="{"||Ke==="}"||Ke==="@"||Ke==="|"||!Ke)break;if(Ke==="%")if(K(xe))Ae+=Ke,xe.next();else break;else if(Ke===Cd||Ke===Ca)if(K(xe))Ae+=Ke,xe.next();else{if(j(xe))break;Ae+=Ke,xe.next()}else Ae+=Ke,xe.next()}return Ae}function Z(xe){C(xe);let Ae="",Ke="";for(;Ae=H(xe);)Ke+=Ae;return xe.currentChar()===Bh&&h(Ii.UNTERMINATED_CLOSING_BRACE,n(),0),Ke}function Se(xe){C(xe);let Ae="";return xe.currentChar()==="-"?(xe.next(),Ae+=`-${he(xe)}`):Ae+=he(xe),xe.currentChar()===Bh&&h(Ii.UNTERMINATED_CLOSING_BRACE,n(),0),Ae}function ye(xe){return xe!==H4&&xe!==Ca}function ke(xe){C(xe),y(xe,"'");let Ae="",Ke="";for(;Ae=Q(xe,ye);)Ae==="\\"?Ke+=Oe(xe):Ke+=Ae;const yt=xe.currentChar();return yt===Ca||yt===Bh?(h(Ii.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),yt===Ca&&(xe.next(),y(xe,"'")),Ke):(y(xe,"'"),Ke)}function Oe(xe){const Ae=xe.currentChar();switch(Ae){case"\\":case"'":return xe.next(),`\\${Ae}`;case"u":return He(xe,Ae,4);case"U":return He(xe,Ae,6);default:return h(Ii.UNKNOWN_ESCAPE_SEQUENCE,n(),0,Ae),""}}function He(xe,Ae,Ke){y(xe,Ae);let yt="";for(let Ct=0;Ct<Ke;Ct++){const ft=Ie(xe);if(!ft){h(Ii.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,`\\${Ae}${yt}${xe.currentChar()}`);break}yt+=ft}return`\\${Ae}${yt}`}function mt(xe){return xe!=="{"&&xe!=="}"&&xe!==Cd&&xe!==Ca}function we(xe){C(xe);let Ae="",Ke="";for(;Ae=Q(xe,mt);)Ke+=Ae;return Ke}function de(xe){let Ae="",Ke="";for(;Ae=te(xe);)Ke+=Ae;return Ke}function pe(xe){const Ae=Ke=>{const yt=xe.currentChar();return yt==="{"||yt==="%"||yt==="@"||yt==="|"||yt==="("||yt===")"||!yt||yt===Cd?Ke:(Ke+=yt,xe.next(),Ae(Ke))};return Ae("")}function Ve(xe){C(xe);const Ae=y(xe,"|");return C(xe),Ae}function Qe(xe,Ae){let Ke=null;switch(xe.currentChar()){case"{":return Ae.braceNest>=1&&h(Ii.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),xe.next(),Ke=f(Ae,2,"{"),C(xe),Ae.braceNest++,Ke;case"}":return Ae.braceNest>0&&Ae.currentType===2&&h(Ii.EMPTY_PLACEHOLDER,n(),0),xe.next(),Ke=f(Ae,3,"}"),Ae.braceNest--,Ae.braceNest>0&&C(xe),Ae.inLinked&&Ae.braceNest===0&&(Ae.inLinked=!1),Ke;case"@":return Ae.braceNest>0&&h(Ii.UNTERMINATED_CLOSING_BRACE,n(),0),Ke=Ge(xe,Ae)||p(Ae),Ae.braceNest=0,Ke;default:{let Ct=!0,ft=!0,Je=!0;if(j(xe))return Ae.braceNest>0&&h(Ii.UNTERMINATED_CLOSING_BRACE,n(),0),Ke=f(Ae,1,Ve(xe)),Ae.braceNest=0,Ae.inLinked=!1,Ke;if(Ae.braceNest>0&&(Ae.currentType===5||Ae.currentType===6||Ae.currentType===7))return h(Ii.UNTERMINATED_CLOSING_BRACE,n(),0),Ae.braceNest=0,Ze(xe,Ae);if(Ct=x(xe,Ae))return Ke=f(Ae,5,Z(xe)),C(xe),Ke;if(ft=A(xe,Ae))return Ke=f(Ae,6,Se(xe)),C(xe),Ke;if(Je=R(xe,Ae))return Ke=f(Ae,7,ke(xe)),C(xe),Ke;if(!Ct&&!ft&&!Je)return Ke=f(Ae,13,we(xe)),h(Ii.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,Ke.value),C(xe),Ke;break}}return Ke}function Ge(xe,Ae){const{currentType:Ke}=Ae;let yt=null;const Ct=xe.currentChar();switch((Ke===8||Ke===9||Ke===12||Ke===10)&&(Ct===Ca||Ct===Cd)&&h(Ii.INVALID_LINKED_FORMAT,n(),0),Ct){case"@":return xe.next(),yt=f(Ae,8,"@"),Ae.inLinked=!0,yt;case".":return C(xe),xe.next(),f(Ae,9,".");case":":return C(xe),xe.next(),f(Ae,10,":");default:return j(xe)?(yt=f(Ae,1,Ve(xe)),Ae.braceNest=0,Ae.inLinked=!1,yt):O(xe,Ae)||F(xe,Ae)?(C(xe),Ge(xe,Ae)):k(xe,Ae)?(C(xe),f(Ae,12,de(xe))):N(xe,Ae)?(C(xe),Ct==="{"?Qe(xe,Ae)||yt:f(Ae,11,pe(xe))):(Ke===8&&h(Ii.INVALID_LINKED_FORMAT,n(),0),Ae.braceNest=0,Ae.inLinked=!1,Ze(xe,Ae))}}function Ze(xe,Ae){let Ke={type:14};if(Ae.braceNest>0)return Qe(xe,Ae)||p(Ae);if(Ae.inLinked)return Ge(xe,Ae)||p(Ae);switch(xe.currentChar()){case"{":return Qe(xe,Ae)||p(Ae);case"}":return h(Ii.UNBALANCED_CLOSING_BRACE,n(),0),xe.next(),f(Ae,3,"}");case"@":return Ge(xe,Ae)||p(Ae);default:{if(j(xe))return Ke=f(Ae,1,Ve(xe)),Ae.braceNest=0,Ae.inLinked=!1,Ke;const{isModulo:Ct,hasSpace:ft}=ee(xe);if(Ct)return ft?f(Ae,0,Y(xe)):f(Ae,4,Ee(xe));if(K(xe))return f(Ae,0,Y(xe));break}}return Ke}function ot(){const{currentType:xe,offset:Ae,startLoc:Ke,endLoc:yt}=l;return l.lastType=xe,l.lastOffset=Ae,l.lastStartLoc=Ke,l.lastEndLoc=yt,l.offset=r(),l.startLoc=n(),s.currentChar()===Bh?f(l,14):Ze(s,l)}return{nextToken:ot,currentOffset:r,currentPosition:n,context:c}}const P1e="parser",F1e=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function M1e(e,t,i){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(t||i,16);return s<=55295||s>=57344?String.fromCodePoint(s):""}}}function L1e(e={}){const t=e.location!==!1,{onError:i,onWarn:s}=e;function r(x,A,R,O,...k){const F=x.currentPosition();if(F.offset+=O,F.column+=O,i){const N=t?n_(R,F):null,j=X0(A,N,{domain:P1e,args:k});i(j)}}function n(x,A,R,O,...k){const F=x.currentPosition();if(F.offset+=O,F.column+=O,s){const N=t?n_(R,F):null;s(w1e(A,N,k))}}function o(x,A,R){const O={type:x};return t&&(O.start=A,O.end=A,O.loc={start:R,end:R}),O}function a(x,A,R,O){t&&(x.end=A,x.loc&&(x.loc.end=R))}function l(x,A){const R=x.context(),O=o(3,R.offset,R.startLoc);return O.value=A,a(O,x.currentOffset(),x.currentPosition()),O}function c(x,A){const R=x.context(),{lastOffset:O,lastStartLoc:k}=R,F=o(5,O,k);return F.index=parseInt(A,10),x.nextToken(),a(F,x.currentOffset(),x.currentPosition()),F}function u(x,A,R){const O=x.context(),{lastOffset:k,lastStartLoc:F}=O,N=o(4,k,F);return N.key=A,R===!0&&(N.modulo=!0),x.nextToken(),a(N,x.currentOffset(),x.currentPosition()),N}function h(x,A){const R=x.context(),{lastOffset:O,lastStartLoc:k}=R,F=o(9,O,k);return F.value=A.replace(F1e,M1e),x.nextToken(),a(F,x.currentOffset(),x.currentPosition()),F}function f(x){const A=x.nextToken(),R=x.context(),{lastOffset:O,lastStartLoc:k}=R,F=o(8,O,k);return A.type!==12?(r(x,Ii.UNEXPECTED_EMPTY_LINKED_MODIFIER,R.lastStartLoc,0),F.value="",a(F,O,k),{nextConsumeToken:A,node:F}):(A.value==null&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Rc(A)),F.value=A.value||"",a(F,x.currentOffset(),x.currentPosition()),{node:F})}function p(x,A){const R=x.context(),O=o(7,R.offset,R.startLoc);return O.value=A,a(O,x.currentOffset(),x.currentPosition()),O}function y(x){const A=x.context(),R=o(6,A.offset,A.startLoc);let O=x.nextToken();if(O.type===9){const k=f(x);R.modifier=k.node,O=k.nextConsumeToken||x.nextToken()}switch(O.type!==10&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,Rc(O)),O=x.nextToken(),O.type===2&&(O=x.nextToken()),O.type){case 11:O.value==null&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,Rc(O)),R.key=p(x,O.value||"");break;case 5:O.value==null&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,Rc(O)),R.key=u(x,O.value||"");break;case 6:O.value==null&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,Rc(O)),R.key=c(x,O.value||"");break;case 7:O.value==null&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,Rc(O)),R.key=h(x,O.value||"");break;default:{r(x,Ii.UNEXPECTED_EMPTY_LINKED_KEY,A.lastStartLoc,0);const k=x.context(),F=o(7,k.offset,k.startLoc);return F.value="",a(F,k.offset,k.startLoc),R.key=F,a(R,k.offset,k.startLoc),{nextConsumeToken:O,node:R}}}return a(R,x.currentOffset(),x.currentPosition()),{node:R}}function v(x){const A=x.context(),R=A.currentType===1?x.currentOffset():A.offset,O=A.currentType===1?A.endLoc:A.startLoc,k=o(2,R,O);k.items=[];let F=null,N=null;do{const K=F||x.nextToken();switch(F=null,K.type){case 0:K.value==null&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,Rc(K)),k.items.push(l(x,K.value||""));break;case 6:K.value==null&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,Rc(K)),k.items.push(c(x,K.value||""));break;case 4:N=!0;break;case 5:K.value==null&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,Rc(K)),k.items.push(u(x,K.value||"",!!N)),N&&(n(x,iI.USE_MODULO_SYNTAX,A.lastStartLoc,0,Rc(K)),N=null);break;case 7:K.value==null&&r(x,Ii.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,Rc(K)),k.items.push(h(x,K.value||""));break;case 8:{const Q=y(x);k.items.push(Q.node),F=Q.nextConsumeToken||null;break}}}while(A.currentType!==14&&A.currentType!==1);const j=A.currentType===1?A.lastOffset:x.currentOffset(),ee=A.currentType===1?A.lastEndLoc:x.currentPosition();return a(k,j,ee),k}function C(x,A,R,O){const k=x.context();let F=O.items.length===0;const N=o(1,A,R);N.cases=[],N.cases.push(O);do{const j=v(x);F||(F=j.items.length===0),N.cases.push(j)}while(k.currentType!==14);return F&&r(x,Ii.MUST_HAVE_MESSAGES_IN_PLURAL,R,0),a(N,x.currentOffset(),x.currentPosition()),N}function S(x){const A=x.context(),{offset:R,startLoc:O}=A,k=v(x);return A.currentType===14?k:C(x,R,O,k)}function _(x){const A=R1e(x,Dj({},e)),R=A.context(),O=o(0,R.offset,R.startLoc);return t&&O.loc&&(O.loc.source=x),O.body=S(A),e.onCacheKey&&(O.cacheKey=e.onCacheKey(x)),R.currentType!==14&&r(A,Ii.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,x[R.offset]||""),a(O,A.currentOffset(),A.currentPosition()),O}return{parse:_}}function Rc(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function O1e(e,t={}){const i={ast:e,helpers:new Set};return{context:()=>i,helper:n=>(i.helpers.add(n),n)}}function $4(e,t){for(let i=0;i<e.length;i++)sI(e[i],t)}function sI(e,t){switch(e.type){case 1:$4(e.cases,t),t.helper("plural");break;case 2:$4(e.items,t);break;case 6:{sI(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function I1e(e,t={}){const i=O1e(e);i.helper("normalize"),e.body&&sI(e.body,i);const s=i.context();e.helpers=Array.from(s.helpers)}function N1e(e){const t=e.body;return t.type===2?W4(t):t.cases.forEach(i=>W4(i)),e}function W4(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let i=0;i<e.items.length;i++){const s=e.items[i];if(!(s.type===3||s.type===9)||s.value==null)break;t.push(s.value)}if(t.length===e.items.length){e.static=Rj(t);for(let i=0;i<e.items.length;i++){const s=e.items[i];(s.type===3||s.type===9)&&delete s.value}}}}const V1e="minifier";function vv(e){switch(e.t=e.type,e.type){case 0:{const t=e;vv(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,i=t.cases;for(let s=0;s<i.length;s++)vv(i[s]);t.c=i,delete t.cases;break}case 2:{const t=e,i=t.items;for(let s=0;s<i.length;s++)vv(i[s]);t.i=i,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;vv(t.key),t.k=t.key,delete t.key,t.modifier&&(vv(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw X0(Ii.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:V1e,args:[e.type]})}delete e.type}const B1e="parser";function G1e(e,t){const{filename:i,breakLineCode:s,needIndent:r}=t,n=t.location!==!1,o={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:r,indentLevel:0};n&&e.loc&&(o.source=e.loc.source);const a=()=>o;function l(v,C){o.code+=v}function c(v,C=!0){const S=C?s:"";l(r?S+"  ".repeat(v):S)}function u(v=!0){const C=++o.indentLevel;v&&c(C)}function h(v=!0){const C=--o.indentLevel;v&&c(C)}function f(){c(o.indentLevel)}return{context:a,push:l,indent:u,deindent:h,newline:f,helper:v=>`_${v}`,needIndent:()=>o.needIndent}}function H1e(e,t){const{helper:i}=e;e.push(`${i("linked")}(`),u0(e,t.key),t.modifier?(e.push(", "),u0(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function $1e(e,t){const{helper:i,needIndent:s}=e;e.push(`${i("normalize")}([`),e.indent(s());const r=t.items.length;for(let n=0;n<r&&(u0(e,t.items[n]),n!==r-1);n++)e.push(", ");e.deindent(s()),e.push("])")}function W1e(e,t){const{helper:i,needIndent:s}=e;if(t.cases.length>1){e.push(`${i("plural")}([`),e.indent(s());const r=t.cases.length;for(let n=0;n<r&&(u0(e,t.cases[n]),n!==r-1);n++)e.push(", ");e.deindent(s()),e.push("])")}}function U1e(e,t){t.body?u0(e,t.body):e.push("null")}function u0(e,t){const{helper:i}=e;switch(t.type){case 0:U1e(e,t);break;case 1:W1e(e,t);break;case 2:$1e(e,t);break;case 6:H1e(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${i("interpolate")}(${i("list")}(${t.index}))`,t);break;case 4:e.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw X0(Ii.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:B1e,args:[t.type]})}}const z1e=(e,t={})=>{const i=G4(t.mode)?t.mode:"normal",s=G4(t.filename)?t.filename:"message.intl";t.sourceMap;const r=t.breakLineCode!=null?t.breakLineCode:i==="arrow"?";":`
`,n=t.needIndent?t.needIndent:i!=="arrow",o=e.helpers||[],a=G1e(e,{filename:s,breakLineCode:r,needIndent:n});a.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(n),o.length>0&&(a.push(`const { ${Rj(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),u0(a,e),a.deindent(n),a.push("}"),delete e.helpers;const{code:l,map:c}=a.context();return{ast:e,code:l,map:c?c.toJSON():void 0}};function j1e(e,t={}){const i=Dj({},t),s=!!i.jit,r=!!i.minify,n=i.optimize==null?!0:i.optimize,a=L1e(i).parse(e);return s?(n&&N1e(a),r&&vv(a),{ast:a,code:""}):(I1e(a,i),z1e(a,i))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function K1e(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Fd().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Fd().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Fd().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Nu(e){return tr(e)&&rI(e)===0&&(Nc(e,"b")||Nc(e,"body"))}const Pj=["b","body"];function Y1e(e){return Gf(e,Pj)}const Fj=["c","cases"];function X1e(e){return Gf(e,Fj,[])}const Mj=["s","static"];function q1e(e){return Gf(e,Mj)}const Lj=["i","items"];function Q1e(e){return Gf(e,Lj,[])}const Oj=["t","type"];function rI(e){return Gf(e,Oj)}const Ij=["v","value"];function i1(e,t){const i=Gf(e,Ij);if(i!=null)return i;throw Ib(t)}const Nj=["m","modifier"];function J1e(e){return Gf(e,Nj)}const Vj=["k","key"];function Z1e(e){const t=Gf(e,Vj);if(t)return t;throw Ib(6)}function Gf(e,t,i){for(let s=0;s<t.length;s++){const r=t[s];if(Nc(e,r)&&e[r]!=null)return e[r]}return i}const Bj=[...Pj,...Fj,...Mj,...Lj,...Vj,...Nj,...Ij,...Oj];function Ib(e){return new Error(`unhandled node type: ${e}`)}const Hf=[];Hf[0]={w:[0],i:[3,0],"[":[4],o:[7]};Hf[1]={w:[1],".":[2],"[":[4],o:[7]};Hf[2]={w:[2],i:[3,0],0:[3,0]};Hf[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Hf[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Hf[5]={"'":[4,0],o:8,l:[5,0]};Hf[6]={'"':[4,0],o:8,l:[6,0]};const eEe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function tEe(e){return eEe.test(e)}function iEe(e){const t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function sEe(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function rEe(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:tEe(t)?iEe(t):"*"+t}function nEe(e){const t=[];let i=-1,s=0,r=0,n,o,a,l,c,u,h;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},f[2]=()=>{f[0](),r++},f[3]=()=>{if(r>0)r--,s=4,f[0]();else{if(r=0,o===void 0||(o=rEe(o),o===!1))return!1;f[1]()}};function p(){const y=e[i+1];if(s===5&&y==="'"||s===6&&y==='"')return i++,a="\\"+y,f[0](),!0}for(;s!==null;)if(i++,n=e[i],!(n==="\\"&&p())){if(l=sEe(n),h=Hf[s],c=h[l]||h.l||8,c===8||(s=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=n,u()===!1))))return;if(s===7)return t}}const U4=new Map;function oEe(e,t){return tr(e)?e[t]:null}function aEe(e,t){if(!tr(e))return null;let i=U4.get(t);if(i||(i=nEe(t),i&&U4.set(t,i)),!i)return null;const s=i.length;let r=e,n=0;for(;n<s;){const o=i[n];if(Bj.includes(o)&&Nu(r))return null;const a=r[o];if(a===void 0||Ir(r))return null;r=a,n++}return r}const lEe=e=>e,cEe=e=>"",uEe="text",dEe=e=>e.length===0?"":m1e(e),hEe=g1e;function z4(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function fEe(e){const t=In(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(In(e.named.count)||In(e.named.n))?In(e.named.count)?e.named.count:In(e.named.n)?e.named.n:t:t}function pEe(e,t){t.count||(t.count=e),t.n||(t.n=e)}function gEe(e={}){const t=e.locale,i=fEe(e),s=tr(e.pluralRules)&&li(t)&&Ir(e.pluralRules[t])?e.pluralRules[t]:z4,r=tr(e.pluralRules)&&li(t)&&Ir(e.pluralRules[t])?z4:void 0,n=S=>S[s(i,S.length,r)],o=e.list||[],a=S=>o[S],l=e.named||kr();In(e.pluralIndex)&&pEe(i,l);const c=S=>l[S];function u(S){const _=Ir(e.messages)?e.messages(S):tr(e.messages)?e.messages[S]:!1;return _||(e.parent?e.parent.message(S):cEe)}const h=S=>e.modifiers?e.modifiers[S]:lEe,f=Qi(e.processor)&&Ir(e.processor.normalize)?e.processor.normalize:dEe,p=Qi(e.processor)&&Ir(e.processor.interpolate)?e.processor.interpolate:hEe,y=Qi(e.processor)&&li(e.processor.type)?e.processor.type:uEe,C={list:a,named:c,plural:n,linked:(S,..._)=>{const[x,A]=_;let R="text",O="";_.length===1?tr(x)?(O=x.modifier||O,R=x.type||R):li(x)&&(O=x||O):_.length===2&&(li(x)&&(O=x||O),li(A)&&(R=A||R));const k=u(S)(C),F=R==="vnode"&&jr(k)&&O?k[0]:k;return O?h(O)(F,R):F},message:u,type:y,interpolate:p,normalize:f,values:$o(kr(),o,l)};return C}let Nb=null;function mEe(e){Nb=e}function vEe(e,t,i){Nb&&Nb.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:i})}const yEe=CEe("function:translate");function CEe(e){return t=>Nb&&Nb.emit(e,t)}const bEe=iI.__EXTEND_POINT__,Cp=uA(bEe),wEe={FALLBACK_TO_TRANSLATE:Cp(),CANNOT_FORMAT_NUMBER:Cp(),FALLBACK_TO_NUMBER_FORMAT:Cp(),CANNOT_FORMAT_DATE:Cp(),FALLBACK_TO_DATE_FORMAT:Cp(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Cp(),__EXTEND_POINT__:Cp()},Gj=Ii.__EXTEND_POINT__,bp=uA(Gj),Vc={INVALID_ARGUMENT:Gj,INVALID_DATE_ARGUMENT:bp(),INVALID_ISO_DATE_ARGUMENT:bp(),NOT_SUPPORT_NON_STRING_MESSAGE:bp(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:bp(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:bp(),NOT_SUPPORT_LOCALE_TYPE:bp(),__EXTEND_POINT__:bp()};function Ru(e){return X0(e,null,void 0)}function nI(e,t){return t.locale!=null?j4(t.locale):j4(e.locale)}let fR;function j4(e){if(li(e))return e;if(Ir(e)){if(e.resolvedOnce&&fR!=null)return fR;if(e.constructor.name==="Function"){const t=e();if(p1e(t))throw Ru(Vc.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return fR=t}else throw Ru(Vc.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Ru(Vc.NOT_SUPPORT_LOCALE_TYPE)}function SEe(e,t,i){return[...new Set([i,...jr(t)?t:tr(t)?Object.keys(t):li(t)?[t]:[i]])]}function Hj(e,t,i){const s=li(i)?i:d0,r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let n=r.__localeChainCache.get(s);if(!n){n=[];let o=[i];for(;jr(o);)o=K4(n,o,t);const a=jr(t)||!Qi(t)?t:t.default?t.default:null;o=li(a)?[a]:a,jr(o)&&K4(n,o,!1),r.__localeChainCache.set(s,n)}return n}function K4(e,t,i){let s=!0;for(let r=0;r<t.length&&_s(s);r++){const n=t[r];li(n)&&(s=xEe(e,t[r],i))}return s}function xEe(e,t,i){let s;const r=t.split("-");do{const n=r.join("-");s=EEe(e,n,i),r.splice(-1,1)}while(r.length&&s===!0);return s}function EEe(e,t,i){let s=!1;if(!e.includes(t)&&(s=!0,t)){s=t[t.length-1]!=="!";const r=t.replace(/!/g,"");e.push(r),(jr(i)||Qi(i))&&i[r]&&(s=i[r])}return s}const _Ee="9.14.5",dA=-1,d0="en-US",Y4="",X4=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function TEe(){return{upper:(e,t)=>t==="text"&&li(e)?e.toUpperCase():t==="vnode"&&tr(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&li(e)?e.toLowerCase():t==="vnode"&&tr(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&li(e)?X4(e):t==="vnode"&&tr(e)&&"__v_isVNode"in e?X4(e.children):e}}let $j;function q4(e){$j=e}let Wj;function AEe(e){Wj=e}let Uj;function kEe(e){Uj=e}let zj=null;const DEe=e=>{zj=e},REe=()=>zj;let jj=null;const Q4=e=>{jj=e},PEe=()=>jj;let J4=0;function FEe(e={}){const t=Ir(e.onWarn)?e.onWarn:a1e,i=li(e.version)?e.version:_Ee,s=li(e.locale)||Ir(e.locale)?e.locale:d0,r=Ir(s)?d0:s,n=jr(e.fallbackLocale)||Qi(e.fallbackLocale)||li(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,o=Qi(e.messages)?e.messages:pR(r),a=Qi(e.datetimeFormats)?e.datetimeFormats:pR(r),l=Qi(e.numberFormats)?e.numberFormats:pR(r),c=$o(kr(),e.modifiers,TEe()),u=e.pluralRules||kr(),h=Ir(e.missing)?e.missing:null,f=_s(e.missingWarn)||Sf(e.missingWarn)?e.missingWarn:!0,p=_s(e.fallbackWarn)||Sf(e.fallbackWarn)?e.fallbackWarn:!0,y=!!e.fallbackFormat,v=!!e.unresolving,C=Ir(e.postTranslation)?e.postTranslation:null,S=Qi(e.processor)?e.processor:null,_=_s(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter,A=Ir(e.messageCompiler)?e.messageCompiler:$j,R=Ir(e.messageResolver)?e.messageResolver:Wj||oEe,O=Ir(e.localeFallbacker)?e.localeFallbacker:Uj||SEe,k=tr(e.fallbackContext)?e.fallbackContext:void 0,F=e,N=tr(F.__datetimeFormatters)?F.__datetimeFormatters:new Map,j=tr(F.__numberFormatters)?F.__numberFormatters:new Map,ee=tr(F.__meta)?F.__meta:{};J4++;const K={version:i,cid:J4,locale:s,fallbackLocale:n,messages:o,modifiers:c,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:p,fallbackFormat:y,unresolving:v,postTranslation:C,processor:S,warnHtmlMessage:_,escapeParameter:x,messageCompiler:A,messageResolver:R,localeFallbacker:O,fallbackContext:k,onWarn:t,__meta:ee};return K.datetimeFormats=a,K.numberFormats=l,K.__datetimeFormatters=N,K.__numberFormatters=j,__INTLIFY_PROD_DEVTOOLS__&&vEe(K,i,ee),K}const pR=e=>({[e]:kr()});function oI(e,t,i,s,r){const{missing:n,onWarn:o}=e;if(n!==null){const a=n(e,i,t,r);return li(a)?a:t}else return t}function Qy(e,t,i){const s=e;s.__localeChainCache=new Map,e.localeFallbacker(e,i,t)}function MEe(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function LEe(e,t){const i=t.indexOf(e);if(i===-1)return!1;for(let s=i+1;s<t.length;s++)if(MEe(e,t[s]))return!0;return!1}function gR(e){return i=>OEe(i,e)}function OEe(e,t){const i=Y1e(t);if(i==null)throw Ib(0);if(rI(i)===1){const n=X1e(i);return e.plural(n.reduce((o,a)=>[...o,Z4(e,a)],[]))}else return Z4(e,i)}function Z4(e,t){const i=q1e(t);if(i!=null)return e.type==="text"?i:e.normalize([i]);{const s=Q1e(t).reduce((r,n)=>[...r,OF(e,n)],[]);return e.normalize(s)}}function OF(e,t){const i=rI(t);switch(i){case 3:return i1(t,i);case 9:return i1(t,i);case 4:{const s=t;if(Nc(s,"k")&&s.k)return e.interpolate(e.named(s.k));if(Nc(s,"key")&&s.key)return e.interpolate(e.named(s.key));throw Ib(i)}case 5:{const s=t;if(Nc(s,"i")&&In(s.i))return e.interpolate(e.list(s.i));if(Nc(s,"index")&&In(s.index))return e.interpolate(e.list(s.index));throw Ib(i)}case 6:{const s=t,r=J1e(s),n=Z1e(s);return e.linked(OF(e,n),r?OF(e,r):void 0,e.type)}case 7:return i1(t,i);case 8:return i1(t,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const Kj=e=>e;let _v=kr();function Yj(e,t={}){let i=!1;const s=t.onError||x1e;return t.onError=r=>{i=!0,s(r)},{...j1e(e,t),detectError:i}}const IEe=(e,t)=>{if(!li(e))throw Ru(Vc.NOT_SUPPORT_NON_STRING_MESSAGE);{_s(t.warnHtmlMessage)&&t.warnHtmlMessage;const s=(t.onCacheKey||Kj)(e),r=_v[s];if(r)return r;const{code:n,detectError:o}=Yj(e,t),a=new Function(`return ${n}`)();return o?a:_v[s]=a}};function NEe(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&li(e)){_s(t.warnHtmlMessage)&&t.warnHtmlMessage;const s=(t.onCacheKey||Kj)(e),r=_v[s];if(r)return r;const{ast:n,detectError:o}=Yj(e,{...t,location:!1,jit:!0}),a=gR(n);return o?a:_v[s]=a}else{const i=e.cacheKey;if(i){const s=_v[i];return s||(_v[i]=gR(e))}else return gR(e)}}const e3=()=>"",sc=e=>Ir(e);function t3(e,...t){const{fallbackFormat:i,postTranslation:s,unresolving:r,messageCompiler:n,fallbackLocale:o,messages:a}=e,[l,c]=IF(...t),u=_s(c.missingWarn)?c.missingWarn:e.missingWarn,h=_s(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,f=_s(c.escapeParameter)?c.escapeParameter:e.escapeParameter,p=!!c.resolvedMessage,y=li(c.default)||_s(c.default)?_s(c.default)?n?l:()=>l:c.default:i?n?l:()=>l:"",v=i||y!=="",C=nI(e,c);f&&VEe(c);let[S,_,x]=p?[l,C,a[C]||kr()]:Xj(e,l,C,o,h,u),A=S,R=l;if(!p&&!(li(A)||Nu(A)||sc(A))&&v&&(A=y,R=A),!p&&(!(li(A)||Nu(A)||sc(A))||!li(_)))return r?dA:l;let O=!1;const k=()=>{O=!0},F=sc(A)?A:qj(e,l,_,A,R,k);if(O)return A;const N=HEe(e,_,x,c),j=gEe(N),ee=BEe(e,F,j);let K=s?s(ee,l):ee;if(f&&li(K)&&(K=h1e(K)),__INTLIFY_PROD_DEVTOOLS__){const Q={timestamp:Date.now(),key:li(l)?l:sc(A)?A.key:"",locale:_||(sc(A)?A.locale:""),format:li(A)?A:sc(A)?A.source:"",message:K};Q.meta=$o({},e.__meta,REe()||{}),yEe(Q)}return K}function VEe(e){jr(e.list)?e.list=e.list.map(t=>li(t)?V4(t):t):tr(e.named)&&Object.keys(e.named).forEach(t=>{li(e.named[t])&&(e.named[t]=V4(e.named[t]))})}function Xj(e,t,i,s,r,n){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,u=c(e,s,i);let h=kr(),f,p=null;const y="translate";for(let v=0;v<u.length&&(f=u[v],h=o[f]||kr(),(p=l(h,t))===null&&(p=h[t]),!(li(p)||Nu(p)||sc(p)));v++)if(!LEe(f,u)){const C=oI(e,t,f,n,y);C!==t&&(p=C)}return[p,f,h]}function qj(e,t,i,s,r,n){const{messageCompiler:o,warnHtmlMessage:a}=e;if(sc(s)){const c=s;return c.locale=c.locale||i,c.key=c.key||t,c}if(o==null){const c=()=>s;return c.locale=i,c.key=t,c}const l=o(s,GEe(e,i,r,s,a,n));return l.locale=i,l.key=t,l.source=s,l}function BEe(e,t,i){return t(i)}function IF(...e){const[t,i,s]=e,r=kr();if(!li(t)&&!In(t)&&!sc(t)&&!Nu(t))throw Ru(Vc.INVALID_ARGUMENT);const n=In(t)?String(t):(sc(t),t);return In(i)?r.plural=i:li(i)?r.default=i:Qi(i)&&!cA(i)?r.named=i:jr(i)&&(r.list=i),In(s)?r.plural=s:li(s)?r.default=s:Qi(s)&&$o(r,s),[n,r]}function GEe(e,t,i,s,r,n){return{locale:t,key:i,warnHtmlMessage:r,onError:o=>{throw n&&n(o),o},onCacheKey:o=>l1e(t,i,o)}}function HEe(e,t,i,s){const{modifiers:r,pluralRules:n,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,f={locale:t,modifiers:r,pluralRules:n,messages:p=>{let y=o(i,p);if(y==null&&u){const[,,v]=Xj(u,p,t,a,l,c);y=o(v,p)}if(li(y)||Nu(y)){let v=!1;const S=qj(e,p,t,y,p,()=>{v=!0});return v?e3:S}else return sc(y)?y:e3}};return e.processor&&(f.processor=e.processor),s.list&&(f.list=s.list),s.named&&(f.named=s.named),In(s.plural)&&(f.pluralIndex=s.plural),f}function i3(e,...t){const{datetimeFormats:i,unresolving:s,fallbackLocale:r,onWarn:n,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,u,h]=NF(...t),f=_s(u.missingWarn)?u.missingWarn:e.missingWarn;_s(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const p=!!u.part,y=nI(e,u),v=o(e,r,y);if(!li(l)||l==="")return new Intl.DateTimeFormat(y,h).format(c);let C={},S,_=null;const x="datetime format";for(let O=0;O<v.length&&(S=v[O],C=i[S]||{},_=C[l],!Qi(_));O++)oI(e,l,S,f,x);if(!Qi(_)||!li(S))return s?dA:l;let A=`${S}__${l}`;cA(h)||(A=`${A}__${JSON.stringify(h)}`);let R=a.get(A);return R||(R=new Intl.DateTimeFormat(S,$o({},_,h)),a.set(A,R)),p?R.formatToParts(c):R.format(c)}const Qj=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function NF(...e){const[t,i,s,r]=e,n=kr();let o=kr(),a;if(li(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Ru(Vc.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Ru(Vc.INVALID_ISO_DATE_ARGUMENT)}}else if(u1e(t)){if(isNaN(t.getTime()))throw Ru(Vc.INVALID_DATE_ARGUMENT);a=t}else if(In(t))a=t;else throw Ru(Vc.INVALID_ARGUMENT);return li(i)?n.key=i:Qi(i)&&Object.keys(i).forEach(l=>{Qj.includes(l)?o[l]=i[l]:n[l]=i[l]}),li(s)?n.locale=s:Qi(s)&&(o=s),Qi(r)&&(o=r),[n.key||"",a,n,o]}function s3(e,t,i){const s=e;for(const r in i){const n=`${t}__${r}`;s.__datetimeFormatters.has(n)&&s.__datetimeFormatters.delete(n)}}function r3(e,...t){const{numberFormats:i,unresolving:s,fallbackLocale:r,onWarn:n,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,u,h]=VF(...t),f=_s(u.missingWarn)?u.missingWarn:e.missingWarn;_s(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const p=!!u.part,y=nI(e,u),v=o(e,r,y);if(!li(l)||l==="")return new Intl.NumberFormat(y,h).format(c);let C={},S,_=null;const x="number format";for(let O=0;O<v.length&&(S=v[O],C=i[S]||{},_=C[l],!Qi(_));O++)oI(e,l,S,f,x);if(!Qi(_)||!li(S))return s?dA:l;let A=`${S}__${l}`;cA(h)||(A=`${A}__${JSON.stringify(h)}`);let R=a.get(A);return R||(R=new Intl.NumberFormat(S,$o({},_,h)),a.set(A,R)),p?R.formatToParts(c):R.format(c)}const Jj=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function VF(...e){const[t,i,s,r]=e,n=kr();let o=kr();if(!In(t))throw Ru(Vc.INVALID_ARGUMENT);const a=t;return li(i)?n.key=i:Qi(i)&&Object.keys(i).forEach(l=>{Jj.includes(l)?o[l]=i[l]:n[l]=i[l]}),li(s)?n.locale=s:Qi(s)&&(o=s),Qi(r)&&(o=r),[n.key||"",a,n,o]}function n3(e,t,i){const s=e;for(const r in i){const n=`${t}__${r}`;s.__numberFormatters.has(n)&&s.__numberFormatters.delete(n)}}K1e();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const $Ee="9.14.5";function WEe(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Fd().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Fd().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Fd().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Fd().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Fd().__INTLIFY_PROD_DEVTOOLS__=!1)}const UEe=wEe.__EXTEND_POINT__,bd=uA(UEe);bd(),bd(),bd(),bd(),bd(),bd(),bd(),bd(),bd();const Zj=Vc.__EXTEND_POINT__,Ba=uA(Zj),vo={UNEXPECTED_RETURN_TYPE:Zj,INVALID_ARGUMENT:Ba(),MUST_BE_CALL_SETUP_TOP:Ba(),NOT_INSTALLED:Ba(),NOT_AVAILABLE_IN_LEGACY_MODE:Ba(),REQUIRED_VALUE:Ba(),INVALID_VALUE:Ba(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ba(),NOT_INSTALLED_WITH_PROVIDE:Ba(),UNEXPECTED_ERROR:Ba(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ba(),BRIDGE_SUPPORT_VUE_2_ONLY:Ba(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ba(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ba(),__EXTEND_POINT__:Ba()};function _o(e,...t){return X0(e,null,void 0)}const BF=Bf("__translateVNode"),GF=Bf("__datetimeParts"),HF=Bf("__numberParts"),eK=Bf("__setPluralRules"),tK=Bf("__injectWithOption"),$F=Bf("__dispose");function Vb(e){if(!tr(e)||Nu(e))return e;for(const t in e)if(Nc(e,t))if(!t.includes("."))tr(e[t])&&Vb(e[t]);else{const i=t.split("."),s=i.length-1;let r=e,n=!1;for(let o=0;o<s;o++){if(i[o]==="__proto__")throw new Error(`unsafe key: ${i[o]}`);if(i[o]in r||(r[i[o]]=kr()),!tr(r[i[o]])){n=!0;break}r=r[i[o]]}if(n||(Nu(r)?Bj.includes(i[s])||delete e[t]:(r[i[s]]=e[t],delete e[t])),!Nu(r)){const o=r[i[s]];tr(o)&&Vb(o)}}return e}function hA(e,t){const{messages:i,__i18n:s,messageResolver:r,flatJson:n}=t,o=Qi(i)?i:jr(s)?kr():{[e]:kr()};if(jr(s)&&s.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||kr(),Z1(c,o[l])):Z1(c,o)}else li(a)&&Z1(JSON.parse(a),o)}),r==null&&n)for(const a in o)Nc(o,a)&&Vb(o[a]);return o}function iK(e){return e.type}function sK(e,t,i){let s=tr(t.messages)?t.messages:kr();"__i18nGlobal"in i&&(s=hA(e.locale.value,{messages:s,__i18n:i.__i18nGlobal}));const r=Object.keys(s);r.length&&r.forEach(n=>{e.mergeLocaleMessage(n,s[n])});{if(tr(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(tr(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function o3(e){return wt(ac,null,e,0)}const a3="__INTLIFY_META__",l3=()=>[],zEe=()=>!1;let c3=0;function u3(e){return(t,i,s,r)=>e(i,s,Di()||void 0,r)}const jEe=()=>{const e=Di();let t=null;return e&&(t=iK(e)[a3])?{[a3]:t}:null};function aI(e={},t){const{__root:i,__injectWithOption:s}=e,r=i===void 0,n=e.flatJson,o=r_?We:vi,a=!!e.translateExistCompatible;let l=_s(e.inheritLocale)?e.inheritLocale:!0;const c=o(i&&l?i.locale.value:li(e.locale)?e.locale:d0),u=o(i&&l?i.fallbackLocale.value:li(e.fallbackLocale)||jr(e.fallbackLocale)||Qi(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),h=o(hA(c.value,e)),f=o(Qi(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),p=o(Qi(e.numberFormats)?e.numberFormats:{[c.value]:{}});let y=i?i.missingWarn:_s(e.missingWarn)||Sf(e.missingWarn)?e.missingWarn:!0,v=i?i.fallbackWarn:_s(e.fallbackWarn)||Sf(e.fallbackWarn)?e.fallbackWarn:!0,C=i?i.fallbackRoot:_s(e.fallbackRoot)?e.fallbackRoot:!0,S=!!e.fallbackFormat,_=Ir(e.missing)?e.missing:null,x=Ir(e.missing)?u3(e.missing):null,A=Ir(e.postTranslation)?e.postTranslation:null,R=i?i.warnHtmlMessage:_s(e.warnHtmlMessage)?e.warnHtmlMessage:!0,O=!!e.escapeParameter;const k=i?i.modifiers:Qi(e.modifiers)?e.modifiers:{};let F=e.pluralRules||i&&i.pluralRules,N;N=(()=>{r&&Q4(null);const Je={version:$Ee,locale:c.value,fallbackLocale:u.value,messages:h.value,modifiers:k,pluralRules:F,missing:x===null?void 0:x,missingWarn:y,fallbackWarn:v,fallbackFormat:S,unresolving:!0,postTranslation:A===null?void 0:A,warnHtmlMessage:R,escapeParameter:O,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};Je.datetimeFormats=f.value,Je.numberFormats=p.value,Je.__datetimeFormatters=Qi(N)?N.__datetimeFormatters:void 0,Je.__numberFormatters=Qi(N)?N.__numberFormatters:void 0;const ht=FEe(Je);return r&&Q4(ht),ht})(),Qy(N,c.value,u.value);function ee(){return[c.value,u.value,h.value,f.value,p.value]}const K=V({get:()=>c.value,set:Je=>{c.value=Je,N.locale=c.value}}),Q=V({get:()=>u.value,set:Je=>{u.value=Je,N.fallbackLocale=u.value,Qy(N,c.value,Je)}}),be=V(()=>h.value),te=V(()=>f.value),ne=V(()=>p.value);function H(){return Ir(A)?A:null}function ie(Je){A=Je,N.postTranslation=Je}function ue(){return _}function Te(Je){Je!==null&&(x=u3(Je)),_=Je,N.missing=x}const Ie=(Je,ht,Yt,$e,Me,qe)=>{ee();let pt;try{__INTLIFY_PROD_DEVTOOLS__,r||(N.fallbackContext=i?PEe():void 0),pt=Je(N)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(N.fallbackContext=void 0)}if(Yt!=="translate exists"&&In(pt)&&pt===dA||Yt==="translate exists"&&!pt){const[vt,_i]=ht();return i&&C?$e(i):Me(vt)}else{if(qe(pt))return pt;throw _o(vo.UNEXPECTED_RETURN_TYPE)}};function he(...Je){return Ie(ht=>Reflect.apply(t3,null,[ht,...Je]),()=>IF(...Je),"translate",ht=>Reflect.apply(ht.t,ht,[...Je]),ht=>ht,ht=>li(ht))}function Ee(...Je){const[ht,Yt,$e]=Je;if($e&&!tr($e))throw _o(vo.INVALID_ARGUMENT);return he(ht,Yt,$o({resolvedMessage:!0},$e||{}))}function Y(...Je){return Ie(ht=>Reflect.apply(i3,null,[ht,...Je]),()=>NF(...Je),"datetime format",ht=>Reflect.apply(ht.d,ht,[...Je]),()=>Y4,ht=>li(ht))}function Z(...Je){return Ie(ht=>Reflect.apply(r3,null,[ht,...Je]),()=>VF(...Je),"number format",ht=>Reflect.apply(ht.n,ht,[...Je]),()=>Y4,ht=>li(ht))}function Se(Je){return Je.map(ht=>li(ht)||In(ht)||_s(ht)?o3(String(ht)):ht)}const ke={normalize:Se,interpolate:Je=>Je,type:"vnode"};function Oe(...Je){return Ie(ht=>{let Yt;const $e=ht;try{$e.processor=ke,Yt=Reflect.apply(t3,null,[$e,...Je])}finally{$e.processor=null}return Yt},()=>IF(...Je),"translate",ht=>ht[BF](...Je),ht=>[o3(ht)],ht=>jr(ht))}function He(...Je){return Ie(ht=>Reflect.apply(r3,null,[ht,...Je]),()=>VF(...Je),"number format",ht=>ht[HF](...Je),l3,ht=>li(ht)||jr(ht))}function mt(...Je){return Ie(ht=>Reflect.apply(i3,null,[ht,...Je]),()=>NF(...Je),"datetime format",ht=>ht[GF](...Je),l3,ht=>li(ht)||jr(ht))}function we(Je){F=Je,N.pluralRules=F}function de(Je,ht){return Ie(()=>{if(!Je)return!1;const Yt=li(ht)?ht:c.value,$e=Qe(Yt),Me=N.messageResolver($e,Je);return a?Me!=null:Nu(Me)||sc(Me)||li(Me)},()=>[Je],"translate exists",Yt=>Reflect.apply(Yt.te,Yt,[Je,ht]),zEe,Yt=>_s(Yt))}function pe(Je){let ht=null;const Yt=Hj(N,u.value,c.value);for(let $e=0;$e<Yt.length;$e++){const Me=h.value[Yt[$e]]||{},qe=N.messageResolver(Me,Je);if(qe!=null){ht=qe;break}}return ht}function Ve(Je){const ht=pe(Je);return ht??(i?i.tm(Je)||{}:{})}function Qe(Je){return h.value[Je]||{}}function Ge(Je,ht){if(n){const Yt={[Je]:ht};for(const $e in Yt)Nc(Yt,$e)&&Vb(Yt[$e]);ht=Yt[Je]}h.value[Je]=ht,N.messages=h.value}function Ze(Je,ht){h.value[Je]=h.value[Je]||{};const Yt={[Je]:ht};if(n)for(const $e in Yt)Nc(Yt,$e)&&Vb(Yt[$e]);ht=Yt[Je],Z1(ht,h.value[Je]),N.messages=h.value}function ot(Je){return f.value[Je]||{}}function xe(Je,ht){f.value[Je]=ht,N.datetimeFormats=f.value,s3(N,Je,ht)}function Ae(Je,ht){f.value[Je]=$o(f.value[Je]||{},ht),N.datetimeFormats=f.value,s3(N,Je,ht)}function Ke(Je){return p.value[Je]||{}}function yt(Je,ht){p.value[Je]=ht,N.numberFormats=p.value,n3(N,Je,ht)}function Ct(Je,ht){p.value[Je]=$o(p.value[Je]||{},ht),N.numberFormats=p.value,n3(N,Je,ht)}c3++,i&&r_&&(Ot(i.locale,Je=>{l&&(c.value=Je,N.locale=Je,Qy(N,c.value,u.value))}),Ot(i.fallbackLocale,Je=>{l&&(u.value=Je,N.fallbackLocale=Je,Qy(N,c.value,u.value))}));const ft={id:c3,locale:K,fallbackLocale:Q,get inheritLocale(){return l},set inheritLocale(Je){l=Je,Je&&i&&(c.value=i.locale.value,u.value=i.fallbackLocale.value,Qy(N,c.value,u.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:be,get modifiers(){return k},get pluralRules(){return F||{}},get isGlobal(){return r},get missingWarn(){return y},set missingWarn(Je){y=Je,N.missingWarn=y},get fallbackWarn(){return v},set fallbackWarn(Je){v=Je,N.fallbackWarn=v},get fallbackRoot(){return C},set fallbackRoot(Je){C=Je},get fallbackFormat(){return S},set fallbackFormat(Je){S=Je,N.fallbackFormat=S},get warnHtmlMessage(){return R},set warnHtmlMessage(Je){R=Je,N.warnHtmlMessage=Je},get escapeParameter(){return O},set escapeParameter(Je){O=Je,N.escapeParameter=Je},t:he,getLocaleMessage:Qe,setLocaleMessage:Ge,mergeLocaleMessage:Ze,getPostTranslationHandler:H,setPostTranslationHandler:ie,getMissingHandler:ue,setMissingHandler:Te,[eK]:we};return ft.datetimeFormats=te,ft.numberFormats=ne,ft.rt=Ee,ft.te=de,ft.tm=Ve,ft.d=Y,ft.n=Z,ft.getDateTimeFormat=ot,ft.setDateTimeFormat=xe,ft.mergeDateTimeFormat=Ae,ft.getNumberFormat=Ke,ft.setNumberFormat=yt,ft.mergeNumberFormat=Ct,ft[tK]=s,ft[BF]=Oe,ft[GF]=mt,ft[HF]=He,ft}function KEe(e){const t=li(e.locale)?e.locale:d0,i=li(e.fallbackLocale)||jr(e.fallbackLocale)||Qi(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,s=Ir(e.missing)?e.missing:void 0,r=_s(e.silentTranslationWarn)||Sf(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,n=_s(e.silentFallbackWarn)||Sf(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=_s(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=Qi(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=Ir(e.postTranslation)?e.postTranslation:void 0,h=li(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,f=!!e.escapeParameterHtml,p=_s(e.sync)?e.sync:!0;let y=e.messages;if(Qi(e.sharedMessages)){const O=e.sharedMessages;y=Object.keys(O).reduce((F,N)=>{const j=F[N]||(F[N]={});return $o(j,O[N]),F},y||{})}const{__i18n:v,__root:C,__injectWithOption:S}=e,_=e.datetimeFormats,x=e.numberFormats,A=e.flatJson,R=e.translateExistCompatible;return{locale:t,fallbackLocale:i,messages:y,flatJson:A,datetimeFormats:_,numberFormats:x,missing:s,missingWarn:r,fallbackWarn:n,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:e.messageResolver,inheritLocale:p,translateExistCompatible:R,__i18n:v,__root:C,__injectWithOption:S}}function WF(e={},t){{const i=aI(KEe(e)),{__extender:s}=e,r={id:i.id,get locale(){return i.locale.value},set locale(n){i.locale.value=n},get fallbackLocale(){return i.fallbackLocale.value},set fallbackLocale(n){i.fallbackLocale.value=n},get messages(){return i.messages.value},get datetimeFormats(){return i.datetimeFormats.value},get numberFormats(){return i.numberFormats.value},get availableLocales(){return i.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return i.getMissingHandler()},set missing(n){i.setMissingHandler(n)},get silentTranslationWarn(){return _s(i.missingWarn)?!i.missingWarn:i.missingWarn},set silentTranslationWarn(n){i.missingWarn=_s(n)?!n:n},get silentFallbackWarn(){return _s(i.fallbackWarn)?!i.fallbackWarn:i.fallbackWarn},set silentFallbackWarn(n){i.fallbackWarn=_s(n)?!n:n},get modifiers(){return i.modifiers},get formatFallbackMessages(){return i.fallbackFormat},set formatFallbackMessages(n){i.fallbackFormat=n},get postTranslation(){return i.getPostTranslationHandler()},set postTranslation(n){i.setPostTranslationHandler(n)},get sync(){return i.inheritLocale},set sync(n){i.inheritLocale=n},get warnHtmlInMessage(){return i.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){i.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return i.escapeParameter},set escapeParameterHtml(n){i.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return i.pluralRules||{}},__composer:i,t(...n){const[o,a,l]=n,c={};let u=null,h=null;if(!li(o))throw _o(vo.INVALID_ARGUMENT);const f=o;return li(a)?c.locale=a:jr(a)?u=a:Qi(a)&&(h=a),jr(l)?u=l:Qi(l)&&(h=l),Reflect.apply(i.t,i,[f,u||h||{},c])},rt(...n){return Reflect.apply(i.rt,i,[...n])},tc(...n){const[o,a,l]=n,c={plural:1};let u=null,h=null;if(!li(o))throw _o(vo.INVALID_ARGUMENT);const f=o;return li(a)?c.locale=a:In(a)?c.plural=a:jr(a)?u=a:Qi(a)&&(h=a),li(l)?c.locale=l:jr(l)?u=l:Qi(l)&&(h=l),Reflect.apply(i.t,i,[f,u||h||{},c])},te(n,o){return i.te(n,o)},tm(n){return i.tm(n)},getLocaleMessage(n){return i.getLocaleMessage(n)},setLocaleMessage(n,o){i.setLocaleMessage(n,o)},mergeLocaleMessage(n,o){i.mergeLocaleMessage(n,o)},d(...n){return Reflect.apply(i.d,i,[...n])},getDateTimeFormat(n){return i.getDateTimeFormat(n)},setDateTimeFormat(n,o){i.setDateTimeFormat(n,o)},mergeDateTimeFormat(n,o){i.mergeDateTimeFormat(n,o)},n(...n){return Reflect.apply(i.n,i,[...n])},getNumberFormat(n){return i.getNumberFormat(n)},setNumberFormat(n,o){i.setNumberFormat(n,o)},mergeNumberFormat(n,o){i.mergeNumberFormat(n,o)},getChoiceIndex(n,o){return-1}};return r.__extender=s,r}}const lI={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function YEe({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((s,r)=>[...s,...r.type===kt?r.children:[r]],[]):t.reduce((i,s)=>{const r=e[s];return r&&(i[s]=r()),i},kr())}function rK(e){return kt}const XEe=dt({name:"i18n-t",props:$o({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>In(e)||!isNaN(e)}},lI),setup(e,t){const{slots:i,attrs:s}=t,r=e.i18n||oS({useScope:e.scope,__useComponent:!0});return()=>{const n=Object.keys(i).filter(h=>h!=="_"),o=kr();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=li(e.plural)?+e.plural:e.plural);const a=YEe(t,n),l=r[BF](e.keypath,a,o),c=$o(kr(),s),u=li(e.tag)||tr(e.tag)?e.tag:rK();return ji(u,c,l)}}}),d3=XEe;function qEe(e){return jr(e)&&!li(e[0])}function nK(e,t,i,s){const{slots:r,attrs:n}=t;return()=>{const o={part:!0};let a=kr();e.locale&&(o.locale=e.locale),li(e.format)?o.key=e.format:tr(e.format)&&(li(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((f,p)=>i.includes(p)?$o(kr(),f,{[p]:e.format[p]}):f,kr()));const l=s(e.value,o,a);let c=[o.key];jr(l)?c=l.map((f,p)=>{const y=r[f.type],v=y?y({[f.type]:f.value,index:p,parts:l}):[f.value];return qEe(v)&&(v[0].key=`${f.type}-${p}`),v}):li(l)&&(c=[l]);const u=$o(kr(),n),h=li(e.tag)||tr(e.tag)?e.tag:rK();return ji(h,u,c)}}const QEe=dt({name:"i18n-n",props:$o({value:{type:Number,required:!0},format:{type:[String,Object]}},lI),setup(e,t){const i=e.i18n||oS({useScope:e.scope,__useComponent:!0});return nK(e,t,Jj,(...s)=>i[HF](...s))}}),h3=QEe,JEe=dt({name:"i18n-d",props:$o({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},lI),setup(e,t){const i=e.i18n||oS({useScope:e.scope,__useComponent:!0});return nK(e,t,Qj,(...s)=>i[GF](...s))}}),f3=JEe;function ZEe(e,t){const i=e;if(e.mode==="composition")return i.__getInstance(t)||e.global;{const s=i.__getInstance(t);return s!=null?s.__composer:e.global.__composer}}function e_e(e){const t=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw _o(vo.UNEXPECTED_ERROR);const u=ZEe(e,a.$),h=p3(c);return[Reflect.apply(u.t,u,[...g3(h)]),u]};return{created:(o,a)=>{const[l,c]=t(a);r_&&e.global===c&&(o.__i18nWatcher=Ot(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{r_&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=p3(a);o.textContent=Reflect.apply(l.t,l,[...g3(c)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function p3(e){if(li(e))return{path:e};if(Qi(e)){if(!("path"in e))throw _o(vo.REQUIRED_VALUE,"path");return e}else throw _o(vo.INVALID_VALUE)}function g3(e){const{path:t,locale:i,args:s,choice:r,plural:n}=e,o={},a=s||{};return li(i)&&(o.locale=i),In(r)&&(o.plural=r),In(n)&&(o.plural=n),[t,a,o]}function t_e(e,t,...i){const s=Qi(i[0])?i[0]:{},r=!!s.useI18nComponentName;(_s(s.globalInstall)?s.globalInstall:!0)&&([r?"i18n":d3.name,"I18nT"].forEach(o=>e.component(o,d3)),[h3.name,"I18nN"].forEach(o=>e.component(o,h3)),[f3.name,"I18nD"].forEach(o=>e.component(o,f3))),e.directive("t",e_e(t))}function i_e(e,t,i){return{beforeCreate(){const s=Di();if(!s)throw _o(vo.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const n=r.i18n;if(r.__i18n&&(n.__i18n=r.__i18n),n.__root=t,this===this.$root)this.$i18n=m3(e,n);else{n.__injectWithOption=!0,n.__extender=i.__vueI18nExtend,this.$i18n=WF(n);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=m3(e,r);else{this.$i18n=WF({__i18n:r.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:t});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=e;r.__i18nGlobal&&sK(t,r,r),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,o)=>this.$i18n.te(n,o),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),i.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=Di();if(!s)throw _o(vo.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),i.__deleteInstance(s),delete this.$i18n}}}function m3(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[eK](t.pluralizationRules||e.pluralizationRules);const i=hA(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(i).forEach(s=>e.mergeLocaleMessage(s,i[s])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(s=>e.mergeDateTimeFormat(s,t.datetimeFormats[s])),t.numberFormats&&Object.keys(t.numberFormats).forEach(s=>e.mergeNumberFormat(s,t.numberFormats[s])),e}const s_e=Bf("global-vue-i18n");function r_e(e={},t){const i=__VUE_I18N_LEGACY_API__&&_s(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,s=_s(e.globalInjection)?e.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&i?!!e.allowComposition:!0,n=new Map,[o,a]=n_e(e,i),l=Bf("");function c(f){return n.get(f)||null}function u(f,p){n.set(f,p)}function h(f){n.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&i?"legacy":"composition"},get allowComposition(){return r},async install(p,...y){if(p.__VUE_I18N_SYMBOL__=l,p.provide(p.__VUE_I18N_SYMBOL__,f),Qi(y[0])){const S=y[0];f.__composerExtend=S.__composerExtend,f.__vueI18nExtend=S.__vueI18nExtend}let v=null;!i&&s&&(v=p_e(p,f.global)),__VUE_I18N_FULL_INSTALL__&&t_e(p,f,...y),__VUE_I18N_LEGACY_API__&&i&&p.mixin(i_e(a,a.__composer,f));const C=p.unmount;p.unmount=()=>{v&&v(),f.dispose(),C()}},get global(){return a},dispose(){o.stop()},__instances:n,__getInstance:c,__setInstance:u,__deleteInstance:h};return f}}function oS(e={}){const t=Di();if(t==null)throw _o(vo.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw _o(vo.NOT_INSTALLED);const i=o_e(t),s=l_e(i),r=iK(t),n=a_e(e,r);if(__VUE_I18N_LEGACY_API__&&i.mode==="legacy"&&!e.__useComponent){if(!i.allowComposition)throw _o(vo.NOT_AVAILABLE_IN_LEGACY_MODE);return h_e(t,n,s,e)}if(n==="global")return sK(s,e,r),s;if(n==="parent"){let l=c_e(i,t,e.__useComponent);return l==null&&(l=s),l}const o=i;let a=o.__getInstance(t);if(a==null){const l=$o({},e);"__i18n"in r&&(l.__i18n=r.__i18n),s&&(l.__root=s),a=aI(l),o.__composerExtend&&(a[$F]=o.__composerExtend(a)),d_e(o,t,a),o.__setInstance(t,a)}return a}function n_e(e,t,i){const s=hT();{const r=__VUE_I18N_LEGACY_API__&&t?s.run(()=>WF(e)):s.run(()=>aI(e));if(r==null)throw _o(vo.UNEXPECTED_ERROR);return[s,r]}}function o_e(e){{const t=Xr(e.isCE?s_e:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw _o(e.isCE?vo.NOT_INSTALLED_WITH_PROVIDE:vo.UNEXPECTED_ERROR);return t}}function a_e(e,t){return cA(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function l_e(e){return e.mode==="composition"?e.global:e.global.__composer}function c_e(e,t,i=!1){let s=null;const r=t.root;let n=u_e(t,i);for(;n!=null;){const o=e;if(e.mode==="composition")s=o.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(n);a!=null&&(s=a.__composer,i&&s&&!s[tK]&&(s=null))}if(s!=null||r===n)break;n=n.parent}return s}function u_e(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function d_e(e,t,i){Ri(()=>{},t),ed(()=>{const s=i;e.__deleteInstance(t);const r=s[$F];r&&(r(),delete s[$F])},t)}function h_e(e,t,i,s={}){const r=t==="local",n=vi(null);if(r&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw _o(vo.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=_s(s.inheritLocale)?s.inheritLocale:!li(s.locale),a=We(!r||o?i.locale.value:li(s.locale)?s.locale:d0),l=We(!r||o?i.fallbackLocale.value:li(s.fallbackLocale)||jr(s.fallbackLocale)||Qi(s.fallbackLocale)||s.fallbackLocale===!1?s.fallbackLocale:a.value),c=We(hA(a.value,s)),u=We(Qi(s.datetimeFormats)?s.datetimeFormats:{[a.value]:{}}),h=We(Qi(s.numberFormats)?s.numberFormats:{[a.value]:{}}),f=r?i.missingWarn:_s(s.missingWarn)||Sf(s.missingWarn)?s.missingWarn:!0,p=r?i.fallbackWarn:_s(s.fallbackWarn)||Sf(s.fallbackWarn)?s.fallbackWarn:!0,y=r?i.fallbackRoot:_s(s.fallbackRoot)?s.fallbackRoot:!0,v=!!s.fallbackFormat,C=Ir(s.missing)?s.missing:null,S=Ir(s.postTranslation)?s.postTranslation:null,_=r?i.warnHtmlMessage:_s(s.warnHtmlMessage)?s.warnHtmlMessage:!0,x=!!s.escapeParameter,A=r?i.modifiers:Qi(s.modifiers)?s.modifiers:{},R=s.pluralRules||r&&i.pluralRules;function O(){return[a.value,l.value,c.value,u.value,h.value]}const k=V({get:()=>n.value?n.value.locale.value:a.value,set:pe=>{n.value&&(n.value.locale.value=pe),a.value=pe}}),F=V({get:()=>n.value?n.value.fallbackLocale.value:l.value,set:pe=>{n.value&&(n.value.fallbackLocale.value=pe),l.value=pe}}),N=V(()=>n.value?n.value.messages.value:c.value),j=V(()=>u.value),ee=V(()=>h.value);function K(){return n.value?n.value.getPostTranslationHandler():S}function Q(pe){n.value&&n.value.setPostTranslationHandler(pe)}function be(){return n.value?n.value.getMissingHandler():C}function te(pe){n.value&&n.value.setMissingHandler(pe)}function ne(pe){return O(),pe()}function H(...pe){return n.value?ne(()=>Reflect.apply(n.value.t,null,[...pe])):ne(()=>"")}function ie(...pe){return n.value?Reflect.apply(n.value.rt,null,[...pe]):""}function ue(...pe){return n.value?ne(()=>Reflect.apply(n.value.d,null,[...pe])):ne(()=>"")}function Te(...pe){return n.value?ne(()=>Reflect.apply(n.value.n,null,[...pe])):ne(()=>"")}function Ie(pe){return n.value?n.value.tm(pe):{}}function he(pe,Ve){return n.value?n.value.te(pe,Ve):!1}function Ee(pe){return n.value?n.value.getLocaleMessage(pe):{}}function Y(pe,Ve){n.value&&(n.value.setLocaleMessage(pe,Ve),c.value[pe]=Ve)}function Z(pe,Ve){n.value&&n.value.mergeLocaleMessage(pe,Ve)}function Se(pe){return n.value?n.value.getDateTimeFormat(pe):{}}function ye(pe,Ve){n.value&&(n.value.setDateTimeFormat(pe,Ve),u.value[pe]=Ve)}function ke(pe,Ve){n.value&&n.value.mergeDateTimeFormat(pe,Ve)}function Oe(pe){return n.value?n.value.getNumberFormat(pe):{}}function He(pe,Ve){n.value&&(n.value.setNumberFormat(pe,Ve),h.value[pe]=Ve)}function mt(pe,Ve){n.value&&n.value.mergeNumberFormat(pe,Ve)}const we={get id(){return n.value?n.value.id:-1},locale:k,fallbackLocale:F,messages:N,datetimeFormats:j,numberFormats:ee,get inheritLocale(){return n.value?n.value.inheritLocale:o},set inheritLocale(pe){n.value&&(n.value.inheritLocale=pe)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(c.value)},get modifiers(){return n.value?n.value.modifiers:A},get pluralRules(){return n.value?n.value.pluralRules:R},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:f},set missingWarn(pe){n.value&&(n.value.missingWarn=pe)},get fallbackWarn(){return n.value?n.value.fallbackWarn:p},set fallbackWarn(pe){n.value&&(n.value.missingWarn=pe)},get fallbackRoot(){return n.value?n.value.fallbackRoot:y},set fallbackRoot(pe){n.value&&(n.value.fallbackRoot=pe)},get fallbackFormat(){return n.value?n.value.fallbackFormat:v},set fallbackFormat(pe){n.value&&(n.value.fallbackFormat=pe)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:_},set warnHtmlMessage(pe){n.value&&(n.value.warnHtmlMessage=pe)},get escapeParameter(){return n.value?n.value.escapeParameter:x},set escapeParameter(pe){n.value&&(n.value.escapeParameter=pe)},t:H,getPostTranslationHandler:K,setPostTranslationHandler:Q,getMissingHandler:be,setMissingHandler:te,rt:ie,d:ue,n:Te,tm:Ie,te:he,getLocaleMessage:Ee,setLocaleMessage:Y,mergeLocaleMessage:Z,getDateTimeFormat:Se,setDateTimeFormat:ye,mergeDateTimeFormat:ke,getNumberFormat:Oe,setNumberFormat:He,mergeNumberFormat:mt};function de(pe){pe.locale.value=a.value,pe.fallbackLocale.value=l.value,Object.keys(c.value).forEach(Ve=>{pe.mergeLocaleMessage(Ve,c.value[Ve])}),Object.keys(u.value).forEach(Ve=>{pe.mergeDateTimeFormat(Ve,u.value[Ve])}),Object.keys(h.value).forEach(Ve=>{pe.mergeNumberFormat(Ve,h.value[Ve])}),pe.escapeParameter=x,pe.fallbackFormat=v,pe.fallbackRoot=y,pe.fallbackWarn=p,pe.missingWarn=f,pe.warnHtmlMessage=_}return V0(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw _o(vo.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const pe=n.value=e.proxy.$i18n.__composer;t==="global"?(a.value=pe.locale.value,l.value=pe.fallbackLocale.value,c.value=pe.messages.value,u.value=pe.datetimeFormats.value,h.value=pe.numberFormats.value):r&&de(pe)}),we}const f_e=["locale","fallbackLocale","availableLocales"],v3=["t","rt","d","n","tm","te"];function p_e(e,t){const i=Object.create(null);return f_e.forEach(r=>{const n=Object.getOwnPropertyDescriptor(t,r);if(!n)throw _o(vo.UNEXPECTED_ERROR);const o=cs(n.value)?{get(){return n.value.value},set(a){n.value.value=a}}:{get(){return n.get&&n.get()}};Object.defineProperty(i,r,o)}),e.config.globalProperties.$i18n=i,v3.forEach(r=>{const n=Object.getOwnPropertyDescriptor(t,r);if(!n||!n.value)throw _o(vo.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${r}`,n)}),()=>{delete e.config.globalProperties.$i18n,v3.forEach(r=>{delete e.config.globalProperties[`$${r}`]})}}WEe();__INTLIFY_JIT_COMPILATION__?q4(NEe):q4(IEe);AEe(aEe);kEe(Hj);if(__INTLIFY_PROD_DEVTOOLS__){const e=Fd();e.__INTLIFY__=!0,mEe(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const lm=(e,t)=>{const i=e.__vccOpts||e;for(const[s,r]of t)i[s]=r;return i},g_e={key:0,class:"toggle-icon"},m_e={key:0,class:"sub-menu"},v_e={__name:"MenuItem",props:{menuItem:Object},setup(e){const t=e,{t:i}=oS(),s=ej(),r=RSe(),n=We(!1),o=V(()=>r.path===t.menuItem.path),a=()=>{t.menuItem.path?s.push(t.menuItem.path):t.menuItem.children&&(n.value=!n.value)};return(l,c)=>{const u=xn("VaIcon"),h=xn("MenuItem",!0);return q(),ve("div",null,[me("div",{class:Et(["menu-item",{"has-children":e.menuItem.children,active:o.value},e.menuItem.path==="/logout"?"hover-logout":"hover-item"]),onClick:a},[wt(u,{name:e.menuItem.icon,class:"icon"},null,8,["name"]),oi(" "+Mt(P(i)(e.menuItem.title))+" ",1),e.menuItem.children?(q(),ve("span",g_e,[wt(u,{name:n.value?"expand_less":"expand_more"},null,8,["name"])])):Le("",!0)],2),e.menuItem.children&&n.value?(q(),ve("div",m_e,[(q(!0),ve(kt,null,si(e.menuItem.children,f=>(q(),nt(h,{key:f.title,menuItem:f},null,8,["menuItem"]))),128))])):Le("",!0)])}}},y_e=lm(v_e,[["__scopeId","data-v-1fde0133"]]),C_e={key:0,class:"flex justify-between font-semibold"},b_e={class:"flex justify-between items-center"},w_e={class:"ml-1"},S_e={class:"flex justify-between items-center ml-3"},x_e={class:"ml-1"},E_e={class:"flex justify-between items-center ml-3"},__e={class:"ml-1"},T_e={class:"flex justify-between items-center ml-3"},A_e={class:"ml-1"},k_e={class:"flex justify-between items-center ml-3"},D_e={class:"ml-1"},R_e={class:"flex justify-between items-center ml-3"},P_e={class:"ml-1"},F_e={class:"flex items-center ml-3 mr-14"},M_e={__name:"Sidebar",setup(e){const t=Qce(),i=cwe(),s=ej(),{t:r,locale:n}=oS(),o=We(0),a=We(""),l=We(!1);Ot(()=>t.smUp,S=>{S?l.value=!i.state.user:l.value=S});const c=new Date().getHours(),u=V(()=>c>=8&&c<20?1:2),h=()=>{const S=new Date;a.value=S.toLocaleTimeString()},f=We([{title:"menu.home",icon:"home",path:"/"},{title:"menu.structure",icon:"dashboard",path:"/structure"},{title:"menu.blogs",icon:"account_tree",path:"/blogs"},{title:"menu.units",icon:"ad_units",path:"/units"},{title:"menu.graphics",icon:"schedule",path:"/graphics"},{title:"menu.term",icon:"gavel",path:"/graphicterms"},{title:"menu.graphictimes",icon:"alarm",path:"/graphictimes"},{title:"menu.pages",icon:"auto_stories",path:"/pages"},{title:"menu.groups",icon:"table_view",path:"/group"},{title:"menu.params",icon:"format_list_bulleted",path:"/params"},{title:"menu.static",icon:"data_usage",path:"/cardPageStatic"},{title:"menu.formula",icon:"calculate",path:"/formula"},{title:"menu.paramgraphics",icon:"schema",path:"/paramgraphics"},{title:"menu.create_document",icon:"history_edu",path:"/createDoc"},{title:"menu.document",icon:"file_present",path:"/documents"},{title:"menu.operator_count",icon:"flag_circle",path:"/opercount"},{title:"menu.vparams",icon:"diamond",path:"/vparams"},{title:"menu.vparamsHorizontal",icon:"grid_goldenratio",path:"/vparamsHorizontal"},{title:"menu.users",icon:"person",path:"/users"}]),p=async()=>{try{await i.dispatch("logout"),s.push({name:"login"}),l.value=!1}catch(S){console.error("Error during logout:",S)}},y=()=>{n.value=n.value==="uz"?"ru":"uz",localStorage.setItem("locale",n.value)},v=V(()=>n.value==="uz"?"":"Ozbek"),C=V(()=>{var x,A;const S=i.state.user;if(!S)return[];const _=(x=S==null?void 0:S.roles)==null?void 0:x.filter(R=>R.pivot.view==="1");return(A=f.value)==null?void 0:A.filter(R=>_.filter(k=>R.title==k.name).length)});return Ri(()=>{const S=localStorage.getItem("locale");S&&(n.value=S),h(),setInterval(h,1e3),i.state.user&&(l.value=!1)}),(S,_)=>{const x=xn("VaButton"),A=xn("VaIcon"),R=xn("VaNavbar"),O=xn("VaDivider"),k=xn("VaSidebar"),F=xn("VaLayout");return q(),nt(F,{top:{fixed:!0,order:1},left:{fixed:!0,absolute:P(t).smDown,order:2,overlay:P(t).smDown&&l.value,class:"custom-sidebar"},onLeftOverlayClick:_[2]||(_[2]=N=>l.value=!1)},{top:tt(()=>[wt(R,null,{left:tt(()=>[wt(x,{preset:"secondary",icon:l.value?"menu_open":"menu",onClick:_[0]||(_[0]=N=>l.value=!l.value)},null,8,["icon"])]),center:tt(()=>[P(i).state.user&&P(i).state.user.name?(q(),ve("div",C_e,[me("div",b_e,[_[3]||(_[3]=me("span",{class:"material-icons user-icon text-blue-800"},"account_circle",-1)),me("p",w_e,Mt(P(r)("table.user"))+": "+Mt(P(i).state.user.name)+" /",1)]),me("div",S_e,[_[4]||(_[4]=me("span",{class:"material-icons user-icon text-blue-800"},"manage_history",-1)),me("p",x_e,Mt(P(r)("table.change"))+": "+Mt(u.value)+" /",1)]),me("div",E_e,[_[5]||(_[5]=me("span",{class:"material-icons user-icon text-blue-800"},"diamond",-1)),me("p",__e,Mt(P(r)("table.parameters"))+": "+Mt(o.value)+" /",1)]),me("div",T_e,[_[6]||(_[6]=me("span",{class:"material-icons user-icon text-green-500"},"diamond",-1)),me("p",A_e,Mt(P(r)("table.input"))+": "+Mt(P(i).state.countInputedParams)+" /",1)]),me("div",k_e,[_[7]||(_[7]=me("span",{class:"material-icons user-icon text-orange-500"},"diamond",-1)),me("p",D_e,Mt(P(r)("table.output"))+": "+Mt(o.value-P(i).state.countInputedParams)+" /",1)]),me("div",R_e,[_[8]||(_[8]=me("span",{class:"material-icons user-icon text-cyan-800"},"timelapse",-1)),me("p",P_e,Mt(P(r)("menu.timer"))+": "+Mt(a.value),1)])])):Le("",!0)]),right:tt(()=>[me("div",F_e,[wt(x,{preset:"secondary",onClick:p},{default:tt(()=>[wt(A,{name:"logout",style:{"margin-right":"0.5rem"}}),oi(" "+Mt(P(r)("menu.logout")),1)]),_:1})])]),_:1}),wt(O,{style:{margin:"0"}})]),left:tt(()=>[wt(k,{modelValue:l.value,"onUpdate:modelValue":_[1]||(_[1]=N=>l.value=N),class:"custom-sidebar"},{default:tt(()=>[wt(x,{onClick:y,style:{"margin-bottom":"1rem","border-radius":"0",padding:"0.6rem"}},{default:tt(()=>[wt(A,{name:"language",style:{"margin-right":"0.5rem"}}),oi(" "+Mt(v.value),1)]),_:1}),(q(!0),ve(kt,null,si(C.value,N=>(q(),nt(y_e,{key:N.title,menuItem:N},null,8,["menuItem"]))),128))]),_:1},8,["modelValue"])]),content:tt(()=>[me("main",null,[me("article",null,[Fe(S.$slots,"default")])])]),_:3},8,["left"])}}},L_e={class:"bg-white h-full w-full flex"},O_e={__name:"App",setup(e){return(t,i)=>{const s=xn("router-view");return q(),ve("section",L_e,[wt(M_e,{class:"no-print !flex-grow-0 !flex-shrink-0"}),wt(s,{class:"flex-grow no-print"})])}}},I_e="modulepreload",N_e=function(e){return"/build/"+e},y3={},ms=function(t,i,s){let r=Promise.resolve();if(i&&i.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=o(i.map(c=>{if(c=N_e(c),c in y3)return;y3[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":I_e,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function n(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&n(a.reason);return t().catch(n)})},V_e=[{path:"/",name:"home",component:()=>ms(()=>import("./HomePage-47g3ThVl.js"),__vite__mapDeps([0,1])),meta:{guard:"auth"}},{path:"/login",name:"login",meta:{guard:"guest"},component:()=>ms(()=>import("./LoginPage-C4JuvDUd.js"),[])},{path:"/factory",name:"factory",component:()=>ms(()=>import("./FactoriesPage-CIQwKrpu.js"),__vite__mapDeps([2,3,4])),meta:{guard:"auth"}},{path:"/structure",name:"structure",component:()=>ms(()=>import("./FactoriesStructurePage-COhX6loh.js"),__vite__mapDeps([5,3,4])),meta:{guard:"auth"}},{path:"/cardPageStatic",name:"CardDetailPageStatic",component:()=>ms(()=>import("./StaticPageCard-4h4zVoNE.js"),__vite__mapDeps([6,7,4])),meta:{guard:"auth"},props:!0},{path:"/cardPageStatic/:page/groups",name:"CardGroupsPageStatic",component:()=>ms(()=>import("./GroupsCards-D_tBgnvN.js"),[]),meta:{guard:"auth"},props:e=>({page:Number(e.params.page)})},{path:"/static/:id/:groupId",name:"staticByGroup",component:()=>ms(()=>import("./StaticParametrs-CUA8Flkv.js"),__vite__mapDeps([8,3,4])),meta:{guard:"auth"},props:e=>({id:Number(e.params.id),groupId:Number(e.params.groupId)})},{path:"/static/:id/group/:groupId?",name:"static",component:()=>ms(()=>import("./StaticParametrs-CUA8Flkv.js"),__vite__mapDeps([8,3,4])),meta:{guard:"auth"},props:e=>({id:Number(e.params.id),groupId:e.params.groupId!=null?Number(e.params.groupId):null})},{path:"/blogs",name:"blogs",component:()=>ms(()=>import("./BlogCardPage-DVj77BN4.js"),__vite__mapDeps([9,7,4])),meta:{guard:"auth"}},{path:"/blog/:id",name:"BlogDetail",component:()=>ms(()=>import("./BlogsPage-CPHdp4G9.js"),__vite__mapDeps([10,11,4])),meta:{guard:"auth"},props:!0},{path:"/units",name:"units",component:()=>ms(()=>import("./UnitsPage-JzEDrH7d.js"),__vite__mapDeps([12,13,3,4])),meta:{guard:"auth"}},{path:"/graphics",name:"graphics",component:()=>ms(()=>import("./GraphicsPage-BUoFX9ba.js"),__vite__mapDeps([14,3,4])),meta:{guard:"auth"}},{path:"/graphictimes",name:"graphictimes",component:()=>ms(()=>import("./TimeCardPage-CAdAvJAH.js"),__vite__mapDeps([15,7,4])),meta:{guard:"auth"}},{path:"/time/:id",name:"TimeDetail",component:()=>ms(()=>import("./GraphicTimesPage-BR81U1yZ.js"),__vite__mapDeps([16,17,18,3,4])),meta:{guard:"auth"},props:!0},{path:"/graphicterms",name:"graphicterms",component:()=>ms(()=>import("./TermsCardPage-DvEmlzao.js"),__vite__mapDeps([19,7,4])),meta:{guard:"auth"}},{path:"/terms/:id",name:"TermsDetail",component:()=>ms(()=>import("./GraphicTermsPage-DhBREJo7.js"),__vite__mapDeps([20,17,3,4])),meta:{guard:"auth"},props:!0},{path:"/cardPage/:id",name:"CardDetailPage",component:()=>ms(()=>import("./ParameterGraphicsPage-BJHx-Tz0.js"),__vite__mapDeps([21,7,4])),meta:{guard:"auth"},props:!0},{path:"/card/:id/:page",name:"CardDetail",component:()=>ms(()=>import("./ParameterGraphics-kiJZTjlt.js"),__vite__mapDeps([22,18,23,24,4])),meta:{guard:"auth"},props:e=>({id:e.params.id,page:e.params.page})},{path:"/paramgraphics",name:"paramgraphics",component:()=>ms(()=>import("./GraphicCardsPage-BgphNidH.js"),__vite__mapDeps([25,7,4])),meta:{guard:"auth"}},{path:"/groupPage/:id",name:"GroupDetailPage",component:()=>ms(()=>import("./GroupPagesCard-Cm-bjR07.js"),__vite__mapDeps([26,7,4])),meta:{guard:"auth"},props:!0},{path:"/group/:id/:page",name:"GroupDetail",component:()=>ms(()=>import("./GroupsPage-5J0gexZu.js"),__vite__mapDeps([27,3,4])),meta:{guard:"auth"},props:e=>({id:e.params.id,page:e.params.page})},{path:"/group",name:"groupcard",component:()=>ms(()=>import("./GroupCardPage-ykUBRhLn.js"),__vite__mapDeps([28,7,4])),meta:{guard:"auth"}},{path:"/paramtypes",name:"paramtypes",component:()=>ms(()=>import("./ParametersTypesPage-CkM7DF0Q.js"),__vite__mapDeps([29,11,4])),meta:{guard:"auth"}},{path:"/params",name:"params",component:()=>ms(()=>import("./ParametersPage-CIbd8QTs.js"),__vite__mapDeps([30,3,4])),meta:{guard:"auth"}},{path:"/formula",name:"formula",component:()=>ms(()=>import("./FormulaPage-CeNpCRhA.js"),__vite__mapDeps([31,32,11,4])),meta:{guard:"auth"}},{path:"/pages",name:"pages",component:()=>ms(()=>import("./NumberPageCard-CXjyx_9p.js"),__vite__mapDeps([33,7,4])),meta:{guard:"auth"}},{path:"/page/:id",name:"PageDetail",component:()=>ms(()=>import("./NumberPage-I4xSRvU4.js"),__vite__mapDeps([34,35,23,36,4])),meta:{guard:"auth"},props:!0},{path:"/sources",name:"sources",component:()=>ms(()=>import("./SourcesPage-CnwWaHFx.js"),__vite__mapDeps([37,32,11,4])),meta:{guard:"auth"}},{path:"/changes",name:"changes",component:()=>ms(()=>import("./ChangesPage-6De9Xt_w.js"),__vite__mapDeps([38,13,11,4])),meta:{guard:"auth"}},{path:"/vparams",name:"vparams",component:()=>ms(()=>import("./ParametrValueCardVertical-C6ztqr7C.js"),__vite__mapDeps([39,7,4])),meta:{guard:"auth"}},{path:"/vparam/:id",name:"vparam",component:()=>ms(()=>import("./ParametrValueVertical-BeCwixgh.js"),__vite__mapDeps([40,41,42,43,18,44,4])),meta:{guard:"auth"},props:!0},{path:"/vparamsHorizontal",name:"vparamsHorizontal",component:()=>ms(()=>import("./ParametrValueCardHorizontal-pig_vMzO.js"),__vite__mapDeps([45,7,4])),meta:{guard:"auth"}},{path:"/vparamsHorizontal/:id",name:"vparamHorizontal",component:()=>ms(()=>import("./ParametrValueHorizontal-_aKD8jGy.js"),__vite__mapDeps([46,42,43,18,47,4])),meta:{guard:"auth"},props:!0},{path:"/count",name:"createDoc",component:()=>ms(()=>import("./ParametrValueCardVertical-C6ztqr7C.js"),__vite__mapDeps([39,7,4])),meta:{guard:"auth"}},{path:"/opercount",name:"createDoc",component:()=>ms(()=>import("./OperatorsCountInputValueCard-CcmHWupm.js"),__vite__mapDeps([48,42,43,49,4])),meta:{guard:"auth"}},{path:"/operDetail/:id",name:"OperatorDetail",component:()=>ms(()=>import("./OperatorResultPage-DPgRdroT.js"),__vite__mapDeps([50,42,43,3,4])),meta:{guard:"auth"},props:!0},{path:"/documents",name:"documents",component:()=>ms(()=>import("./Documents-BjLOH8y5.js"),__vite__mapDeps([51,52,53,54])),meta:{guard:"auth"}},{path:"/vparamsget",name:"vparamsget",component:()=>ms(()=>import("./ParametrGetValue-U_rqTAGl.js"),__vite__mapDeps([55,53,41,18,56,4])),meta:{guard:"auth"}},{path:"/gmz3",name:"gmz3-report",component:()=>ms(()=>import("./GMZ3Report-DM8Cdq6u.js"),__vite__mapDeps([57,52,53,54,58])),meta:{guard:"auth"}},{path:"/users",name:"users",component:()=>ms(()=>import("./UsersPage-B2spmRPU.js"),__vite__mapDeps([59,35,60,4]))},{path:"/:pathMatch(.*)*",redirect:"/",name:"pathMatch",meta:{title:"all"}}],cI=kSe({history:sSe(),routes:V_e});cI.beforeEach((e,t,i)=>{store.state.user?e.matched.some(s=>s.meta.guard==="guest")?i({name:"home"}):i():e.matched.some(s=>s.meta.guard==="auth")?i({name:"login"}):i()});const UF=Twe({state(){return{user:null,selectedRowId:null,countInputedParams:null,change:null,currentTime:null,userTabel:"",structureID:null,newvalue:null,GParamID:null,GPid:null,GrapicsID:null,ValueDay:null}},mutations:{setUser(e,t){e.user=t}},actions:{async login({state:e,dispatch:t},i){try{const s=await axios.post("login",i);return s.status==299?s.data:(localStorage.setItem("token",`${s.data.type} ${s.data.token}`),e.logined=null,await t("getUser"),{success:!0})}catch(s){return console.error("Login action error:",s),{success:!1,message:"Login failed"}}},async register({dispatch:e},t){const i=await axios.post("register",t);if(i.status==299)return i.data;i.status==200&&e("login",t)},async logout({commit:e}){try{(await axios.get("logout")).status===200&&(delete axios.defaults.headers.common.Authorization,localStorage.removeItem("token"),e("setUser",null))}catch(t){console.error("Logout failed:",t)}},async getUser({commit:e}){axios.defaults.headers.common.Authorization=localStorage.getItem("token"),await axios.get("user").then(t=>{e("setUser",t.data)}).catch(()=>{console.clear()})}}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function aS(e){return e+.5|0}const ef=(e,t,i)=>Math.max(Math.min(e,i),t);function fC(e){return ef(aS(e*2.55),0,255)}function hf(e){return ef(aS(e*255),0,255)}function Ad(e){return ef(aS(e/2.55)/100,0,1)}function C3(e){return ef(aS(e*100),0,100)}const jl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zF=[..."0123456789ABCDEF"],B_e=e=>zF[e&15],G_e=e=>zF[(e&240)>>4]+zF[e&15],s1=e=>(e&240)>>4===(e&15),H_e=e=>s1(e.r)&&s1(e.g)&&s1(e.b)&&s1(e.a);function $_e(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&jl[e[1]]*17,g:255&jl[e[2]]*17,b:255&jl[e[3]]*17,a:t===5?jl[e[4]]*17:255}:(t===7||t===9)&&(i={r:jl[e[1]]<<4|jl[e[2]],g:jl[e[3]]<<4|jl[e[4]],b:jl[e[5]]<<4|jl[e[6]],a:t===9?jl[e[7]]<<4|jl[e[8]]:255})),i}const W_e=(e,t)=>e<255?t(e):"";function U_e(e){var t=H_e(e)?B_e:G_e;return e?"#"+t(e.r)+t(e.g)+t(e.b)+W_e(e.a,t):void 0}const z_e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function oK(e,t,i){const s=t*Math.min(i,1-i),r=(n,o=(n+e/30)%12)=>i-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function j_e(e,t,i){const s=(r,n=(r+e/60)%6)=>i-i*t*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function K_e(e,t,i){const s=oK(e,1,.5);let r;for(t+i>1&&(r=1/(t+i),t*=r,i*=r),r=0;r<3;r++)s[r]*=1-t-i,s[r]+=t;return s}function Y_e(e,t,i,s,r){return e===r?(t-i)/s+(t<i?6:0):t===r?(i-e)/s+2:(e-t)/s+4}function uI(e){const i=e.r/255,s=e.g/255,r=e.b/255,n=Math.max(i,s,r),o=Math.min(i,s,r),a=(n+o)/2;let l,c,u;return n!==o&&(u=n-o,c=a>.5?u/(2-n-o):u/(n+o),l=Y_e(i,s,r,u,n),l=l*60+.5),[l|0,c||0,a]}function dI(e,t,i,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,s)).map(hf)}function hI(e,t,i){return dI(oK,e,t,i)}function X_e(e,t,i){return dI(K_e,e,t,i)}function q_e(e,t,i){return dI(j_e,e,t,i)}function aK(e){return(e%360+360)%360}function Q_e(e){const t=z_e.exec(e);let i=255,s;if(!t)return;t[5]!==s&&(i=t[6]?fC(+t[5]):hf(+t[5]));const r=aK(+t[2]),n=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=X_e(r,n,o):t[1]==="hsv"?s=q_e(r,n,o):s=hI(r,n,o),{r:s[0],g:s[1],b:s[2],a:i}}function J_e(e,t){var i=uI(e);i[0]=aK(i[0]+t),i=hI(i),e.r=i[0],e.g=i[1],e.b=i[2]}function Z_e(e){if(!e)return;const t=uI(e),i=t[0],s=C3(t[1]),r=C3(t[2]);return e.a<255?`hsla(${i}, ${s}%, ${r}%, ${Ad(e.a)})`:`hsl(${i}, ${s}%, ${r}%)`}const b3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},w3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function eTe(){const e={},t=Object.keys(w3),i=Object.keys(b3);let s,r,n,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],r=0;r<i.length;r++)n=i[r],a=a.replace(n,b3[n]);n=parseInt(w3[o],16),e[a]=[n>>16&255,n>>8&255,n&255]}return e}let r1;function tTe(e){r1||(r1=eTe(),r1.transparent=[0,0,0,0]);const t=r1[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const iTe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sTe(e){const t=iTe.exec(e);let i=255,s,r,n;if(t){if(t[7]!==s){const o=+t[7];i=t[8]?fC(o):ef(o*255,0,255)}return s=+t[1],r=+t[3],n=+t[5],s=255&(t[2]?fC(s):ef(s,0,255)),r=255&(t[4]?fC(r):ef(r,0,255)),n=255&(t[6]?fC(n):ef(n,0,255)),{r:s,g:r,b:n,a:i}}}function rTe(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ad(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const mR=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,sv=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function nTe(e,t,i){const s=sv(Ad(e.r)),r=sv(Ad(e.g)),n=sv(Ad(e.b));return{r:hf(mR(s+i*(sv(Ad(t.r))-s))),g:hf(mR(r+i*(sv(Ad(t.g))-r))),b:hf(mR(n+i*(sv(Ad(t.b))-n))),a:e.a+i*(t.a-e.a)}}function n1(e,t,i){if(e){let s=uI(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*i,t===0?360:1)),s=hI(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function lK(e,t){return e&&Object.assign(t||{},e)}function S3(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=hf(e[3]))):(t=lK(e,{r:0,g:0,b:0,a:1}),t.a=hf(t.a)),t}function oTe(e){return e.charAt(0)==="r"?sTe(e):Q_e(e)}class Bb{constructor(t){if(t instanceof Bb)return t;const i=typeof t;let s;i==="object"?s=S3(t):i==="string"&&(s=$_e(t)||tTe(t)||oTe(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=lK(this._rgb);return t&&(t.a=Ad(t.a)),t}set rgb(t){this._rgb=S3(t)}rgbString(){return this._valid?rTe(this._rgb):void 0}hexString(){return this._valid?U_e(this._rgb):void 0}hslString(){return this._valid?Z_e(this._rgb):void 0}mix(t,i){if(t){const s=this.rgb,r=t.rgb;let n;const o=i===n?.5:i,a=2*o-1,l=s.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;n=1-c,s.r=255&c*s.r+n*r.r+.5,s.g=255&c*s.g+n*r.g+.5,s.b=255&c*s.b+n*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(t,i){return t&&(this._rgb=nTe(this._rgb,t._rgb,i)),this}clone(){return new Bb(this.rgb)}alpha(t){return this._rgb.a=hf(t),this}clearer(t){const i=this._rgb;return i.a*=1-t,this}greyscale(){const t=this._rgb,i=aS(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){const i=this._rgb;return i.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return n1(this._rgb,2,t),this}darken(t){return n1(this._rgb,2,-t),this}saturate(t){return n1(this._rgb,1,t),this}desaturate(t){return n1(this._rgb,1,-t),this}rotate(t){return J_e(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function wd(){}const aTe=(()=>{let e=0;return()=>e++})();function As(e){return e==null}function ln(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Fs(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Tn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Cl(e,t){return Tn(e)?e:t}function Zi(e,t){return typeof e>"u"?t:e}const lTe=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,cK=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Or(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function br(e,t,i,s){let r,n,o;if(ln(e))for(n=e.length,r=0;r<n;r++)t.call(i,e[r],r);else if(Fs(e))for(o=Object.keys(e),n=o.length,r=0;r<n;r++)t.call(i,e[o[r]],o[r])}function o_(e,t){let i,s,r,n;if(!e||!t||e.length!==t.length)return!1;for(i=0,s=e.length;i<s;++i)if(r=e[i],n=t[i],r.datasetIndex!==n.datasetIndex||r.index!==n.index)return!1;return!0}function a_(e){if(ln(e))return e.map(a_);if(Fs(e)){const t=Object.create(null),i=Object.keys(e),s=i.length;let r=0;for(;r<s;++r)t[i[r]]=a_(e[i[r]]);return t}return e}function uK(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function cTe(e,t,i,s){if(!uK(e))return;const r=t[e],n=i[e];Fs(r)&&Fs(n)?Gb(r,n,s):t[e]=a_(n)}function Gb(e,t,i){const s=ln(t)?t:[t],r=s.length;if(!Fs(e))return e;i=i||{};const n=i.merger||cTe;let o;for(let a=0;a<r;++a){if(o=s[a],!Fs(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)n(l[c],e,o,i)}return e}function WC(e,t){return Gb(e,t,{merger:uTe})}function uTe(e,t,i){if(!uK(e))return;const s=t[e],r=i[e];Fs(s)&&Fs(r)?WC(s,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=a_(r))}const x3={"":e=>e,x:e=>e.x,y:e=>e.y};function dTe(e){const t=e.split("."),i=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}function hTe(e){const t=dTe(e);return i=>{for(const s of t){if(s==="")break;i=i&&i[s]}return i}}function xf(e,t){return(x3[t]||(x3[t]=hTe(t)))(e)}function fI(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Hb=e=>typeof e<"u",Ef=e=>typeof e=="function",E3=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};function fTe(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const er=Math.PI,Kr=2*er,pTe=Kr+er,l_=Number.POSITIVE_INFINITY,gTe=er/180,Vn=er/2,wp=er/4,_3=er*2/3,tf=Math.log10,Vu=Math.sign;function UC(e,t,i){return Math.abs(e-t)<i}function T3(e){const t=Math.round(e);e=UC(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(tf(e))),s=e/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function mTe(e){const t=[],i=Math.sqrt(e);let s;for(s=1;s<i;s++)e%s===0&&(t.push(s),t.push(e/s));return i===(i|0)&&t.push(i),t.sort((r,n)=>r-n).pop(),t}function vTe(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function h0(e){return!vTe(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function yTe(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}function dK(e,t,i){let s,r,n;for(s=0,r=e.length;s<r;s++)n=e[s][i],isNaN(n)||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}function Bc(e){return e*(er/180)}function pI(e){return e*(180/er)}function A3(e){if(!Tn(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function hK(e,t){const i=t.x-e.x,s=t.y-e.y,r=Math.sqrt(i*i+s*s);let n=Math.atan2(s,i);return n<-.5*er&&(n+=Kr),{angle:n,distance:r}}function jF(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function CTe(e,t){return(e-t+pTe)%Kr-er}function Jo(e){return(e%Kr+Kr)%Kr}function $b(e,t,i,s){const r=Jo(e),n=Jo(t),o=Jo(i),a=Jo(n-r),l=Jo(o-r),c=Jo(r-n),u=Jo(r-o);return r===n||r===o||s&&n===o||a>l&&c<u}function xo(e,t,i){return Math.max(t,Math.min(i,e))}function bTe(e){return xo(e,-32768,32767)}function Id(e,t,i,s=1e-6){return e>=Math.min(t,i)-s&&e<=Math.max(t,i)+s}function gI(e,t,i){i=i||(o=>e[o]<t);let s=e.length-1,r=0,n;for(;s-r>1;)n=r+s>>1,i(n)?r=n:s=n;return{lo:r,hi:s}}const Nd=(e,t,i,s)=>gI(e,i,s?r=>{const n=e[r][t];return n<i||n===i&&e[r+1][t]===i}:r=>e[r][t]<i),wTe=(e,t,i)=>gI(e,i,s=>e[s][t]>=i);function STe(e,t,i){let s=0,r=e.length;for(;s<r&&e[s]<t;)s++;for(;r>s&&e[r-1]>i;)r--;return s>0||r<e.length?e.slice(s,r):e}const fK=["push","pop","shift","splice","unshift"];function xTe(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),fK.forEach(i=>{const s="_onData"+fI(i),r=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...n){const o=r.apply(this,n);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...n)}),o}})})}function k3(e,t){const i=e._chartjs;if(!i)return;const s=i.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(fK.forEach(n=>{delete e[n]}),delete e._chartjs)}function pK(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const gK=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function mK(e,t){let i=[],s=!1;return function(...r){i=r,s||(s=!0,gK.call(window,()=>{s=!1,e.apply(t,i)}))}}function ETe(e,t){let i;return function(...s){return t?(clearTimeout(i),i=setTimeout(e,t,s)):e.apply(this,s),t}}const mI=e=>e==="start"?"left":e==="end"?"right":"center",Yo=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2,_Te=(e,t,i,s)=>e===(s?"left":"right")?i:e==="center"?(t+i)/2:t;function vK(e,t,i){const s=t.length;let r=0,n=s;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:y}=o.getUserBounds();if(p){if(r=Math.min(Nd(l,u,h).lo,i?s:Nd(t,u,o.getPixelForValue(h)).lo),c){const v=l.slice(0,r+1).reverse().findIndex(C=>!As(C[a.axis]));r-=Math.max(0,v)}r=xo(r,0,s-1)}if(y){let v=Math.max(Nd(l,o.axis,f,!0).hi+1,i?0:Nd(t,u,o.getPixelForValue(f),!0).hi+1);if(c){const C=l.slice(v-1).findIndex(S=>!As(S[a.axis]));v+=Math.max(0,C)}n=xo(v,r,s)-r}else n=s-r}return{start:r,count:n}}function yK(e){const{xScale:t,yScale:i,_scaleRanges:s}=e,r={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!s)return e._scaleRanges=r,!0;const n=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,r),n}const o1=e=>e===0||e===1,D3=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Kr/i)),R3=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*Kr/i)+1,zC={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Vn)+1,easeOutSine:e=>Math.sin(e*Vn),easeInOutSine:e=>-.5*(Math.cos(er*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>o1(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>o1(e)?e:D3(e,.075,.3),easeOutElastic:e=>o1(e)?e:R3(e,.075,.3),easeInOutElastic(e){return o1(e)?e:e<.5?.5*D3(e*2,.1125,.45):.5+.5*R3(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-zC.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?zC.easeInBounce(e*2)*.5:zC.easeOutBounce(e*2-1)*.5+.5};function vI(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function P3(e){return vI(e)?e:new Bb(e)}function vR(e){return vI(e)?e:new Bb(e).saturate(.5).darken(.1).hexString()}const TTe=["x","y","borderWidth","radius","tension"],ATe=["color","borderColor","backgroundColor"];function kTe(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:ATe},numbers:{type:"number",properties:TTe}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function DTe(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const F3=new Map;function RTe(e,t){t=t||{};const i=e+JSON.stringify(t);let s=F3.get(i);return s||(s=new Intl.NumberFormat(e,t),F3.set(i,s)),s}function lS(e,t,i){return RTe(t,i).format(e)}const CK={values(e){return ln(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";const s=this.chart.options.locale;let r,n=e;if(i.length>1){const c=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),n=PTe(e,i)}const o=tf(Math.abs(n)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),lS(e,s,l)},logarithmic(e,t,i){if(e===0)return"0";const s=i[t].significand||e/Math.pow(10,Math.floor(tf(e)));return[1,2,3,5,10,15].includes(s)||t>.8*i.length?CK.numeric.call(this,e,t,i):""}};function PTe(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var fA={formatters:CK};function FTe(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const _g=Object.create(null),KF=Object.create(null);function jC(e,t){if(!t)return e;const i=t.split(".");for(let s=0,r=i.length;s<r;++s){const n=i[s];e=e[n]||(e[n]=Object.create(null))}return e}function yR(e,t,i){return typeof t=="string"?Gb(jC(e,t),i):Gb(jC(e,""),t)}class MTe{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>vR(r.backgroundColor),this.hoverBorderColor=(s,r)=>vR(r.borderColor),this.hoverColor=(s,r)=>vR(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return yR(this,t,i)}get(t){return jC(this,t)}describe(t,i){return yR(KF,t,i)}override(t,i){return yR(_g,t,i)}route(t,i,s,r){const n=jC(this,t),o=jC(this,s),a="_"+i;Object.defineProperties(n,{[a]:{value:n[i],writable:!0},[i]:{enumerable:!0,get(){const l=this[a],c=o[r];return Fs(l)?Object.assign({},c,l):Zi(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(i=>i(this))}}var cn=new MTe({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[kTe,DTe,FTe]);function LTe(e){return!e||As(e.size)||As(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function c_(e,t,i,s,r){let n=t[r];return n||(n=t[r]=e.measureText(r).width,i.push(r)),n>s&&(s=n),s}function OTe(e,t,i,s){s=s||{};let r=s.data=s.data||{},n=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(r=s.data={},n=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let o=0;const a=i.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=i[l],h!=null&&!ln(h))o=c_(e,r,n,o,h);else if(ln(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!ln(f)&&(o=c_(e,r,n,o,f));e.restore();const p=n.length/2;if(p>i.length){for(l=0;l<p;l++)delete r[n[l]];n.splice(0,p)}return o}function Sp(e,t,i){const s=e.currentDevicePixelRatio,r=i!==0?Math.max(i/2,.5):0;return Math.round((t-r)*s)/s+r}function M3(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function YF(e,t,i,s){bK(e,t,i,s,null)}function bK(e,t,i,s,r){let n,o,a,l,c,u,h,f;const p=t.pointStyle,y=t.rotation,v=t.radius;let C=(y||0)*gTe;if(p&&typeof p=="object"&&(n=p.toString(),n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]")){e.save(),e.translate(i,s),e.rotate(C),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),p){default:r?e.ellipse(i,s,r/2,v,0,0,Kr):e.arc(i,s,v,0,Kr),e.closePath();break;case"triangle":u=r?r/2:v,e.moveTo(i+Math.sin(C)*u,s-Math.cos(C)*v),C+=_3,e.lineTo(i+Math.sin(C)*u,s-Math.cos(C)*v),C+=_3,e.lineTo(i+Math.sin(C)*u,s-Math.cos(C)*v),e.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(C+wp)*l,h=Math.cos(C+wp)*(r?r/2-c:l),a=Math.sin(C+wp)*l,f=Math.sin(C+wp)*(r?r/2-c:l),e.arc(i-h,s-a,c,C-er,C-Vn),e.arc(i+f,s-o,c,C-Vn,C),e.arc(i+h,s+a,c,C,C+Vn),e.arc(i-f,s+o,c,C+Vn,C+er),e.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*v,u=r?r/2:l,e.rect(i-u,s-l,2*u,2*l);break}C+=wp;case"rectRot":h=Math.cos(C)*(r?r/2:v),o=Math.cos(C)*v,a=Math.sin(C)*v,f=Math.sin(C)*(r?r/2:v),e.moveTo(i-h,s-a),e.lineTo(i+f,s-o),e.lineTo(i+h,s+a),e.lineTo(i-f,s+o),e.closePath();break;case"crossRot":C+=wp;case"cross":h=Math.cos(C)*(r?r/2:v),o=Math.cos(C)*v,a=Math.sin(C)*v,f=Math.sin(C)*(r?r/2:v),e.moveTo(i-h,s-a),e.lineTo(i+h,s+a),e.moveTo(i+f,s-o),e.lineTo(i-f,s+o);break;case"star":h=Math.cos(C)*(r?r/2:v),o=Math.cos(C)*v,a=Math.sin(C)*v,f=Math.sin(C)*(r?r/2:v),e.moveTo(i-h,s-a),e.lineTo(i+h,s+a),e.moveTo(i+f,s-o),e.lineTo(i-f,s+o),C+=wp,h=Math.cos(C)*(r?r/2:v),o=Math.cos(C)*v,a=Math.sin(C)*v,f=Math.sin(C)*(r?r/2:v),e.moveTo(i-h,s-a),e.lineTo(i+h,s+a),e.moveTo(i+f,s-o),e.lineTo(i-f,s+o);break;case"line":o=r?r/2:Math.cos(C)*v,a=Math.sin(C)*v,e.moveTo(i-o,s-a),e.lineTo(i+o,s+a);break;case"dash":e.moveTo(i,s),e.lineTo(i+Math.cos(C)*(r?r/2:v),s+Math.sin(C)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Vd(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function pA(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function gA(e){e.restore()}function ITe(e,t,i,s,r){if(!t)return e.lineTo(i.x,i.y);if(r==="middle"){const n=(t.x+i.x)/2;e.lineTo(n,t.y),e.lineTo(n,i.y)}else r==="after"!=!!s?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function NTe(e,t,i,s){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function VTe(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),As(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function BTe(e,t,i,s,r){if(r.strikethrough||r.underline){const n=e.measureText(s),o=t-n.actualBoundingBoxLeft,a=t+n.actualBoundingBoxRight,l=i-n.actualBoundingBoxAscent,c=i+n.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function GTe(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function Tg(e,t,i,s,r,n={}){const o=ln(t)?t:[t],a=n.strokeWidth>0&&n.strokeColor!=="";let l,c;for(e.save(),e.font=r.string,VTe(e,n),l=0;l<o.length;++l)c=o[l],n.backdrop&&GTe(e,n.backdrop),a&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),As(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(c,i,s,n.maxWidth)),e.fillText(c,i,s,n.maxWidth),BTe(e,i,s,c,n),s+=Number(r.lineHeight);e.restore()}function Wb(e,t){const{x:i,y:s,w:r,h:n,radius:o}=t;e.arc(i+o.topLeft,s+o.topLeft,o.topLeft,1.5*er,er,!0),e.lineTo(i,s+n-o.bottomLeft),e.arc(i+o.bottomLeft,s+n-o.bottomLeft,o.bottomLeft,er,Vn,!0),e.lineTo(i+r-o.bottomRight,s+n),e.arc(i+r-o.bottomRight,s+n-o.bottomRight,o.bottomRight,Vn,0,!0),e.lineTo(i+r,s+o.topRight),e.arc(i+r-o.topRight,s+o.topRight,o.topRight,0,-Vn,!0),e.lineTo(i+o.topLeft,s)}const HTe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$Te=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function WTe(e,t){const i=(""+e).match(HTe);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}const UTe=e=>+e||0;function yI(e,t){const i={},s=Fs(t),r=s?Object.keys(t):t,n=Fs(e)?s?o=>Zi(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)i[o]=UTe(n(o));return i}function wK(e){return yI(e,{top:"y",right:"x",bottom:"y",left:"x"})}function tg(e){return yI(e,["topLeft","topRight","bottomLeft","bottomRight"])}function da(e){const t=wK(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mo(e,t){e=e||{},t=t||cn.font;let i=Zi(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let s=Zi(e.style,t.style);s&&!(""+s).match($Te)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Zi(e.family,t.family),lineHeight:WTe(Zi(e.lineHeight,t.lineHeight),i),size:i,style:s,weight:Zi(e.weight,t.weight),string:""};return r.string=LTe(r),r}function pC(e,t,i,s){let r,n,o;for(r=0,n=e.length;r<n;++r)if(o=e[r],o!==void 0&&o!==void 0)return o}function zTe(e,t,i){const{min:s,max:r}=e,n=cK(t,(r-s)/2),o=(a,l)=>i&&a===0?0:a+l;return{min:o(s,-Math.abs(n)),max:o(r,n)}}function $f(e,t){return Object.assign(Object.create(e),t)}function CI(e,t=[""],i,s,r=()=>e[0]){const n=i||e;typeof s>"u"&&(s=_K("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:s,_getTarget:r,override:a=>CI([a,...e],t,n,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return xK(a,l,()=>ZTe(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return O3(a).includes(l)},ownKeys(a){return O3(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function f0(e,t,i,s){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:SK(e,s),setContext:n=>f0(e,n,i,s),override:n=>f0(e.override(n),t,i,s)};return new Proxy(r,{deleteProperty(n,o){return delete n[o],delete e[o],!0},get(n,o,a){return xK(n,o,()=>KTe(n,o,a))},getOwnPropertyDescriptor(n,o){return n._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(n,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(n,o,a){return e[o]=a,delete n[o],!0}})}function SK(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:i,indexable:s,isScriptable:Ef(i)?i:()=>i,isIndexable:Ef(s)?s:()=>s}}const jTe=(e,t)=>e?e+fI(t):t,bI=(e,t)=>Fs(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function xK(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=i();return e[t]=s,s}function KTe(e,t,i){const{_proxy:s,_context:r,_subProxy:n,_descriptors:o}=e;let a=s[t];return Ef(a)&&o.isScriptable(t)&&(a=YTe(t,a,e,i)),ln(a)&&a.length&&(a=XTe(t,a,e,o.isIndexable)),bI(t,a)&&(a=f0(a,r,n&&n[t],o)),a}function YTe(e,t,i,s){const{_proxy:r,_context:n,_subProxy:o,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(n,o||s);return a.delete(e),bI(e,l)&&(l=wI(r._scopes,r,e,l)),l}function XTe(e,t,i,s){const{_proxy:r,_context:n,_subProxy:o,_descriptors:a}=i;if(typeof n.index<"u"&&s(e))return t[n.index%t.length];if(Fs(t[0])){const l=t,c=r._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=wI(c,r,e,u);t.push(f0(h,n,o&&o[e],a))}}return t}function EK(e,t,i){return Ef(e)?e(t,i):e}const qTe=(e,t)=>e===!0?t:typeof e=="string"?xf(t,e):void 0;function QTe(e,t,i,s,r){for(const n of t){const o=qTe(i,n);if(o){e.add(o);const a=EK(o._fallback,i,r);if(typeof a<"u"&&a!==i&&a!==s)return a}else if(o===!1&&typeof s<"u"&&i!==s)return null}return!1}function wI(e,t,i,s){const r=t._rootScopes,n=EK(t._fallback,i,s),o=[...e,...r],a=new Set;a.add(s);let l=L3(a,o,i,n||i,s);return l===null||typeof n<"u"&&n!==i&&(l=L3(a,o,n,l,s),l===null)?!1:CI(Array.from(a),[""],r,n,()=>JTe(t,i,s))}function L3(e,t,i,s,r){for(;i;)i=QTe(e,t,i,s,r);return i}function JTe(e,t,i){const s=e._getTarget();t in s||(s[t]={});const r=s[t];return ln(r)&&Fs(i)?i:r||{}}function ZTe(e,t,i,s){let r;for(const n of t)if(r=_K(jTe(n,e),i),typeof r<"u")return bI(e,r)?wI(i,s,e,r):r}function _K(e,t){for(const i of t){if(!i)continue;const s=i[e];if(typeof s<"u")return s}}function O3(e){let t=e._keys;return t||(t=e._keys=eAe(e._scopes)),t}function eAe(e){const t=new Set;for(const i of e)for(const s of Object.keys(i).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}function TK(e,t,i,s){const{iScale:r}=e,{key:n="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+i,u=t[c],o[a]={r:r.parse(xf(u,n),c)};return o}const tAe=Number.EPSILON||1e-14,p0=(e,t)=>t<e.length&&!e[t].skip&&e[t],AK=e=>e==="x"?"y":"x";function iAe(e,t,i,s){const r=e.skip?t:e,n=t,o=i.skip?t:i,a=jF(n,r),l=jF(o,n);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,f=s*u;return{previous:{x:n.x-h*(o.x-r.x),y:n.y-h*(o.y-r.y)},next:{x:n.x+f*(o.x-r.x),y:n.y+f*(o.y-r.y)}}}function sAe(e,t,i){const s=e.length;let r,n,o,a,l,c=p0(e,0);for(let u=0;u<s-1;++u)if(l=c,c=p0(e,u+1),!(!l||!c)){if(UC(t[u],0,tAe)){i[u]=i[u+1]=0;continue}r=i[u]/t[u],n=i[u+1]/t[u],a=Math.pow(r,2)+Math.pow(n,2),!(a<=9)&&(o=3/Math.sqrt(a),i[u]=r*o*t[u],i[u+1]=n*o*t[u])}}function rAe(e,t,i="x"){const s=AK(i),r=e.length;let n,o,a,l=p0(e,0);for(let c=0;c<r;++c){if(o=a,a=l,l=p0(e,c+1),!a)continue;const u=a[i],h=a[s];o&&(n=(u-o[i])/3,a[`cp1${i}`]=u-n,a[`cp1${s}`]=h-n*t[c]),l&&(n=(l[i]-u)/3,a[`cp2${i}`]=u+n,a[`cp2${s}`]=h+n*t[c])}}function nAe(e,t="x"){const i=AK(t),s=e.length,r=Array(s).fill(0),n=Array(s);let o,a,l,c=p0(e,0);for(o=0;o<s;++o)if(a=l,l=c,c=p0(e,o+1),!!l){if(c){const u=c[t]-l[t];r[o]=u!==0?(c[i]-l[i])/u:0}n[o]=a?c?Vu(r[o-1])!==Vu(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}sAe(e,r,n),rAe(e,n,t)}function a1(e,t,i){return Math.max(Math.min(e,i),t)}function oAe(e,t){let i,s,r,n,o,a=Vd(e[0],t);for(i=0,s=e.length;i<s;++i)o=n,n=a,a=i<s-1&&Vd(e[i+1],t),n&&(r=e[i],o&&(r.cp1x=a1(r.cp1x,t.left,t.right),r.cp1y=a1(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=a1(r.cp2x,t.left,t.right),r.cp2y=a1(r.cp2y,t.top,t.bottom)))}function aAe(e,t,i,s,r){let n,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")nAe(e,r);else{let c=s?e[e.length-1]:e[0];for(n=0,o=e.length;n<o;++n)a=e[n],l=iAe(c,a,e[Math.min(n+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&oAe(e,i)}function SI(){return typeof window<"u"&&typeof document<"u"}function xI(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function u_(e,t,i){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[i])):s=e,s}const mA=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function lAe(e,t){return mA(e).getPropertyValue(t)}const cAe=["top","right","bottom","left"];function ig(e,t,i){const s={};i=i?"-"+i:"";for(let r=0;r<4;r++){const n=cAe[r];s[n]=parseFloat(e[t+"-"+n+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const uAe=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function dAe(e,t){const i=e.touches,s=i&&i.length?i[0]:e,{offsetX:r,offsetY:n}=s;let o=!1,a,l;if(uAe(r,n,e.target))a=r,l=n;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Rp(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:s}=t,r=mA(i),n=r.boxSizing==="border-box",o=ig(r,"padding"),a=ig(r,"border","width"),{x:l,y:c,box:u}=dAe(e,i),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:y}=t;return n&&(p-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-h)/p*i.width/s),y:Math.round((c-f)/y*i.height/s)}}function hAe(e,t,i){let s,r;if(t===void 0||i===void 0){const n=e&&xI(e);if(!n)t=e.clientWidth,i=e.clientHeight;else{const o=n.getBoundingClientRect(),a=mA(n),l=ig(a,"border","width"),c=ig(a,"padding");t=o.width-c.width-l.width,i=o.height-c.height-l.height,s=u_(a.maxWidth,n,"clientWidth"),r=u_(a.maxHeight,n,"clientHeight")}}return{width:t,height:i,maxWidth:s||l_,maxHeight:r||l_}}const l1=e=>Math.round(e*10)/10;function fAe(e,t,i,s){const r=mA(e),n=ig(r,"margin"),o=u_(r.maxWidth,e,"clientWidth")||l_,a=u_(r.maxHeight,e,"clientHeight")||l_,l=hAe(e,t,i);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const f=ig(r,"border","width"),p=ig(r,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-n.width),u=Math.max(0,s?c/s:u-n.height),c=l1(Math.min(c,o,l.maxWidth)),u=l1(Math.min(u,a,l.maxHeight)),c&&!u&&(u=l1(c/2)),(t!==void 0||i!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=l1(Math.floor(u*s))),{width:c,height:u}}function I3(e,t,i){const s=t||1,r=Math.floor(e.height*s),n=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==r||o.width!==n?(e.currentDevicePixelRatio=s,o.height=r,o.width=n,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const pAe=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};SI()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function N3(e,t){const i=lAe(e,t),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Pp(e,t,i,s){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function gAe(e,t,i,s){return{x:e.x+i*(t.x-e.x),y:s==="middle"?i<.5?e.y:t.y:s==="after"?i<1?e.y:t.y:i>0?t.y:e.y}}function mAe(e,t,i,s){const r={x:e.cp2x,y:e.cp2y},n={x:t.cp1x,y:t.cp1y},o=Pp(e,r,i),a=Pp(r,n,i),l=Pp(n,t,i),c=Pp(o,a,i),u=Pp(a,l,i);return Pp(c,u,i)}const vAe=function(e,t){return{x(i){return e+e+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,s){return i-s},leftForLtr(i,s){return i-s}}},yAe=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Nv(e,t,i){return e?vAe(t,i):yAe()}function kK(e,t){let i,s;(t==="ltr"||t==="rtl")&&(i=e.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=s)}function DK(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function RK(e){return e==="angle"?{between:$b,compare:CTe,normalize:Jo}:{between:Id,compare:(t,i)=>t-i,normalize:t=>t}}function V3({start:e,end:t,count:i,loop:s,style:r}){return{start:e%i,end:t%i,loop:s&&(t-e+1)%i===0,style:r}}function CAe(e,t,i){const{property:s,start:r,end:n}=i,{between:o,normalize:a}=RK(s),l=t.length;let{start:c,end:u,loop:h}=e,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(t[c%l][s]),r,n);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function PK(e,t,i){if(!i)return[e];const{property:s,start:r,end:n}=i,o=t.length,{compare:a,between:l,normalize:c}=RK(s),{start:u,end:h,loop:f,style:p}=CAe(e,t,i),y=[];let v=!1,C=null,S,_,x;const A=()=>l(r,x,S)&&a(r,x)!==0,R=()=>a(n,S)===0||l(n,x,S),O=()=>v||A(),k=()=>!v||R();for(let F=u,N=u;F<=h;++F)_=t[F%o],!_.skip&&(S=c(_[s]),S!==x&&(v=l(S,r,n),C===null&&O()&&(C=a(S,r)===0?F:N),C!==null&&k()&&(y.push(V3({start:C,end:F,loop:f,count:o,style:p})),C=null),N=F,x=S));return C!==null&&y.push(V3({start:C,end:h,loop:f,count:o,style:p})),y}function FK(e,t){const i=[],s=e.segments;for(let r=0;r<s.length;r++){const n=PK(s[r],e.points,t);n.length&&i.push(...n)}return i}function bAe(e,t,i,s){let r=0,n=t-1;if(i&&!s)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,i&&(n+=r);n>r&&e[n%t].skip;)n--;return n%=t,{start:r,end:n}}function wAe(e,t,i,s){const r=e.length,n=[];let o=t,a=e[t],l;for(l=t+1;l<=i;++l){const c=e[l%r];c.skip||c.stop?a.skip||(s=!1,n.push({start:t%r,end:(l-1)%r,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&n.push({start:t%r,end:o%r,loop:s}),n}function SAe(e,t){const i=e.points,s=e.options.spanGaps,r=i.length;if(!r)return[];const n=!!e._loop,{start:o,end:a}=bAe(i,r,n,s);if(s===!0)return B3(e,[{start:o,end:a,loop:n}],i,t);const l=a<o?a+r:a,c=!!e._fullLoop&&o===0&&a===r-1;return B3(e,wAe(i,o,l,c),i,t)}function B3(e,t,i,s){return!s||!s.setContext||!i?t:xAe(e,t,i,s)}function xAe(e,t,i,s){const r=e._chart.getContext(),n=G3(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=i.length,c=[];let u=n,h=t[0].start,f=h;function p(y,v,C,S){const _=a?-1:1;if(y!==v){for(y+=l;i[y%l].skip;)y-=_;for(;i[v%l].skip;)v+=_;y%l!==v%l&&(c.push({start:y%l,end:v%l,loop:C,style:S}),u=S,h=v%l)}}for(const y of t){h=a?h:y.start;let v=i[h%l],C;for(f=h+1;f<=y.end;f++){const S=i[f%l];C=G3(s.setContext($f(r,{type:"segment",p0:v,p1:S,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),EAe(C,u)&&p(h,f-1,y.loop,u),v=S,u=C}h<f-1&&p(h,f-1,y.loop,u)}return c}function G3(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function EAe(e,t){if(!t)return!1;const i=[],s=function(r,n){return vI(n)?(i.includes(n)||i.push(n),i.indexOf(n)):n};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function c1(e,t,i){return e.options.clip?e[i]:t[i]}function _Ae(e,t){const{xScale:i,yScale:s}=e;return i&&s?{left:c1(i,t,"left"),right:c1(i,t,"right"),top:c1(s,t,"top"),bottom:c1(s,t,"bottom")}:t}function MK(e,t){const i=t._clip;if(i.disabled)return!1;const s=_Ae(t,e.chartArea);return{left:i.left===!1?0:s.left-(i.left===!0?0:i.left),right:i.right===!1?e.width:s.right+(i.right===!0?0:i.right),top:i.top===!1?0:s.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?e.height:s.bottom+(i.bottom===!0?0:i.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class TAe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,s,r){const n=i.listeners[r],o=i.duration;n.forEach(a=>a({chart:t,initial:i.initial,numSteps:o,currentStep:Math.min(s-i.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=gK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const n=s.items;let o=n.length-1,a=!1,l;for(;o>=0;--o)l=n[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(n[o]=n[n.length-1],n.pop());a&&(r.draw(),this._notify(r,s,t,"progress")),n.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),i+=n.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){const i=this._charts;let s=i.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,s)),s}listen(t,i,s){this._getAnims(t).listeners[i].push(s)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const s=i.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xd=new TAe;const H3="transparent",AAe={boolean(e,t,i){return i>.5?t:e},color(e,t,i){const s=P3(e||H3),r=s.valid&&P3(t||H3);return r&&r.valid?r.mix(s,i).hexString():t},number(e,t,i){return e+(t-e)*i}};class kAe{constructor(t,i,s,r){const n=i[s];r=pC([t.to,r,n,t.from]);const o=pC([t.from,n,r]);this._active=!0,this._fn=t.fn||AAe[t.type||typeof o],this._easing=zC[t.easing]||zC.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,i,s){if(this._active){this._notify(!1);const r=this._target[this._prop],n=s-this._start,o=this._duration-n;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=pC([t.to,i,r,t.from]),this._from=pC([t.from,r,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,s=this._duration,r=this._prop,n=this._from,o=this._loop,a=this._to;let l;if(this._active=n!==a&&(o||i<s),!this._active){this._target[r]=a,this._notify(!0);return}if(i<0){this._target[r]=n;return}l=i/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(n,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,s)=>{t.push({res:i,rej:s})})}_notify(t){const i=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][i]()}}class LK{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!Fs(t))return;const i=Object.keys(cn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const n=t[r];if(!Fs(n))return;const o={};for(const a of i)o[a]=n[a];(ln(n.properties)&&n.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,i){const s=i.options,r=RAe(t,s);if(!r)return[];const n=this._createAnimations(r,s);return s.$shared&&DAe(t.options.$animations,s).then(()=>{t.options=s},()=>{}),n}_createAnimations(t,i){const s=this._properties,r=[],n=t.$animations||(t.$animations={}),o=Object.keys(i),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,i));continue}const u=i[c];let h=n[c];const f=s.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}n[c]=h=new kAe(f,t,c,u),r.push(h)}return r}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}const s=this._createAnimations(t,i);if(s.length)return xd.add(this._chart,s),!0}}function DAe(e,t){const i=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const n=e[s[r]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)}function RAe(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function $3(e,t){const i=e&&e.options||{},s=i.reverse,r=i.min===void 0?t:0,n=i.max===void 0?t:0;return{start:s?n:r,end:s?r:n}}function PAe(e,t,i){if(i===!1)return!1;const s=$3(e,i),r=$3(t,i);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function FAe(e){let t,i,s,r;return Fs(e)?(t=e.top,i=e.right,s=e.bottom,r=e.left):t=i=s=r=e,{top:t,right:i,bottom:s,left:r,disabled:e===!1}}function OK(e,t){const i=[],s=e._getSortedDatasetMetas(t);let r,n;for(r=0,n=s.length;r<n;++r)i.push(s[r].index);return i}function W3(e,t,i,s={}){const r=e.keys,n=s.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===i){if(u=!0,s.all)continue;break}c=e.values[l],Tn(c)&&(n||t===0||Vu(t)===Vu(c))&&(t+=c)}return!u&&!s.all?0:t}function MAe(e,t){const{iScale:i,vScale:s}=t,r=i.axis==="x"?"x":"y",n=s.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[n]:e[u]};return a}function CR(e,t){const i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function LAe(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function OAe(e){const{min:t,max:i,minDefined:s,maxDefined:r}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function IAe(e,t,i){const s=e[t]||(e[t]={});return s[i]||(s[i]={})}function U3(e,t,i,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const n=e[r.index];if(i&&n>0||!i&&n<0)return r.index}return null}function z3(e,t){const{chart:i,_cachedMeta:s}=e,r=i._stacks||(i._stacks={}),{iScale:n,vScale:o,index:a}=s,l=n.axis,c=o.axis,u=LAe(n,o,s),h=t.length;let f;for(let p=0;p<h;++p){const y=t[p],{[l]:v,[c]:C}=y,S=y._stacks||(y._stacks={});f=S[c]=IAe(r,u,v),f[a]=C,f._top=U3(f,o,!0,s.type),f._bottom=U3(f,o,!1,s.type);const _=f._visualValues||(f._visualValues={});_[a]=C}}function bR(e,t){const i=e.scales;return Object.keys(i).filter(s=>i[s].axis===t).shift()}function NAe(e,t){return $f(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function VAe(e,t,i){return $f(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function Jy(e,t){const i=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const r of t){const n=r._stacks;if(!n||n[s]===void 0||n[s][i]===void 0)return;delete n[s][i],n[s]._visualValues!==void 0&&n[s]._visualValues[i]!==void 0&&delete n[s]._visualValues[i]}}}const wR=e=>e==="reset"||e==="none",j3=(e,t)=>t?e:Object.assign({},e),BAe=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:OK(i,!0),values:null};class Kc{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=CR(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Jy(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,s=this.getDataset(),r=(h,f,p,y)=>h==="x"?f:h==="r"?y:p,n=i.xAxisID=Zi(s.xAxisID,bR(t,"x")),o=i.yAxisID=Zi(s.yAxisID,bR(t,"y")),a=i.rAxisID=Zi(s.rAxisID,bR(t,"r")),l=i.indexAxis,c=i.iAxisID=r(l,n,o,a),u=i.vAxisID=r(l,o,n,a);i.xScale=this.getScaleForId(n),i.yScale=this.getScaleForId(o),i.rScale=this.getScaleForId(a),i.iScale=this.getScaleForId(c),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&k3(this._data,this),t._stacked&&Jy(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),s=this._data;if(Fs(i)){const r=this._cachedMeta;this._data=MAe(i,r)}else if(s!==i){if(s){k3(s,this);const r=this._cachedMeta;Jy(r),r._parsed=[]}i&&Object.isExtensible(i)&&xTe(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const n=i._stacked;i._stacked=CR(i.vScale,i),i.stack!==s.stack&&(r=!0,Jy(i),i.stack=s.stack),this._resyncElements(t),(r||n!==i._stacked)&&(z3(this,i._parsed),i._stacked=CR(i.vScale,i))}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:s,_data:r}=this,{iScale:n,_stacked:o}=s,a=n.axis;let l=t===0&&i===r.length?!0:s._sorted,c=t>0&&s._parsed[t-1],u,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{ln(r[t])?f=this.parseArrayData(s,r,t,i):Fs(r[t])?f=this.parseObjectData(s,r,t,i):f=this.parsePrimitiveData(s,r,t,i);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<i;++u)s._parsed[u+t]=h=f[u],l&&(p()&&(l=!1),c=h);s._sorted=l}o&&z3(this,f)}parsePrimitiveData(t,i,s,r){const{iScale:n,vScale:o}=t,a=n.axis,l=o.axis,c=n.getLabels(),u=n===o,h=new Array(r);let f,p,y;for(f=0,p=r;f<p;++f)y=f+s,h[f]={[a]:u||n.parse(c[y],y),[l]:o.parse(i[y],y)};return h}parseArrayData(t,i,s,r){const{xScale:n,yScale:o}=t,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+s,h=i[u],a[l]={x:n.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,i,s,r){const{xScale:n,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,f,p;for(u=0,h=r;u<h;++u)f=u+s,p=i[f],c[u]={x:n.parse(xf(p,a),f),y:o.parse(xf(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,s){const r=this.chart,n=this._cachedMeta,o=i[t.axis],a={keys:OK(r,!0),values:i._stacks[t.axis]._visualValues};return W3(a,o,n.index,{mode:s})}updateRangeFromParsed(t,i,s,r){const n=s[i.axis];let o=n===null?NaN:n;const a=r&&s._stacks[i.axis];r&&a&&(r.values=a,o=W3(r,n,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,i){const s=this._cachedMeta,r=s._parsed,n=s._sorted&&t===s.iScale,o=r.length,a=this._getOtherScale(t),l=BAe(i,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=OAe(a);let f,p;function y(){p=r[f];const v=p[a.axis];return!Tn(p[t.axis])||u>v||h<v}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(c,t,p,l),n));++f);if(n){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const i=this._cachedMeta._parsed,s=[];let r,n,o;for(r=0,n=i.length;r<n;++r)o=i[r][t.axis],Tn(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,s=i.iScale,r=i.vScale,n=this.getParsed(t);return{label:s?""+s.getLabelForValue(n[s.axis]):"",value:r?""+r.getLabelForValue(n[r.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=FAe(Zi(this.options.clip,PAe(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this.chart,s=this._cachedMeta,r=s.data||[],n=i.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,n,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,n))}for(u=0;u<o.length;++u)o[u].draw(t,n)}getStyle(t,i){const s=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,i,s){const r=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];n=o.$context||(o.$context=VAe(this.getContext(),t,o)),n.parsed=this.getParsed(t),n.raw=r.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=NAe(this.chart.getContext(),this.index)),n.dataset=r,n.index=n.datasetIndex=this.index;return n.active=!!i,n.mode=s,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",s){const r=i==="active",n=this._cachedDataOpts,o=t+"-"+i,a=n[o],l=this.enableOptionSharing&&Hb(s);if(a)return j3(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(cn.elements[t]),y=()=>this.getContext(s,r,i),v=c.resolveNamedOptions(f,p,y,h);return v.$shared&&(v.$shared=l,n[o]=Object.freeze(j3(v,l))),v}_resolveAnimations(t,i,s){const r=this.chart,n=this._cachedDataOpts,o=`animation-${i}`,a=n[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,i),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,s,i))}const c=new LK(r,l&&l.animations);return l&&l._cacheable&&(n[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||wR(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const s=this.resolveDataElementOptions(t,i),r=this._sharedOptions,n=this.getSharedOptions(s),o=this.includeOptions(i,n)||n!==r;return this.updateSharedOptions(n,i,s),{sharedOptions:n,includeOptions:o}}updateElement(t,i,s,r){wR(r)?Object.assign(t,s):this._resolveAnimations(i,r).update(t,s)}updateSharedOptions(t,i,s){t&&!wR(i)&&this._resolveAnimations(void 0,i).update(t,s)}_setStyle(t,i,s,r){t.active=r;const n=this.getStyle(i,r);this._resolveAnimations(i,s,r).update(t,{options:!r&&this.getSharedOptions(n)||n})}removeHoverStyle(t,i,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,i,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=s.length,n=i.length,o=Math.min(n,r);o&&this.parse(0,o),n>r?this._insertElements(r,n-r,t):n<r&&this._removeElements(n,r-n)}_insertElements(t,i,s=!0){const r=this._cachedMeta,n=r.data,o=t+i;let a;const l=c=>{for(c.length+=i,a=c.length-1;a>=o;a--)c[a]=c[a-i]};for(l(n),a=t;a<o;++a)n[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,i),s&&this.updateElements(n,t,i,"reset")}updateElements(t,i,s,r){}_removeElements(t,i){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,i);s._stacked&&Jy(s,r)}s.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,s,r]=t;this[i](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ti(Kc,"defaults",{}),ti(Kc,"datasetElementType",null),ti(Kc,"dataElementType",null);function GAe(e,t){if(!e._cache.$bar){const i=e.getMatchingVisibleMetas(t);let s=[];for(let r=0,n=i.length;r<n;r++)s=s.concat(i[r].controller.getAllParsedValues(e));e._cache.$bar=pK(s.sort((r,n)=>r-n))}return e._cache.$bar}function HAe(e){const t=e.iScale,i=GAe(t,e.type);let s=t._length,r,n,o,a;const l=()=>{o===32767||o===-32768||(Hb(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,n=i.length;r<n;++r)o=t.getPixelForValue(i[r]),l();for(a=void 0,r=0,n=t.ticks.length;r<n;++r)o=t.getPixelForTick(r),l();return s}function $Ae(e,t,i,s){const r=i.barThickness;let n,o;return As(r)?(n=t.min*i.categoryPercentage,o=i.barPercentage):(n=r*s,o=1),{chunk:n/s,ratio:o,start:t.pixels[e]-n/2}}function WAe(e,t,i,s){const r=t.pixels,n=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=i.categoryPercentage;o===null&&(o=n-(a===null?t.end-t.start:a-n)),a===null&&(a=n+n-o);const c=n-(n-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:i.barPercentage,start:c}}function UAe(e,t,i,s){const r=i.parse(e[0],s),n=i.parse(e[1],s),o=Math.min(r,n),a=Math.max(r,n);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:n,min:o,max:a}}function IK(e,t,i,s){return ln(e)?UAe(e,t,i,s):t[i.axis]=i.parse(e,s),t}function K3(e,t,i,s){const r=e.iScale,n=e.vScale,o=r.getLabels(),a=r===n,l=[];let c,u,h,f;for(c=i,u=i+s;c<u;++c)f=t[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(IK(f,h,n,c));return l}function SR(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function zAe(e,t,i){return e!==0?Vu(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}function jAe(e){let t,i,s,r,n;return e.horizontal?(t=e.base>e.x,i="left",s="right"):(t=e.base<e.y,i="bottom",s="top"),t?(r="end",n="start"):(r="start",n="end"),{start:i,end:s,reverse:t,top:r,bottom:n}}function KAe(e,t,i,s){let r=t.borderSkipped;const n={};if(!r){e.borderSkipped=n;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=jAe(e);r==="middle"&&i&&(e.enableBorderRadius=!0,(i._top||0)===s?r=c:(i._bottom||0)===s?r=u:(n[Y3(u,o,a,l)]=!0,r=c)),n[Y3(r,o,a,l)]=!0,e.borderSkipped=n}function Y3(e,t,i,s){return s?(e=YAe(e,t,i),e=X3(e,i,t)):e=X3(e,t,i),e}function YAe(e,t,i){return e===t?i:e===i?t:e}function X3(e,t,i){return e==="start"?t:e==="end"?i:e}function XAe(e,{inflateAmount:t},i){e.inflateAmount=t==="auto"?i===1?.33:0:t}class KC extends Kc{parsePrimitiveData(t,i,s,r){return K3(t,i,s,r)}parseArrayData(t,i,s,r){return K3(t,i,s,r)}parseObjectData(t,i,s,r){const{iScale:n,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=n.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,p,y,v;for(f=s,p=s+r;f<p;++f)v=i[f],y={},y[n.axis]=n.parse(xf(v,c),f),h.push(IK(xf(v,u),y,o,f));return h}updateRangeFromParsed(t,i,s,r){super.updateRangeFromParsed(t,i,s,r);const n=s._custom;n&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:s,vScale:r}=i,n=this.getParsed(t),o=n._custom,a=SR(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(n[r.axis]);return{label:""+s.getLabelForValue(n[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,s,r){const n=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,r);for(let p=i;p<i+s;p++){const y=this.getParsed(p),v=n||As(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),C=this._calculateBarIndexPixels(p,u),S=(y._stacks||{})[a.axis],_={horizontal:c,base:v.base,enableBorderRadius:!S||SR(y._custom)||o===S._top||o===S._bottom,x:c?v.head:C.center,y:c?C.center:v.head,height:c?C.size:Math.abs(v.size),width:c?Math.abs(v.size):C.size};f&&(_.options=h||this.resolveDataElementOptions(p,t[p].active?"active":r));const x=_.options||t[p].options;KAe(_,x,S,o),XAe(_,x,u.ratio),this.updateElement(t[p],p,_,r)}}_getStacks(t,i){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),n=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(i),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(p=>p[s.axis]===l),f=h&&h[u.vScale.axis];if(As(f)||isNaN(f))return!0};for(const u of r)if(!(i!==void 0&&c(u))&&((n===!1||o.indexOf(u.stack)===-1||n===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,i=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===i).shift()}_getAxis(){const t={},i=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Zi(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,i)]=!0;return Object.keys(t)}_getStackIndex(t,i,s){const r=this._getStacks(t,s),n=i!==void 0?r.indexOf(i):-1;return n===-1?r.length-1:n}_getRuler(){const t=this.options,i=this._cachedMeta,s=i.iScale,r=[];let n,o;for(n=0,o=i.data.length;n<o;++n)r.push(s.getPixelForValue(this.getParsed(n)[s.axis],n));const a=t.barThickness;return{min:a||HAe(i),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:s,index:r},options:{base:n,minBarLength:o}}=this,a=n||0,l=this.getParsed(t),c=l._custom,u=SR(c);let h=l[i.axis],f=0,p=s?this.applyStack(i,l,s):h,y,v;p!==h&&(f=p-h,p=h),u&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&Vu(h)!==Vu(c.barEnd)&&(f=0),f+=h);const C=!As(n)&&!u?n:f;let S=i.getPixelForValue(C);if(this.chart.getDataVisibility(t)?y=i.getPixelForValue(f+p):y=S,v=y-S,Math.abs(v)<o){v=zAe(v,i,a)*o,h===a&&(S-=v/2);const _=i.getPixelForDecimal(0),x=i.getPixelForDecimal(1),A=Math.min(_,x),R=Math.max(_,x);S=Math.max(Math.min(S,R),A),y=S+v,s&&!u&&(l._stacks[i.axis]._visualValues[r]=i.getValueForPixel(y)-i.getValueForPixel(S))}if(S===i.getPixelForValue(a)){const _=Vu(v)*i.getLineWidthForValue(a)/2;S+=_,v-=_}return{size:v,base:S,head:y,center:y+v/2}}_calculateBarIndexPixels(t,i){const s=i.scale,r=this.options,n=r.skipNull,o=Zi(r.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(i.grouped){const u=n?this._getStackCount(t):i.stackCount,h=r.barThickness==="flex"?WAe(t,i,r,u*c):$Ae(t,i,r,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Zi(f,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,n?t:void 0)+p;a=h.start+h.chunk*y+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,i.min*i.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,i=t.vScale,s=t.data,r=s.length;let n=0;for(;n<r;++n)this.getParsed(n)[i.axis]!==null&&!s[n].hidden&&s[n].draw(this._ctx)}}ti(KC,"id","bar"),ti(KC,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ti(KC,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class eE extends Kc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,s,r){const n=super.parsePrimitiveData(t,i,s,r);for(let o=0;o<n.length;o++)n[o]._custom=this.resolveDataElementOptions(o+s).radius;return n}parseArrayData(t,i,s,r){const n=super.parseArrayData(t,i,s,r);for(let o=0;o<n.length;o++){const a=i[s+o];n[o]._custom=Zi(a[2],this.resolveDataElementOptions(o+s).radius)}return n}parseObjectData(t,i,s,r){const n=super.parseObjectData(t,i,s,r);for(let o=0;o<n.length;o++){const a=i[s+o];n[o]._custom=Zi(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return n}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let s=t.length-1;s>=0;--s)i=Math.max(i,t[s].size(this.resolveDataElementOptions(s))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:n}=i,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=n.getLabelForValue(o.y),c=o._custom;return{label:s[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,s,r){const n=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(i,r),u=o.axis,h=a.axis;for(let f=i;f<i+s;f++){const p=t[f],y=!n&&this.getParsed(f),v={},C=v[u]=n?o.getPixelForDecimal(.5):o.getPixelForValue(y[u]),S=v[h]=n?a.getBasePixel():a.getPixelForValue(y[h]);v.skip=isNaN(C)||isNaN(S),c&&(v.options=l||this.resolveDataElementOptions(f,p.active?"active":r),n&&(v.options.radius=0)),this.updateElement(p,f,v,r)}}resolveDataElementOptions(t,i){const s=this.getParsed(t);let r=super.resolveDataElementOptions(t,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const n=r.radius;return i!=="active"&&(r.radius=0),r.radius+=Zi(s&&s._custom,n),r}}ti(eE,"id","bubble"),ti(eE,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ti(eE,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function qAe(e,t,i){let s=1,r=1,n=0,o=0;if(t<Kr){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(x,A,R)=>$b(x,a,l,!0)?1:Math.max(A,A*i,R,R*i),y=(x,A,R)=>$b(x,a,l,!0)?-1:Math.min(A,A*i,R,R*i),v=p(0,c,h),C=p(Vn,u,f),S=y(er,c,h),_=y(er+Vn,u,f);s=(v-S)/2,r=(C-_)/2,n=-(v+S)/2,o=-(C+_)/2}return{ratioX:s,ratioY:r,offsetX:n,offsetY:o}}class Wp extends Kc{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let n=l=>+s[l];if(Fs(s[t])){const{key:l="value"}=this._parsing;n=c=>+xf(s[c],l)}let o,a;for(o=t,a=t+i;o<a;++o)r._parsed[o]=n(o)}}_getRotation(){return Bc(this.options.rotation-90)}_getCircumference(){return Bc(this.options.circumference)}_getRotationExtents(){let t=Kr,i=-Kr;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,n=r._getRotation(),o=r._getCircumference();t=Math.min(t,n),i=Math.max(i,n+o)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:s}=i,r=this._cachedMeta,n=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(lTe(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:y,offsetY:v}=qAe(h,u,l),C=(s.width-o)/f,S=(s.height-o)/p,_=Math.max(Math.min(C,S)/2,0),x=cK(this.options.radius,_),A=Math.max(x*l,0),R=(x-A)/this._getVisibleDatasetWeightTotal();this.offsetX=y*x,this.offsetY=v*x,r.total=this.calculateTotal(),this.outerRadius=x-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*c,0),this.updateElements(n,0,n.length,t)}_circumference(t,i){const s=this.options,r=this._cachedMeta,n=this._getCircumference();return i&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*n/Kr)}updateElements(t,i,s,r){const n=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=n&&c.animateScale,p=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:v,includeOptions:C}=this._getSharedOptions(i,r);let S=this._getRotation(),_;for(_=0;_<i;++_)S+=this._circumference(_,n);for(_=i;_<i+s;++_){const x=this._circumference(_,n),A=t[_],R={x:u+this.offsetX,y:h+this.offsetY,startAngle:S,endAngle:S+x,circumference:x,outerRadius:y,innerRadius:p};C&&(R.options=v||this.resolveDataElementOptions(_,A.active?"active":r)),S+=x,this.updateElement(A,_,R,r)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let s=0,r;for(r=0;r<i.length;r++){const n=t._parsed[r];n!==null&&!isNaN(n)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(s+=Math.abs(n))}return s}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?Kr*(Math.abs(t)/i):0}getLabelAndValue(t){const i=this._cachedMeta,s=this.chart,r=s.data.labels||[],n=lS(i._parsed[t],s.options.locale);return{label:r[t]||"",value:n}}getMaxBorderWidth(t){let i=0;const s=this.chart;let r,n,o,a,l;if(!t){for(r=0,n=s.data.datasets.length;r<n;++r)if(s.isDatasetVisible(r)){o=s.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,n=t.length;r<n;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let s=0,r=t.length;s<r;++s){const n=this.resolveDataElementOptions(s);i=Math.max(i,n.offset||0,n.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(i+=this._getRingWeight(s));return i}_getRingWeight(t){return Math.max(Zi(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ti(Wp,"id","doughnut"),ti(Wp,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ti(Wp,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ti(Wp,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:s,color:r}}=t.legend.options;return i.labels.map((n,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,i,s){s.chart.toggleDataVisibility(i.index),s.chart.update()}}}});class tE extends Kc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:s,data:r=[],_dataset:n}=i,o=this.chart._animationsDisabled;let{start:a,count:l}=vK(i,r,o);this._drawStart=a,this._drawCount=l,yK(i)&&(a=0,l=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!n._decimated,s.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(r,a,l,t)}updateElements(t,i,s,r){const n=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(i,r),f=o.axis,p=a.axis,{spanGaps:y,segment:v}=this.options,C=h0(y)?y:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||n||r==="none",_=i+s,x=t.length;let A=i>0&&this.getParsed(i-1);for(let R=0;R<x;++R){const O=t[R],k=S?O:{};if(R<i||R>=_){k.skip=!0;continue}const F=this.getParsed(R),N=As(F[p]),j=k[f]=o.getPixelForValue(F[f],R),ee=k[p]=n||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,F,l):F[p],R);k.skip=isNaN(j)||isNaN(ee)||N,k.stop=R>0&&Math.abs(F[f]-A[f])>C,v&&(k.parsed=F,k.raw=c.data[R]),h&&(k.options=u||this.resolveDataElementOptions(R,O.active?"active":r)),S||this.updateElement(O,R,k,r),A=F}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,s=i.options&&i.options.borderWidth||0,r=t.data||[];if(!r.length)return s;const n=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,n,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ti(tE,"id","line"),ti(tE,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ti(tE,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class YC extends Kc{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this._cachedMeta,s=this.chart,r=s.data.labels||[],n=lS(i._parsed[t].r,s.options.locale);return{label:r[t]||"",value:n}}parseObjectData(t,i,s,r){return TK.bind(this)(t,i,s,r)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,r)=>{const n=this.getParsed(r).r;!isNaN(n)&&this.chart.getDataVisibility(r)&&(n<i.min&&(i.min=n),n>i.max&&(i.max=n))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,s=t.options,r=Math.min(i.right-i.left,i.bottom-i.top),n=Math.max(r/2,0),o=Math.max(s.cutoutPercentage?n/100*s.cutoutPercentage:1,0),a=(n-o)/t.getVisibleDatasetCount();this.outerRadius=n-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,i,s,r){const n=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*er;let p=f,y;const v=360/this.countVisibleElements();for(y=0;y<i;++y)p+=this._computeAngle(y,r,v);for(y=i;y<i+s;y++){const C=t[y];let S=p,_=p+this._computeAngle(y,r,v),x=o.getDataVisibility(y)?c.getDistanceFromCenterForValue(this.getParsed(y).r):0;p=_,n&&(l.animateScale&&(x=0),l.animateRotate&&(S=_=f));const A={x:u,y:h,innerRadius:0,outerRadius:x,startAngle:S,endAngle:_,options:this.resolveDataElementOptions(y,C.active?"active":r)};this.updateElement(C,y,A,r)}}countVisibleElements(){const t=this._cachedMeta;let i=0;return t.data.forEach((s,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(t,i,s){return this.chart.getDataVisibility(t)?Bc(this.resolveDataElementOptions(t,i).angle||s):0}}ti(YC,"id","polarArea"),ti(YC,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ti(YC,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:s,color:r}}=t.legend.options;return i.labels.map((n,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,i,s){s.chart.toggleDataVisibility(i.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class XF extends Wp{}ti(XF,"id","pie"),ti(XF,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class iE extends Kc{getLabelAndValue(t){const i=this._cachedMeta.vScale,s=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(s[i.axis])}}parseObjectData(t,i,s,r){return TK.bind(this)(t,i,s,r)}update(t){const i=this._cachedMeta,s=i.dataset,r=i.data||[],n=i.iScale.getLabels();if(s.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:n.length===r.length,options:o};this.updateElement(s,void 0,a,t)}this.updateElements(r,0,r.length,t)}updateElements(t,i,s,r){const n=this._cachedMeta.rScale,o=r==="reset";for(let a=i;a<i+s;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=n.getPointPositionForValue(a,this.getParsed(a).r),h=o?n.xCenter:u.x,f=o?n.yCenter:u.y,p={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,p,r)}}}ti(iE,"id","radar"),ti(iE,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ti(iE,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class sE extends Kc{getLabelAndValue(t){const i=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:n}=i,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=n.getLabelForValue(o.y);return{label:s[t]||"",value:"("+a+", "+l+")"}}update(t){const i=this._cachedMeta,{data:s=[]}=i,r=this.chart._animationsDisabled;let{start:n,count:o}=vK(i,s,r);if(this._drawStart=n,this._drawCount=o,yK(i)&&(n=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=i;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(s,n,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,s,r){const n=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(i,r),h=this.getSharedOptions(u),f=this.includeOptions(r,h),p=o.axis,y=a.axis,{spanGaps:v,segment:C}=this.options,S=h0(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||n||r==="none";let x=i>0&&this.getParsed(i-1);for(let A=i;A<i+s;++A){const R=t[A],O=this.getParsed(A),k=_?R:{},F=As(O[y]),N=k[p]=o.getPixelForValue(O[p],A),j=k[y]=n||F?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[y],A);k.skip=isNaN(N)||isNaN(j)||F,k.stop=A>0&&Math.abs(O[p]-x[p])>S,C&&(k.parsed=O,k.raw=c.data[A]),f&&(k.options=h||this.resolveDataElementOptions(A,R.active?"active":r)),_||this.updateElement(R,A,k,r),x=O}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let a=0;for(let l=i.length-1;l>=0;--l)a=Math.max(a,i[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=t.dataset,r=s.options&&s.options.borderWidth||0;if(!i.length)return r;const n=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,n,o)/2}}ti(sE,"id","scatter"),ti(sE,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ti(sE,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var QAe=Object.freeze({__proto__:null,BarController:KC,BubbleController:eE,DoughnutController:Wp,LineController:tE,PieController:XF,PolarAreaController:YC,RadarController:iE,ScatterController:sE});function xp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class EI{constructor(t){ti(this,"options");this.options=t||{}}static override(t){Object.assign(EI.prototype,t)}init(){}formats(){return xp()}parse(){return xp()}format(){return xp()}add(){return xp()}diff(){return xp()}startOf(){return xp()}endOf(){return xp()}}var JAe={_date:EI};function ZAe(e,t,i,s){const{controller:r,data:n,_sorted:o}=e,a=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&n.length){const c=a._reversePixels?wTe:Nd;if(s){if(r._sharedOptions){const u=n[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=c(n,t,i-h),p=c(n,t,i+h);return{lo:f.lo,hi:p.hi}}}}else{const u=c(n,t,i);if(l){const{vScale:h}=r._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(v=>!As(v[h.axis]));u.lo-=Math.max(0,p);const y=f.slice(u.hi).findIndex(v=>!As(v[h.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:n.length-1}}function vA(e,t,i,s,r){const n=e.getSortedVisibleDatasetMetas(),o=i[t];for(let a=0,l=n.length;a<l;++a){const{index:c,data:u}=n[a],{lo:h,hi:f}=ZAe(n[a],t,o,r);for(let p=h;p<=f;++p){const y=u[p];y.skip||s(y,c,p)}}}function eke(e){const t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(s,r){const n=t?Math.abs(s.x-r.x):0,o=i?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}}function xR(e,t,i,s,r){const n=[];return!r&&!e.isPointInArea(t)||vA(e,i,t,function(a,l,c){!r&&!Vd(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&n.push({element:a,datasetIndex:l,index:c})},!0),n}function tke(e,t,i,s){let r=[];function n(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=hK(o,{x:t.x,y:t.y});$b(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return vA(e,i,t,n),r}function ike(e,t,i,s,r,n){let o=[];const a=eke(i);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(t.x,t.y,r);if(s&&!p)return;const y=u.getCenterPoint(r);if(!(!!n||e.isPointInArea(y))&&!p)return;const C=a(t,y);C<l?(o=[{element:u,datasetIndex:h,index:f}],l=C):C===l&&o.push({element:u,datasetIndex:h,index:f})}return vA(e,i,t,c),o}function ER(e,t,i,s,r,n){return!n&&!e.isPointInArea(t)?[]:i==="r"&&!s?tke(e,t,i,r):ike(e,t,i,s,r,n)}function q3(e,t,i,s,r){const n=[],o=i==="x"?"inXRange":"inYRange";let a=!1;return vA(e,i,t,(l,c,u)=>{l[o]&&l[o](t[i],r)&&(n.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,r))}),s&&!a?[]:n}var ske={modes:{index(e,t,i,s){const r=Rp(t,e),n=i.axis||"x",o=i.includeInvisible||!1,a=i.intersect?xR(e,r,n,s,o):ER(e,r,n,!1,s,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,i,s){const r=Rp(t,e),n=i.axis||"xy",o=i.includeInvisible||!1;let a=i.intersect?xR(e,r,n,s,o):ER(e,r,n,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,i,s){const r=Rp(t,e),n=i.axis||"xy",o=i.includeInvisible||!1;return xR(e,r,n,s,o)},nearest(e,t,i,s){const r=Rp(t,e),n=i.axis||"xy",o=i.includeInvisible||!1;return ER(e,r,n,i.intersect,s,o)},x(e,t,i,s){const r=Rp(t,e);return q3(e,r,"x",i.intersect,s)},y(e,t,i,s){const r=Rp(t,e);return q3(e,r,"y",i.intersect,s)}}};const NK=["left","top","right","bottom"];function Zy(e,t){return e.filter(i=>i.pos===t)}function Q3(e,t){return e.filter(i=>NK.indexOf(i.pos)===-1&&i.box.axis===t)}function eC(e,t){return e.sort((i,s)=>{const r=t?s:i,n=t?i:s;return r.weight===n.weight?r.index-n.index:r.weight-n.weight})}function rke(e){const t=[];let i,s,r,n,o,a;for(i=0,s=(e||[]).length;i<s;++i)r=e[i],{position:n,options:{stack:o,stackWeight:a=1}}=r,t.push({index:i,box:r,pos:n,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&n+o,stackWeight:a});return t}function nke(e){const t={};for(const i of e){const{stack:s,pos:r,stackWeight:n}=i;if(!s||!NK.includes(r))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=n}return t}function oke(e,t){const i=nke(e),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let n,o,a;for(n=0,o=e.length;n<o;++n){a=e[n];const{fullSize:l}=a.box,c=i[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&t.availableWidth,a.height=r):(a.width=s,a.height=u?u*r:l&&t.availableHeight)}return i}function ake(e){const t=rke(e),i=eC(t.filter(c=>c.box.fullSize),!0),s=eC(Zy(t,"left"),!0),r=eC(Zy(t,"right")),n=eC(Zy(t,"top"),!0),o=eC(Zy(t,"bottom")),a=Q3(t,"x"),l=Q3(t,"y");return{fullSize:i,leftAndTop:s.concat(n),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Zy(t,"chartArea"),vertical:s.concat(r).concat(l),horizontal:n.concat(o).concat(a)}}function J3(e,t,i,s){return Math.max(e[i],t[i])+Math.max(e[s],t[s])}function VK(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function lke(e,t,i,s){const{pos:r,box:n}=i,o=e.maxPadding;if(!Fs(r)){i.size&&(e[r]-=i.size);const h=s[i.stack]||{size:0,count:1};h.size=Math.max(h.size,i.horizontal?n.height:n.width),i.size=h.size/h.count,e[r]+=i.size}n.getPadding&&VK(o,n.getPadding());const a=Math.max(0,t.outerWidth-J3(o,e,"left","right")),l=Math.max(0,t.outerHeight-J3(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,i.horizontal?{same:c,other:u}:{same:u,other:c}}function cke(e){const t=e.maxPadding;function i(s){const r=Math.max(t[s]-e[s],0);return e[s]+=r,r}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function uke(e,t){const i=t.maxPadding;function s(r){const n={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{n[o]=Math.max(t[o],i[o])}),n}return s(e?["left","right"]:["top","bottom"])}function gC(e,t,i,s){const r=[];let n,o,a,l,c,u;for(n=0,o=e.length,c=0;n<o;++n){a=e[n],l=a.box,l.update(a.width||t.w,a.height||t.h,uke(a.horizontal,t));const{same:h,other:f}=lke(t,i,a,s);c|=h&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&gC(r,t,i,s)||u}function u1(e,t,i,s,r){e.top=i,e.left=t,e.right=t+s,e.bottom=i+r,e.width=s,e.height=r}function Z3(e,t,i,s){const r=i.padding;let{x:n,y:o}=t;for(const a of e){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;Hb(c.start)&&(o=c.start),l.fullSize?u1(l,r.left,o,i.outerWidth-r.right-r.left,f):u1(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;Hb(c.start)&&(n=c.start),l.fullSize?u1(l,n,r.top,f,i.outerHeight-r.bottom-r.top):u1(l,n,t.top+c.placed,f,h),c.start=n,c.placed+=h,n=l.right}}t.x=n,t.y=o}var aa={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,s){if(!e)return;const r=da(e.options.layout.padding),n=Math.max(t-r.width,0),o=Math.max(i-r.height,0),a=ake(e.boxes),l=a.vertical,c=a.horizontal;br(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,C)=>C.box.options&&C.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:i,padding:r,availableWidth:n,availableHeight:o,vBoxMaxWidth:n/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);VK(f,da(s));const p=Object.assign({maxPadding:f,w:n,h:o,x:r.left,y:r.top},r),y=oke(l.concat(c),h);gC(a.fullSize,p,h,y),gC(l,p,h,y),gC(c,p,h,y)&&gC(l,p,h,y),cke(p),Z3(a.leftAndTop,p,h,y),p.x+=p.w,p.y+=p.h,Z3(a.rightAndBottom,p,h,y),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},br(a.chartArea,v=>{const C=v.box;Object.assign(C,e.chartArea),C.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class BK{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,s){}removeEventListener(t,i,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,s,r){return i=Math.max(0,i||t.width),s=s||t.height,{width:i,height:Math.max(0,r?Math.floor(i/r):s)}}isAttached(t){return!0}updateConfig(t){}}class dke extends BK{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const rE="$chartjs",hke={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},e$=e=>e===null||e==="";function fke(e,t){const i=e.style,s=e.getAttribute("height"),r=e.getAttribute("width");if(e[rE]={initial:{height:s,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",e$(r)){const n=N3(e,"width");n!==void 0&&(e.width=n)}if(e$(s))if(e.style.height==="")e.height=e.width/(t||2);else{const n=N3(e,"height");n!==void 0&&(e.height=n)}return e}const GK=pAe?{passive:!0}:!1;function pke(e,t,i){e&&e.addEventListener(t,i,GK)}function gke(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,GK)}function mke(e,t){const i=hke[e.type]||e.type,{x:s,y:r}=Rp(e,t);return{type:i,chart:t,native:e,x:s!==void 0?s:null,y:r!==void 0?r:null}}function d_(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function vke(e,t,i){const s=e.canvas,r=new MutationObserver(n=>{let o=!1;for(const a of n)o=o||d_(a.addedNodes,s),o=o&&!d_(a.removedNodes,s);o&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function yke(e,t,i){const s=e.canvas,r=new MutationObserver(n=>{let o=!1;for(const a of n)o=o||d_(a.removedNodes,s),o=o&&!d_(a.addedNodes,s);o&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ub=new Map;let t$=0;function HK(){const e=window.devicePixelRatio;e!==t$&&(t$=e,Ub.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function Cke(e,t){Ub.size||window.addEventListener("resize",HK),Ub.set(e,t)}function bke(e){Ub.delete(e),Ub.size||window.removeEventListener("resize",HK)}function wke(e,t,i){const s=e.canvas,r=s&&xI(s);if(!r)return;const n=mK((a,l)=>{const c=r.clientWidth;i(a,l),c<r.clientWidth&&i()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||n(c,u)});return o.observe(r),Cke(e,n),o}function _R(e,t,i){i&&i.disconnect(),t==="resize"&&bke(e)}function Ske(e,t,i){const s=e.canvas,r=mK(n=>{e.ctx!==null&&i(mke(n,e))},e);return pke(s,t,r),r}class xke extends BK{acquireContext(t,i){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(fke(t,i),s):null}releaseContext(t){const i=t.canvas;if(!i[rE])return!1;const s=i[rE].initial;["height","width"].forEach(n=>{const o=s[n];As(o)?i.removeAttribute(n):i.setAttribute(n,o)});const r=s.style||{};return Object.keys(r).forEach(n=>{i.style[n]=r[n]}),i.width=i.width,delete i[rE],!0}addEventListener(t,i,s){this.removeEventListener(t,i);const r=t.$proxies||(t.$proxies={}),o={attach:vke,detach:yke,resize:wke}[i]||Ske;r[i]=o(t,i,s)}removeEventListener(t,i){const s=t.$proxies||(t.$proxies={}),r=s[i];if(!r)return;({attach:_R,detach:_R,resize:_R}[i]||gke)(t,i,r),s[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,s,r){return fAe(t,i,s,r)}isAttached(t){const i=t&&xI(t);return!!(i&&i.isConnected)}}function Eke(e){return!SI()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?dke:xke}var N1;let oh=(N1=class{constructor(){ti(this,"x");ti(this,"y");ti(this,"active",!1);ti(this,"options");ti(this,"$animations")}tooltipPosition(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}hasValue(){return h0(this.x)&&h0(this.y)}getProps(t,i){const s=this.$animations;if(!i||!s)return this;const r={};return t.forEach(n=>{r[n]=s[n]&&s[n].active()?s[n]._to:this[n]}),r}},ti(N1,"defaults",{}),ti(N1,"defaultRoutes"),N1);function _ke(e,t){const i=e.options.ticks,s=Tke(e),r=Math.min(i.maxTicksLimit||s,s),n=i.major.enabled?kke(t):[],o=n.length,a=n[0],l=n[o-1],c=[];if(o>r)return Dke(t,c,n,o/r),c;const u=Ake(n,t,r);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(d1(t,c,u,As(p)?0:a-p,a),h=0,f=o-1;h<f;h++)d1(t,c,u,n[h],n[h+1]);return d1(t,c,u,l,As(p)?t.length:l+p),c}return d1(t,c,u),c}function Tke(e){const t=e.options.offset,i=e._tickSize(),s=e._length/i+(t?0:1),r=e._maxLength/i;return Math.floor(Math.min(s,r))}function Ake(e,t,i){const s=Rke(e),r=t.length/i;if(!s)return Math.max(r,1);const n=mTe(s);for(let o=0,a=n.length-1;o<a;o++){const l=n[o];if(l>r)return l}return Math.max(r,1)}function kke(e){const t=[];let i,s;for(i=0,s=e.length;i<s;i++)e[i].major&&t.push(i);return t}function Dke(e,t,i,s){let r=0,n=i[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===n&&(t.push(e[o]),r++,n=i[r*s])}function d1(e,t,i,s,r){const n=Zi(s,0),o=Math.min(Zi(r,e.length),e.length);let a=0,l,c,u;for(i=Math.ceil(i),r&&(l=r-s,i=l/Math.floor(l/i)),u=n;u<0;)a++,u=Math.round(n+a*i);for(c=Math.max(n,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(n+a*i))}function Rke(e){const t=e.length;let i,s;if(t<2)return!1;for(s=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==s)return!1;return s}const Pke=e=>e==="left"?"right":e==="right"?"left":e,i$=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i,s$=(e,t)=>Math.min(t||e,e);function r$(e,t){const i=[],s=e.length/t,r=e.length;let n=0;for(;n<r;n+=s)i.push(e[Math.floor(n)]);return i}function Fke(e,t,i){const s=e.ticks.length,r=Math.min(t,s-1),n=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),c;if(!(i&&(s===1?c=Math.max(l-n,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<n-a||l>o+a)))return l}function Mke(e,t){br(e,i=>{const s=i.gc,r=s.length/2;let n;if(r>t){for(n=0;n<r;++n)delete i.data[s[n]];s.splice(0,r)}})}function tC(e){return e.drawTicks?e.tickLength:0}function n$(e,t){if(!e.display)return 0;const i=mo(e.font,t),s=da(e.padding);return(ln(e.text)?e.text.length:1)*i.lineHeight+s.height}function Lke(e,t){return $f(e,{scale:t,type:"scale"})}function Oke(e,t,i){return $f(e,{tick:i,index:t,type:"tick"})}function Ike(e,t,i){let s=mI(e);return(i&&t!=="right"||!i&&t==="right")&&(s=Pke(s)),s}function Nke(e,t,i,s){const{top:r,left:n,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,f,p,y;const v=o-r,C=a-n;if(e.isHorizontal()){if(p=Yo(s,n,a),Fs(i)){const S=Object.keys(i)[0],_=i[S];y=u[S].getPixelForValue(_)+v-t}else i==="center"?y=(c.bottom+c.top)/2+v-t:y=i$(e,i,t);f=a-n}else{if(Fs(i)){const S=Object.keys(i)[0],_=i[S];p=u[S].getPixelForValue(_)-C+t}else i==="center"?p=(c.left+c.right)/2-C+t:p=i$(e,i,t);y=Yo(s,o,r),h=i==="left"?-Vn:Vn}return{titleX:p,titleY:y,maxWidth:f,rotation:h}}class cm extends oh{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:s,_suggestedMax:r}=this;return t=Cl(t,Number.POSITIVE_INFINITY),i=Cl(i,Number.NEGATIVE_INFINITY),s=Cl(s,Number.POSITIVE_INFINITY),r=Cl(r,Number.NEGATIVE_INFINITY),{min:Cl(t,s),max:Cl(i,r),minDefined:Tn(t),maxDefined:Tn(i)}}getMinMax(t){let{min:i,max:s,minDefined:r,maxDefined:n}=this.getUserBounds(),o;if(r&&n)return{min:i,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),r||(i=Math.min(i,o.min)),n||(s=Math.max(s,o.max));return i=n&&i>s?s:i,s=r&&i>s?i:s,{min:Cl(i,Cl(s,i)),max:Cl(s,Cl(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Or(this.options.beforeUpdate,[this])}update(t,i,s){const{beginAtZero:r,grace:n,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zTe(this,n,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?r$(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=_ke(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,s;this.isHorizontal()?(i=this.left,s=this.right):(i=this.top,s=this.bottom,t=!t),this._startPixel=i,this._endPixel=s,this._reversePixels=t,this._length=s-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Or(this.options.afterUpdate,[this])}beforeSetDimensions(){Or(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Or(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Or(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Or(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let s,r,n;for(s=0,r=t.length;s<r;s++)n=t[s],n.label=Or(i.callback,[n.value,s,t],this)}afterTickToLabelConversion(){Or(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Or(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,s=s$(this.ticks.length,t.ticks.maxTicksLimit),r=i.minRotation||0,n=i.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!i.display||r>=n||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=xo(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/s:p/(s-1),h+6>a&&(a=p/(s-(t.offset?.5:1)),l=this.maxHeight-tC(t.grid)-i.padding-n$(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=pI(Math.min(Math.asin(xo((u.highest.height+6)/a,-1,1)),Math.asin(xo(l/c,-1,1))-Math.asin(xo(f/c,-1,1)))),o=Math.max(r,Math.min(n,o))),this.labelRotation=o}afterCalculateLabelRotation(){Or(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Or(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:s,title:r,grid:n}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=n$(r,i.options.font);if(a?(t.width=this.maxWidth,t.height=tC(n)+l):(t.height=this.maxHeight,t.width=tC(n)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=s.padding*2,y=Bc(this.labelRotation),v=Math.cos(y),C=Math.sin(y);if(a){const S=s.mirror?0:C*h.width+v*f.height;t.height=Math.min(this.maxHeight,t.height+S+p)}else{const S=s.mirror?0:v*h.width+C*f.height;t.width=Math.min(this.maxWidth,t.width+S+p)}this._calculatePadding(c,u,C,v)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,s,r){const{ticks:{align:n,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=r*t.width,p=s*i.height):(f=s*t.height,p=r*i.width):n==="start"?p=i.width:n==="end"?f=t.width:n!=="inner"&&(f=t.width/2,p=i.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=i.height/2,h=t.height/2;n==="start"?(u=0,h=t.height):n==="end"&&(u=i.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Or(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,s;for(i=0,s=t.length;i<s;i++)As(t[i].label)&&(t.splice(i,1),s--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let s=this.ticks;i<s.length&&(s=r$(s,i)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,s){const{ctx:r,_longestTextCache:n}=this,o=[],a=[],l=Math.floor(i/s$(i,s));let c=0,u=0,h,f,p,y,v,C,S,_,x,A,R;for(h=0;h<i;h+=l){if(y=t[h].label,v=this._resolveTickFontOptions(h),r.font=C=v.string,S=n[C]=n[C]||{data:{},gc:[]},_=v.lineHeight,x=A=0,!As(y)&&!ln(y))x=c_(r,S.data,S.gc,x,y),A=_;else if(ln(y))for(f=0,p=y.length;f<p;++f)R=y[f],!As(R)&&!ln(R)&&(x=c_(r,S.data,S.gc,x,R),A+=_);o.push(x),a.push(A),c=Math.max(x,c),u=Math.max(A,u)}Mke(n,i);const O=o.indexOf(c),k=a.indexOf(u),F=N=>({width:o[N]||0,height:a[N]||0});return{first:F(0),last:F(i-1),widest:F(O),highest:F(k),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return bTe(this._alignToPixels?Sp(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const s=i[t];return s.$context||(s.$context=Oke(this.getContext(),t,s))}return this.$context||(this.$context=Lke(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=Bc(this.labelRotation),s=Math.abs(Math.cos(i)),r=Math.abs(Math.sin(i)),n=this._getLabelSizes(),o=t.autoSkipPadding||0,a=n?n.widest.width+o:0,l=n?n.highest.height+o:0;return this.isHorizontal()?l*s>a*r?a/s:l/r:l*r<a*s?l/s:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,s=this.chart,r=this.options,{grid:n,position:o,border:a}=r,l=n.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=tC(n),p=[],y=a.setContext(this.getContext()),v=y.display?y.width:0,C=v/2,S=function(ne){return Sp(s,ne,v)};let _,x,A,R,O,k,F,N,j,ee,K,Q;if(o==="top")_=S(this.bottom),k=this.bottom-f,N=_-C,ee=S(t.top)+C,Q=t.bottom;else if(o==="bottom")_=S(this.top),ee=t.top,Q=S(t.bottom)-C,k=_+C,N=this.top+f;else if(o==="left")_=S(this.right),O=this.right-f,F=_-C,j=S(t.left)+C,K=t.right;else if(o==="right")_=S(this.left),j=t.left,K=S(t.right)-C,O=_+C,F=this.left+f;else if(i==="x"){if(o==="center")_=S((t.top+t.bottom)/2+.5);else if(Fs(o)){const ne=Object.keys(o)[0],H=o[ne];_=S(this.chart.scales[ne].getPixelForValue(H))}ee=t.top,Q=t.bottom,k=_+C,N=k+f}else if(i==="y"){if(o==="center")_=S((t.left+t.right)/2);else if(Fs(o)){const ne=Object.keys(o)[0],H=o[ne];_=S(this.chart.scales[ne].getPixelForValue(H))}O=_-C,F=O-f,j=t.left,K=t.right}const be=Zi(r.ticks.maxTicksLimit,h),te=Math.max(1,Math.ceil(h/be));for(x=0;x<h;x+=te){const ne=this.getContext(x),H=n.setContext(ne),ie=a.setContext(ne),ue=H.lineWidth,Te=H.color,Ie=ie.dash||[],he=ie.dashOffset,Ee=H.tickWidth,Y=H.tickColor,Z=H.tickBorderDash||[],Se=H.tickBorderDashOffset;A=Fke(this,x,l),A!==void 0&&(R=Sp(s,A,ue),c?O=F=j=K=R:k=N=ee=Q=R,p.push({tx1:O,ty1:k,tx2:F,ty2:N,x1:j,y1:ee,x2:K,y2:Q,width:ue,color:Te,borderDash:Ie,borderDashOffset:he,tickWidth:Ee,tickColor:Y,tickBorderDash:Z,tickBorderDashOffset:Se}))}return this._ticksLength=h,this._borderValue=_,p}_computeLabelItems(t){const i=this.axis,s=this.options,{position:r,ticks:n}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=n,f=tC(s.grid),p=f+u,y=h?-u:p,v=-Bc(this.labelRotation),C=[];let S,_,x,A,R,O,k,F,N,j,ee,K,Q="middle";if(r==="top")O=this.bottom-y,k=this._getXAxisLabelAlignment();else if(r==="bottom")O=this.top+y,k=this._getXAxisLabelAlignment();else if(r==="left"){const te=this._getYAxisLabelAlignment(f);k=te.textAlign,R=te.x}else if(r==="right"){const te=this._getYAxisLabelAlignment(f);k=te.textAlign,R=te.x}else if(i==="x"){if(r==="center")O=(t.top+t.bottom)/2+p;else if(Fs(r)){const te=Object.keys(r)[0],ne=r[te];O=this.chart.scales[te].getPixelForValue(ne)+p}k=this._getXAxisLabelAlignment()}else if(i==="y"){if(r==="center")R=(t.left+t.right)/2-p;else if(Fs(r)){const te=Object.keys(r)[0],ne=r[te];R=this.chart.scales[te].getPixelForValue(ne)}k=this._getYAxisLabelAlignment(f).textAlign}i==="y"&&(l==="start"?Q="top":l==="end"&&(Q="bottom"));const be=this._getLabelSizes();for(S=0,_=a.length;S<_;++S){x=a[S],A=x.label;const te=n.setContext(this.getContext(S));F=this.getPixelForTick(S)+n.labelOffset,N=this._resolveTickFontOptions(S),j=N.lineHeight,ee=ln(A)?A.length:1;const ne=ee/2,H=te.color,ie=te.textStrokeColor,ue=te.textStrokeWidth;let Te=k;o?(R=F,k==="inner"&&(S===_-1?Te=this.options.reverse?"left":"right":S===0?Te=this.options.reverse?"right":"left":Te="center"),r==="top"?c==="near"||v!==0?K=-ee*j+j/2:c==="center"?K=-be.highest.height/2-ne*j+j:K=-be.highest.height+j/2:c==="near"||v!==0?K=j/2:c==="center"?K=be.highest.height/2-ne*j:K=be.highest.height-ee*j,h&&(K*=-1),v!==0&&!te.showLabelBackdrop&&(R+=j/2*Math.sin(v))):(O=F,K=(1-ee)*j/2);let Ie;if(te.showLabelBackdrop){const he=da(te.backdropPadding),Ee=be.heights[S],Y=be.widths[S];let Z=K-he.top,Se=0-he.left;switch(Q){case"middle":Z-=Ee/2;break;case"bottom":Z-=Ee;break}switch(k){case"center":Se-=Y/2;break;case"right":Se-=Y;break;case"inner":S===_-1?Se-=Y:S>0&&(Se-=Y/2);break}Ie={left:Se,top:Z,width:Y+he.width,height:Ee+he.height,color:te.backdropColor}}C.push({label:A,font:N,textOffset:K,options:{rotation:v,color:H,strokeColor:ie,strokeWidth:ue,textAlign:Te,textBaseline:Q,translation:[R,O],backdrop:Ie}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-Bc(this.labelRotation))return t==="top"?"left":"right";let r="center";return i.align==="start"?r="left":i.align==="end"?r="right":i.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:s,mirror:r,padding:n}}=this.options,o=this._getLabelSizes(),a=t+n,l=o.widest.width;let c,u;return i==="left"?r?(u=this.right+n,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):i==="right"?r?(u=this.left+n,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:s,top:r,width:n,height:o}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(s,r,n,o),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const r=this.ticks.findIndex(n=>n.value===t);return r>=0?i.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const i=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(i.display)for(n=0,o=r.length;n<o;++n){const l=r[n];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:s,grid:r}}=this,n=s.setContext(this.getContext()),o=s.display?n.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=Sp(t,this.left,o)-o/2,u=Sp(t,this.right,a)+a/2,h=f=l):(h=Sp(t,this.top,o)-o/2,f=Sp(t,this.bottom,a)+a/2,c=u=l),i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.beginPath(),i.moveTo(c,h),i.lineTo(u,f),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&pA(s,r);const n=this.getLabelItems(t);for(const o of n){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Tg(s,c,0,u,l,a)}r&&gA(s)}drawTitle(){const{ctx:t,options:{position:i,title:s,reverse:r}}=this;if(!s.display)return;const n=mo(s.font),o=da(s.padding),a=s.align;let l=n.lineHeight/2;i==="bottom"||i==="center"||Fs(i)?(l+=o.bottom,ln(s.text)&&(l+=n.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=Nke(this,l,i,a);Tg(t,s.text,0,0,n,{color:s.color,maxWidth:h,rotation:f,textAlign:Ike(a,i,r),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,s=Zi(t.grid&&t.grid.z,-1),r=Zi(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==cm.prototype.draw?[{z:i,draw:n=>{this.draw(n)}}]:[{z:s,draw:n=>{this.drawBackground(),this.drawGrid(n),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:i,draw:n=>{this.drawLabels(n)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let n,o;for(n=0,o=i.length;n<o;++n){const a=i[n];a[s]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const i=this.options.ticks.setContext(this.getContext(t));return mo(i.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class h1{constructor(t,i,s){this.type=t,this.scope=i,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let s;Gke(i)&&(s=this.register(i));const r=this.items,n=t.id,o=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in r||(r[n]=t,Vke(t,o,s),this.override&&cn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const i=this.items,s=t.id,r=this.scope;s in i&&delete i[s],r&&s in cn[r]&&(delete cn[r][s],this.override&&delete _g[s])}}function Vke(e,t,i){const s=Gb(Object.create(null),[i?cn.get(i):{},cn.get(t),e.defaults]);cn.set(t,s),e.defaultRoutes&&Bke(t,e.defaultRoutes),e.descriptors&&cn.describe(t,e.descriptors)}function Bke(e,t){Object.keys(t).forEach(i=>{const s=i.split("."),r=s.pop(),n=[e].concat(s).join("."),o=t[i].split("."),a=o.pop(),l=o.join(".");cn.route(n,r,l,a)})}function Gke(e){return"id"in e&&"defaults"in e}class Hke{constructor(){this.controllers=new h1(Kc,"datasets",!0),this.elements=new h1(oh,"elements"),this.plugins=new h1(Object,"plugins"),this.scales=new h1(cm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,s){[...i].forEach(r=>{const n=s||this._getRegistryForType(r);s||n.isForType(r)||n===this.plugins&&r.id?this._exec(t,n,r):br(r,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,i,s){const r=fI(t);Or(s["before"+r],[],s),i[t](s),Or(s["after"+r],[],s)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const s=this._typedRegistries[i];if(s.isForType(t))return s}return this.plugins}_get(t,i,s){const r=i.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var Eu=new Hke;class $ke{constructor(){this._init=[]}notify(t,i,s,r){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const n=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(n,t,i,s);return i==="afterDestroy"&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,i,s,r){r=r||{};for(const n of t){const o=n.plugin,a=o[s],l=[i,r,n.options];if(Or(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){As(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const s=t&&t.config,r=Zi(s.options&&s.options.plugins,{}),n=Wke(s);return r===!1&&!i?[]:zke(t,n,r,i)}_notifyStateChanges(t){const i=this._oldCache||[],s=this._cache,r=(n,o)=>n.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(i,s),t,"stop"),this._notify(r(s,i),t,"start")}}function Wke(e){const t={},i=[],s=Object.keys(Eu.plugins.items);for(let n=0;n<s.length;n++)i.push(Eu.getPlugin(s[n]));const r=e.plugins||[];for(let n=0;n<r.length;n++){const o=r[n];i.indexOf(o)===-1&&(i.push(o),t[o.id]=!0)}return{plugins:i,localIds:t}}function Uke(e,t){return!t&&e===!1?null:e===!0?{}:e}function zke(e,{plugins:t,localIds:i},s,r){const n=[],o=e.getContext();for(const a of t){const l=a.id,c=Uke(s[l],r);c!==null&&n.push({plugin:a,options:jke(e.config,{plugin:a,local:i[l]},c,o)})}return n}function jke(e,{plugin:t,local:i},s,r){const n=e.pluginScopeKeys(t),o=e.getOptionScopes(s,n);return i&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qF(e,t){const i=cn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function Kke(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function Yke(e,t){return e===t?"_index_":"_value_"}function o$(e){if(e==="x"||e==="y"||e==="r")return e}function Xke(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function QF(e,...t){if(o$(e))return e;for(const i of t){const s=i.axis||Xke(i.position)||e.length>1&&o$(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function a$(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function qke(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(i.length)return a$(e,"x",i[0])||a$(e,"y",i[0])}return{}}function Qke(e,t){const i=_g[e.type]||{scales:{}},s=t.scales||{},r=qF(e.type,t),n=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!Fs(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=QF(o,a,qke(o,e),cn.scales[a.type]),c=Yke(l,r),u=i.scales||{};n[o]=WC(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||qF(a,t),u=(_g[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=Kke(h,l),p=o[f+"AxisID"]||f;n[p]=n[p]||Object.create(null),WC(n[p],[{axis:f},s[p],u[h]])})}),Object.keys(n).forEach(o=>{const a=n[o];WC(a,[cn.scales[a.type],cn.scale])}),n}function $K(e){const t=e.options||(e.options={});t.plugins=Zi(t.plugins,{}),t.scales=Qke(e,t)}function WK(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Jke(e){return e=e||{},e.data=WK(e.data),$K(e),e}const l$=new Map,UK=new Set;function f1(e,t){let i=l$.get(e);return i||(i=t(),l$.set(e,i),UK.add(i)),i}const iC=(e,t,i)=>{const s=xf(t,i);s!==void 0&&e.add(s)};class Zke{constructor(t){this._config=Jke(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=WK(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),$K(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return f1(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return f1(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return f1(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id,s=this.type;return f1(`${s}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const s=this._scopeCache;let r=s.get(t);return(!r||i)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,i,s){const{options:r,type:n}=this,o=this._cachedScopes(t,s),a=o.get(i);if(a)return a;const l=new Set;i.forEach(u=>{t&&(l.add(t),u.forEach(h=>iC(l,t,h))),u.forEach(h=>iC(l,r,h)),u.forEach(h=>iC(l,_g[n]||{},h)),u.forEach(h=>iC(l,cn,h)),u.forEach(h=>iC(l,KF,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),UK.has(i)&&o.set(i,c),c}chartOptionScopes(){const{options:t,type:i}=this;return[t,_g[i]||{},cn.datasets[i]||{},{type:i},cn,KF]}resolveNamedOptions(t,i,s,r=[""]){const n={$shared:!0},{resolver:o,subPrefixes:a}=c$(this._resolverCache,t,r);let l=o;if(tDe(o,i)){n.$shared=!1,s=Ef(s)?s():s;const c=this.createResolver(t,s,a);l=f0(o,s,c)}for(const c of i)n[c]=l[c];return n}createResolver(t,i,s=[""],r){const{resolver:n}=c$(this._resolverCache,t,s);return Fs(i)?f0(n,i,void 0,r):n}}function c$(e,t,i){let s=e.get(t);s||(s=new Map,e.set(t,s));const r=i.join();let n=s.get(r);return n||(n={resolver:CI(t,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,n)),n}const eDe=e=>Fs(e)&&Object.getOwnPropertyNames(e).some(t=>Ef(e[t]));function tDe(e,t){const{isScriptable:i,isIndexable:s}=SK(e);for(const r of t){const n=i(r),o=s(r),a=(o||n)&&e[r];if(n&&(Ef(a)||eDe(a))||o&&ln(a))return!0}return!1}var iDe="4.5.0";const sDe=["top","bottom","left","right","chartArea"];function u$(e,t){return e==="top"||e==="bottom"||sDe.indexOf(e)===-1&&t==="x"}function d$(e,t){return function(i,s){return i[e]===s[e]?i[t]-s[t]:i[e]-s[e]}}function h$(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),Or(i&&i.onComplete,[e],t)}function rDe(e){const t=e.chart,i=t.options.animation;Or(i&&i.onProgress,[e],t)}function zK(e){return SI()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const nE={},f$=e=>{const t=zK(e);return Object.values(nE).filter(i=>i.canvas===t).pop()};function nDe(e,t,i){const s=Object.keys(e);for(const r of s){const n=+r;if(n>=t){const o=e[r];delete e[r],(i>0||n>t)&&(e[n+i]=o)}}}function oDe(e,t,i,s){return!i||e.type==="mouseout"?null:s?t:e}var Wh;let _I=(Wh=class{static register(...t){Eu.add(...t),p$()}static unregister(...t){Eu.remove(...t),p$()}constructor(t,i){const s=this.config=new Zke(i),r=zK(t),n=f$(r);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Eke(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=aTe(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $ke,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ETe(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],nE[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}xd.listen(this,"complete",h$),xd.listen(this,"progress",rDe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:s,height:r,_aspectRatio:n}=this;return As(t)?i&&n?n:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Eu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():I3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return M3(this.canvas,this.ctx),this}stop(){return xd.stop(this),this}resize(t,i){xd.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const s=this.options,r=this.canvas,n=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,i,n),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,I3(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Or(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};br(i,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,i=t.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let n=[];i&&(n=n.concat(Object.keys(i).map(o=>{const a=i[o],l=QF(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),br(n,o=>{const a=o.options,l=a.id,c=QF(l,a),u=Zi(a.type,o.dtype);(a.position===void 0||u$(a.position,c)!==u$(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const f=Eu.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,t)}),br(r,(o,a)=>{o||delete s[a]}),br(s,o=>{aa.configure(this,o,o.options),aa.addBox(this,o)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,s=t.length;if(t.sort((r,n)=>r.index-n.index),s>i){for(let r=i;r<s;++r)this._destroyDatasetMeta(r);t.splice(i,s-i)}this._sortedMetasets=t.slice(0).sort(d$("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((s,r)=>{i.filter(n=>n===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=i.length;s<r;s++){const n=i[s];let o=this.getDatasetMeta(s);const a=n.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=n.indexAxis||qF(a,this.options),o.order=n.order||0,o.index=s,o.label=""+n.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Eu.getController(a),{datasetElementType:c,dataElementType:u}=cn.datasets[a];Object.assign(l,{dataElementType:Eu.getElement(u),datasetElementType:c&&Eu.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){br(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const s=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!r&&n.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||br(n,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(d$("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){br(this.scales,t=>{aa.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!E3(i,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:n}of i){const o=s==="_removeElements"?-n:n;nDe(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,s=n=>new Set(t.filter(o=>o[0]===n).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let n=1;n<i;n++)if(!E3(r,s(n)))return;return Array.from(r).map(n=>n.split(",")).map(n=>({method:n[1],start:+n[2],count:+n[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;aa.update(this,this.width,this.height,t);const i=this.chartArea,s=i.width<=0||i.height<=0;this._layers=[],br(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,n)=>{r._idx=n}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,s=this.data.datasets.length;i<s;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,s=this.data.datasets.length;i<s;++i)this._updateDataset(i,Ef(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xd.has(this)?this.attached&&!xd.running(this)&&xd.start(this):(this.draw(),h$({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,s=[];let r,n;for(r=0,n=i.length;r<n;++r){const o=i[r];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=MK(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&pA(i,r),t.controller.draw(),r&&gA(i),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Vd(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,s,r){const n=ske.modes[i];return typeof n=="function"?n(this,t,s,r):[]}getDatasetMeta(t){const i=this.data.datasets[t],s=this._metasets;let r=s.filter(n=>n&&n._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=$f(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!i.hidden}setDatasetVisibility(t,i){const s=this.getDatasetMeta(t);s.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,s){const r=s?"show":"hide",n=this.getDatasetMeta(t),o=n.controller._resolveAnimations(void 0,r);Hb(i)?(n.data[i].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(n,{visible:s}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),xd.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),M3(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete nE[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,s=(n,o)=>{i.addEventListener(this,n,o),t[n]=o},r=(n,o,a)=>{n.offsetX=o,n.offsetY=a,this._eventHandler(n)};br(this.options.events,n=>s(n,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,s=(l,c)=>{i.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(i.removeEventListener(this,l,c),delete t[l])},n=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",n),s("detach",o)};o=()=>{this.attached=!1,r("resize",n),this._stop(),this._resize(0,0),s("attach",a)},i.isAttached(this.canvas)?a():o()}unbindEvents(){br(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},br(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,s){const r=s?"set":"remove";let n,o,a,l;for(i==="dataset"&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],s=t.map(({datasetIndex:n,index:o})=>{const a=this.getDatasetMeta(n);if(!a)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:a.data[o],index:o}});!o_(s,i)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,i))}notifyPlugins(t,i,s){return this._plugins.notify(this,t,i,s)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,s){const r=this.options.hover,n=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=n(i,t),a=s?t:n(t,i);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,i){const s={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const n=this._handleEvent(t,i,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(n||s.changed)&&this.render(),this}_handleEvent(t,i,s){const{_active:r=[],options:n}=this,o=i,a=this._getActiveElements(t,r,s,o),l=fTe(t),c=oDe(t,this._lastEvent,s,l);s&&(this._lastEvent=null,Or(n.onHover,[t,a,this],this),l&&Or(n.onClick,[t,a,this],this));const u=!o_(a,r);return(u||i)&&(this._active=a,this._updateHoverStyles(a,r,i)),this._lastEvent=c,u}_getActiveElements(t,i,s,r){if(t.type==="mouseout")return[];if(!s)return i;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,r)}},ti(Wh,"defaults",cn),ti(Wh,"instances",nE),ti(Wh,"overrides",_g),ti(Wh,"registry",Eu),ti(Wh,"version",iDe),ti(Wh,"getChart",f$),Wh);function p$(){return br(_I.instances,e=>e._plugins.invalidate())}function aDe(e,t,i){const{startAngle:s,x:r,y:n,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,Jo(s-i));if(e.beginPath(),e.arc(r,n,o-c/2,s+h/2,i-h/2),a>0){const f=Math.min(c/a,Jo(s-i));e.arc(r,n,a+c/2,i-f/2,s+f/2,!0)}else{const f=Math.min(c/2,o*Jo(s-i));if(u==="round")e.arc(r,n,f,i-er/2,s+er/2,!0);else if(u==="bevel"){const p=2*f*f,y=-p*Math.cos(i+er/2)+r,v=-p*Math.sin(i+er/2)+n,C=p*Math.cos(s+er/2)+r,S=p*Math.sin(s+er/2)+n;e.lineTo(y,v),e.lineTo(C,S)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function lDe(e,t,i){const{startAngle:s,pixelMargin:r,x:n,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(n,o,a,s-c,i+c),l>r?(c=r/l,e.arc(n,o,l,i+c,s-c,!0)):e.arc(n,o,r,i+Vn,s-Vn),e.closePath(),e.clip()}function cDe(e){return yI(e,["outerStart","outerEnd","innerStart","innerEnd"])}function uDe(e,t,i,s){const r=cDe(e.options.borderRadius),n=(i-t)/2,o=Math.min(n,s*t/2),a=l=>{const c=(i-Math.min(n,l))*s/2;return xo(l,0,Math.min(n,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:xo(r.innerStart,0,o),innerEnd:xo(r.innerEnd,0,o)}}function rv(e,t,i,s){return{x:i+e*Math.cos(t),y:s+e*Math.sin(t)}}function h_(e,t,i,s,r,n){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+s+i-c,0),f=u>0?u+s+i+c:0;let p=0;const y=r-l;if(s){const te=u>0?u-s:0,ne=h>0?h-s:0,H=(te+ne)/2,ie=H!==0?y*H/(H+s):y;p=(y-ie)/2}const v=Math.max(.001,y*h-i/er)/h,C=(y-v)/2,S=l+C+p,_=r-C-p,{outerStart:x,outerEnd:A,innerStart:R,innerEnd:O}=uDe(t,f,h,_-S),k=h-x,F=h-A,N=S+x/k,j=_-A/F,ee=f+R,K=f+O,Q=S+R/ee,be=_-O/K;if(e.beginPath(),n){const te=(N+j)/2;if(e.arc(o,a,h,N,te),e.arc(o,a,h,te,j),A>0){const ue=rv(F,j,o,a);e.arc(ue.x,ue.y,A,j,_+Vn)}const ne=rv(K,_,o,a);if(e.lineTo(ne.x,ne.y),O>0){const ue=rv(K,be,o,a);e.arc(ue.x,ue.y,O,_+Vn,be+Math.PI)}const H=(_-O/f+(S+R/f))/2;if(e.arc(o,a,f,_-O/f,H,!0),e.arc(o,a,f,H,S+R/f,!0),R>0){const ue=rv(ee,Q,o,a);e.arc(ue.x,ue.y,R,Q+Math.PI,S-Vn)}const ie=rv(k,S,o,a);if(e.lineTo(ie.x,ie.y),x>0){const ue=rv(k,N,o,a);e.arc(ue.x,ue.y,x,S-Vn,N)}}else{e.moveTo(o,a);const te=Math.cos(N)*h+o,ne=Math.sin(N)*h+a;e.lineTo(te,ne);const H=Math.cos(j)*h+o,ie=Math.sin(j)*h+a;e.lineTo(H,ie)}e.closePath()}function dDe(e,t,i,s,r){const{fullCircles:n,startAngle:o,circumference:a}=t;let l=t.endAngle;if(n){h_(e,t,i,s,l,r);for(let c=0;c<n;++c)e.fill();isNaN(a)||(l=o+(a%Kr||Kr))}return h_(e,t,i,s,l,r),e.fill(),l}function hDe(e,t,i,s,r){const{fullCircles:n,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:p}=l,y=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,y?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let v=t.endAngle;if(n){h_(e,t,i,s,v,r);for(let C=0;C<n;++C)e.stroke();isNaN(a)||(v=o+(a%Kr||Kr))}y&&lDe(e,t,v),l.selfJoin&&v-o>=er&&p===0&&u!=="miter"&&aDe(e,t,v),n||(h_(e,t,i,s,v,r),e.stroke())}class mC extends oh{constructor(i){super();ti(this,"circumference");ti(this,"endAngle");ti(this,"fullCircles");ti(this,"innerRadius");ti(this,"outerRadius");ti(this,"pixelMargin");ti(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,s,r){const n=this.getProps(["x","y"],r),{angle:o,distance:a}=hK(n,{x:i,y:s}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,y=Zi(f,c-l),v=$b(o,l,c)&&l!==c,C=y>=Kr||v,S=Id(a,u+p,h+p);return C&&S}getCenterPoint(i){const{x:s,y:r,startAngle:n,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:c,spacing:u}=this.options,h=(n+o)/2,f=(a+l+u+c)/2;return{x:s+Math.cos(h)*f,y:r+Math.sin(h)*f}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:s,circumference:r}=this,n=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>Kr?Math.floor(r/Kr):0,r===0||this.innerRadius<0||this.outerRadius<0)return;i.save();const l=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(l)*n,Math.sin(l)*n);const c=1-Math.sin(Math.min(er,r||0)),u=n*c;i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,dDe(i,this,u,o,a),hDe(i,this,u,o,a),i.restore()}}ti(mC,"id","arc"),ti(mC,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ti(mC,"defaultRoutes",{backgroundColor:"backgroundColor"}),ti(mC,"descriptors",{_scriptable:!0,_indexable:i=>i!=="borderDash"});function jK(e,t,i=t){e.lineCap=Zi(i.borderCapStyle,t.borderCapStyle),e.setLineDash(Zi(i.borderDash,t.borderDash)),e.lineDashOffset=Zi(i.borderDashOffset,t.borderDashOffset),e.lineJoin=Zi(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Zi(i.borderWidth,t.borderWidth),e.strokeStyle=Zi(i.borderColor,t.borderColor)}function fDe(e,t,i){e.lineTo(i.x,i.y)}function pDe(e){return e.stepped?ITe:e.tension||e.cubicInterpolationMode==="monotone"?NTe:fDe}function KK(e,t,i={}){const s=e.length,{start:r=0,end:n=s-1}=i,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(n,a),u=r<o&&n<o||r>a&&n>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!u?s+c-l:c-l}}function gDe(e,t,i,s){const{points:r,options:n}=t,{count:o,start:a,loop:l,ilen:c}=KK(r,i,s),u=pDe(n);let{move:h=!0,reverse:f}=s||{},p,y,v;for(p=0;p<=c;++p)y=r[(a+(f?c-p:p))%o],!y.skip&&(h?(e.moveTo(y.x,y.y),h=!1):u(e,v,y,f,n.stepped),v=y);return l&&(y=r[(a+(f?c:0))%o],u(e,v,y,f,n.stepped)),!!l}function mDe(e,t,i,s){const r=t.points,{count:n,start:o,ilen:a}=KK(r,i,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,f,p,y,v,C,S;const _=A=>(o+(c?a-A:A))%n,x=()=>{v!==C&&(e.lineTo(u,C),e.lineTo(u,v),e.lineTo(u,S))};for(l&&(p=r[_(0)],e.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=r[_(f)],p.skip)continue;const A=p.x,R=p.y,O=A|0;O===y?(R<v?v=R:R>C&&(C=R),u=(h*u+A)/++h):(x(),e.lineTo(A,R),y=O,h=0,v=C=R),S=R}x()}function JF(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?mDe:gDe}function vDe(e){return e.stepped?gAe:e.tension||e.cubicInterpolationMode==="monotone"?mAe:Pp}function yDe(e,t,i,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,i,s)&&r.closePath()),jK(e,t.options),e.stroke(r)}function CDe(e,t,i,s){const{segments:r,options:n}=t,o=JF(t);for(const a of r)jK(e,n,a.style),e.beginPath(),o(e,t,a,{start:i,end:i+s-1})&&e.closePath(),e.stroke()}const bDe=typeof Path2D=="function";function wDe(e,t,i,s){bDe&&!t.options.segment?yDe(e,t,i,s):CDe(e,t,i,s)}class sf extends oh{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;aAe(this._points,s,t,r,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=SAe(this,this.options.segment))}first(){const t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){const t=this.segments,i=this.points,s=t.length;return s&&i[t[s-1].end]}interpolate(t,i){const s=this.options,r=t[i],n=this.points,o=FK(this,{property:i,start:r,end:r});if(!o.length)return;const a=[],l=vDe(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=n[h],y=n[f];if(p===y){a.push(p);continue}const v=Math.abs((r-p[i])/(y[i]-p[i])),C=l(p,y,v,s.stepped);C[i]=t[i],a.push(C)}return a.length===1?a[0]:a}pathSegment(t,i,s){return JF(this)(t,this,i,s)}path(t,i,s){const r=this.segments,n=JF(this);let o=this._loop;i=i||0,s=s||this.points.length-i;for(const a of r)o&=n(t,this,a,{start:i,end:i+s-1});return!!o}draw(t,i,s,r){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),wDe(t,this,s,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ti(sf,"id","line"),ti(sf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ti(sf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ti(sf,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function g$(e,t,i,s){const r=e.options,{[i]:n}=e.getProps([i],s);return Math.abs(t-n)<r.radius+r.hitRadius}class oE extends oh{constructor(i){super();ti(this,"parsed");ti(this,"skip");ti(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,s,r){const n=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(i-o,2)+Math.pow(s-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(i,s){return g$(this,i,"x",s)}inYRange(i,s){return g$(this,i,"y",s)}getCenterPoint(i){const{x:s,y:r}=this.getProps(["x","y"],i);return{x:s,y:r}}size(i){i=i||this.options||{};let s=i.radius||0;s=Math.max(s,s&&i.hoverRadius||0);const r=s&&i.borderWidth||0;return(s+r)*2}draw(i,s){const r=this.options;this.skip||r.radius<.1||!Vd(this,s,this.size(r)/2)||(i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.fillStyle=r.backgroundColor,YF(i,r,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}ti(oE,"id","point"),ti(oE,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ti(oE,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function YK(e,t){const{x:i,y:s,base:r,width:n,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(i,r),l=Math.max(i,r),c=s-h,u=s+h):(h=n/2,a=i-h,l=i+h,c=Math.min(s,r),u=Math.max(s,r)),{left:a,top:c,right:l,bottom:u}}function rf(e,t,i,s){return e?0:xo(t,i,s)}function SDe(e,t,i){const s=e.options.borderWidth,r=e.borderSkipped,n=wK(s);return{t:rf(r.top,n.top,0,i),r:rf(r.right,n.right,0,t),b:rf(r.bottom,n.bottom,0,i),l:rf(r.left,n.left,0,t)}}function xDe(e,t,i){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,n=tg(r),o=Math.min(t,i),a=e.borderSkipped,l=s||Fs(r);return{topLeft:rf(!l||a.top||a.left,n.topLeft,0,o),topRight:rf(!l||a.top||a.right,n.topRight,0,o),bottomLeft:rf(!l||a.bottom||a.left,n.bottomLeft,0,o),bottomRight:rf(!l||a.bottom||a.right,n.bottomRight,0,o)}}function EDe(e){const t=YK(e),i=t.right-t.left,s=t.bottom-t.top,r=SDe(e,i/2,s/2),n=xDe(e,i/2,s/2);return{outer:{x:t.left,y:t.top,w:i,h:s,radius:n},inner:{x:t.left+r.l,y:t.top+r.t,w:i-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,n.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(r.b,r.r))}}}}function TR(e,t,i,s){const r=t===null,n=i===null,a=e&&!(r&&n)&&YK(e,s);return a&&(r||Id(t,a.left,a.right))&&(n||Id(i,a.top,a.bottom))}function _De(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function TDe(e,t){e.rect(t.x,t.y,t.w,t.h)}function AR(e,t,i={}){const s=e.x!==i.x?-t:0,r=e.y!==i.y?-t:0,n=(e.x+e.w!==i.x+i.w?t:0)-s,o=(e.y+e.h!==i.y+i.h?t:0)-r;return{x:e.x+s,y:e.y+r,w:e.w+n,h:e.h+o,radius:e.radius}}class aE extends oh{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:i,options:{borderColor:s,backgroundColor:r}}=this,{inner:n,outer:o}=EDe(this),a=_De(o.radius)?Wb:TDe;t.save(),(o.w!==n.w||o.h!==n.h)&&(t.beginPath(),a(t,AR(o,i,n)),t.clip(),a(t,AR(n,-i,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,AR(n,i)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,i,s){return TR(this,t,i,s)}inXRange(t,i){return TR(this,t,null,i)}inYRange(t,i){return TR(this,null,t,i)}getCenterPoint(t){const{x:i,y:s,base:r,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(i+r)/2:i,y:n?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ti(aE,"id","bar"),ti(aE,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ti(aE,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var ADe=Object.freeze({__proto__:null,ArcElement:mC,BarElement:aE,LineElement:sf,PointElement:oE});const ZF=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],m$=ZF.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function XK(e){return ZF[e%ZF.length]}function qK(e){return m$[e%m$.length]}function kDe(e,t){return e.borderColor=XK(t),e.backgroundColor=qK(t),++t}function DDe(e,t){return e.backgroundColor=e.data.map(()=>XK(t++)),t}function RDe(e,t){return e.backgroundColor=e.data.map(()=>qK(t++)),t}function PDe(e){let t=0;return(i,s)=>{const r=e.getDatasetMeta(s).controller;r instanceof Wp?t=DDe(i,t):r instanceof YC?t=RDe(i,t):r&&(t=kDe(i,t))}}function v$(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function FDe(e){return e&&(e.borderColor||e.backgroundColor)}function MDe(){return cn.borderColor!=="rgba(0,0,0,0.1)"||cn.backgroundColor!=="rgba(0,0,0,0.1)"}var LDe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,i){if(!i.enabled)return;const{data:{datasets:s},options:r}=e.config,{elements:n}=r,o=v$(s)||FDe(r)||n&&v$(n)||MDe();if(!i.forceOverride&&o)return;const a=PDe(e);s.forEach(a)}};function ODe(e,t,i,s,r){const n=r.samples||s;if(n>=i)return e.slice(t,t+i);const o=[],a=(i-2)/(n-2);let l=0;const c=t+i-1;let u=t,h,f,p,y,v;for(o[l++]=e[u],h=0;h<n-2;h++){let C=0,S=0,_;const x=Math.floor((h+1)*a)+1+t,A=Math.min(Math.floor((h+2)*a)+1,i)+t,R=A-x;for(_=x;_<A;_++)C+=e[_].x,S+=e[_].y;C/=R,S/=R;const O=Math.floor(h*a)+1+t,k=Math.min(Math.floor((h+1)*a)+1,i)+t,{x:F,y:N}=e[u];for(p=y=-1,_=O;_<k;_++)y=.5*Math.abs((F-C)*(e[_].y-N)-(F-e[_].x)*(S-N)),y>p&&(p=y,f=e[_],v=_);o[l++]=f,u=v}return o[l++]=e[c],o}function IDe(e,t,i,s){let r=0,n=0,o,a,l,c,u,h,f,p,y,v;const C=[],S=t+i-1,_=e[t].x,A=e[S].x-_;for(o=t;o<t+i;++o){a=e[o],l=(a.x-_)/A*s,c=a.y;const R=l|0;if(R===u)c<y?(y=c,h=o):c>v&&(v=c,f=o),r=(n*r+a.x)/++n;else{const O=o-1;if(!As(h)&&!As(f)){const k=Math.min(h,f),F=Math.max(h,f);k!==p&&k!==O&&C.push({...e[k],x:r}),F!==p&&F!==O&&C.push({...e[F],x:r})}o>0&&O!==p&&C.push(e[O]),C.push(a),u=R,n=0,y=v=c,h=f=p=o}}return C}function QK(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function y$(e){e.data.datasets.forEach(t=>{QK(t)})}function NDe(e,t){const i=t.length;let s=0,r;const{iScale:n}=e,{min:o,max:a,minDefined:l,maxDefined:c}=n.getUserBounds();return l&&(s=xo(Nd(t,n.axis,o).lo,0,i-1)),c?r=xo(Nd(t,n.axis,a).hi+1,s,i)-s:r=i-s,{start:s,count:r}}var VDe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,i)=>{if(!i.enabled){y$(e);return}const s=e.width;e.data.datasets.forEach((r,n)=>{const{_data:o,indexAxis:a}=r,l=e.getDatasetMeta(n),c=o||r.data;if(pC([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:f}=NDe(l,c);const p=i.threshold||4*s;if(f<=p){QK(r);return}As(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let y;switch(i.algorithm){case"lttb":y=ODe(c,h,f,s,i);break;case"min-max":y=IDe(c,h,f,s);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}r._decimated=y})},destroy(e){y$(e)}};function BDe(e,t,i){const s=e.segments,r=e.points,n=t.points,o=[];for(const a of s){let{start:l,end:c}=a;c=yA(l,c,r);const u=eM(i,r[l],r[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const h=FK(t,u);for(const f of h){const p=eM(i,n[f.start],n[f.end],f.loop),y=PK(a,r,p);for(const v of y)o.push({source:v,target:f,start:{[i]:C$(u,p,"start",Math.max)},end:{[i]:C$(u,p,"end",Math.min)}})}}return o}function eM(e,t,i,s){if(s)return;let r=t[e],n=i[e];return e==="angle"&&(r=Jo(r),n=Jo(n)),{property:e,start:r,end:n}}function GDe(e,t){const{x:i=null,y:s=null}=e||{},r=t.points,n=[];return t.segments.forEach(({start:o,end:a})=>{a=yA(o,a,r);const l=r[o],c=r[a];s!==null?(n.push({x:l.x,y:s}),n.push({x:c.x,y:s})):i!==null&&(n.push({x:i,y:l.y}),n.push({x:i,y:c.y}))}),n}function yA(e,t,i){for(;t>e;t--){const s=i[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function C$(e,t,i,s){return e&&t?s(e[i],t[i]):e?e[i]:t?t[i]:0}function JK(e,t){let i=[],s=!1;return ln(e)?(s=!0,i=e):i=GDe(e,t),i.length?new sf({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function b$(e){return e&&e.fill!==!1}function HDe(e,t,i){let r=e[t].fill;const n=[t];let o;if(!i)return r;for(;r!==!1&&n.indexOf(r)===-1;){if(!Tn(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;n.push(r),r=o.fill}return!1}function $De(e,t,i){const s=jDe(e);if(Fs(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return Tn(r)&&Math.floor(r)===r?WDe(s[0],t,r,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function WDe(e,t,i,s){return(e==="-"||e==="+")&&(i=t+i),i===t||i<0||i>=s?!1:i}function UDe(e,t){let i=null;return e==="start"?i=t.bottom:e==="end"?i=t.top:Fs(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}function zDe(e,t,i){let s;return e==="start"?s=i:e==="end"?s=t.options.reverse?t.min:t.max:Fs(e)?s=e.value:s=t.getBaseValue(),s}function jDe(e){const t=e.options,i=t.fill;let s=Zi(i&&i.target,i);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function KDe(e){const{scale:t,index:i,line:s}=e,r=[],n=s.segments,o=s.points,a=YDe(t,i);a.push(JK({x:null,y:t.bottom},s));for(let l=0;l<n.length;l++){const c=n[l];for(let u=c.start;u<=c.end;u++)XDe(r,o[u],a)}return new sf({points:r,options:{}})}function YDe(e,t){const i=[],s=e.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const n=s[r];if(n.index===t)break;n.hidden||i.unshift(n.dataset)}return i}function XDe(e,t,i){const s=[];for(let r=0;r<i.length;r++){const n=i[r],{first:o,last:a,point:l}=qDe(n,t,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(e.push(l),!a)break}}e.push(...s)}function qDe(e,t,i){const s=e.interpolate(t,i);if(!s)return{};const r=s[i],n=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<n.length;c++){const u=n[c],h=o[u.start][i],f=o[u.end][i];if(Id(r,h,f)){a=r===h,l=r===f;break}}return{first:a,last:l,point:s}}class ZK{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,s){const{x:r,y:n,radius:o}=this;return i=i||{start:0,end:Kr},t.arc(r,n,o,i.end,i.start,!0),!s.bounds}interpolate(t){const{x:i,y:s,radius:r}=this,n=t.angle;return{x:i+Math.cos(n)*r,y:s+Math.sin(n)*r,angle:n}}}function QDe(e){const{chart:t,fill:i,line:s}=e;if(Tn(i))return JDe(t,i);if(i==="stack")return KDe(e);if(i==="shape")return!0;const r=ZDe(e);return r instanceof ZK?r:JK(r,s)}function JDe(e,t){const i=e.getDatasetMeta(t);return i&&e.isDatasetVisible(t)?i.dataset:null}function ZDe(e){return(e.scale||{}).getPointPositionForValue?tRe(e):eRe(e)}function eRe(e){const{scale:t={},fill:i}=e,s=UDe(i,t);if(Tn(s)){const r=t.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function tRe(e){const{scale:t,fill:i}=e,s=t.options,r=t.getLabels().length,n=s.reverse?t.max:t.min,o=zDe(i,t,n),a=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,n);return new ZK({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}function kR(e,t,i){const s=QDe(t),{chart:r,index:n,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:p=h}=u||{},y=r.getDatasetMeta(n),v=MK(r,y);s&&o.points.length&&(pA(e,i),iRe(e,{line:o,target:s,above:f,below:p,area:i,scale:a,axis:l,clip:v}),gA(e))}function iRe(e,t){const{line:i,target:s,above:r,below:n,area:o,scale:a,clip:l}=t,c=i._loop?"angle":t.axis;e.save();let u=n;n!==r&&(c==="x"?(w$(e,s,o.top),DR(e,{line:i,target:s,color:r,scale:a,property:c,clip:l}),e.restore(),e.save(),w$(e,s,o.bottom)):c==="y"&&(S$(e,s,o.left),DR(e,{line:i,target:s,color:n,scale:a,property:c,clip:l}),e.restore(),e.save(),S$(e,s,o.right),u=r)),DR(e,{line:i,target:s,color:u,scale:a,property:c,clip:l}),e.restore()}function w$(e,t,i){const{segments:s,points:r}=t;let n=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,u=r[l],h=r[yA(l,c,r)];n?(e.moveTo(u.x,u.y),n=!1):(e.lineTo(u.x,i),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function S$(e,t,i){const{segments:s,points:r}=t;let n=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,u=r[l],h=r[yA(l,c,r)];n?(e.moveTo(u.x,u.y),n=!1):(e.lineTo(i,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(i,h.y)}e.lineTo(i,t.first().y),e.closePath(),e.clip()}function DR(e,t){const{line:i,target:s,property:r,color:n,scale:o,clip:a}=t,l=BDe(i,s,r);for(const{source:c,target:u,start:h,end:f}of l){const{style:{backgroundColor:p=n}={}}=c,y=s!==!0;e.save(),e.fillStyle=p,sRe(e,o,a,y&&eM(r,h,f)),e.beginPath();const v=!!i.pathSegment(e,c);let C;if(y){v?e.closePath():x$(e,s,f,r);const S=!!s.pathSegment(e,u,{move:v,reverse:!0});C=v&&S,C||x$(e,s,h,r)}e.closePath(),e.fill(C?"evenodd":"nonzero"),e.restore()}}function sRe(e,t,i,s){const r=t.chart.chartArea,{property:n,start:o,end:a}=s||{};if(n==="x"||n==="y"){let l,c,u,h;n==="x"?(l=o,c=r.top,u=a,h=r.bottom):(l=r.left,c=o,u=r.right,h=a),e.beginPath(),i&&(l=Math.max(l,i.left),u=Math.min(u,i.right),c=Math.max(c,i.top),h=Math.min(h,i.bottom)),e.rect(l,c,u-l,h-c),e.clip()}}function x$(e,t,i,s){const r=t.interpolate(i,s);r&&e.lineTo(r.x,r.y)}var rRe={id:"filler",afterDatasetsUpdate(e,t,i){const s=(e.data.datasets||[]).length,r=[];let n,o,a,l;for(o=0;o<s;++o)n=e.getDatasetMeta(o),a=n.dataset,l=null,a&&a.options&&a instanceof sf&&(l={visible:e.isDatasetVisible(o),index:o,fill:$De(a,o,s),chart:e,axis:n.controller.options.indexAxis,scale:n.vScale,line:a}),n.$filler=l,r.push(l);for(o=0;o<s;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=HDe(r,o,i.propagate))},beforeDraw(e,t,i){const s=i.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),n=e.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(n,a.axis),s&&a.fill&&kR(e.ctx,a,n))}},beforeDatasetsDraw(e,t,i){if(i.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const n=s[r].$filler;b$(n)&&kR(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,i){const s=t.meta.$filler;!b$(s)||i.drawTime!=="beforeDatasetDraw"||kR(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const E$=(e,t)=>{let{boxHeight:i=t,boxWidth:s=t}=e;return e.usePointStyle&&(i=Math.min(i,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(t,i)}},nRe=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class _$ extends oh{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,s){this.maxWidth=t,this.maxHeight=i,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=Or(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(s=>t.filter(s,this.chart.data))),t.sort&&(i=i.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=mo(s.font),n=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=E$(s,n);let c,u;i.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,n,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,i,s,r){const{ctx:n,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=t;n.textAlign="left",n.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((y,v)=>{const C=s+i/2+n.measureText(y.text).width;(v===0||c[c.length-1]+C+2*a>o)&&(h+=u,c[c.length-(v>0?0:1)]=0,p+=u,f++),l[v]={left:0,top:p,row:f,width:C,height:r},c[c.length-1]+=C+a}),h}_fitCols(t,i,s,r){const{ctx:n,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,p=0,y=0,v=0;return this.legendItems.forEach((C,S)=>{const{itemWidth:_,itemHeight:x}=oRe(s,i,n,C,r);S>0&&p+x+2*a>u&&(h+=f+a,c.push({width:f,height:p}),y+=f+a,v++,f=p=0),l[S]={left:y,top:p,col:v,width:_,height:x},f=Math.max(f,_),p+=x+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:s,labels:{padding:r},rtl:n}}=this,o=Nv(n,this.left,this.width);if(this.isHorizontal()){let a=0,l=Yo(s,this.left+r,this.right-this.lineWidths[a]);for(const c of i)a!==c.row&&(a=c.row,l=Yo(s,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Yo(s,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of i)c.col!==a&&(a=c.col,l=Yo(s,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;pA(t,this),this._draw(),gA(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:s,ctx:r}=this,{align:n,labels:o}=t,a=cn.color,l=Nv(t.rtl,this.left,this.width),c=mo(o.font),{padding:u}=o,h=c.size,f=h/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:y,boxHeight:v,itemHeight:C}=E$(o,h),S=function(O,k,F){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;r.save();const N=Zi(F.lineWidth,1);if(r.fillStyle=Zi(F.fillStyle,a),r.lineCap=Zi(F.lineCap,"butt"),r.lineDashOffset=Zi(F.lineDashOffset,0),r.lineJoin=Zi(F.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=Zi(F.strokeStyle,a),r.setLineDash(Zi(F.lineDash,[])),o.usePointStyle){const j={radius:v*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:N},ee=l.xPlus(O,y/2),K=k+f;bK(r,j,ee,K,o.pointStyleWidth&&y)}else{const j=k+Math.max((h-v)/2,0),ee=l.leftForLtr(O,y),K=tg(F.borderRadius);r.beginPath(),Object.values(K).some(Q=>Q!==0)?Wb(r,{x:ee,y:j,w:y,h:v,radius:K}):r.rect(ee,j,y,v),r.fill(),N!==0&&r.stroke()}r.restore()},_=function(O,k,F){Tg(r,F.text,O,k+C/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})},x=this.isHorizontal(),A=this._computeTitleHeight();x?p={x:Yo(n,this.left+u,this.right-s[0]),y:this.top+u+A,line:0}:p={x:this.left+u,y:Yo(n,this.top+A+u,this.bottom-i[0].height),line:0},kK(this.ctx,t.textDirection);const R=C+u;this.legendItems.forEach((O,k)=>{r.strokeStyle=O.fontColor,r.fillStyle=O.fontColor;const F=r.measureText(O.text).width,N=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),j=y+f+F;let ee=p.x,K=p.y;l.setWidth(this.width),x?k>0&&ee+j+u>this.right&&(K=p.y+=R,p.line++,ee=p.x=Yo(n,this.left+u,this.right-s[p.line])):k>0&&K+R>this.bottom&&(ee=p.x=ee+i[p.line].width+u,p.line++,K=p.y=Yo(n,this.top+A+u,this.bottom-i[p.line].height));const Q=l.x(ee);if(S(Q,K,O),ee=_Te(N,ee+y+f,x?ee+j:this.right,t.rtl),_(l.x(ee),K,O),x)p.x+=j+u;else if(typeof O.text!="string"){const be=c.lineHeight;p.y+=eY(O,be)+u}else p.y+=R}),DK(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,s=mo(i.font),r=da(i.padding);if(!i.display)return;const n=Nv(t.rtl,this.left,this.width),o=this.ctx,a=i.position,l=s.size/2,c=r.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=Yo(t.align,h,this.right-f);else{const y=this.columnSizes.reduce((v,C)=>Math.max(v,C.height),0);u=c+Yo(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const p=Yo(a,h,h+f);o.textAlign=n.textAlign(mI(a)),o.textBaseline="middle",o.strokeStyle=i.color,o.fillStyle=i.color,o.font=s.string,Tg(o,i.text,p,u,s)}_computeTitleHeight(){const t=this.options.title,i=mo(t.font),s=da(t.padding);return t.display?i.lineHeight+s.height:0}_getLegendItemAt(t,i){let s,r,n;if(Id(t,this.left,this.right)&&Id(i,this.top,this.bottom)){for(n=this.legendHitBoxes,s=0;s<n.length;++s)if(r=n[s],Id(t,r.left,r.left+r.width)&&Id(i,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const i=this.options;if(!cRe(t.type,i))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,n=nRe(r,s);r&&!n&&Or(i.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!n&&Or(i.onHover,[t,s,this],this)}else s&&Or(i.onClick,[t,s,this],this)}}function oRe(e,t,i,s,r){const n=aRe(s,e,t,i),o=lRe(r,s,t.lineHeight);return{itemWidth:n,itemHeight:o}}function aRe(e,t,i,s){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((n,o)=>n.length>o.length?n:o)),t+i.size/2+s.measureText(r).width}function lRe(e,t,i){let s=e;return typeof t.text!="string"&&(s=eY(t,i)),s}function eY(e,t){const i=e.text?e.text.length:0;return t*i}function cRe(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var uRe={id:"legend",_element:_$,start(e,t,i){const s=e.legend=new _$({ctx:e.ctx,options:i,chart:e});aa.configure(e,s,i),aa.addBox(e,s)},stop(e){aa.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const s=e.legend;aa.configure(e,s,i),s.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const s=t.datasetIndex,r=i.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:r,color:n,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(i?0:void 0),u=da(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:n,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class TI extends oh{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;const r=ln(s.text)?s.text.length:1;this._padding=da(s.padding);const n=r*mo(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:i,left:s,bottom:r,right:n,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Yo(a,s,n),h=i+t,c=n-s):(o.position==="left"?(u=s+t,h=Yo(a,r,i),l=er*-.5):(u=n-t,h=Yo(a,i,r),l=er*.5),c=r-i),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,i=this.options;if(!i.display)return;const s=mo(i.font),n=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(n);Tg(t,i.text,0,0,s,{color:i.color,maxWidth:l,rotation:c,textAlign:mI(i.align),textBaseline:"middle",translation:[o,a]})}}function dRe(e,t){const i=new TI({ctx:e.ctx,options:t,chart:e});aa.configure(e,i,t),aa.addBox(e,i),e.titleBlock=i}var hRe={id:"title",_element:TI,start(e,t,i){dRe(e,i)},stop(e){const t=e.titleBlock;aa.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const s=e.titleBlock;aa.configure(e,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const p1=new WeakMap;var fRe={id:"subtitle",start(e,t,i){const s=new TI({ctx:e.ctx,options:i,chart:e});aa.configure(e,s,i),aa.addBox(e,s),p1.set(e,s)},stop(e){aa.removeBox(e,p1.get(e)),p1.delete(e)},beforeUpdate(e,t,i){const s=p1.get(e);aa.configure(e,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vC={average(e){if(!e.length)return!1;let t,i,s=new Set,r=0,n=0;for(t=0,i=e.length;t<i;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),r+=l.y,++n}}return n===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:r/n}},nearest(e,t){if(!e.length)return!1;let i=t.x,s=t.y,r=Number.POSITIVE_INFINITY,n,o,a;for(n=0,o=e.length;n<o;++n){const l=e[n].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=jF(t,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();i=l.x,s=l.y}return{x:i,y:s}}};function yu(e,t){return t&&(ln(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ed(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function pRe(e,t){const{element:i,datasetIndex:s,index:r}=t,n=e.getDatasetMeta(s).controller,{label:o,value:a}=n.getLabelAndValue(r);return{chart:e,label:o,parsed:n.getParsed(r),raw:e.data.datasets[s].data[r],formattedValue:a,dataset:n.getDataset(),dataIndex:r,datasetIndex:s,element:i}}function T$(e,t){const i=e.chart.ctx,{body:s,footer:r,title:n}=e,{boxWidth:o,boxHeight:a}=t,l=mo(t.bodyFont),c=mo(t.titleFont),u=mo(t.footerFont),h=n.length,f=r.length,p=s.length,y=da(t.padding);let v=y.height,C=0,S=s.reduce((A,R)=>A+R.before.length+R.lines.length+R.after.length,0);if(S+=e.beforeBody.length+e.afterBody.length,h&&(v+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),S){const A=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=p*A+(S-p)*l.lineHeight+(S-1)*t.bodySpacing}f&&(v+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let _=0;const x=function(A){C=Math.max(C,i.measureText(A).width+_)};return i.save(),i.font=c.string,br(e.title,x),i.font=l.string,br(e.beforeBody.concat(e.afterBody),x),_=t.displayColors?o+2+t.boxPadding:0,br(s,A=>{br(A.before,x),br(A.lines,x),br(A.after,x)}),_=0,i.font=u.string,br(e.footer,x),i.restore(),C+=y.width,{width:C,height:v}}function gRe(e,t){const{y:i,height:s}=t;return i<s/2?"top":i>e.height-s/2?"bottom":"center"}function mRe(e,t,i,s){const{x:r,width:n}=s,o=i.caretSize+i.caretPadding;if(e==="left"&&r+n+o>t.width||e==="right"&&r-n-o<0)return!0}function vRe(e,t,i,s){const{x:r,width:n}=i,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return s==="center"?c=r<=(a+l)/2?"left":"right":r<=n/2?c="left":r>=o-n/2&&(c="right"),mRe(c,e,t,i)&&(c="center"),c}function A$(e,t,i){const s=i.yAlign||t.yAlign||gRe(e,i);return{xAlign:i.xAlign||t.xAlign||vRe(e,t,i,s),yAlign:s}}function yRe(e,t){let{x:i,width:s}=e;return t==="right"?i-=s:t==="center"&&(i-=s/2),i}function CRe(e,t,i){let{y:s,height:r}=e;return t==="top"?s+=i:t==="bottom"?s-=r+i:s-=r/2,s}function k$(e,t,i,s){const{caretSize:r,caretPadding:n,cornerRadius:o}=e,{xAlign:a,yAlign:l}=i,c=r+n,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=tg(o);let y=yRe(t,a);const v=CRe(t,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(u,f)+r:a==="right"&&(y+=Math.max(h,p)+r),{x:xo(y,0,s.width-t.width),y:xo(v,0,s.height-t.height)}}function g1(e,t,i){const s=da(i.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function D$(e){return yu([],Ed(e))}function bRe(e,t,i){return $f(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function R$(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const tY={beforeTitle:wd,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,s=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return i[t.dataIndex]}return""},afterTitle:wd,beforeBody:wd,beforeLabel:wd,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return As(i)||(t+=i),t},labelColor(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:wd,afterBody:wd,beforeFooter:wd,footer:wd,afterFooter:wd};function Ga(e,t,i,s){const r=e[t].call(i,s);return typeof r>"u"?tY[t].call(i,s):r}class tM extends oh{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&i.options.animation&&s.animations,n=new LK(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=bRe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:s}=i,r=Ga(s,"beforeTitle",this,t),n=Ga(s,"title",this,t),o=Ga(s,"afterTitle",this,t);let a=[];return a=yu(a,Ed(r)),a=yu(a,Ed(n)),a=yu(a,Ed(o)),a}getBeforeBody(t,i){return D$(Ga(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:s}=i,r=[];return br(t,n=>{const o={before:[],lines:[],after:[]},a=R$(s,n);yu(o.before,Ed(Ga(a,"beforeLabel",this,n))),yu(o.lines,Ga(a,"label",this,n)),yu(o.after,Ed(Ga(a,"afterLabel",this,n))),r.push(o)}),r}getAfterBody(t,i){return D$(Ga(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:s}=i,r=Ga(s,"beforeFooter",this,t),n=Ga(s,"footer",this,t),o=Ga(s,"afterFooter",this,t);let a=[];return a=yu(a,Ed(r)),a=yu(a,Ed(n)),a=yu(a,Ed(o)),a}_createItems(t){const i=this._active,s=this.chart.data,r=[],n=[],o=[];let a=[],l,c;for(l=0,c=i.length;l<c;++l)a.push(pRe(this.chart,i[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,s))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,s))),br(a,u=>{const h=R$(t.callbacks,u);r.push(Ga(h,"labelColor",this,u)),n.push(Ga(h,"labelPointStyle",this,u)),o.push(Ga(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=n,this.labelTextColors=o,this.dataPoints=a,a}update(t,i){const s=this.options.setContext(this.getContext()),r=this._active;let n,o=[];if(!r.length)this.opacity!==0&&(n={opacity:0});else{const a=vC[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=T$(this,s),c=Object.assign({},a,l),u=A$(this.chart,s,c),h=k$(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,n={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,s,r){const n=this.getCaretPosition(t,s,r);i.lineTo(n.x1,n.y1),i.lineTo(n.x2,n.y2),i.lineTo(n.x3,n.y3)}getCaretPosition(t,i,s){const{xAlign:r,yAlign:n}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=tg(a),{x:f,y:p}=t,{width:y,height:v}=i;let C,S,_,x,A,R;return n==="center"?(A=p+v/2,r==="left"?(C=f,S=C-o,x=A+o,R=A-o):(C=f+y,S=C+o,x=A-o,R=A+o),_=C):(r==="left"?S=f+Math.max(l,u)+o:r==="right"?S=f+y-Math.max(c,h)-o:S=this.caretX,n==="top"?(x=p,A=x-o,C=S-o,_=S+o):(x=p+v,A=x+o,C=S+o,_=S-o),R=x),{x1:C,x2:S,x3:_,y1:x,y2:A,y3:R}}drawTitle(t,i,s){const r=this.title,n=r.length;let o,a,l;if(n){const c=Nv(s.rtl,this.x,this.width);for(t.x=g1(this,s.titleAlign,s),i.textAlign=c.textAlign(s.titleAlign),i.textBaseline="middle",o=mo(s.titleFont),a=s.titleSpacing,i.fillStyle=s.titleColor,i.font=o.string,l=0;l<n;++l)i.fillText(r[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===n&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,i,s,r,n){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=n,u=mo(n.bodyFont),h=g1(this,"left",n),f=r.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,y=i.y+p;if(n.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},C=r.leftForLtr(f,c)+c/2,S=y+l/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,YF(t,v,C,S),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,YF(t,v,C,S)}else{t.lineWidth=Fs(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const v=r.leftForLtr(f,c),C=r.leftForLtr(r.xPlus(f,1),c-2),S=tg(o.borderRadius);Object.values(S).some(_=>_!==0)?(t.beginPath(),t.fillStyle=n.multiKeyBackground,Wb(t,{x:v,y,w:c,h:l,radius:S}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Wb(t,{x:C,y:y+1,w:c-2,h:l-2,radius:S}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(v,y,c,l),t.strokeRect(v,y,c,l),t.fillStyle=o.backgroundColor,t.fillRect(C,y+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,i,s){const{body:r}=this,{bodySpacing:n,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=mo(s.bodyFont);let f=h.lineHeight,p=0;const y=Nv(s.rtl,this.x,this.width),v=function(F){i.fillText(F,y.x(t.x+p),t.y+f/2),t.y+=f+n},C=y.textAlign(o);let S,_,x,A,R,O,k;for(i.textAlign=o,i.textBaseline="middle",i.font=h.string,t.x=g1(this,C,s),i.fillStyle=s.bodyColor,br(this.beforeBody,v),p=a&&C!=="right"?o==="center"?c/2+u:c+2+u:0,A=0,O=r.length;A<O;++A){for(S=r[A],_=this.labelTextColors[A],i.fillStyle=_,br(S.before,v),x=S.lines,a&&x.length&&(this._drawColorBox(i,t,A,y,s),f=Math.max(h.lineHeight,l)),R=0,k=x.length;R<k;++R)v(x[R]),f=h.lineHeight;br(S.after,v)}p=0,f=h.lineHeight,br(this.afterBody,v),t.y-=n}drawFooter(t,i,s){const r=this.footer,n=r.length;let o,a;if(n){const l=Nv(s.rtl,this.x,this.width);for(t.x=g1(this,s.footerAlign,s),t.y+=s.footerMarginTop,i.textAlign=l.textAlign(s.footerAlign),i.textBaseline="middle",o=mo(s.footerFont),i.fillStyle=s.footerColor,i.font=o.string,a=0;a<n;++a)i.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,i,s,r){const{xAlign:n,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=tg(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(a+h,l),o==="top"&&this.drawCaret(t,i,s,r),i.lineTo(a+c-f,l),i.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&n==="right"&&this.drawCaret(t,i,s,r),i.lineTo(a+c,l+u-y),i.quadraticCurveTo(a+c,l+u,a+c-y,l+u),o==="bottom"&&this.drawCaret(t,i,s,r),i.lineTo(a+p,l+u),i.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&n==="left"&&this.drawCaret(t,i,s,r),i.lineTo(a,l+h),i.quadraticCurveTo(a,l,a+h,l),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,s=this.$animations,r=s&&s.x,n=s&&s.y;if(r||n){const o=vC[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=T$(this,t),l=Object.assign({},o,this._size),c=A$(i,t,l),u=k$(t,l,c,i);(r._to!==u.x||n._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},n={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=da(i.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(n,t,r,i),kK(t,i.textDirection),n.y+=o.top,this.drawTitle(n,t,i),this.drawBody(n,t,i),this.drawFooter(n,t,i),DK(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const s=this._active,r=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),n=!o_(s,r),o=this._positionChanged(r,i);(n||o)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,s=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,n=this._active||[],o=this._getActiveElements(t,n,i,s),a=this._positionChanged(o,t),l=i||!o_(o,n)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),l}_getActiveElements(t,i,s,r){const n=this.options;if(t.type==="mouseout")return[];if(!r)return i.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,n.mode,n,s);return n.reverse&&o.reverse(),o}_positionChanged(t,i){const{caretX:s,caretY:r,options:n}=this,o=vC[n.position].call(this,t,i);return o!==!1&&(s!==o.x||r!==o.y)}}ti(tM,"positioners",vC);var wRe={id:"tooltip",_element:tM,positioners:vC,afterInit(e,t,i){i&&(e.tooltip=new tM({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tY},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},SRe=Object.freeze({__proto__:null,Colors:LDe,Decimation:VDe,Filler:rRe,Legend:uRe,SubTitle:fRe,Title:hRe,Tooltip:wRe});const xRe=(e,t,i,s)=>(typeof t=="string"?(i=e.push(t)-1,s.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function ERe(e,t,i,s){const r=e.indexOf(t);if(r===-1)return xRe(e,t,i,s);const n=e.lastIndexOf(t);return r!==n?i:r}const _Re=(e,t)=>e===null?null:xo(Math.round(e),0,t);function P$(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class iM extends cm{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const s=this.getLabels();for(const{index:r,label:n}of i)s[r]===n&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(As(t))return null;const s=this.getLabels();return i=isFinite(i)&&s[i]===t?i:ERe(s,t,Zi(i,t),this._addedLabels),_Re(i,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),i||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,i=this.max,s=this.options.offset,r=[];let n=this.getLabels();n=t===0&&i===n.length-1?n:n.slice(t,i+1),this._valueRange=Math.max(n.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=i;o++)r.push({value:o});return r}getLabelForValue(t){return P$.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ti(iM,"id","category"),ti(iM,"defaults",{ticks:{callback:P$}});function TRe(e,t){const i=[],{bounds:r,step:n,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=e,p=n||1,y=u-1,{min:v,max:C}=t,S=!As(o),_=!As(a),x=!As(c),A=(C-v)/(h+1);let R=T3((C-v)/y/p)*p,O,k,F,N;if(R<1e-14&&!S&&!_)return[{value:v},{value:C}];N=Math.ceil(C/R)-Math.floor(v/R),N>y&&(R=T3(N*R/y/p)*p),As(l)||(O=Math.pow(10,l),R=Math.ceil(R*O)/O),r==="ticks"?(k=Math.floor(v/R)*R,F=Math.ceil(C/R)*R):(k=v,F=C),S&&_&&n&&yTe((a-o)/n,R/1e3)?(N=Math.round(Math.min((a-o)/R,u)),R=(a-o)/N,k=o,F=a):x?(k=S?o:k,F=_?a:F,N=c-1,R=(F-k)/N):(N=(F-k)/R,UC(N,Math.round(N),R/1e3)?N=Math.round(N):N=Math.ceil(N));const j=Math.max(A3(R),A3(k));O=Math.pow(10,As(l)?j:l),k=Math.round(k*O)/O,F=Math.round(F*O)/O;let ee=0;for(S&&(f&&k!==o?(i.push({value:o}),k<o&&ee++,UC(Math.round((k+ee*R)*O)/O,o,F$(o,A,e))&&ee++):k<o&&ee++);ee<N;++ee){const K=Math.round((k+ee*R)*O)/O;if(_&&K>a)break;i.push({value:K})}return _&&f&&F!==a?i.length&&UC(i[i.length-1].value,a,F$(a,A,e))?i[i.length-1].value=a:i.push({value:a}):(!_||F===a)&&i.push({value:F}),i}function F$(e,t,{horizontal:i,minRotation:s}){const r=Bc(s),n=(i?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/n,o)}class f_ extends cm{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return As(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:s}=this.getUserBounds();let{min:r,max:n}=this;const o=l=>r=i?r:l,a=l=>n=s?n:l;if(t){const l=Vu(r),c=Vu(n);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===n){let l=n===0?1:Math.abs(n*.05);a(n+l),t||o(r-l)}this.min=r,this.max=n}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:i,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),i=i||11),i&&(r=Math.min(i,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},n=this._range||this,o=TRe(r,n);return t.bounds==="ticks"&&dK(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let i=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-i)/Math.max(t.length-1,1)/2;i-=r,s+=r}this._startValue=i,this._endValue=s,this._valueRange=s-i}getLabelForValue(t){return lS(t,this.chart.options.locale,this.options.ticks.format)}}class sM extends f_{determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=Tn(t)?t:0,this.max=Tn(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,s=Bc(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,n.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ti(sM,"id","linear"),ti(sM,"defaults",{ticks:{callback:fA.formatters.numeric}});const zb=e=>Math.floor(tf(e)),Ep=(e,t)=>Math.pow(10,zb(e)+t);function M$(e){return e/Math.pow(10,zb(e))===1}function L$(e,t,i){const s=Math.pow(10,i),r=Math.floor(e/s);return Math.ceil(t/s)-r}function ARe(e,t){const i=t-e;let s=zb(i);for(;L$(e,t,s)>10;)s++;for(;L$(e,t,s)<10;)s--;return Math.min(s,zb(e))}function kRe(e,{min:t,max:i}){t=Cl(e.min,t);const s=[],r=zb(t);let n=ARe(t,i),o=n<0?Math.pow(10,Math.abs(n)):1;const a=Math.pow(10,n),l=r>n?Math.pow(10,r):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,n)),f=Cl(e.min,Math.round((l+u+h*Math.pow(10,n))*o)/o);for(;f<i;)s.push({value:f,major:M$(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(n++,h=2,o=n>=0?1:o),f=Math.round((l+u+h*Math.pow(10,n))*o)/o;const p=Cl(e.max,f);return s.push({value:p,major:M$(p),significand:h}),s}class rM extends cm{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){const s=f_.prototype.parse.apply(this,[t,i]);if(s===0){this._zero=!0;return}return Tn(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=Tn(t)?Math.max(0,t):null,this.max=Tn(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Tn(this._userMin)&&(this.min=t===Ep(this.min,0)?Ep(this.min,-1):Ep(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let s=this.min,r=this.max;const n=a=>s=t?s:a,o=a=>r=i?r:a;s===r&&(s<=0?(n(1),o(10)):(n(Ep(s,-1)),o(Ep(r,1)))),s<=0&&n(Ep(r,-1)),r<=0&&o(Ep(s,1)),this.min=s,this.max=r}buildTicks(){const t=this.options,i={min:this._userMin,max:this._userMax},s=kRe(i,this);return t.bounds==="ticks"&&dK(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":lS(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=tf(t),this._valueRange=tf(this.max)-tf(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(tf(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}}ti(rM,"id","logarithmic"),ti(rM,"defaults",{ticks:{callback:fA.formatters.logarithmic,major:{enabled:!0}}});function nM(e){const t=e.ticks;if(t.display&&e.display){const i=da(t.backdropPadding);return Zi(t.font&&t.font.size,cn.font.size)+i.height}return 0}function DRe(e,t,i){return i=ln(i)?i:[i],{w:OTe(e,t.string,i),h:i.length*t.lineHeight}}function O$(e,t,i,s,r){return e===s||e===r?{start:t-i/2,end:t+i/2}:e<s||e>r?{start:t-i,end:t}:{start:t,end:t+i}}function RRe(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),s=[],r=[],n=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?er/n:0;for(let l=0;l<n;l++){const c=o.setContext(e.getPointLabelContext(l));r[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+r[l],a),h=mo(c.font),f=DRe(e.ctx,h,e._pointLabels[l]);s[l]=f;const p=Jo(e.getIndexAngle(l)+a),y=Math.round(pI(p)),v=O$(y,u.x,f.w,0,180),C=O$(y,u.y,f.h,90,270);PRe(i,t,p,v,C)}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=LRe(e,s,r)}function PRe(e,t,i,s,r){const n=Math.abs(Math.sin(i)),o=Math.abs(Math.cos(i));let a=0,l=0;s.start<t.l?(a=(t.l-s.start)/n,e.l=Math.min(e.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/n,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function FRe(e,t,i){const s=e.drawingArea,{extra:r,additionalAngle:n,padding:o,size:a}=i,l=e.getPointPosition(t,s+r+o,n),c=Math.round(pI(Jo(l.angle+Vn))),u=NRe(l.y,a.h,c),h=ORe(c),f=IRe(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function MRe(e,t){if(!t)return!0;const{left:i,top:s,right:r,bottom:n}=e;return!(Vd({x:i,y:s},t)||Vd({x:i,y:n},t)||Vd({x:r,y:s},t)||Vd({x:r,y:n},t))}function LRe(e,t,i){const s=[],r=e._pointLabels.length,n=e.options,{centerPointLabels:o,display:a}=n.pointLabels,l={extra:nM(n)/2,additionalAngle:o?er/r:0};let c;for(let u=0;u<r;u++){l.padding=i[u],l.size=t[u];const h=FRe(e,u,l);s.push(h),a==="auto"&&(h.visible=MRe(h,c),h.visible&&(c=h))}return s}function ORe(e){return e===0||e===180?"center":e<180?"left":"right"}function IRe(e,t,i){return i==="right"?e-=t:i==="center"&&(e-=t/2),e}function NRe(e,t,i){return i===90||i===270?e-=t/2:(i>270||i<90)&&(e-=t),e}function VRe(e,t,i){const{left:s,top:r,right:n,bottom:o}=i,{backdropColor:a}=t;if(!As(a)){const l=tg(t.borderRadius),c=da(t.backdropPadding);e.fillStyle=a;const u=s-c.left,h=r-c.top,f=n-s+c.width,p=o-r+c.height;Object.values(l).some(y=>y!==0)?(e.beginPath(),Wb(e,{x:u,y:h,w:f,h:p,radius:l}),e.fill()):e.fillRect(u,h,f,p)}}function BRe(e,t){const{ctx:i,options:{pointLabels:s}}=e;for(let r=t-1;r>=0;r--){const n=e._pointLabelItems[r];if(!n.visible)continue;const o=s.setContext(e.getPointLabelContext(r));VRe(i,o,n);const a=mo(o.font),{x:l,y:c,textAlign:u}=n;Tg(i,e._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function iY(e,t,i,s){const{ctx:r}=e;if(i)r.arc(e.xCenter,e.yCenter,t,0,Kr);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let o=1;o<s;o++)n=e.getPointPosition(o,t),r.lineTo(n.x,n.y)}}function GRe(e,t,i,s,r){const n=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!s||!a||!l||i<0||(n.save(),n.strokeStyle=a,n.lineWidth=l,n.setLineDash(r.dash||[]),n.lineDashOffset=r.dashOffset,n.beginPath(),iY(e,i,o,s),n.closePath(),n.stroke(),n.restore())}function HRe(e,t,i){return $f(e,{label:i,index:t,type:"pointLabel"})}class yC extends f_{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=da(nM(this.options)/2),i=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(i,s)/2)}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!1);this.min=Tn(t)&&!isNaN(t)?t:0,this.max=Tn(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nM(this.options))}generateTickLabels(t){f_.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,s)=>{const r=Or(this.options.pointLabels.callback,[i,s],this);return r||r===0?r:""}).filter((i,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?RRe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,s,r){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((s-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,s,r))}getIndexAngle(t){const i=Kr/(this._pointLabels.length||1),s=this.options.startAngle||0;return Jo(t*i+Bc(s))}getDistanceFromCenterForValue(t){if(As(t))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(As(t))return NaN;const i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){const i=this._pointLabels||[];if(t>=0&&t<i.length){const s=i[t];return HRe(this.getContext(),t,s)}}getPointPosition(t,i,s=0){const r=this.getIndexAngle(t)-Vn+s;return{x:Math.cos(r)*i+this.xCenter,y:Math.sin(r)*i+this.yCenter,angle:r}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:i,top:s,right:r,bottom:n}=this._pointLabelItems[t];return{left:i,top:s,right:r,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:i}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),iY(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,i=this.options,{angleLines:s,grid:r,border:n}=i,o=this._pointLabels.length;let a,l,c;if(i.pointLabels.display&&BRe(this,o),r.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),p=r.setContext(f),y=n.setContext(f);GRe(this,p,l,o,y)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,i=this.options,s=i.ticks;if(!s.display)return;const r=this.getIndexAngle(0);let n,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!i.reverse)return;const c=s.setContext(this.getContext(l)),u=mo(c.font);if(n=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=da(c.backdropPadding);t.fillRect(-o/2-h.left,-n-u.size/2-h.top,o+h.width,u.size+h.height)}Tg(t,a.label,0,-n,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}ti(yC,"id","radialLinear"),ti(yC,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:fA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),ti(yC,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ti(yC,"descriptors",{angleLines:{_fallback:"grid"}});const CA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ya=Object.keys(CA);function I$(e,t){return e-t}function N$(e,t){if(As(t))return null;const i=e._adapter,{parser:s,round:r,isoWeekday:n}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Tn(o)||(o=typeof s=="string"?i.parse(o,s):i.parse(o)),o===null?null:(r&&(o=r==="week"&&(h0(n)||n===!0)?i.startOf(o,"isoWeek",n):i.startOf(o,r)),+o)}function V$(e,t,i,s){const r=Ya.length;for(let n=Ya.indexOf(e);n<r-1;++n){const o=CA[Ya[n]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((i-t)/(a*o.size))<=s)return Ya[n]}return Ya[r-1]}function $Re(e,t,i,s,r){for(let n=Ya.length-1;n>=Ya.indexOf(i);n--){const o=Ya[n];if(CA[o].common&&e._adapter.diff(r,s,o)>=t-1)return o}return Ya[i?Ya.indexOf(i):0]}function WRe(e){for(let t=Ya.indexOf(e)+1,i=Ya.length;t<i;++t)if(CA[Ya[t]].common)return Ya[t]}function B$(e,t,i){if(!i)e[t]=!0;else if(i.length){const{lo:s,hi:r}=gI(i,t),n=i[s]>=t?i[s]:i[r];e[n]=!0}}function URe(e,t,i,s){const r=e._adapter,n=+r.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=n;a<=o;a=+r.add(a,1,s))l=i[a],l>=0&&(t[l].major=!0);return t}function G$(e,t,i){const s=[],r={},n=t.length;let o,a;for(o=0;o<n;++o)a=t[o],r[a]=o,s.push({value:a,major:!1});return n===0||!i?s:URe(e,s,r,i)}class jb extends cm{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const s=t.time||(t.time={}),r=this._adapter=new JAe._date(t.adapters.date);r.init(i),WC(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:N$(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,s=t.time.unit||"day";let{min:r,max:n,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(n=Math.max(n,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Tn(r)&&!isNaN(r)?r:+i.startOf(Date.now(),s),n=Tn(n)&&!isNaN(n)?n:+i.endOf(Date.now(),s)+1,this.min=Math.min(r,n-1),this.max=Math.max(r+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],s=t[t.length-1]),{min:i,max:s}}buildTicks(){const t=this.options,i=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const n=this.min,o=this.max,a=STe(r,n,o);return this._unit=i.unit||(s.autoSkip?V$(i.minUnit,this.min,this.max,this._getLabelCapacity(n)):$Re(this,a.length,i.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:WRe(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),G$(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,s=0,r,n;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?i=1-r:i=(this.getDecimalForValue(t[1])-r)/2,n=this.getDecimalForValue(t[t.length-1]),t.length===1?s=n:s=(n-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;i=xo(i,0,o),s=xo(s,0,o),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const t=this._adapter,i=this.min,s=this.max,r=this.options,n=r.time,o=n.unit||V$(n.minUnit,i,s,this._getLabelCapacity(i)),a=Zi(r.ticks.stepSize,1),l=o==="week"?n.isoWeekday:!1,c=h0(l)||l===!0,u={};let h=i,f,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(s,i,o)>1e5*a)throw new Error(i+" and "+s+" are too far apart with stepSize of "+a+" "+o);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+t.add(f,a,o),p++)B$(u,f,y);return(f===s||r.bounds==="ticks"||p===1)&&B$(u,f,y),Object.keys(u).sort(I$).map(v=>+v)}getLabelForValue(t){const i=this._adapter,s=this.options.time;return s.tooltipFormat?i.format(t,s.tooltipFormat):i.format(t,s.displayFormats.datetime)}format(t,i){const r=this.options.time.displayFormats,n=this._unit,o=i||r[n];return this._adapter.format(t,o)}_tickFormatFunction(t,i,s,r){const n=this.options,o=n.ticks.callback;if(o)return Or(o,[t,i,s],this);const a=n.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=s[i],p=c&&h&&f&&f.major;return this._adapter.format(t,r||(p?h:u))}generateTickLabels(t){let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],r.label=this._tickFormatFunction(r.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(t){const i=this._offsets,s=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,s=this.ctx.measureText(t).width,r=Bc(this.isHorizontal()?i.maxRotation:i.minRotation),n=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*n+a*o,h:s*o+a*n}}_getLabelCapacity(t){const i=this.options.time,s=i.displayFormats,r=s[i.unit]||s.millisecond,n=this._tickFormatFunction(t,0,G$(this,[t],this._majorUnit),r),o=this._getLabelSize(n),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],i,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,s=r.length;i<s;++i)t=t.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,s;if(t.length)return t;const r=this.getLabels();for(i=0,s=r.length;i<s;++i)t.push(N$(this,r[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return pK(t.sort(I$))}}ti(jb,"id","time"),ti(jb,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function m1(e,t,i){let s=0,r=e.length-1,n,o,a,l;i?(t>=e[s].pos&&t<=e[r].pos&&({lo:s,hi:r}=Nd(e,"pos",t)),{pos:n,time:a}=e[s],{pos:o,time:l}=e[r]):(t>=e[s].time&&t<=e[r].time&&({lo:s,hi:r}=Nd(e,"time",t)),{time:n,pos:a}=e[s],{time:o,pos:l}=e[r]);const c=o-n;return c?a+(l-a)*(t-n)/c:a}class oM extends jb{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=m1(i,this.min),this._tableRange=m1(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:s}=this,r=[],n=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=i&&c<=s&&r.push(c);if(r.length<2)return[{time:i,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&n.push({time:c,pos:o/(a-1)});return n}_generate(){const t=this.min,i=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(i)||s.length===1)&&s.push(i),s.sort((r,n)=>r-n)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),s=this.getLabelTimestamps();return i.length&&s.length?t=this.normalize(i.concat(s)):t=i.length?i:s,t=this._cache.all=t,t}getDecimalForValue(t){return(m1(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,s=this.getDecimalForPixel(t)/i.factor-i.end;return m1(this._table,s*this._tableRange+this._minPos,!0)}}ti(oM,"id","timeseries"),ti(oM,"defaults",jb.defaults);var zRe=Object.freeze({__proto__:null,CategoryScale:iM,LinearScale:sM,LogarithmicScale:rM,RadialLinearScale:yC,TimeScale:jb,TimeSeriesScale:oM});const cKe=[QAe,ADe,SRe,zRe],sY={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},jRe={ariaLabel:{type:String},ariaDescribedby:{type:String}},KRe={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...sY,...jRe},YRe=AT[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function nv(e){return Kg(e)?xs(e):e}function XRe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return Kg(t)?new Proxy(e,{}):e}function qRe(e,t){const i=e.options;i&&t&&Object.assign(i,t)}function rY(e,t){e.labels=t}function nY(e,t,i){const s=[];e.datasets=t.map(r=>{const n=e.datasets.find(o=>o[i]===r[i]);return!n||!r.data||s.includes(n)?{...r}:(s.push(n),Object.assign(n,r),n)})}function QRe(e,t){const i={labels:[],datasets:[]};return rY(i,e.labels),nY(i,e.datasets,t),i}const JRe=dt({props:KRe,setup(e,t){let{expose:i,slots:s}=t;const r=We(null),n=vi(null);i({chart:n});const o=()=>{if(!r.value)return;const{type:c,data:u,options:h,plugins:f,datasetIdKey:p}=e,y=QRe(u,p),v=XRe(y,u);n.value=new _I(r.value,{type:c,data:v,options:{...h},plugins:f})},a=()=>{const c=xs(n.value);c&&(e.destroyDelay>0?setTimeout(()=>{c.destroy(),n.value=null},e.destroyDelay):(c.destroy(),n.value=null))},l=c=>{c.update(e.updateMode)};return Ri(o),ed(a),Ot([()=>e.options,()=>e.data],(c,u)=>{let[h,f]=c,[p,y]=u;const v=xs(n.value);if(!v)return;let C=!1;if(h){const S=nv(h),_=nv(p);S&&S!==_&&(qRe(v,S),C=!0)}if(f){const S=nv(f.labels),_=nv(y.labels),x=nv(f.datasets),A=nv(y.datasets);S!==_&&(rY(v.config.data,S),C=!0),x&&x!==A&&(nY(v.config.data,x,e.datasetIdKey),C=!0)}C&&rs(()=>{l(v)})},{deep:!0}),()=>ji("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:r},[ji("p",{},[s.default?s.default():""])])}});function ZRe(e,t){return _I.register(t),dt({props:sY,setup(i,s){let{expose:r}=s;const n=vi(null),o=a=>{n.value=a==null?void 0:a.chart};return r({chart:n}),()=>ji(JRe,YRe({ref:o},{type:e,...i}))}})}const ePe=ZRe("bar",KC);var AI=Object.defineProperty,tPe=Object.defineProperties,iPe=Object.getOwnPropertyDescriptor,sPe=Object.getOwnPropertyDescriptors,p_=Object.getOwnPropertySymbols,oY=Object.prototype.hasOwnProperty,aY=Object.prototype.propertyIsEnumerable,H$=(e,t,i)=>t in e?AI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,gi=(e,t)=>{for(var i in t||(t={}))oY.call(t,i)&&H$(e,i,t[i]);if(p_)for(var i of p_(t))aY.call(t,i)&&H$(e,i,t[i]);return e},Vr=(e,t)=>tPe(e,sPe(t)),rPe=(e,t)=>{var i={};for(var s in e)oY.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&p_)for(var s of p_(e))t.indexOf(s)<0&&aY.call(e,s)&&(i[s]=e[s]);return i},ko=(e,t)=>{for(var i in t)AI(e,i,{get:t[i],enumerable:!0})},B=(e,t,i,s)=>{for(var r=s>1?void 0:s?iPe(t,i):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(r=(s?o(t,i,r):o(r))||r);return s&&r&&AI(t,i,r),r},Gc=(e,t)=>(i,s)=>t(i,s,e),lY={};ko(lY,{attrToBoolean:()=>g_,attrToNumber:()=>ff,attrToString:()=>nPe,defaultComparator:()=>oPe,exists:()=>Rt,jsonEquals:()=>aM,makeNull:()=>Bu,missing:()=>Fi,missingOrEmpty:()=>rc,toStringOrNull:()=>Kb,values:()=>sg});function Bu(e){return e==null||e===""?null:e}function Rt(e,t=!1){return e!=null&&(e!==""||t)}function Fi(e){return!Rt(e)}function rc(e){return e==null||e.length===0}function Kb(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function ff(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function g_(e){if(e!==void 0)return e===null||e===""?!1:typeof e=="boolean"?e:/true/i.test(e)}function nPe(e){if(!(e==null||e===""))return e}function aM(e,t){const i=e?JSON.stringify(e):null,s=t?JSON.stringify(t):null;return i===s}function oPe(e,t,i=!1){const s=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&r)return 0;if(s)return-1;if(r)return 1;function n(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!i)return n(e,t);try{return e.localeCompare(t)}catch{return n(e,t)}}function sg(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}var aPe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Kb(e);let i=0;for(;;){let s;if(e?(s=e,i!==0&&(s+="_"+i)):t?(s=t,i!==0&&(s+="_"+i)):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},cY={};ko(cY,{SKIP_JS_BUILTINS:()=>bA,cloneObject:()=>kI,deepCloneDefinition:()=>m_,getAllValuesInObject:()=>_f,getValueUsingField:()=>Vv,isNonNullObject:()=>v_,iterateObject:()=>sa,mergeDeep:()=>qa,removeAllReferences:()=>uY});var bA=new Set(["__proto__","constructor","prototype"]);function sa(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const[i,s]of Object.entries(e))t(i,s)}}function kI(e){const t={},i=Object.keys(e);for(let s=0;s<i.length;s++){if(bA.has(i[s]))continue;const r=i[s],n=e[r];t[r]=n}return t}function m_(e,t){if(!e)return;const i=e,s={};return Object.keys(i).forEach(r=>{if(t&&t.indexOf(r)>=0||bA.has(r))return;const n=i[r];v_(n)&&n.constructor===Object?s[r]=m_(n):s[r]=n}),s}function _f(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const i=[];for(const s in e)e.hasOwnProperty(s)&&e.propertyIsEnumerable(s)&&i.push(e[s]);return i}function qa(e,t,i=!0,s=!1){Rt(t)&&sa(t,(r,n)=>{if(bA.has(r))return;let o=e[r];o!==n&&(s&&o==null&&n!=null&&typeof n=="object"&&n.constructor===Object&&(o={},e[r]=o),v_(n)&&v_(o)&&!Array.isArray(o)?qa(o,n,i,s):(i||n!==void 0)&&(e[r]=n))})}function Vv(e,t,i){if(!t||!e)return;if(!i)return e[t];const s=t.split(".");let r=e;for(let n=0;n<s.length;n++){if(r==null)return;r=r[s[n]]}return r}function uY(e,t=[],i){Object.keys(e).forEach(o=>{typeof e[o]=="object"&&!t.includes(o)&&(e[o]=void 0)});const s=Object.getPrototypeOf(e),r={},n=o=>`AG Grid: Grid API function ${o}() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${i}`;Object.getOwnPropertyNames(s).forEach(o=>{if(typeof s[o]=="function"&&!t.includes(o)){const l=()=>{console.warn(n(o))};r[o]={value:l,writable:!0}}}),Object.defineProperties(e,r)}function v_(e){return typeof e=="object"&&e!==null}var dY={};ko(dY,{compose:()=>lPe,debounce:()=>Aa,doOnce:()=>g0,errorOnce:()=>Pu,executeAfter:()=>fY,executeInAWhile:()=>hY,executeNextVMTurn:()=>lM,getFunctionName:()=>wA,isFunction:()=>SA,noop:()=>cPe,throttle:()=>cM,waitUntil:()=>DI,warnOnce:()=>Si});var $$={};function g0(e,t){$$[t]||(e(),$$[t]=!0)}function Si(e){g0(()=>console.warn("AG Grid: "+e),e)}function Pu(e){g0(()=>console.error("AG Grid: "+e),e)}function wA(e){if(e.name)return e.name;const t=/function\s+([^\(]+)/.exec(e.toString());return t&&t.length===2?t[1].trim():null}function SA(e){return!!(e&&e.constructor&&e.call&&e.apply)}function hY(e){fY(e,400)}var RR=[],PR=!1;function lM(e){RR.push(e),!PR&&(PR=!0,window.setTimeout(()=>{const t=RR.slice();RR.length=0,PR=!1,t.forEach(i=>i())},0))}function fY(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}function Aa(e,t){let i;return function(...s){const r=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(r,s)},t)}}function cM(e,t){let i=0;return function(...s){const r=this,n=new Date().getTime();n-i<t||(i=n,e.apply(r,s))}}function DI(e,t,i=100,s){const r=new Date().getTime();let n=null,o=!1;const a=()=>{const l=new Date().getTime()-r>i;(e()||l)&&(t(),o=!0,n!=null&&(window.clearInterval(n),n=null),l&&s&&console.warn(s))};a(),o||(n=window.setInterval(a,10))}function lPe(...e){return t=>e.reduce((i,s)=>s(i),t)}var cPe=()=>{},pY=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(pY||{}),xA=class rr{static register(t){rr.__register(t,!0,void 0)}static registerModules(t){rr.__registerModules(t,!0,void 0)}static __register(t,i,s){rr.runVersionChecks(t),s!==void 0?(rr.areGridScopedModules=!0,rr.gridModulesMap[s]===void 0&&(rr.gridModulesMap[s]={}),rr.gridModulesMap[s][t.moduleName]=t):rr.globalModulesMap[t.moduleName]=t,rr.setModuleBased(i)}static __unRegisterGridModules(t){delete rr.gridModulesMap[t]}static __registerModules(t,i,s){rr.setModuleBased(i),t&&t.forEach(r=>rr.__register(r,i,s))}static isValidModuleVersion(t){const[i,s]=t.version.split(".")||[],[r,n]=rr.currentModuleVersion.split(".")||[];return i===r&&s===n}static runVersionChecks(t){if(rr.currentModuleVersion||(rr.currentModuleVersion=t.version),t.version?rr.isValidModuleVersion(t)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is version ${t.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is incompatible. Please update all modules to the same version.`),t.validate){const i=t.validate();i.isValid||console.error(`AG Grid: ${i.message}`)}}static setModuleBased(t){rr.moduleBased===void 0?rr.moduleBased=t:rr.moduleBased!==t&&g0(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){rr.isBundled=!0}static __assertRegistered(t,i,s){var r;if(this.__isRegistered(t,s))return!0;const n=i+t;let o;if(rr.isBundled)o=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(rr.moduleBased||rr.moduleBased===void 0){let a=(r=Object.entries(pY).find(([l,c])=>c===t))==null?void 0:r[0];o=`AG Grid: unable to use ${i} as the ${a} is not registered${rr.areGridScopedModules?` for gridId: ${s}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${a} } from '${t}';
    
    ModuleRegistry.registerModules([ ${a} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return g0(()=>{console.warn(o)},n),!1}static __isRegistered(t,i){var s;return!!rr.globalModulesMap[t]||!!((s=rr.gridModulesMap[i])!=null&&s[t])}static __getRegisteredModules(t){return[...sg(rr.globalModulesMap),...sg(rr.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){var i;return sg((i=rr.gridModulesMap[t])!=null?i:{})||[]}static __isPackageBased(){return!rr.moduleBased}};xA.globalModulesMap={};xA.gridModulesMap={};xA.areGridScopedModules=!1;var Zs=xA,uPe=class{constructor(e,t){if(this.beanWrappers={},this.destroyed=!1,!e||!e.beanClasses)return;this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return sg(this.beanWrappers).map(e=>e.beanInstance)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e}wireBeans(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),Rt(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),sa(this.beanWrappers,(t,i)=>{let s;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(s=i.bean.__agBeanMetaData.autowireMethods.agConstructor);const r=this.getBeansForParameters(s,i.bean.name),n=new(i.bean.bind.apply(i.bean,[null,...r]));i.beanInstance=n});const e=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${e}`)}createBeanWrapper(e){const t=e.__agBeanMetaData;if(!t){let s;e.prototype.constructor?s=wA(e.prototype.constructor):s=""+e,console.error(`Context item ${s} is not a bean`);return}const i={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=i}autoWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,s)=>{const r=i.agClassAttributes;r&&r.forEach(n=>{const o=this.lookupBeanInstance(s,n.beanName,n.optional);t[n.attributeName]=o})})})}methodWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,s)=>{sa(i.autowireMethods,(r,n)=>{if(r==="agConstructor")return;const o=this.getBeansForParameters(n,s);t[r].apply(t,o)})})})}forEachMetaDataInHierarchy(e,t){let i=Object.getPrototypeOf(e);for(;i!=null;){const s=i.constructor;if(s.hasOwnProperty("__agBeanMetaData")){const r=s.__agBeanMetaData,n=this.getBeanName(s);t(r,n)}i=Object.getPrototypeOf(i)}}getBeanName(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;const t=e.toString();return t.substring(9,t.indexOf("("))}getBeansForParameters(e,t){const i=[];return e&&sa(e,(s,r)=>{const n=this.lookupBeanInstance(t,r);i[Number(s)]=n}),i}lookupBeanInstance(e,t,i=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${t} is used after the grid is destroyed!`),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];const s=this.beanWrappers[t];return s?s.beanInstance:(i||console.error(`AG Grid: unable to find bean reference ${t} while initialising ${e}`),null)}callLifeCycleMethods(e,t){e.forEach(i=>this.callLifeCycleMethodsOnBean(i,t))}callLifeCycleMethodsOnBean(e,t,i){const s={};this.forEachMetaDataInHierarchy(e,n=>{const o=n[t];o&&o.forEach(a=>{a!=i&&(s[a]=!0)})}),Object.keys(s).forEach(n=>e[n]())}getBean(e){return this.lookupBeanInstance("getBean",e,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,Zs.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(e){e&&this.destroyBeans([e])}destroyBeans(e){return e?(e.forEach(t=>{this.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");const i=t;typeof i.destroy=="function"&&i.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}};function gY(e,t,i){const s=Ag(e.constructor);s.preConstructMethods||(s.preConstructMethods=[]),s.preConstructMethods.push(t)}function It(e,t,i){const s=Ag(e.constructor);s.postConstructMethods||(s.postConstructMethods=[]),s.postConstructMethods.push(t)}function Ma(e,t,i){const s=Ag(e.constructor);s.preDestroyMethods||(s.preDestroyMethods=[]),s.preDestroyMethods.push(t)}function ri(e){return t=>{const i=Ag(t);i.beanName=e}}function ce(e){return(t,i,s)=>{mY(t,e,!1,t,i)}}function ir(e){return(t,i,s)=>{mY(t,e,!0,t,i)}}function mY(e,t,i,s,r,n){if(t===null){console.error("AG Grid: Autowired name should not be null");return}const o=Ag(e.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:r,beanName:t,optional:i})}function oc(e){return(t,i,s)=>{const r=typeof t=="function"?t:t.constructor;let n;if(typeof s=="number"){let o;i?(n=Ag(r),o=i):(n=Ag(r),o="agConstructor"),n.autowireMethods||(n.autowireMethods={}),n.autowireMethods[o]||(n.autowireMethods[o]={}),n.autowireMethods[o][s]=e}}}function Ag(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var tu=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,i=null,s=null){if(this.frameworkOverrides=t,this.gos=e,i){const r=e.useAsyncEvents();this.addGlobalListener(i,r)}s&&this.addGlobalListener(s,!1)}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const s=t?this.allAsyncListeners:this.allSyncListeners;let r=s.get(e);return!r&&i&&(r=new Set,s.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const s=this.getListeners(e,i,!1);s&&(s.delete(t),s.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.gos&&this.gos.addGridCommonParams(t),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){var i;const s=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const r=(l,c)=>l.forEach(u=>{if(!c.has(u))return;const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);t?this.dispatchAsync(h):h()}),n=(i=this.getListeners(s,t,!1))!=null?i:new Set,o=new Set(n);o.size>0&&r(o,n),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(l=>{const c=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>l(s,e)):()=>l(s,e);t?this.dispatchAsync(c):c()})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};B([Gc(0,oc("gridOptionsService")),Gc(1,oc("frameworkOverrides")),Gc(2,oc("globalEventListener")),Gc(3,oc("globalSyncEventListener"))],tu.prototype,"setBeans",1);tu=B([ri("eventService")],tu);var RI=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,s)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,s))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){var t;return(t=this.wrappedListeners.get(e))!=null?t:e}unwrapGlobal(e){var t;return(t=this.wrappedGlobalListeners.get(e))!=null?t:e}},dPe={resizable:!0,sortable:!0},hPe=0;function vY(){return hPe++}var Wn=class yY{constructor(t,i,s,r){this.instanceId=vY(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new tu,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=i,this.colId=s,this.primary=r,this.setState(t)}getInstanceId(){return this.instanceId}setState(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);const i=t.sortIndex,s=t.initialSortIndex;i!==void 0?i!==null&&(this.sortIndex=i):s!==null&&(this.sortIndex=s);const r=t.hide,n=t.initialHide;r!==void 0?this.visible=!r:this.visible=!n,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);const o=t.flex,a=t.initialFlex;o!==void 0?this.flex=o:a!==void 0&&(this.flex=a)}setColDef(t,i,s){this.colDef=t,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",s))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const t=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=Rt(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=Rt(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){var t,i;const s=this.colDef;this.minWidth=(t=s.minWidth)!=null?t:this.environment.getMinColWidth(),this.maxWidth=(i=s.maxWidth)!=null?i:Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=Rt(this.colDef.tooltipField)||Rt(this.colDef.tooltipValueGetter)||Rt(this.colDef.tooltipComponent)}resetActualWidth(t){const i=this.calculateColInitialWidth(this.colDef);this.setActualWidth(i,t,!0)}calculateColInitialWidth(t){var i,s;const r=(i=t.minWidth)!=null?i:this.environment.getMinColWidth(),n=(s=t.maxWidth)!=null?s:Number.MAX_SAFE_INTEGER;let o;const a=ff(t.width),l=ff(t.initialWidth);return a!=null?o=a:l!=null?o=l:o=200,Math.max(Math.min(o,n),r)}isEmptyGroup(){return!1}isRowGroupDisplayed(t){if(Fi(this.colDef)||Fi(this.colDef.showRowGroup))return!1;const i=this.colDef.showRowGroup===!0,s=this.colDef.showRowGroup===t;return i||s}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(t,i){var s,r;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new RI(this.frameworkOverrides));const n=(r=(s=this.frameworkEventListenerService)==null?void 0:s.wrap(i))!=null?r:i;this.eventService.addEventListener(t,n)}removeEventListener(t,i){var s,r;const n=(r=(s=this.frameworkEventListenerService)==null?void 0:s.unwrap(i))!=null?r:i;this.eventService.removeEventListener(t,n)}createColumnFunctionCallbackParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})}isSuppressNavigable(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const i=this.createColumnFunctionCallbackParams(t),s=this.colDef.suppressNavigable;return s(i)}return!1}isCellEditable(t){return t.group&&!this.gos.get("enableGroupEdit")?!1:this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(t){var i;return(i=this.colDef[t])!=null?i:dPe[t]}isColumnFunc(t,i){if(typeof i=="boolean")return i;if(typeof i=="function"){const s=this.createColumnFunctionCallbackParams(t);return i(s)}return!1}setMoving(t,i){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(t,i){return this.gos.addGridCommonParams({type:t,column:this,columns:[this],source:i})}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,i){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(t,i){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Fi(this.sort)}isSorting(){return Rt(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,i){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(t,i,s){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));const r=this.createColumnEvent("filterChanged",i);s&&qa(r,s),this.eventService.dispatchEvent(r)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(t,i){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(t,i){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(t,i){const s=t===!0;this.visible!==s&&(this.visible=s,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight}getColumnGroupPaddingInfo(){let t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const i=t.getPaddingLevel()+1;let s=!0;for(;t;){if(!t.isPadding()){s=!1;break}t=t.getParent()}return{numberOfParents:i,isSpanningTotal:s}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const i=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,i}createBaseColDefParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this})}getColSpan(t){if(Fi(this.colDef.colSpan))return 1;const i=this.createBaseColDefParams(t),s=this.colDef.colSpan(i);return Math.max(s,1)}getRowSpan(t){if(Fi(this.colDef.rowSpan))return 1;const i=this.createBaseColDefParams(t),s=this.colDef.rowSpan(i);return Math.max(s,1)}setActualWidth(t,i,s=!1){this.minWidth!=null&&(t=Math.max(t,this.minWidth)),this.maxWidth!=null&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&i!=="flex"&&i!=="gridInitializing"&&(this.flex=null),s||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return this.maxWidth!=null?t>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")}setMinimum(t){Rt(this.minWidth)&&this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,i){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,i){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,i){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(t){Si("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let i=this.getColDef().menuTabs;return i==null&&(i=t),i}dispatchStateUpdatedEvent(t){this.eventService.dispatchEvent({type:yY.EVENT_STATE_UPDATED,key:t})}};Wn.EVENT_MOVING_CHANGED="movingChanged";Wn.EVENT_LEFT_CHANGED="leftChanged";Wn.EVENT_WIDTH_CHANGED="widthChanged";Wn.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";Wn.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";Wn.EVENT_VISIBLE_CHANGED="visibleChanged";Wn.EVENT_FILTER_CHANGED="filterChanged";Wn.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";Wn.EVENT_SORT_CHANGED="sortChanged";Wn.EVENT_COL_DEF_CHANGED="colDefChanged";Wn.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";Wn.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";Wn.EVENT_PIVOT_CHANGED="columnPivotChanged";Wn.EVENT_VALUE_CHANGED="columnValueChanged";Wn.EVENT_STATE_UPDATED="columnStateUpdated";B([ce("gridOptionsService")],Wn.prototype,"gos",2);B([ce("environment")],Wn.prototype,"environment",2);B([ce("columnHoverService")],Wn.prototype,"columnHoverService",2);B([ce("frameworkOverrides")],Wn.prototype,"frameworkOverrides",2);B([It],Wn.prototype,"initialise",1);var gr=Wn,EA=class CC{constructor(t,i,s,r){this.localEventService=new tu,this.expandable=!1,this.instanceId=vY(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=i,this.expanded=!!t&&!!t.openByDefault,this.padding=s,this.level=r}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(t,i){this.colGroupDef=t,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(t=>t.isVisible()):!1}isPadding(){return this.padding}setExpanded(t){this.expanded=t===void 0?!1:t;const i={type:CC.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(i)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}addLeafColumns(t){this.children&&this.children.forEach(i=>{i instanceof gr?t.push(i):i instanceof CC&&i.addLeafColumns(t)})}getColumnGroupShow(){const t=this.colGroupDef;if(t)return t.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,i=!1,s=!1;const r=this.findChildrenRemovingPadding();for(let o=0,a=r.length;o<a;o++){const l=r[o];if(!l.isVisible())continue;const c=l.getColumnGroupShow();c==="open"?(t=!0,s=!0):c==="closed"?(i=!0,s=!0):(t=!0,i=!0)}const n=t&&i&&s;if(this.expandable!==n){this.expandable=n;const o={type:CC.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(o)}}findChildrenRemovingPadding(){const t=[],i=s=>{s.forEach(r=>{r instanceof CC&&r.isPadding()?i(r.children):t.push(r)})};return i(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(t,i){this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService.removeEventListener(t,i)}};EA.EVENT_EXPANDED_CHANGED="expandedChanged";EA.EVENT_EXPANDABLE_CHANGED="expandableChanged";B([Ma],EA.prototype,"destroy",1);var On=EA,fPe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},CY={};ko(CY,{addSafePassiveEventListener:()=>DY,createEventPath:()=>AY,getCtrlForEventTarget:()=>y_,getEventPath:()=>kY,isElementInEventPath:()=>C_,isEventSupported:()=>FI,isStopPropagationForAgGrid:()=>Yc,stopPropagationForAgGrid:()=>iu});var bY={};ko(bY,{areEqual:()=>Fu,existsAndNotEmpty:()=>wY,flatten:()=>_Y,forEachReverse:()=>vPe,includes:()=>Dl,insertArrayIntoArray:()=>uM,insertIntoArray:()=>Yb,last:()=>Os,moveInArray:()=>dM,pushAll:()=>hM,removeAllFromArray:()=>EY,removeAllFromUnorderedArray:()=>xY,removeFromArray:()=>za,removeFromUnorderedArray:()=>PI,removeRepeatsFromArray:()=>gPe,shallowCompare:()=>pPe,sortNumerically:()=>SY,toStrings:()=>mPe});function wY(e){return e!=null&&e.length>0}function Os(e){if(!(!e||!e.length))return e[e.length-1]}function Fu(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((s,r)=>i?i(s,t[r]):t[r]===s)}function pPe(e,t){return Fu(e,t)}function SY(e){return e.sort((t,i)=>t-i)}function gPe(e,t){if(e)for(let i=e.length-2;i>=0;i--){const s=e[i]===t,r=e[i+1]===t;s&&r&&e.splice(i+1,1)}}function PI(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function za(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function xY(e,t){for(let i=0;i<t.length;i++)PI(e,t[i])}function EY(e,t){for(let i=0;i<t.length;i++)za(e,t[i])}function Yb(e,t,i){e.splice(i,0,t)}function uM(e,t,i){if(!(e==null||t==null))for(let s=t.length-1;s>=0;s--){const r=t[s];Yb(e,r,i)}}function dM(e,t,i){EY(e,t),t.slice().reverse().forEach(s=>Yb(e,s,i))}function Dl(e,t){return e.indexOf(t)>-1}function _Y(e){return[].concat.apply([],e)}function hM(e,t){t==null||e==null||t.forEach(i=>e.push(i))}function mPe(e){return e.map(Kb)}function vPe(e,t){if(e!=null)for(let i=e.length-1;i>=0;i--)t(e[i],i)}var TY="__ag_Grid_Stop_Propagation",yPe=["touchstart","touchend","touchmove","touchcancel","scroll"],FR={};function iu(e){e[TY]=!0}function Yc(e){return e[TY]===!0}var FI=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof FR[i]=="boolean")return FR[i];const s=document.createElement(e[i]||"div");return i="on"+i,FR[i]=i in s}})();function y_(e,t,i){let s=t;for(;s;){const r=e.getDomData(s,i);if(r)return r;s=s.parentElement}return null}function C_(e,t){return!t||!e?!1:kY(t).indexOf(e)>=0}function AY(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function kY(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():AY(t)}function DY(e,t,i,s){const n=Dl(yPe,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,s,n)}var ah=class RY{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){for(let t=0;t<this.destroyFunctions.length;t++)this.destroyFunctions[t]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:RY.EVENT_DESTROYED})}addEventListener(t,i){this.localEventService||(this.localEventService=new tu),this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService&&this.localEventService.removeEventListener(t,i)}dispatchEvent(t){this.localEventService&&this.localEventService.dispatchEvent(t)}addManagedListener(t,i,s){if(this.destroyed)return;t instanceof HTMLElement?DY(this.getFrameworkOverrides(),t,i,s):t.addEventListener(i,s);const r=()=>(t.removeEventListener(i,s),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null)}setupGridOptionListener(t,i){this.gos.addEventListener(t,i);const s=()=>(this.gos.removeEventListener(t,i),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==s),null)}addManagedPropertyListener(t,i){return this.destroyed?()=>null:this.setupGridOptionListener(t,i)}addManagedPropertyListeners(t,i){if(this.destroyed)return;const s=t.join("-")+this.propertyListenerId++,r=n=>{if(n.changeSet){if(n.changeSet&&n.changeSet.id===this.lastChangeSetIdLookup[s])return;this.lastChangeSetIdLookup[s]=n.changeSet.id}const o={type:"gridPropertyChanged",changeSet:n.changeSet,source:n.source};i(o)};t.forEach(n=>this.setupGridOptionListener(n,r))}addDestroyFunc(t){this.isAlive()?this.destroyFunctions.push(t):t()}createManagedBean(t,i){const s=this.createBean(t,i);return this.addDestroyFunc(this.destroyBean.bind(this,t,i)),s}createBean(t,i,s){return(i||this.getContext()).createBean(t,s)}destroyBean(t,i){return(i||this.getContext()).destroyBean(t)}destroyBeans(t,i){if(t)for(let s=0;s<t.length;s++)this.destroyBean(t[s],i);return[]}};ah.EVENT_DESTROYED="destroyed";B([ce("frameworkOverrides")],ah.prototype,"frameworkOverrides",2);B([ce("context")],ah.prototype,"context",2);B([ce("eventService")],ah.prototype,"eventService",2);B([ce("gridOptionsService")],ah.prototype,"gos",2);B([ce("localeService")],ah.prototype,"localeService",2);B([ce("environment")],ah.prototype,"environment",2);B([Ma],ah.prototype,"destroy",1);var Lt=ah,Xb=class extends Lt{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,i,s){const r=new aPe,{existingCols:n,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);r.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,n,r,o,s),c=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+c);const u=this.balanceColumnTree(l,0,c,r);return kd(null,u,(f,p)=>{f instanceof On&&f.setupExpandable(),f.setOriginalParent(p)}),{columnTree:u,treeDept:c}}extractExistingTreeData(e){const t=[],i=[],s=[];return e&&kd(null,e,r=>{if(r instanceof On){const n=r;i.push(n)}else{const n=r;s.push(n.getId()),t.push(n)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}createForAutoGroups(e,t){return e.map(i=>this.createAutoGroupTreeItem(t,i))}createAutoGroupTreeItem(e,t){const i=this.findDepth(e);let s=t;for(let r=i-1;r>=0;r--){const n=new On(null,`FAKE_PATH_${t.getId()}}_${r}`,!0,r);this.createBean(n),n.setChildren([s]),s.setOriginalParent(n),s=n}return i===0&&t.setOriginalParent(null),s}findDepth(e){let t=0,i=e;for(;i&&i[0]&&i[0]instanceof On;)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,s){const r=[];for(let n=0;n<e.length;n++){const o=e[n];if(o instanceof On){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,i,s);a.setChildren(l),r.push(a)}else{let a,l;for(let c=i-1;c>=t;c--){const u=s.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new On(h,u,!0,t);this.createBean(f),l&&l.setChildren([f]),l=f,a||(a=l)}if(a&&l)if(r.push(a),e.some(u=>u instanceof On)){l.setChildren([o]);continue}else{l.setChildren(e);break}r.push(o)}}return r}findMaxDept(e,t){let i=t;for(let s=0;s<e.length;s++){const r=e[s];if(r instanceof On){const n=r,o=this.findMaxDept(n.getChildren(),t+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(e,t,i,s,r,n,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const c=e[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(i,c,t,s,r,n,o):a[l]=this.createColumn(i,c,s,r,o)}return a}createColumnGroup(e,t,i,s,r,n,o){const a=this.createMergedColGroupDef(t),l=r.getUniqueKey(a.groupId||null,null),c=new On(a,l,!1,i);this.createBean(c);const u=this.findExistingGroup(t,n);u&&n.splice(u.idx,1);let h=u==null?void 0:u.group;h&&c.setExpanded(h.isExpanded());const f=this.recursivelyCreateColumns(a.children,i+1,e,s,r,n,o);return c.setChildren(f),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,s,r){const n=this.findExistingColumn(t,i);n&&(i==null||i.splice(n.idx,1));let o=n==null?void 0:n.column;if(o){const a=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(a,t,r),this.applyColumnState(o,a,r)}else{const a=s.getUniqueKey(t.colId,t.field),l=this.addColumnDefaultAndTypes(t,a);o=new gr(l,t,a,e),this.context.createBean(o)}return this.dataTypeService.addColumnListeners(o),o}applyColumnState(e,t,i){const s=ff(t.flex);if(s!==void 0&&e.setFlex(s),e.getFlex()<=0){const a=ff(t.width);if(a!=null)e.setActualWidth(a,i);else{const l=e.getActualWidth();e.setActualWidth(l,i)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,i):e.setSort(void 0,i));const n=ff(t.sortIndex);n!==void 0&&e.setSortIndex(n);const o=g_(t.hide);o!==void 0&&e.setVisible(!o,i),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const s=t[i].getUserProvidedColDef();if(!s)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(s.field===e.field)return{idx:i,column:t[i]};continue}if(s===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let s=0;s<t.length;s++){const r=t[s];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:s,group:r}}}addColumnDefaultAndTypes(e,t){const i={},s=this.gos.get("defaultColDef");qa(i,s,!1,!0);const r=this.dataTypeService.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),qa(i,e,!1,!0);const n=this.gos.get("autoGroupColumnDef"),o=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&n&&o&&qa(i,{sort:n.sort,initialSort:n.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},fPe),s=this.gos.get("columnTypes")||{};sa(s,(r,n)=>{r in i?console.warn(`AG Grid: the column type '${r}' is a default column type and cannot be overridden.`):(n.type&&Si("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[r]=n)}),e.forEach(r=>{const n=i[r.trim()];n?qa(t,n,!1,!0):console.warn("AG Grid: colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};B([ce("dataTypeService")],Xb.prototype,"dataTypeService",2);B([Gc(0,oc("loggerFactory"))],Xb.prototype,"setBeans",1);Xb=B([ri("columnFactory")],Xb);function kd(e,t,i){if(t)for(let s=0;s<t.length;s++){const r=t[s];r instanceof On&&kd(r,r.getChildren(),i),i(r,e)}}var _A=class Cu{constructor(t,i,s,r){this.displayedChildren=[],this.localEventService=new tu,this.groupId=i,this.partId=s,this.providedColumnGroup=t,this.pinned=r}static createUniqueId(t,i){return t+"_"+i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return Cu.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{t instanceof Cu&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const i=Os(this.displayedChildren).getLeft();this.setLeft(i)}else{const t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(Cu.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(t){return{type:t}}addEventListener(t,i){this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService.removeEventListener(t,i)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(t){let i=!1;return this.children.forEach(s=>{t===s&&(i=!0),s instanceof Cu&&s.isChildInThisGroupDeepSearch(t)&&(i=!0)}),i}getActualWidth(){let t=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{t+=i.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let t=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(t=!0)}),t}getMinWidth(){let t=0;return this.displayedChildren.forEach(i=>{t+=i.getMinWidth()||0}),t}addChild(t){this.children||(this.children=[]),this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}getDisplayedLeafColumns(){const t=[];return this.addDisplayedLeafColumns(t),t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}addDisplayedLeafColumns(t){this.displayedChildren.forEach(i=>{i instanceof gr?t.push(i):i instanceof Cu&&i.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(i=>{i instanceof gr?t.push(i):i instanceof Cu&&i.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;t!=null&&t.isPadding();)t=t.getParent();if(!(t?t.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(Cu.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(s=>{if(s instanceof Cu&&(!s.displayedChildren||!s.displayedChildren.length))return;switch(s.getColumnGroupShow()){case"open":t.providedColumnGroup.isExpanded()&&this.displayedChildren.push(s);break;case"closed":t.providedColumnGroup.isExpanded()||this.displayedChildren.push(s);break;default:this.displayedChildren.push(s);break}}),this.localEventService.dispatchEvent(this.createAgEvent(Cu.EVENT_DISPLAYED_CHILDREN_CHANGED))}};_A.EVENT_LEFT_CHANGED="leftChanged";_A.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";B([ce("gridOptionsService")],_A.prototype,"gos",2);var ho=_A,X=class{};X.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";X.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";X.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";X.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded";X.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";X.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";X.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";X.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";X.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";X.EVENT_COLUMN_MOVED="columnMoved";X.EVENT_COLUMN_VISIBLE="columnVisible";X.EVENT_COLUMN_PINNED="columnPinned";X.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";X.EVENT_COLUMN_RESIZED="columnResized";X.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";X.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns";X.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide";X.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation";X.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";X.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver";X.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave";X.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked";X.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu";X.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";X.EVENT_ROW_GROUP_OPENED="rowGroupOpened";X.EVENT_ROW_DATA_UPDATED="rowDataUpdated";X.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";X.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";X.EVENT_CHART_CREATED="chartCreated";X.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";X.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";X.EVENT_CHART_DESTROYED="chartDestroyed";X.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";X.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";X.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";X.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";X.EVENT_MODEL_UPDATED="modelUpdated";X.EVENT_CUT_START="cutStart";X.EVENT_CUT_END="cutEnd";X.EVENT_PASTE_START="pasteStart";X.EVENT_PASTE_END="pasteEnd";X.EVENT_FILL_START="fillStart";X.EVENT_FILL_END="fillEnd";X.EVENT_RANGE_DELETE_START="rangeDeleteStart";X.EVENT_RANGE_DELETE_END="rangeDeleteEnd";X.EVENT_UNDO_STARTED="undoStarted";X.EVENT_UNDO_ENDED="undoEnded";X.EVENT_REDO_STARTED="redoStarted";X.EVENT_REDO_ENDED="redoEnded";X.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";X.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";X.EVENT_CELL_CLICKED="cellClicked";X.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";X.EVENT_CELL_MOUSE_DOWN="cellMouseDown";X.EVENT_CELL_CONTEXT_MENU="cellContextMenu";X.EVENT_CELL_VALUE_CHANGED="cellValueChanged";X.EVENT_CELL_EDIT_REQUEST="cellEditRequest";X.EVENT_ROW_VALUE_CHANGED="rowValueChanged";X.EVENT_CELL_FOCUSED="cellFocused";X.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";X.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";X.EVENT_ROW_SELECTED="rowSelected";X.EVENT_SELECTION_CHANGED="selectionChanged";X.EVENT_TOOLTIP_SHOW="tooltipShow";X.EVENT_TOOLTIP_HIDE="tooltipHide";X.EVENT_CELL_KEY_DOWN="cellKeyDown";X.EVENT_CELL_MOUSE_OVER="cellMouseOver";X.EVENT_CELL_MOUSE_OUT="cellMouseOut";X.EVENT_FILTER_CHANGED="filterChanged";X.EVENT_FILTER_MODIFIED="filterModified";X.EVENT_FILTER_OPENED="filterOpened";X.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged";X.EVENT_SORT_CHANGED="sortChanged";X.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";X.EVENT_ROW_CLICKED="rowClicked";X.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";X.EVENT_GRID_READY="gridReady";X.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed";X.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";X.EVENT_VIEWPORT_CHANGED="viewportChanged";X.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";X.EVENT_FIRST_DATA_RENDERED="firstDataRendered";X.EVENT_DRAG_STARTED="dragStarted";X.EVENT_DRAG_STOPPED="dragStopped";X.EVENT_CHECKBOX_CHANGED="checkboxChanged";X.EVENT_ROW_EDITING_STARTED="rowEditingStarted";X.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";X.EVENT_CELL_EDITING_STARTED="cellEditingStarted";X.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";X.EVENT_BODY_SCROLL="bodyScroll";X.EVENT_BODY_SCROLL_END="bodyScrollEnd";X.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";X.EVENT_PAGINATION_CHANGED="paginationChanged";X.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";X.EVENT_STORE_REFRESHED="storeRefreshed";X.EVENT_STATE_UPDATED="stateUpdated";X.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged";X.EVENT_CONTEXT_MENU_VISIBLE_CHANGED="contextMenuVisibleChanged";X.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";X.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged";X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";X.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";X.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";X.EVENT_FLASH_CELLS="flashCells";X.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";X.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";X.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";X.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";X.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";X.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";X.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";X.EVENT_ROW_DRAG_ENTER="rowDragEnter";X.EVENT_ROW_DRAG_MOVE="rowDragMove";X.EVENT_ROW_DRAG_LEAVE="rowDragLeave";X.EVENT_ROW_DRAG_END="rowDragEnd";X.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";X.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";X.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";X.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";X.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";X.EVENT_STORE_UPDATED="storeUpdated";X.EVENT_FILTER_DESTROYED="filterDestroyed";X.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";X.EVENT_ROW_COUNT_READY="rowCountReady";X.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged";X.EVENT_DATA_TYPES_INFERRED="dataTypesInferred";X.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged";X.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";X.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var XC=new Set([X.EVENT_GRID_PRE_DESTROYED,X.EVENT_FILL_START]),PY=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},m0="ag-Grid-AutoColumn",qb=class extends Lt{createAutoGroupColumns(e){const t=[],i=this.gos.get("treeData");let s=this.gos.isGroupMultiAutoColumn();return i&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?e.forEach((r,n)=>{t.push(this.createOneAutoGroupColumn(r,n))}):t.push(this.createOneAutoGroupColumn()),t}updateAutoGroupColumns(e,t){e.forEach((i,s)=>this.updateOneAutoGroupColumn(i,s,t))}createOneAutoGroupColumn(e,t){let i;e?i=`${m0}-${e.getId()}`:i=m0;const s=this.createAutoGroupColDef(i,e,t);s.colId=i;const r=new gr(s,null,i,!0);return this.context.createBean(r),r}updateOneAutoGroupColumn(e,t,i){const s=e.getColDef(),r=typeof s.showRowGroup=="string"?s.showRowGroup:void 0,n=r!=null?this.columnModel.getPrimaryColumn(r):void 0,o=this.createAutoGroupColDef(e.getId(),n??void 0,t);e.setColDef(o,null,i),this.columnFactory.applyColumnState(e,o,i)}createAutoGroupColDef(e,t,i){let s=this.createBaseColDef(t);const r=this.gos.get("autoGroupColumnDef");qa(s,r),s=this.columnFactory.addColumnDefaultAndTypes(s,e),this.gos.get("treeData")||Fi(s.field)&&Fi(s.valueGetter)&&Fi(s.filterValueGetter)&&s.filter!=="agGroupColumnFilter"&&(s.filter=!1),i&&i>0&&(s.headerCheckboxSelection=!1);const n=this.gos.isColumnsSortingCoupledToGroup(),o=s.valueGetter||s.field!=null;return n&&!o&&(s.sortIndex=void 0,s.initialSort=void 0),s}createBaseColDef(e){const t=this.gos.get("autoGroupColumnDef"),s={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(s.cellRenderer="agGroupCellRenderer"),e){const n=e.getColDef();Object.assign(s,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:n.headerValueGetter}),n.cellRenderer&&Object.assign(s,{cellRendererParams:{innerRenderer:n.cellRenderer,innerRendererParams:n.cellRendererParams}}),s.showRowGroup=e.getColId()}else s.showRowGroup=!0;return s}};B([ce("columnModel")],qb.prototype,"columnModel",2);B([ce("columnFactory")],qb.prototype,"columnFactory",2);qb=B([ri("autoGroupColService")],qb);var FY={};ko(FY,{camelCaseToHumanText:()=>MY,camelCaseToHyphenated:()=>LY,capitalise:()=>SPe,escapeString:()=>Bn,utf8_encode:()=>wPe});var CPe=/[&<>"']/g,bPe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wPe(e){const t=String.fromCharCode;function i(h){const f=[];if(!h)return[];const p=h.length;let y=0,v,C;for(;y<p;)v=h.charCodeAt(y++),v>=55296&&v<=56319&&y<p?(C=h.charCodeAt(y++),(C&64512)==56320?f.push(((v&1023)<<10)+(C&1023)+65536):(f.push(v),y--)):f.push(v);return f}function s(h){if(h>=55296&&h<=57343)throw Error("Lone surrogate U+"+h.toString(16).toUpperCase()+" is not a scalar value")}function r(h,f){return t(h>>f&63|128)}function n(h){if(h>=0&&h<=31&&h!==10)return`_x${h.toString(16).toUpperCase().padStart(4,"0")}_`;if((h&4294967168)==0)return t(h);let f="";return(h&4294965248)==0?f=t(h>>6&31|192):(h&4294901760)==0?(s(h),f=t(h>>12&15|224),f+=r(h,6)):(h&4292870144)==0&&(f=t(h>>18&7|240),f+=r(h,12),f+=r(h,6)),f+=t(h&63|128),f}const o=i(e),a=o.length;let l=-1,c,u="";for(;++l<a;)c=o[l],u+=n(c);return u}function SPe(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function Bn(e,t){if(e==null)return null;const i=e.toString().toString();return t?i:i.replace(CPe,s=>bPe[s])}function MY(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}function LY(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var OY={};ko(OY,{convertToMap:()=>Jh,keys:()=>EPe,mapById:()=>xPe});function Jh(e){const t=new Map;return e.forEach(i=>t.set(i[0],i[1])),t}function xPe(e,t){const i=new Map;return e.forEach(s=>i.set(t(s),s)),i}function EPe(e){const t=[];return e.forEach((i,s)=>t.push(s)),t}var To=class extends Lt{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation");const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.buildAutoGroupColumns(Tv(t.source))),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Tv(t.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],t=>this.onSharedColDefChanged(Tv(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),Tv(t.source))),this.addManagedListener(this.eventService,X.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))}onAutoGroupColumnDefChanged(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)}onSharedColDefChanged(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))}setColumnDefs(e,t){const i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,t)}recreateColumnDefs(e){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const i={};if(!e)return;kd(null,e,r=>{i[r.getInstanceId()]=r}),t&&kd(null,t,r=>{i[r.getInstanceId()]=null});const s=Object.values(i).filter(r=>r!=null);this.destroyBeans(s)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t){const i=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const s=this.primaryColumns,r=this.primaryColumnTree,n=this.columnFactory.createColumnTree(this.columnDefs,!0,r,t);this.destroyOldColumns(this.primaryColumnTree,n.columnTree),this.primaryColumnTree=n.columnTree,this.primaryHeaderRowCount=n.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(l=>this.primaryColumnsMap[l.getId()]=l),this.extractRowGroupColumns(t,s),this.extractPivotColumns(t,s),this.extractValueColumns(t,s),this.ready=!0;const o=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||o||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gos.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),this.changeEventsDispatching=!0,i&&i(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(t)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(e){const t={type:X.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(t),e==="gridInitializing"&&this.onColumnsReady()}dispatchEverythingChanged(e){const t={type:X.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)}orderGridColumnsLikePrimary(){const e=this.primaryColumns;if(!e)return;const t=e.filter(s=>this.gridColumns.indexOf(s)>=0),i=this.gridColumns.filter(s=>t.indexOf(s)<0);this.gridColumns=[...i,...t],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gos.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}checkViewportColumns(e=!1){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const i={type:X.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(i)}setViewportPosition(e,t,i=!1){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(Si("Pivot mode not available with treeData."),!1):!0}setPivotMode(e,t){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,!this.gridColumns))return;this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);const i={type:X.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}getSecondaryPivotColumn(e,t){if(Fi(this.secondaryColumns))return null;const i=this.getPrimaryColumn(t);let s=null;return this.secondaryColumns.forEach(r=>{const n=r.getColDef().pivotKeys,o=r.getColDef().pivotValueColumn;Fu(n,e)&&o===i&&(s=r)}),s}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?Os(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?Os(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(s=>{s.setLastLeftPinned(s===t,e),s.setFirstRightPinned(s===i,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));return}const{columns:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:r,source:n="api"}=e;this.animationFrameService.flushAllFrames();const o=[];let a=-1;const l=i??this.gos.get("skipHeaderOnAutoSize"),c=s??l;for(;a!==0;)a=0,this.actionOnGridColumns(t,u=>{if(o.indexOf(u)>=0)return!1;const h=this.autoWidthCalculator.getPreferredWidthForColumn(u,l);if(h>0){const f=this.normaliseColumnWidth(u,h);u.setActualWidth(f,n),o.push(u),a++}return!0},n);c||this.autoSizeColumnGroupsByColumns(t,n,r),this.dispatchColumnResizedEvent(o,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,i,s=null){if(e&&e.length){const r={type:X.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:s,finished:t,source:i};this.eventService.dispatchEvent(r)}}dispatchColumnChangedEvent(e,t,i){const s={type:e,columns:t,column:t&&t.length==1?t[0]:null,source:i};this.eventService.dispatchEvent(s)}dispatchColumnMovedEvent(e){const{movedColumns:t,source:i,toIndex:s,finished:r}=e,n={type:X.EVENT_COLUMN_MOVED,columns:t,column:t&&t.length===1?t[0]:null,toIndex:s,finished:r,source:i};this.eventService.dispatchEvent(n)}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,s=this.getCommonValue(e,n=>n.getPinned()),r={type:X.EVENT_COLUMN_PINNED,pinned:s??null,columns:e,column:i,source:t};this.eventService.dispatchEvent(r)}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,s=this.getCommonValue(e,n=>n.isVisible()),r={type:X.EVENT_COLUMN_VISIBLE,visible:s,columns:e,column:i,source:t};this.eventService.dispatchEvent(r)}autoSizeColumn(e,t,i){e&&this.autoSizeColumns({columns:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const s=new Set;this.getGridColumns(e).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||s.add(l),l=l.getParent()});let n;const o=[];for(const a of s){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(n=l.getHeaderCtrlForColumn(a),n)break;n&&n.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,t));return}const i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:t,source:e})}getColumnsFromTree(e){const t=[],i=s=>{for(let r=0;r<s.length;r++){const n=s[r];n instanceof gr?t.push(n):n instanceof On&&i(n.getChildren())}};return i(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,i,s){const r=[];let n=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),u=[a];if(c>1){const f=c-1;for(let p=1;p<=f;p++)u.push(t[o+p]);o+=f}let h;i?(h=!1,u.forEach(f=>{i(f)&&(h=!0)})):h=!0,h&&(r.length===0&&n&&(s&&s(a))&&r.push(n),r.push(a)),n=a}return r}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const t=s=>{const r=s.getLeft();return Rt(r)&&r>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,i,t)}isColumnAtEdge(e,t){const i=this.getAllDisplayedColumns();if(!i.length)return!1;const s=t==="first";let r;if(e instanceof ho){const n=e.getDisplayedLeafColumns();if(!n.length)return!1;r=s?n[0]:Os(n)}else r=e;return(s?i[0]:Os(i))===r}getAriaColumnIndex(e){let t;return e instanceof ho?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,r=this.viewportRight+200,n=t<s&&i<s,o=t>r&&i>r;return!n&&!o}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,i,s,r,n){if(!e||rc(e))return;let o=!1;if(e.forEach(l=>{if(!l)return;const c=this.getPrimaryColumn(l);if(c){if(i){if(t.indexOf(c)>=0)return;t.push(c)}else{if(t.indexOf(c)<0)return;za(t,c)}s(c),o=!0}}),!o)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(n);const a={type:r,columns:t,column:t.length===1?t[0]:null,source:n};this.eventService.dispatchEvent(a)}setRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,X.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([t],!0,i))}addRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),X.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),X.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}addPivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!0,i=>i.setPivotActive(!0,t),X.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t){this.setPrimaryColumnList(e,this.pivotColumns,X.EVENT_COLUMN_PIVOT_CHANGED,!0,(i,s)=>{s.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!1,i=>i.setPivotActive(!1,t),X.EVENT_COLUMN_PIVOT_CHANGED,t)}setPrimaryColumnList(e,t,i,s,r,n){if(!this.gridColumns)return;const o=new Map;t.forEach((a,l)=>o.set(a,l)),t.length=0,Rt(e)&&e.forEach(a=>{const l=this.getPrimaryColumn(a);l&&t.push(l)}),t.forEach((a,l)=>{const c=o.get(a);if(c===void 0){o.set(a,0);return}s&&c!==l||o.delete(a)}),(this.primaryColumns||[]).forEach(a=>{const l=t.indexOf(a)>=0;r(l,a)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(n),this.dispatchColumnChangedEvent(i,[...o.keys()],n)}setValueColumns(e,t){this.setPrimaryColumnList(e,this.valueColumns,X.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const s=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(s)}}addValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),X.EVENT_COLUMN_VALUE_CHANGED,t)}removeValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),X.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const i=e.getMinWidth();Rt(i)&&t<i&&(t=i);const s=e.getMaxWidth();return Rt(s)&&e.isGreaterThanMax(t)&&(t=s),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,i,s){const r=[];e.forEach(n=>{const o=this.getPrimaryOrGridColumn(n.key);if(!o)return;if(r.push({width:n.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const l=this.getDisplayedColAfter(o);if(!l)return;const c=o.getActualWidth()-n.newWidth,u=l.getActualWidth()+c;r.push({width:u,ratios:[1],columns:[l]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:i,source:s})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let s=0,r=0,n=!0;t.forEach(l=>{const c=l.getMinWidth();s+=c||0;const u=l.getMaxWidth();Rt(u)&&u>0?r+=u:n=!1});const o=i>=s,a=!n||i<=r;return o&&a}resizeColumnSets(e){const{resizeSets:t,finished:i,source:s}=e;if(!(!t||t.every(u=>this.checkMinAndMaxWidthsForSet(u)))){if(i){const u=t&&t.length>0?t[0].columns:null;this.dispatchColumnResizedEvent(u,i,s)}return}const n=[],o=[];t.forEach(u=>{const{width:h,columns:f,ratios:p}=u,y={},v={};f.forEach(_=>o.push(_));let C=!0,S=0;for(;C;){if(S++,S>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}C=!1;const _=[];let x=0,A=h;f.forEach((O,k)=>{if(v[O.getId()])A-=y[O.getId()];else{_.push(O);const N=p[k];x+=N}});const R=1/x;_.forEach((O,k)=>{const F=k===_.length-1;let N;F?N=A:(N=Math.round(p[k]*h*R),A-=N);const j=O.getMinWidth(),ee=O.getMaxWidth();Rt(j)&&N<j?(N=j,v[O.getId()]=!0,C=!0):Rt(ee)&&ee>0&&N>ee&&(N=ee,v[O.getId()]=!0,C=!0),y[O.getId()]=N})}f.forEach(_=>{const x=y[_.getId()];_.getActualWidth()!==x&&(_.setActualWidth(x,s),n.push(_))})});const a=n.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());const c=o.concat(l);(a||i)&&this.dispatchColumnResizedEvent(c,i,s,l)}setColumnAggFunc(e,t,i){if(!e)return;const s=this.getPrimaryColumn(e);s&&(s.setAggFunc(t),this.dispatchColumnChangedEvent(X.EVENT_COLUMN_VALUE_CHANGED,[s],i))}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const s=this.rowGroupColumns[e],r=this.rowGroupColumns.slice(e,t);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,s);const n={type:X.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:r,column:r.length===1?r[0]:null,source:i};this.eventService.dispatchEvent(n)}moveColumns(e,t,i,s=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const r=this.getGridColumns(e);this.doesMovePassRules(r,t)&&(dM(this.gridColumns,r,t),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:r,source:i,toIndex:t,finished:s}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const i=this.gridColumns.slice();return dM(i,e,t),i}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(i=>this.gridColumns.indexOf(i)<0).length>0||e.sort((i,s)=>{const r=this.gridColumns.indexOf(i),n=this.gridColumns.indexOf(s);return r-n})}doesMovePassLockedPositions(e){let t=0,i=!0;const s=r=>r?r===!0||r==="left"?0:2:1;return e.forEach(r=>{const n=s(r.getColDef().lockPosition);n<t&&(i=!1),t=n}),i}doesMovePassMarryChildren(e){let t=!0;return kd(null,this.gridBalancedTree,i=>{if(!(i instanceof On))return;const s=i,r=s.getColGroupDef();if(!(r&&r.marryChildren))return;const o=[];s.getLeafColumns().forEach(h=>{const f=e.indexOf(h);o.push(f)});const a=Math.max.apply(Math,o),l=Math.min.apply(Math,o),c=a-l,u=s.getLeafColumns().length-1;c>u&&(t=!1)}),t}moveColumnByIndex(e,t,i){if(!this.gridColumns)return;const s=this.gridColumns[e];this.moveColumns([s],t,i)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((t,i)=>this.gridColumns.indexOf(t)-this.gridColumns.indexOf(i)):this.lastPrimaryOrder&&e.sort((t,i)=>this.lastPrimaryOrder.indexOf(t)-this.lastPrimaryOrder.indexOf(i)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i;const r={type:X.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(r);const n={type:X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(n)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var e;return(e=this.gridColumns)!=null?e:[]}isRowGroupEmpty(){return rc(this.rowGroupColumns)}setColumnsVisible(e,t=!1,i){this.applyColumnState({state:e.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!t}))},i)}setColumnsPinned(e,t,i){if(!this.gridColumns)return;if(this.gos.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let s;t===!0||t==="left"?s="left":t==="right"?s="right":s=null,this.actionOnGridColumns(e,r=>r.getPinned()!==s?(r.setPinned(s),!0):!1,i,()=>({type:X.EVENT_COLUMN_PINNED,pinned:s,column:null,columns:null,source:i})),this.columnAnimationService.finish()}actionOnGridColumns(e,t,i,s){if(rc(e))return;const r=[];if(e.forEach(n=>{if(!n)return;const o=this.getGridColumn(n);if(!o)return;t(o)!==!1&&r.push(o)}),!!r.length&&(this.updateDisplayedColumns(i),Rt(s)&&s)){const n=s();n.columns=r,n.column=r.length===1?r[0]:null,this.eventService.dispatchEvent(n)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i>0?t[i-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getDisplayedGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),r=t==="After"?Os(s):s[0],n=`getDisplayedCol${t}`;for(;;){const o=this[n](r);if(!o)return null;const a=this.getColumnGroupAtLevel(o,i);if(a!==e)return a}}getColumnGroupAtLevel(e,t){let i=e.getParent(),s,r;for(;s=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(s+r<=t);)i=i.getParent();return i}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,r=e.getSort()!=null?e.getSort():null,n=e.getSortIndex()!=null?e.getSortIndex():null,o=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:r,sortIndex:n,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:i,flex:o}}getColumnState(){if(Fi(this.primaryColumns)||!this.isAlive())return[];const t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t}orderColumnStateList(e){const t=Jh(this.gridColumns.map((i,s)=>[i.getColId(),s]));e.sort((i,s)=>{const r=t.has(i.colId)?t.get(i.colId):-1,n=t.has(s.colId)?t.get(s.colId):-1;return r-n})}resetColumnState(e){if(rc(this.primaryColumns))return;const t=this.getColumnsFromTree(this.primaryColumnTree),i=[];let s=1e3,r=1e3,n=[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),t&&(n=n.concat(t)),n.forEach(o=>{const a=this.getColumnStateFromColDef(o);Fi(a.rowGroupIndex)&&a.rowGroup&&(a.rowGroupIndex=s++),Fi(a.pivotIndex)&&a.pivot&&(a.pivotIndex=r++),i.push(a)}),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(y,v)=>y??v??null,i=e.getColDef(),s=t(i.sort,i.initialSort),r=t(i.sortIndex,i.initialSortIndex),n=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let c=t(i.rowGroupIndex,i.initialRowGroupIndex),u=t(i.rowGroup,i.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let h=t(i.pivotIndex,i.initialPivotIndex),f=t(i.pivot,i.initialPivot);h==null&&(f==null||f==!1)&&(h=null,f=null);const p=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:r,hide:n,pinned:o,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:f,pivotIndex:h,aggFunc:p}}applyColumnState(e,t){if(rc(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=(n,o,a)=>{const l=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const c=o.slice(),u={},h={},f=[],p=[];let y=0;const v=this.rowGroupColumns.slice(),C=this.pivotColumns.slice();n.forEach(A=>{const R=A.colId||"";if(R.startsWith(m0)){f.push(A),p.push(A);return}const k=a(R);k?(this.syncColumnWithStateItem(k,A,e.defaultState,u,h,!1,t),za(c,k)):(p.push(A),y+=1)});const S=A=>this.syncColumnWithStateItem(A,null,e.defaultState,u,h,!1,t);c.forEach(S);const _=(A,R,O,k)=>{const F=A[O.getId()],N=A[k.getId()],j=F!=null,ee=N!=null;if(j&&ee)return F-N;if(j)return-1;if(ee)return 1;const K=R.indexOf(O),Q=R.indexOf(k),be=K>=0,te=Q>=0;return be&&te?K-Q:be?-1:1};this.rowGroupColumns.sort(_.bind(this,u,v)),this.pivotColumns.sort(_.bind(this,h,C)),this.updateGridColumns();const x=this.groupAutoColumns?this.groupAutoColumns.slice():[];return f.forEach(A=>{const R=this.getAutoColumn(A.colId);za(x,R),this.syncColumnWithStateItem(R,A,e.defaultState,null,null,!0,t)}),x.forEach(S),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),l(),{unmatchedAndAutoStates:p,unmatchedCount:y}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:r}=i(e.state||[],this.primaryColumns||[],n=>this.getPrimaryColumn(n));return(s.length>0||Rt(e.defaultState))&&(r=i(s,this.secondaryColumns||[],n=>this.getSecondaryColumn(n)).unmatchedCount),this.columnAnimationService.finish(),r===0}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const i={};e.state.forEach(r=>{if(!r.colId||i[r.colId])return;const n=this.gridColumnsMap[r.colId];n&&(t.push(n),i[r.colId]=!0)});let s=0;if(this.gridColumns.forEach(r=>{const n=r.getColId();if(i[n]!=null)return;n.startsWith(m0)?Yb(t,r,s++):t.push(r)}),t=this.placeLockedColumns(t),!this.doesMovePassMarryChildren(t)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=t}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),s={};return i.forEach(r=>{s[r.colId]=r}),()=>{const r=this.getPrimaryAndSecondaryAndAutoColumns(),n=(v,C,S,_)=>{const x=C.map(_),A=S.map(_);if(Fu(x,A))return;const O=new Set(C);S.forEach(N=>{O.delete(N)||O.add(N)});const k=[...O],F={type:v,columns:k,column:k.length===1?k[0]:null,source:e};this.eventService.dispatchEvent(F)},o=v=>{const C=[];return r.forEach(S=>{const _=s[S.getColId()];_&&v(_,S)&&C.push(S)}),C},a=v=>v.getColId();n(X.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,a),n(X.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,a);const c=o((v,C)=>{const S=v.aggFunc!=null,_=S!=C.isValueActive(),x=S&&v.aggFunc!=C.getAggFunc();return _||x});c.length>0&&this.dispatchColumnChangedEvent(X.EVENT_COLUMN_VALUE_CHANGED,c,e);const u=(v,C)=>v.width!=C.getActualWidth();this.dispatchColumnResizedEvent(o(u),!0,e);const h=(v,C)=>v.pinned!=C.getPinned();this.dispatchColumnPinnedEvent(o(h),e);const f=(v,C)=>v.hide==C.isVisible();this.dispatchColumnVisibleEvent(o(f),e);const y=o((v,C)=>v.sort!=C.getSort()||v.sortIndex!=C.getSortIndex());y.length>0&&this.sortController.dispatchSortChangedEvents(e,y),this.normaliseColumnMovedEventForColumnState(i,e)}}getCommonValue(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}normaliseColumnMovedEventForColumnState(e,t){const i=this.getColumnState(),s={};i.forEach(l=>s[l.colId]=l);const r={};e.forEach(l=>{s[l.colId]&&(r[l.colId]=!0)});const n=e.filter(l=>r[l.colId]),o=i.filter(l=>r[l.colId]),a=[];o.forEach((l,c)=>{const u=n&&n[c];if(u&&u.colId!==l.colId){const h=this.getGridColumn(u.colId);h&&a.push(h)}}),a.length&&this.dispatchColumnMovedEvent({movedColumns:a,source:t,finished:!0})}syncColumnWithStateItem(e,t,i,s,r,n,o){var a;if(!e)return;const l=(A,R)=>{const O={value1:void 0,value2:void 0};let k=!1;return t&&(t[A]!==void 0&&(O.value1=t[A],k=!0),Rt(R)&&t[R]!==void 0&&(O.value2=t[R],k=!0)),!k&&i&&(i[A]!==void 0&&(O.value1=i[A]),Rt(R)&&i[R]!==void 0&&(O.value2=i[R])),O},c=l("hide").value1;c!==void 0&&e.setVisible(!c,o);const u=l("pinned").value1;u!==void 0&&e.setPinned(u);const h=(a=e.getColDef().minWidth)!=null?a:this.environment.getMinColWidth(),f=l("flex").value1;if(f!==void 0&&e.setFlex(f),f==null){const A=l("width").value1;A!=null&&h!=null&&A>=h&&e.setActualWidth(A,o)}const p=l("sort").value1;p!==void 0&&(p==="desc"||p==="asc"?e.setSort(p,o):e.setSort(void 0,o));const y=l("sortIndex").value1;if(y!==void 0&&e.setSortIndex(y),n||!e.isPrimary())return;const v=l("aggFunc").value1;v!==void 0&&(typeof v=="string"?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,o),this.valueColumns.push(e))):(Rt(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),za(this.valueColumns,e))));const{value1:C,value2:S}=l("rowGroup","rowGroupIndex");(C!==void 0||S!==void 0)&&(typeof S=="number"||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),this.rowGroupColumns.push(e)),s&&typeof S=="number"&&(s[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),za(this.rowGroupColumns,e)));const{value1:_,value2:x}=l("pivot","pivotIndex");(_!==void 0||x!==void 0)&&(typeof x=="number"||_?(e.isPivotActive()||(e.setPivotActive(!0,o),this.pivotColumns.push(e)),r&&typeof x=="number"&&(r[e.getId()]=x)):e.isPivotActive()&&(e.setPivotActive(!1,o),za(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const i=[];return e&&e.forEach(s=>{const r=t(s);r&&i.push(r)}),i}getColumnWithValidation(e){if(e==null)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,i){if(!e||!i)return null;if(typeof e=="string"&&i[e])return i[e];for(let s=0;s<t.length;s++)if(this.columnsMatch(t[s],e))return t[s];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupColumns.slice(0);const i=this.getPrimaryColumn(t);return i?[i]:null}getAutoColumn(e){return!this.groupAutoColumns||!Rt(this.groupAutoColumns)||Fi(this.groupAutoColumns)?null:this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){const i=e===t,s=e.getColDef()===t,r=e.getColId()==t;return i||s||r}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){const s=t?t.getColGroupDef():null;return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,r){const n=e.headerValueGetter;if(n){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:r});return typeof n=="function"?n(o):typeof n=="string"?this.expressionService.evaluate(n,o):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return MY(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn,s=Rt(i);let r=null,n;if(s){const o=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,a=e.getColDef().pivotTotalColumnIds!==void 0;if(o&&!a)return t;r=i?i.getAggFunc():null,n=!0}else{const o=e.isValueActive(),a=this.pivotMode||!this.isRowGroupEmpty();o&&a?(r=e.getAggFunc(),n=!0):n=!1}if(n){const o=typeof r=="string"?r:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof ho)return e;const i=this.getAllDisplayedTrees(),s=typeof t=="number";let r=null;return Fp(i,!1,n=>{if(n instanceof ho){const o=n;let a;s?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(r=o)}}),r}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(i,s)=>i.setValueActive(s,e),()=>{},()=>{},i=>{const s=i.aggFunc;if(s===null||s==="")return null;if(s!==void 0)return!!s},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueColumns.forEach(i=>{const s=i.getColDef();s.aggFunc!=null&&s.aggFunc!=""?i.setAggFunc(s.aggFunc):i.getAggFunc()||i.setAggFunc(s.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(i,s)=>i.setRowGroupActive(s,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractColumns(e=[],t=[],i,s,r,n,o){const a=[],l=[];(this.primaryColumns||[]).forEach(h=>{const f=e.indexOf(h)<0,p=h.getColDef(),y=g_(n(p)),v=g_(o(p)),C=ff(s(p)),S=ff(r(p));let _;y!==void 0?_=y:C!==void 0?C===null?_=!1:_=C>=0:f?v!==void 0?_=v:S!==void 0?_=S!=null&&S>=0:_=!1:_=t.indexOf(h)>=0,_&&((f?C!=null||S!=null:C!=null)?a.push(h):l.push(h))});const c=h=>{const f=s(h.getColDef()),p=r(h.getColDef());return f??p};a.sort((h,f)=>{const p=c(h),y=c(f);return p===y?0:p<y?-1:1});const u=[].concat(a);return t.forEach(h=>{l.indexOf(h)>=0&&u.push(h)}),l.forEach(h=>{u.indexOf(h)<0&&u.push(h)}),t.forEach(h=>{u.indexOf(h)<0&&i(h,!1)}),u.forEach(h=>{t.indexOf(h)<0&&i(h,!0)}),u}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(i,s)=>i.setPivotActive(s,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}resetColumnGroupState(e){if(!this.primaryColumnTree)return;const t=[];kd(null,this.primaryColumnTree,i=>{if(i instanceof On){const s=i.getColGroupDef(),r={groupId:i.getGroupId(),open:s?s.openByDefault:void 0};t.push(r)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return kd(null,this.gridBalancedTree,t=>{t instanceof On&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const i=[];if(e.forEach(s=>{const r=s.groupId,n=s.open,o=this.getProvidedColumnGroup(r);o&&o.isExpanded()!==n&&(this.logger.log("columnGroupOpened("+o.getGroupId()+","+n+")"),o.setExpanded(n),i.push(o))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.length){const s={type:X.EVENT_COLUMN_GROUP_OPENED,columnGroup:On.length===1?i[0]:void 0,columnGroups:i};this.eventService.dispatchEvent(s)}this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let s;e instanceof On?s=e.getId():s=e||"",this.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColumnGroup(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");let t=null;return kd(null,this.gridBalancedTree,i=>{i instanceof On&&i.getId()===e&&(t=i)}),t}calculateColumnsForDisplay(){let e;return this.pivotMode&&Fi(this.secondaryColumns)?e=this.gridColumns.filter(t=>{const i=this.groupAutoColumns&&Dl(this.groupAutoColumns,t),s=this.valueColumns&&Dl(this.valueColumns,t);return i||s}):e=this.gridColumns.filter(t=>this.groupAutoColumns&&Dl(this.groupAutoColumns,t)||t.isVisible()),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach(i=>{Rt(i.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const e=t=>{const i=t.getColDef(),s=i.showRowGroup;i&&Rt(s)&&(this.groupDisplayColumns.push(t),typeof s=="string"?this.groupDisplayColumnsMap[s]=t:s===!0&&this.getRowGroupColumns().forEach(r=>{this.groupDisplayColumnsMap[r.getId()]=t}))};this.gridColumns.forEach(e)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return Rt(this.secondaryColumns)}setSecondaryColumns(e,t){if(!this.gridColumns)return;const i=e;if(!(!i&&Fi(this.secondaryColumns))){if(i){this.processSecondaryColumnDefinitions(e);const s=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,t);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(r=>this.secondaryColumnsMap[r.getId()]=r),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const s=r=>{r.forEach(n=>{if(Rt(n.children)){const a=n;i&&i(a),s(a.children)}else t&&t(n)})};e&&s(e)}updateGridColumns(){const e=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const s=Jh(this.groupAutoColumns.map(r=>[r,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(r=>!s.has(r)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(r=>!s.has(r)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let i;if(this.secondaryColumns&&this.secondaryBalancedTree){const s=this.secondaryColumns.some(r=>this.gridColumnsMap[r.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(s=>this.gridColumnsMap[s.getId()]=s),this.setAutoHeightActive(),!Fu(e,this.gridBalancedTree)){const s={type:X.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(s)}}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||Si("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(e){if(Fi(e))return;const t=Jh(e.map((l,c)=>[l,c]));let i=!0;if(this.gridColumns.forEach(l=>{t.has(l)&&(i=!1)}),i)return;const s=Jh(this.gridColumns.map(l=>[l,!0])),r=e.filter(l=>s.has(l)),n=Jh(r.map(l=>[l,!0])),o=this.gridColumns.filter(l=>!n.has(l)),a=r.slice();o.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}const u=[];for(;!u.length&&c;)c.getLeafColumns().forEach(y=>{const v=a.indexOf(y)>=0,C=u.indexOf(y)<0;v&&C&&u.push(y)}),c=c.getOriginalParent();if(!u.length){a.push(l);return}const h=u.map(p=>a.indexOf(p)),f=Math.max(...h);Yb(a,l,f+1)}),this.gridColumns=a}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=(e=this.isPivotMode()&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.secondaryColumns:this.primaryColumns)!=null?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?t:t.filter(i=>i.isVisible()||i.isRowGroupActive())}placeLockedColumns(e){const t=[],i=[],s=[];return e.forEach(r=>{const n=r.getColDef().lockPosition;n==="right"?s.push(r):n==="left"||n===!0?t.push(r):i.push(r)}),[...t,...i,...s]}addAutoGroupToGridColumns(){if(Fi(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const t={type:X.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(t=>t.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const e=this.getAllGridColumns(),t=[],i=[],s=[];for(const r of e){const n=r.getPinned();n?n===!0||n==="left"?t.push(r):s.push(r):i.push(r)}this.ariaOrderColumns=t.concat(i).concat(s)}joinDisplayedColumns(){this.gos.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),i=this.gos.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(s=>{if(i){let r=this.getWidthOfColsInList(s);s.forEach(n=>{r-=n.getActualWidth(),n.setLeft(r,e)})}else{let r=0;s.forEach(n=>{n.setLeft(r,e),r+=n.getActualWidth()})}xY(t,s)}),t.forEach(s=>{s.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(t=>{t instanceof ho&&t.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,Fp(e,!0,i=>{i instanceof gr&&t.push(i)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let i;switch(e){case"left":i=this.viewportRowLeft[t];break;case"right":i=this.viewportRowRight[t];break;default:i=this.viewportRowCenter[t];break}return Fi(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(i=>e[i.getId()]=!0);const t=(i,s,r)=>{let n=!1;for(let o=0;o<i.length;o++){const a=i[o];let l=!1;if(a instanceof gr)l=e[a.getId()]===!0;else{const u=a.getDisplayedChildren();u&&(l=t(u,s,r+1))}l&&(n=!0,s[r]||(s[r]=[]),s[r].push(a))}return n};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const e=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.viewportColumns.map(e).join("#"),i=this.viewportColumnsHash!==t;return i&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),i}refreshFlexedColumns(e={}){var t;const i=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let s=-1;if(e.resizingCols){const f=new Set(e.resizingCols);let p=this.displayedColumnsCenter;for(let y=p.length-1;y>=0;y--)if(f.has(p[y])){s=y;break}}let r=0,n=[],o=0,a=0;for(let f=0;f<this.displayedColumnsCenter.length;f++)this.displayedColumnsCenter[f].getFlex()&&f>s?(n.push(this.displayedColumnsCenter[f]),a+=this.displayedColumnsCenter[f].getFlex(),o+=(t=this.displayedColumnsCenter[f].getMinWidth())!=null?t:0):r+=this.displayedColumnsCenter[f].getActualWidth();if(!n.length)return[];let l=[];r+o>this.flexViewportWidth&&(n.forEach(f=>{var p;return f.setActualWidth((p=f.getMinWidth())!=null?p:0,i)}),l=n,n=[]);const c=[];let u;e:for(;;){u=this.flexViewportWidth-r;const f=u/a;for(let p=0;p<n.length;p++){const y=n[p],v=f*y.getFlex();let C=0;const S=y.getMinWidth(),_=y.getMaxWidth();if(Rt(S)&&v<S?C=S:Rt(_)&&v>_&&(C=_),C){y.setActualWidth(C,i),PI(n,y),a-=y.getFlex(),l.push(y),r+=y.getActualWidth();continue e}c[p]=Math.round(v)}break}let h=u;return n.forEach((f,p)=>{f.setActualWidth(Math.min(c[p],h),i),l.push(f),h-=c[p]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,i,n),n}sizeColumnsToFit(e,t="sizeColumnsToFit",i,s){var r,n,o,a,l;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,t,i,s));return}const c={};s&&((r=s==null?void 0:s.columnLimits)==null||r.forEach(S=>{var _=S,{key:x}=_,A=rPe(_,["key"]);c[typeof x=="string"?x:x.getColId()]=A}));const u=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(u);if(e<=0||!u.length||h)return;const f=[],p=[];u.forEach(S=>{S.getColDef().suppressSizeToFit===!0?p.push(S):f.push(S)});const y=f.slice(0);let v=!1;const C=S=>{za(f,S),p.push(S)};for(f.forEach(S=>{var _,x;S.resetActualWidth(t);const A=c==null?void 0:c[S.getId()],R=(_=A==null?void 0:A.minWidth)!=null?_:s==null?void 0:s.defaultMinWidth,O=(x=A==null?void 0:A.maxWidth)!=null?x:s==null?void 0:s.defaultMaxWidth,k=S.getActualWidth();typeof R=="number"&&k<R?S.setActualWidth(R,t,!0):typeof O=="number"&&k>O&&S.setActualWidth(O,t,!0)});!v;){v=!0;const S=e-this.getWidthOfColsInList(p);if(S<=0)f.forEach(_=>{var x,A;const R=(A=(x=c==null?void 0:c[_.getId()])==null?void 0:x.minWidth)!=null?A:s==null?void 0:s.defaultMinWidth;if(typeof R=="number"){_.setActualWidth(R,t,!0);return}_.setMinimum(t)});else{const _=S/this.getWidthOfColsInList(f);let x=S;for(let A=f.length-1;A>=0;A--){const R=f[A],O=c==null?void 0:c[R.getId()],k=(n=O==null?void 0:O.minWidth)!=null?n:s==null?void 0:s.defaultMinWidth,F=(o=O==null?void 0:O.maxWidth)!=null?o:s==null?void 0:s.defaultMaxWidth,N=(a=R.getMinWidth())!=null?a:0,j=(l=R.getMaxWidth())!=null?l:Number.MAX_VALUE,ee=typeof k=="number"&&k>N?k:R.getMinWidth(),K=typeof F=="number"&&F<j?F:R.getMaxWidth();let Q=Math.round(R.getActualWidth()*_);Rt(ee)&&Q<ee?(Q=ee,C(R),v=!1):Rt(K)&&Q>K?(Q=K,C(R),v=!1):A===0&&(Q=x),R.setActualWidth(Q,t,!0),x-=Q}}}y.forEach(S=>{S.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(y,!0,t)}buildDisplayedTrees(e){const t=[],i=[],s=[];e.forEach(n=>{switch(n.getPinned()){case"left":t.push(n);break;case"right":i.push(n);break;default:s.push(n);break}});const r=new PY;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,r,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,r,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(s,r,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=t=>{this.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};Fp(this.displayedTreeCentre,!1,e),Fp(this.displayedTreeLeft,!1,e),Fp(this.displayedTreeRight,!1,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();Fp(e,!1,t=>{t instanceof ho&&t.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gos.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gos.get("treeData"))&&!i&&!t){const n=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(n,this.groupAutoColumns)||e)return this.groupAutoColumns=n,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}autoColsEqual(e,t){return Fu(e,t,(i,s)=>i.getColId()===s.getColId())}getWidthOfColsInList(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getFirstDisplayedColumn(){const e=this.gos.get("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let i=0;i<t.length;i++){const s=this[t[i]]();if(s.length)return e?Os(s):s[0]}return null}setColumnHeaderHeight(e,t){if(e.setAutoHeaderHeight(t)){const s={type:X.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(s)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(e,...t)}getHeaderHeight(){var e;return(e=this.gos.get("headerHeight"))!=null?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return(e=this.gos.get("floatingFiltersHeight"))!=null?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return(e=this.gos.get("groupHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return(e=this.gos.get("pivotHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return(e=this.gos.get("pivotGroupHeaderHeight"))!=null?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const s=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(s,i,t),!0}isColumnGroupingLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const i=this.rowGroupColumns.findIndex(s=>s.getColId()===e.getColId());return t>i}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={};const s=(r,n,o,a,l,c)=>{if(!n.length||!this.primaryColumns)return[];const u=Object.keys(r),h=new Set(u),f=new Set(u),p=new Set(n.map(R=>{const O=R.getColId();return f.delete(O),O}).concat(u)),y=[],v={};let C=0;for(let R=0;R<this.primaryColumns.length;R++){const O=this.primaryColumns[R].getColId();p.has(O)&&(y.push(O),v[O]=C++)}let S=1e3,_=!1,x=0;const A=R=>{const O=v[R];for(let k=x;k<O;k++){const F=y[k];f.has(F)&&(r[F][l]=S++,f.delete(F))}x=O};n.forEach(R=>{const O=R.getColId();if(h.has(O))A(O),r[O][l]=S++;else{const k=R.getColDef();(k[l]===null||k[l]===void 0&&k[c]==null)&&(_||(k[o]||k[o]===void 0&&k[a]?A(O):(f.forEach(j=>{r[j][l]=S+v[j]}),S+=y.length,_=!0)),i[O]||(i[O]={colId:O}),i[O][l]=S++)}})};return s(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}onColumnsReady(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:r}=e,n=i==null?void 0:i.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:r,columnLimits:n})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.autoSizeColumns({columns:t,skipHeader:i,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",i)})}};B([ce("expressionService")],To.prototype,"expressionService",2);B([ce("columnFactory")],To.prototype,"columnFactory",2);B([ce("displayedGroupCreator")],To.prototype,"displayedGroupCreator",2);B([ce("ctrlsService")],To.prototype,"ctrlsService",2);B([ce("autoWidthCalculator")],To.prototype,"autoWidthCalculator",2);B([ce("columnAnimationService")],To.prototype,"columnAnimationService",2);B([ce("autoGroupColService")],To.prototype,"autoGroupColService",2);B([ce("valueCache")],To.prototype,"valueCache",2);B([ce("animationFrameService")],To.prototype,"animationFrameService",2);B([ce("sortController")],To.prototype,"sortController",2);B([ce("columnDefFactory")],To.prototype,"columnDefFactory",2);B([ir("aggFuncService")],To.prototype,"aggFuncService",2);B([It],To.prototype,"init",1);B([Ma],To.prototype,"destroyColumns",1);B([Gc(0,oc("loggerFactory"))],To.prototype,"setBeans",1);To=B([ri("columnModel")],To);function Tv(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function Fp(e,t,i){if(e)for(let s=0;s<e.length;s++){const r=e[s];if(r instanceof ho){const n=t?r.getDisplayedChildren():r.getChildren();Fp(n,t,i)}i(r)}}var fM=class extends Lt{createDisplayedGroups(e,t,i,s){const r=this.mapOldGroupsById(s),n=[];let o=e;for(;o.length;){const a=o;o=[];let l=0;const c=u=>{const h=l;l=u;const f=a[h],y=(f instanceof ho?f.getProvidedColumnGroup():f).getOriginalParent();if(y==null){for(let C=h;C<u;C++)n.push(a[C]);return}const v=this.createColumnGroup(y,t,r,i);for(let C=h;C<u;C++)v.addChild(a[C]);o.push(v)};for(let u=1;u<a.length;u++){const h=a[u],p=(h instanceof ho?h.getProvidedColumnGroup():h).getOriginalParent(),y=a[l],C=(y instanceof ho?y.getProvidedColumnGroup():y).getOriginalParent();p!==C&&c(u)}l<a.length&&c(a.length)}return this.setupParentsIntoColumns(n,null),n}createColumnGroup(e,t,i,s){const r=e.getGroupId(),n=t.getInstanceIdForKey(r),o=ho.createUniqueId(r,n);let a=i[o];return a&&a.getProvidedColumnGroup()!==e&&(a=null),Rt(a)?a.reset():(a=new ho(e,r,n,s),this.context.createBean(a)),a}mapOldGroupsById(e){const t={},i=s=>{s.forEach(r=>{if(r instanceof ho){const n=r;t[r.getUniqueId()]=n,i(n.getChildren())}})};return e&&i(e),t}setupParentsIntoColumns(e,t){e.forEach(i=>{if(i.setParent(t),i instanceof ho){const s=i;this.setupParentsIntoColumns(s.getChildren(),s)}})}};fM=B([ri("displayedGroupCreator")],fM);var _Pe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},to=class{};to.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];to.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];to.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];to.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];to.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval"];to.OTHER_PROPERTIES=["suppressStickyTotalRow"];to.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"];to.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];to.FUNCTION_PROPERTIES=[...to.FUNCTIONAL_PROPERTIES,...to.CALLBACK_PROPERTIES];to.ALL_PROPERTIES=[...to.ARRAY_PROPERTIES,...to.OBJECT_PROPERTIES,...to.STRING_PROPERTIES,...to.NUMBER_PROPERTIES,...to.FUNCTION_PROPERTIES,...to.BOOLEAN_PROPERTIES,...to.OTHER_PROPERTIES];var Qb=to,Wo=class lE{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(t,i){typeof t!="object"&&(t={});const s=gi({},t);return lE.getGridOptionKeys().forEach(n=>{const o=i[n];typeof o<"u"&&o!==lE.VUE_OMITTED_PROPERTY&&(s[n]=o)}),s}static processOnChange(t,i,s){if(!t)return;const r={};let n=!1;if(Object.keys(t).filter(a=>lE.ALL_PROPERTIES_AND_CALLBACKS_SET.has(a)).forEach(a=>{r[a]=t[a],n=!0}),!n)return;i.__internalUpdateGridOptions(r,!0);const o={type:X.EVENT_COMPONENT_STATE_CHANGED};sa(r,(a,l)=>{o[a]=l}),i.dispatchEvent(o)}};Wo.EVENTS=sg(X);Wo.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Wo.EXCLUDED_INTERNAL_EVENTS=[X.EVENT_SCROLLBAR_WIDTH_CHANGED,X.EVENT_CHECKBOX_CHANGED,X.EVENT_HEIGHT_SCALE_CHANGED,X.EVENT_BODY_HEIGHT_CHANGED,X.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,X.EVENT_SCROLL_VISIBILITY_CHANGED,X.EVENT_COLUMN_HOVER_CHANGED,X.EVENT_FLASH_CELLS,X.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,X.EVENT_DISPLAYED_ROWS_CHANGED,X.EVENT_LEFT_PINNED_WIDTH_CHANGED,X.EVENT_RIGHT_PINNED_WIDTH_CHANGED,X.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,X.EVENT_STORE_UPDATED,X.EVENT_COLUMN_PANEL_ITEM_DRAG_START,X.EVENT_COLUMN_PANEL_ITEM_DRAG_END,X.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,X.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,X.EVENT_FULL_WIDTH_ROW_FOCUSED,X.EVENT_HEADER_HEIGHT_CHANGED,X.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,X.EVENT_CELL_FOCUS_CLEARED,X.EVENT_GRID_STYLES_CHANGED,X.EVENT_FILTER_DESTROYED,X.EVENT_ROW_DATA_UPDATE_STARTED,X.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,X.EVENT_DATA_TYPES_INFERRED,X.EVENT_FIELD_VALUE_CHANGED,X.EVENT_FIELD_PICKER_VALUE_SELECTED,X.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,X.EVENT_SUPPRESS_MENU_HIDE_CHANGED,X.EVENT_SUPPRESS_FIELD_DOT_NOTATION,X.EVENT_ROW_COUNT_READY,X.EVENT_SIDE_BAR_UPDATED];Wo.PUBLIC_EVENTS=Wo.EVENTS.filter(e=>!Dl(Wo.EXCLUDED_INTERNAL_EVENTS,e));Wo.EVENT_CALLBACKS=Wo.EVENTS.map(e=>Wo.getCallbackForEvent(e));Wo.BOOLEAN_PROPERTIES=Qb.BOOLEAN_PROPERTIES;Wo.ALL_PROPERTIES=Qb.ALL_PROPERTIES;Wo.ALL_PROPERTIES_AND_CALLBACKS=[...Wo.ALL_PROPERTIES,...Wo.EVENT_CALLBACKS];Wo.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Wo.ALL_PROPERTIES_AND_CALLBACKS);var Oc=Wo,pM=class extends Lt{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(t=>this.addComponent(t))}addComponent(e){const i=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};pM=B([ri("agStackComponentsRegistry")],pM);var IY={};ko(IY,{getAriaCheckboxStateName:()=>kA,getAriaLabel:()=>GY,getAriaLevel:()=>TPe,getAriaPosInSet:()=>BY,getAriaSortState:()=>VY,removeAriaExpanded:()=>UY,removeAriaSort:()=>qY,setAriaActiveDescendant:()=>II,setAriaAtomic:()=>HY,setAriaChecked:()=>kPe,setAriaColCount:()=>KY,setAriaColIndex:()=>VI,setAriaColSpan:()=>YY,setAriaControls:()=>BI,setAriaDescribedBy:()=>APe,setAriaDisabled:()=>OI,setAriaExpanded:()=>Xd,setAriaHidden:()=>cS,setAriaLabel:()=>Fl,setAriaLabelledBy:()=>v0,setAriaLevel:()=>WY,setAriaLive:()=>LI,setAriaMultiSelectable:()=>zY,setAriaPosInSet:()=>AA,setAriaRelevant:()=>$Y,setAriaRole:()=>un,setAriaRowCount:()=>jY,setAriaRowIndex:()=>NI,setAriaSelected:()=>y0,setAriaSetSize:()=>TA,setAriaSort:()=>XY});function Cc(e,t,i){i==null||typeof i=="string"&&i==""?MI(e,t):bc(e,t,i)}function bc(e,t,i){e.setAttribute(NY(t),i.toString())}function MI(e,t){e.removeAttribute(NY(t))}function NY(e){return`aria-${e}`}function un(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function VY(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function TPe(e){return parseInt(e.getAttribute("aria-level"),10)}function BY(e){return parseInt(e.getAttribute("aria-posinset"),10)}function GY(e){return e.getAttribute("aria-label")}function Fl(e,t){Cc(e,"label",t)}function v0(e,t){Cc(e,"labelledby",t)}function APe(e,t){Cc(e,"describedby",t)}function LI(e,t){Cc(e,"live",t)}function HY(e,t){Cc(e,"atomic",t)}function $Y(e,t){Cc(e,"relevant",t)}function WY(e,t){Cc(e,"level",t)}function OI(e,t){Cc(e,"disabled",t)}function cS(e,t){Cc(e,"hidden",t)}function II(e,t){Cc(e,"activedescendant",t)}function Xd(e,t){bc(e,"expanded",t)}function UY(e){MI(e,"expanded")}function TA(e,t){bc(e,"setsize",t)}function AA(e,t){bc(e,"posinset",t)}function zY(e,t){bc(e,"multiselectable",t)}function jY(e,t){bc(e,"rowcount",t)}function NI(e,t){bc(e,"rowindex",t)}function KY(e,t){bc(e,"colcount",t)}function VI(e,t){bc(e,"colindex",t)}function YY(e,t){bc(e,"colspan",t)}function XY(e,t){bc(e,"sort",t)}function qY(e){MI(e,"sort")}function y0(e,t){Cc(e,"selected",t)}function kPe(e,t){bc(e,"checked",t===void 0?"mixed":t)}function BI(e,t){Cc(e,"controls",t.id),v0(t,e.id)}function kA(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var QY={};ko(QY,{browserSupportsPreventScroll:()=>WI,getBodyHeight:()=>eX,getBodyWidth:()=>ZY,getMaxDivHeight:()=>JY,getSafariVersion:()=>GI,getScrollbarWidth:()=>tX,getTabIndex:()=>b_,isBrowserChrome:()=>DA,isBrowserFirefox:()=>HI,isBrowserSafari:()=>Ku,isIOSUserAgent:()=>lh,isInvisibleScrollbar:()=>UI,isMacOsUserAgent:()=>$I});var MR,v1,LR,OR,IR,NR,gM,mM;function Ku(){return MR===void 0&&(MR=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),MR}function GI(){if(v1===void 0)if(Ku()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(v1=e[1]!=null?parseFloat(e[1]):0)}else v1=0;return v1}function DA(){if(LR===void 0){const e=window;LR=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return LR}function HI(){return OR===void 0&&(OR=/(firefox)/i.test(navigator.userAgent)),OR}function $I(){return IR===void 0&&(IR=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),IR}function lh(){return NR===void 0&&(NR=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),NR}function WI(){return!Ku()||GI()>=15}function b_(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!HI())?null:t.toString()}function JY(){if(!document.body)return-1;let e=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const s=e*2;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),e}function ZY(){var e,t,i;return(i=(e=document.body)==null?void 0:e.clientWidth)!=null?i:window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1}function eX(){var e,t,i;return(i=(e=document.body)==null?void 0:e.clientHeight)!=null?i:window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1}function tX(){return mM==null&&iX(),mM}function iX(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(mM=i,gM=i===0)}function UI(){return gM==null&&iX(),gM}var sX={};ko(sX,{dateToFormattedString:()=>Gv,parseDateTimeFromString:()=>Qa,serialiseDate:()=>cc});var rX={};ko(rX,{cleanNumber:()=>DPe,createArrayOfNumbers:()=>nX,decToHex:()=>RPe,formatNumberCommas:()=>zI,formatNumberTwoDecimalPlacesAndCommas:()=>PPe,padStartWidthZeros:()=>Bv,sum:()=>FPe});function Bv(e,t){return e.toString().padStart(t,"0")}function nX(e,t){const i=[];for(let s=e;s<=t;s++)i.push(s);return i}function DPe(e){return typeof e=="string"&&(e=parseInt(e,10)),typeof e=="number"?Math.floor(e):null}function RPe(e,t){let i="";for(let s=0;s<t;s++)i+=String.fromCharCode(e&255),e>>>=8;return i}function PPe(e,t,i){return typeof e!="number"?"":zI(Math.round(e*100)/100,t,i)}function zI(e,t,i){return typeof e!="number"?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function FPe(e){return e==null?null:e.reduce((t,i)=>t+i,0)}function cc(e,t=!0,i="-"){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>Bv(r,2)).join(i);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>Bv(r,2)).join(":")),s}var VR=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Gv(e,t="YYYY-MM-DD"){const i=Bv(e.getFullYear(),4),s=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>s[e.getMonth()],MMM:()=>s[e.getMonth()].slice(0,3),MM:()=>Bv(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${VR(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${VR(e.getDate())}`,DD:()=>Bv(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${VR(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(n).join("|"),"g");return t.replace(o,a=>a in n?n[a]():a)}function Qa(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const s=t.split("-").map(h=>parseInt(h,10));if(s.filter(h=>!isNaN(h)).length!==3)return null;const[r,n,o]=s,a=new Date(r,n-1,o);if(a.getFullYear()!==r||a.getMonth()!==n-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,c,u]=i.split(":").map(h=>parseInt(h,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),u>=0&&u<60&&a.setSeconds(u),a}var oX={};ko(oX,{FOCUSABLE_EXCLUDE:()=>jI,FOCUSABLE_SELECTOR:()=>aX,addOrRemoveAttribute:()=>Gu,addStylesToElement:()=>ZI,bindCellRendererToHtmlElement:()=>tN,clearElement:()=>An,copyNodeList:()=>hX,ensureDomOrder:()=>QI,formatSize:()=>RA,getAbsoluteHeight:()=>YI,getAbsoluteWidth:()=>Jb,getElementRectWithOffset:()=>XI,getElementSize:()=>Wf,getInnerHeight:()=>uS,getInnerWidth:()=>um,getScrollLeft:()=>ew,insertWithDomOrder:()=>cX,isElementChildOfClass:()=>rg,isFocusableFormField:()=>KI,isHorizontalScrollShowing:()=>uX,isInDOM:()=>qI,isNodeOrElement:()=>dS,isRtlNegativeScroll:()=>Zb,isVerticalScrollShowing:()=>dX,isVisible:()=>al,iterateNamedNodeMap:()=>fX,loadTemplate:()=>Ja,nodeListForEach:()=>eN,radioCssClass:()=>vM,removeFromParent:()=>Hc,setDisabled:()=>C0,setDisplayed:()=>ws,setDomChildOrder:()=>JI,setElementHeight:()=>MPe,setElementWidth:()=>iw,setFixedHeight:()=>ng,setFixedWidth:()=>uc,setScrollLeft:()=>tw,setVisible:()=>lX});var y1;function vM(e,t,i){const s=e.parentElement;let r=s&&s.firstChild;for(;r;)t&&r.classList.toggle(t,r===e),i&&r.classList.toggle(i,r!==e),r=r.nextSibling}var aX="[tabindex], input, select, button, textarea, [href]",jI="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function KI(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),r=t.call(e,jI),n=al(e);return s&&!r&&n}function ws(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||cS(e,!t)}function lX(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||cS(e,!t)}function C0(e,t){const i="disabled",s=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);s(e),eN(e.querySelectorAll("input"),r=>s(r))}function rg(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++s>i)break}else if(e===i)break}return!1}function Wf(e){const{height:t,width:i,borderTopWidth:s,borderRightWidth:r,borderBottomWidth:n,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:h,marginRight:f,marginBottom:p,marginLeft:y,boxSizing:v}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(n||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(y||"0"),boxSizing:v}}function uS(e){const t=Wf(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function um(e){const t=Wf(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function YI(e){const t=Wf(e),i=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+i)}function Jb(e){const t=Wf(e),i=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+i)}function XI(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:r,borderBottomWidth:n}=Wf(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(r||0),bottom:t.bottom+(n||0)}}function Zb(){if(typeof y1=="boolean")return y1;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,y1=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),y1}function ew(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),DA()&&!Zb()&&(i=e.scrollWidth-e.clientWidth-i)),i}function tw(e,t,i){i&&(Zb()?t*=-1:(Ku()||DA())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function An(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Hc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function qI(e){return!!e.offsetParent}function al(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!qI(e)||window.getComputedStyle(e).visibility!=="visible")}function Ja(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function QI(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function JI(e,t){for(let i=0;i<t.length;i++){const s=t[i],r=e.children[i];r!==s&&e.insertBefore(s,r)}}function cX(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function ZI(e,t){if(t)for(const[i,s]of Object.entries(t)){if(!i||!i.length||s==null)continue;const r=LY(i),n=s.toString(),o=n.replace(/\s*!important/g,""),a=o.length!=n.length?"important":void 0;e.style.setProperty(r,o,a)}}function uX(e){return e.clientWidth<e.scrollWidth}function dX(e){return e.clientHeight<e.scrollHeight}function iw(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):uc(e,t)}function uc(e,t){t=RA(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function MPe(e,t){t==="flex"?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):ng(e,t)}function ng(e,t){t=RA(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function RA(e){return typeof e=="number"?`${e}px`:e}function dS(e){return e instanceof Node||e instanceof HTMLElement}function hX(e){if(e==null)return[];const t=[];return eN(e,i=>t.push(i)),t}function fX(e,t){if(e)for(let i=0;i<e.length;i++){const s=e[i];t(s.name,s.value)}}function Gu(e,t,i){i==null?e.removeAttribute(t):e.setAttribute(t,i.toString())}function eN(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}function tN(e,t){e.then(i=>{const s=i.getGui();s!=null&&(typeof s=="object"?t.appendChild(s):t.innerHTML=s)})}var pX={};ko(pX,{fuzzyCheckStrings:()=>gX,fuzzySuggestions:()=>hS});function gX(e,t,i){const s={},r=e.filter(n=>!t.some(o=>o===n));return r.length>0&&r.forEach(n=>s[n]=hS(n,i).values),s}function hS(e,t,i,s){let r=t.map((a,l)=>({value:a,relevance:LPe(e.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(r.sort((a,l)=>l.relevance-a.relevance),i&&(r=r.filter(a=>a.relevance!==0)),r.length>0&&s&&s>0){const l=r[0].relevance*s;r=r.filter(c=>l-c.relevance<0)}const n=[],o=[];for(const a of r)n.push(a.value),o.push(a.idx);return{values:n,indices:o}}function LPe(e,t){const i=e.replace(/\s/g,""),s=t.replace(/\s/g,"");let r=0,n=-1;for(let o=0;o<i.length;o++){const a=s.indexOf(i[o],n+1);a!==-1&&(n=a,r+=100-n*100/1e4*100)}return r}var mX={};ko(mX,{createIcon:()=>Ql,createIconNoSpan:()=>Yr,iconNameClassMap:()=>vX});var vX={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function Ql(e,t,i){const s=Yr(e,t,i);if(s){const{className:n}=s;if(typeof n=="string"&&n.indexOf("ag-icon")>-1||typeof n=="object"&&n["ag-icon"])return s}const r=document.createElement("span");return r.appendChild(s),r}function Yr(e,t,i,s){let r=null;const n=i&&i.getColDef().icons;if(n&&(r=n[e]),t&&!r){const o=t.get("icons");o&&(r=o[e])}if(r){let o;if(typeof r=="function")o=r();else if(typeof r=="string")o=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return Ja(o);if(dS(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=vX[e];return a||(s?a=e:(console.warn(`AG Grid: Did not find icon ${e}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),un(o,"presentation"),o}}var yX={};ko(yX,{isDeleteKey:()=>wX,isEventFromPrintableCharacter:()=>PA,isUserSuppressingHeaderKeyboardEvent:()=>CX,isUserSuppressingKeyboardEvent:()=>w_,normaliseQwertyAzerty:()=>bX});var Xe=class{};Xe.BACKSPACE="Backspace";Xe.TAB="Tab";Xe.ENTER="Enter";Xe.ESCAPE="Escape";Xe.SPACE=" ";Xe.LEFT="ArrowLeft";Xe.UP="ArrowUp";Xe.RIGHT="ArrowRight";Xe.DOWN="ArrowDown";Xe.DELETE="Delete";Xe.F2="F2";Xe.PAGE_UP="PageUp";Xe.PAGE_DOWN="PageDown";Xe.PAGE_HOME="Home";Xe.PAGE_END="End";Xe.A="KeyA";Xe.C="KeyC";Xe.D="KeyD";Xe.V="KeyV";Xe.X="KeyX";Xe.Y="KeyY";Xe.Z="KeyZ";var OPe=65,IPe=67,NPe=86,VPe=68,BPe=90,GPe=89;function PA(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key.length===1}function w_(e,t,i,s,r){const n=s?s.getColDef().suppressKeyboardEvent:void 0;if(!n)return!1;const o=e.addGridCommonParams({event:t,editing:r,column:s,node:i,data:i.data,colDef:s.getColDef()});return!!(n&&n(o))}function CX(e,t,i,s){const r=s.getDefinition(),n=r&&r.suppressHeaderKeyboardEvent;if(!Rt(n))return!1;const o=e.addGridCommonParams({colDef:r,column:s,headerRowIndex:i,event:t});return!!n(o)}function bX(e){const{keyCode:t}=e;let i;switch(t){case OPe:i=Xe.A;break;case IPe:i=Xe.C;break;case NPe:i=Xe.V;break;case VPe:i=Xe.D;break;case BPe:i=Xe.Z;break;case GPe:i=Xe.Y;break;default:i=e.code}return i}function wX(e,t=!1){return e===Xe.DELETE?!0:!t&&e===Xe.BACKSPACE?$I():!1}var SX={};ko(SX,{areEventsNear:()=>iN});function iN(e,t,i){if(i===0)return!1;const s=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(s,r)<=i}var xX={};ko(xX,{sortRowNodesByOrder:()=>HPe});function HPe(e,t){if(!e)return!1;const i=(o,a)=>{const l=t[o.id],c=t[a.id],u=l!==void 0,h=c!==void 0,f=u&&h,p=!u&&!h;return f?l-c:p?o.__objectId-a.__objectId:u?1:-1};let s,r,n=!1;for(let o=0;o<e.length-1;o++)if(s=e[o],r=e[o+1],i(s,r)>0){n=!0;break}return n?(e.sort(i),!0):!1}var EX={};ko(EX,{convertToSet:()=>sN});function sN(e){const t=new Set;return e.forEach(i=>t.add(i)),t}var $Pe=gi(gi(gi(gi(gi(gi(gi(gi(gi(gi(gi(gi(gi(gi(gi(gi(gi(gi({},IY),bY),QY),sX),oX),CY),dY),pX),lY),mX),yX),OY),SX),rX),cY),xX),EX),FY),is=$Pe,b0=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},dc=class cE{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return new cE(i=>{let s=t.length;const r=new Array(s);t.forEach((n,o)=>{n.then(a=>{r[o]=a,s--,s===0&&i(r)})})})}static resolve(t=null){return new cE(i=>i(t))}then(t){return new cE(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(s=>i(t(s)))})}resolveNow(t,i){return this.status===1?i(this.resolution):t}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){console.warn("TBI")}},WPe=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.addCssClass(s));return}if(this.cssClassStates[e]!==!0&&e.length){const s=this.getGui();s&&s.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.removeCssClass(s));return}if(this.cssClassStates[e]!==!1&&e.length){const s=this.getGui();s&&s.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1){s.forEach(r=>this.addOrRemoveCssClass(r,t));return}}if(this.cssClassStates[e]!==t&&e.length){const s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},fS=class Mp extends Lt{constructor(t,i,s,r){super(),this.parentComp=t,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=s,this.shouldDisplayTooltip=r,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===1&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(t){const i=this.gos.get(t);return i<0&&Si(`${t} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(t){var i,s;return t==="show"?(i=this.tooltipShowDelayOverride)!=null?i:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(s=this.tooltipHideDelayOverride)!=null?s:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!lh()&&(Mp.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var i;const s=t.relatedTarget,r=this.parentComp.getGui(),n=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||r.contains(s)||this.interactionEnabled&&(n!=null&&n.contains(s))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||Mp.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),i=Mp.lastTooltipHideTime;return t-i<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t=gi({},this.parentComp.getTooltipParams());if(!Rt(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(i)}hideTooltip(t){if(!t&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),Mp.lastTooltipHideTime=new Date().getTime());const i={type:X.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=0}newTooltipComponentCallback(t,i){if(this.state!==2||this.tooltipInstanceCount!==t){this.getContext().destroyBean(i);return}const r=i.getGui();this.tooltipComp=i,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const n=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:r,ariaLabel:n("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,X.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,X.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===0?(this.tooltipMouseEnterListener=this.addManagedListener(r,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(r,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(r,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(r,"focusout",this.onTooltipFocusOut.bind(this))||null));const a={type:X.EVENT_TOOLTIP_SHOW,tooltipGui:r,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(t){var i;const s=this.parentComp.getGui(),r=(i=this.tooltipComp)==null?void 0:i.getGui(),n=t.relatedTarget;r!=null&&r.contains(n)||(this.isInteractingWithTooltip=!1,s.contains(n)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Vr(gi({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Vr(gi({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,i=this.tooltipComp,s=this.tooltipTrigger===0?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{t(),this.getContext().destroyBean(i)},s),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Mp.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){Mp.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};fS.isLocked=!1;B([ce("popupService")],fS.prototype,"popupService",2);B([ce("userComponentFactory")],fS.prototype,"userComponentFactory",2);B([It],fS.prototype,"postConstruct",1);var UPe=fS,ch=class extends Lt{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,t,i,s;if(this.tooltipManager!=null)return;const r={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new UPe(r,(t=(e=this.ctrl).getTooltipShowDelayOverride)==null?void 0:t.call(e),(s=(i=this.ctrl).getTooltipHideDelayOverride)==null?void 0:s.call(i),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,s=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>{var r;return(r=this.tooltipManager)==null?void 0:r.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};B([ce("beans")],ch.prototype,"beans",2);B([It],ch.prototype,"postConstruct",1);var zPe=new b0,pS=class yM extends Lt{constructor(t){super(),this.displayed=!0,this.visible=!0,this.compId=zPe.next(),this.cssClassManager=new WPe(()=>this.eGui),t&&this.setTemplate(t)}preConstructOnComponent(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:i,showDelayOverride:s,hideDelayOverride:r,location:n,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new ch({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>n??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:s!=null?()=>s:void 0,getTooltipHideDelayOverride:r!=null?()=>r:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(t,i){hX(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const n=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},i);if(n){if(n.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const o=Array.prototype.slice.call(r.children);n.addItems(o)}this.swapComponentForNode(n,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,s){const r=t.nodeName,n=s?s[t.getAttribute("ref")]:void 0,o=this.agStackComponentsRegistry.getComponentClass(r);if(o){yM.elementGettingCreated=t;const a=new o(n);return a.setParentComponent(this),this.createBean(a,null,i),a}return null}copyAttributesFromNode(t,i){fX(t.attributes,(s,r)=>i.setAttribute(s,r))}swapComponentForNode(t,i,s){const r=t.getGui();i.replaceChild(r,s),i.insertBefore(document.createComment(s.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,s)}swapInComponentForQuerySelectors(t,i){const s=this;this.iterateOverQuerySelectors(r=>{s[r.attributeName]===i&&(s[r.attributeName]=t)})}iterateOverQuerySelectors(t){let i=Object.getPrototypeOf(this);for(;i!=null;){const s=i.__agComponentMetaData,r=wA(i.constructor);s&&s[r]&&s[r].querySelectors&&s[r].querySelectors.forEach(n=>t(n)),i=Object.getPrototypeOf(i)}}activateTabIndex(t){const i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(s=>s.setAttribute("tabindex",i.toString()))}setTemplate(t,i){const s=Ja(t);this.setTemplateFromElement(s,i)}setTemplateFromElement(t,i){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const t=this;this.iterateOverQuerySelectors(i=>{const s=n=>t[i.attributeName]=n;if(i.refSelector&&this.getAttribute("ref")===i.refSelector)s(this.eGui);else{const n=this.eGui.querySelector(i.querySelector);n&&s(n.__agComponent||n)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}queryForHtmlInputElement(t){return this.eGui.querySelector(t)}appendChild(t,i){if(t!=null)if(i||(i=this.eGui),dS(t))i.appendChild(t);else{const s=t;i.appendChild(s.getGui())}}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:s}=i;lX(this.eGui,t,{skipAriaHidden:s})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:s}=i;ws(this.eGui,t,{skipAriaHidden:s});const r={type:yM.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),super.destroy()}addGuiEventListener(t,i,s){this.eGui.addEventListener(t,i,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}getAttribute(t){const{eGui:i}=this;return i?i.getAttribute(t):null}getRefElement(t){return this.queryForHtmlElement(`[ref="${t}"]`)}};pS.EVENT_DISPLAYED_CHANGED="displayedChanged";B([ce("agStackComponentsRegistry")],pS.prototype,"agStackComponentsRegistry",2);B([gY],pS.prototype,"preConstructOnComponent",1);B([gY],pS.prototype,"createChildComponentsPreConstruct",1);var Mi=pS;function Gt(e){return jPe.bind(this,`[ref=${e}]`,e)}function jPe(e,t,i,s,r){if(e===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof r=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}KPe(i,"querySelectors",{attributeName:s,querySelector:e,refSelector:t})}function KPe(e,t,i){const s=YPe(e,wA(e.constructor));s[t]||(s[t]=[]),s[t].push(i)}function YPe(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}var rN=class extends Mi{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}};B([Gt("eFloatingFilterText")],rN.prototype,"eFloatingFilterText",2);B([ce("columnModel")],rN.prototype,"columnModel",2);var _X=class{constructor(e,t,i,s,r){this.alive=!0,this.context=e,this.eParent=s,t.getDateCompDetails(i).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(s.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),r==null||r(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){ws(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var t,i;let s=!1;(t=this.dateComp)!=null&&t.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(s=!0),!s&&((i=this.dateComp)!=null&&i.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&Si("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},TX=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],i=s=>s.some(r=>e[r]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${s}'`),!1);if(!t.every(i)){this.filterOptions=this.filterOptions.filter(s=>s===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},AX={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},FA=class kX extends Lt{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks=gi({shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,s.shiftKey);r&&(r.focus(),s.preventDefault())}},i)}postConstruct(){this.eFocusableElement.classList.add(kX.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(t){this.addManagedListener(t,"keydown",i=>{if(!(i.defaultPrevented||Yc(i))){if(this.callbacks.shouldStopEventPropagation(i)){iu(i);return}i.key===Xe.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}})}};FA.FOCUS_MANAGED_CLASS="ag-focus-managed";B([ce("focusService")],FA.prototype,"focusService",2);B([It],FA.prototype,"postConstruct",1);var Uf=FA,DX="ag-resizer-wrapper",XPe=`<div class="${DX}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,q0=class extends Lt{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:r,height:n,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const u=al(this.element);if(u){const h=this.findBoundaryElement(),f=window.getComputedStyle(h);if(f.minWidth!=null){const p=h.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-p}if(f.minHeight!=null){const p=h.offsetHeight-this.element.offsetHeight;l=parseInt(f.minHeight,10)-p}}if(this.minHeight=r||l,this.minWidth=i||c,s&&this.setWidth(s),n&&this.setHeight(n),(!s||!n)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(u&&t){let h=this.boundaryEl,f=!0;if(h||(h=this.findBoundaryElement(),f=!1),h){const p=parseFloat(h.style.top),y=parseFloat(h.style.left);f?this.offsetElement(isNaN(y)?0:y,isNaN(p)?0:p):this.setPosition(y,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const s=!!e[t],r=this.getResizerElement(t),n={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(s||!this.isAlive()&&!s)&&(s?(this.dragService.addDragSource(n),this.resizeListeners.push(n),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ng(i,e),e=YI(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?ng(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),n=e?this.position.y:s.top,o=e?0:r.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:u}=c.getBoundingClientRect();a=u-s.bottom}}return i+o-n-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)uc(t,e),e=Jb(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,n=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+n>r&&(e=r-n)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?uc(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupService.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:s,anywhereWithin:r,topBuffer:n}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!r,o)?0:o,c=this.shouldSkipY(t,!!s,n,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,i,s){const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&n.left>=e.clientX||n.right<=e.clientX&&n.right<=o.right;return l?!0:(t?l=s<0&&e.clientX>a+n.left||s>0&&e.clientX<a+n.left:i?l=s<0&&e.clientX>o.right||s>0&&e.clientX<a+n.left:l=s<0&&e.clientX>o.right||s>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,s){const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&n.top>=e.clientY||n.bottom<=e.clientY&&n.bottom<=o.bottom;return l?!0:(t?l=s<0&&e.clientY>a+n.top+i||s>0&&e.clientY<a+n.top:l=s<0&&e.clientY>o.bottom||s>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=new DOMParser().parseFromString(XPe,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${DX}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let s=0;s<e.length;s++){const r=e[s],n=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(n){const l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const r=i[s];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:r,isBottom:n,isLeft:o}=this.currentResizer,a=r||o,l=n||s,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:s}),h=this.position.x,f=this.position.y;let p=0,y=0;if(a&&c){const v=o?-1:1,C=this.getWidth(),S=C+c*v;let _=!1;o&&(p=C-S,(h+p<=0||S<=this.minWidth)&&(_=!0,p=0)),_||this.setWidth(S)}if(l&&u){const v=s?-1:1,C=this.getHeight(),S=C+u*v;let _=!1;s?(y=C-S,(f+y<=0||S<=this.minHeight)&&(_=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(_=!0),_||this.setHeight(S)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&p||y)&&this.offsetElement(h+p,f+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const i={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(i)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:r,movementY:n}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+r,i+n),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};B([ce("popupService")],q0.prototype,"popupService",2);B([ce("resizeObserverService")],q0.prototype,"resizeObserverService",2);B([ce("dragService")],q0.prototype,"dragService",2);var MA=class bC extends Mi{constructor(t){super(),this.filterNameKey=t,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new Uf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new q0(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(t){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(t){let i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);const s=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(s,t),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(t){this.setParams(t),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(t){this.providedFilterParams=t,this.applyActive=bC.isUseApplyButton(t),this.resetButtonsPanel()}updateParams(t){this.providedFilterParams=t,this.applyActive=bC.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:t}=this.providedFilterParams,i=t&&t.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(An(this.eButtonsPanel),this.buttonListeners.forEach(n=>n==null?void 0:n()),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&Hc(this.eButtonsPanel);return}const s=document.createDocumentFragment(),r=n=>{let o,a;switch(n){case"apply":o=this.translate("applyFilter"),a=u=>this.onBtApply(!1,!1,u);break;case"clear":o=this.translate("clearFilter"),a=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),a=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),a=u=>{this.onBtCancel(u)};break;default:console.warn("AG Grid: Unknown button type specified");return}const c=Ja(`<button
                    type="${n==="apply"?"submit":"button"}"
                    ref="${n}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);this.buttonListeners.push(this.addManagedListener(c,"click",a)),s.append(c)};sN(t).forEach(n=>r(n)),this.eButtonsPanel.append(s),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const t=bC.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=Aa(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(t){return(t!=null?this.setModelIntoUi(t):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(t){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(t)})}handleCancelEnd(t){this.providedFilterParams.closeOnApply&&this.close(t)}resetUiToActiveModel(t,i){const s=()=>{this.onUiChanged(!1,"prevent"),i==null||i()};t!=null?this.setModelIntoUi(t).then(s):this.resetUiToDefaults().then(s)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(t="api"){const i=this.getModelFromUi();if(!this.isModelValid(i))return!1;const s=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(s,i)}isModelValid(t){return!0}onFormSubmit(t){t.preventDefault()}onBtApply(t=!1,i=!1,s){s&&s.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:i,source:"columnFilter"});const{closeOnApply:r}=this.providedFilterParams;r&&this.applyActive&&!t&&!i&&this.close(s)}onNewRowsLoaded(){}close(t){if(!this.hidePopup)return;const i=t,s=i&&i.key;let r;(s==="Enter"||s==="Space")&&(r={keyboardEvent:i}),this.hidePopup(r),this.hidePopup=null}onUiChanged(t=!1,i){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const s=this.isModelValid(this.getModelFromUi()),r=this.getRefElement("applyFilterButton");r&&C0(r,!s)}t&&!i||i==="immediately"?this.onBtApply(t):(!this.applyActive&&!i||i==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)}refreshFilterResizer(t){if(!this.positionableFeature||t==="toolPanel")return;const i=t==="floatingFilter"||t==="columnFilter",{positionableFeature:s,gos:r}=this;i?(s.restoreLastSize(),s.setResizable(r.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(t,i){return bC.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:i}static isUseApplyButton(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0}refresh(t){return this.providedFilterParams=t,!0}destroy(){const t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(t){return this.localeService.getLocaleTextFunc()(t,AX[t])}getCellValue(t){return this.providedFilterParams.getValue(t)}getPositionableElement(){return this.eFilterBody}};B([ce("rowModel")],MA.prototype,"rowModel",2);B([Gt("eFilterBody")],MA.prototype,"eFilterBody",2);B([It],MA.prototype,"postConstruct",1);var S_=MA,nN=class extends Mi{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){An(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(ws(this.eLabel,!1),un(this.eLabel,"presentation")):(ws(this.eLabel,!0),un(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(iw(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return C0(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};B([It],nN.prototype,"postConstruct",1);var RX=class extends nN{constructor(e,t,i){super(e,t),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId();GY(e)!==null?v0(e,""):v0(e,t??"")}setAriaLabel(e){return Fl(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListener(this,X.EVENT_FIELD_VALUE_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return uc(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:X.EVENT_FIELD_VALUE_CHANGED}),this)}},qPe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,dm=class extends RX{constructor(e){if(super(e,(e==null?void 0:e.template)||qPe,e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:s,minPickerWidth:r,maxPickerWidth:n}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!s,i!=null&&this.setPickerMaxHeight(i),r!=null&&this.setPickerMinWidth(r),n!=null&&this.setPickerMaxWidth(n)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:i,inputWidth:s}=this.config;if(i){const r=Yr(i,this.gos);r&&this.eIcon.appendChild(r)}s!=null&&this.setInputWidth(s)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Xd(e,!1),this.ariaRole&&un(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Xe.UP:case Xe.DOWN:case Xe.ENTER:case Xe.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Xe.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gos.getDocument(),t=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,X.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:s,pickerAriaLabelValue:r,modalPicker:n=!0}=this.config,o={modal:n,eChild:t,closeOnEsc:!0,closedCallback:()=>{const p=this.gos.getActiveDomElement(),y=!p||p===e.body;this.beforeHidePicker(),y&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(s,r)},a=this.popupService.addPopup(o),{maxPickerHeight:l,minPickerWidth:c,maxPickerWidth:u,variableWidth:h}=this;h?(c&&(t.style.minWidth=c),t.style.width=RA(Jb(this.eWrapper)),u&&(t.style.maxWidth=u)):iw(t,u??Jb(this.eWrapper));const f=l??`${uS(this.popupService.getPopupParent())}px`;return t.style.setProperty("max-height",f),t.style.position="absolute",this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Xd(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return iw(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}};B([ce("popupService")],dm.prototype,"popupService",2);B([Gt("eLabel")],dm.prototype,"eLabel",2);B([Gt("eWrapper")],dm.prototype,"eWrapper",2);B([Gt("eDisplayField")],dm.prototype,"eDisplayField",2);B([Gt("eIcon")],dm.prototype,"eIcon",2);var LA=class uE extends Mi{constructor(t="default",i=!1){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`),this.cssIdentifier=t,this.unFocusable=i,this.options=[],this.itemEls=[]}init(){const t=this.getGui();this.addManagedListener(t,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(t,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(t){const i=t.key;switch(i){case Xe.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}break;case Xe.DOWN:case Xe.UP:t.preventDefault(),this.navigate(i);break;case Xe.PAGE_DOWN:case Xe.PAGE_UP:case Xe.PAGE_HOME:case Xe.PAGE_END:t.preventDefault(),this.navigateToPage(i);break}}navigate(t){const i=t===Xe.DOWN;let s;if(!this.highlightedEl)s=this.itemEls[i?0:this.itemEls.length-1];else{let n=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);n=Math.min(Math.max(n,0),this.itemEls.length-1),s=this.itemEls[n]}this.highlightItem(s)}navigateToPage(t){if(!this.highlightedEl||this.itemEls.length===0)return;const i=this.itemEls.indexOf(this.highlightedEl),s=this.options.length-1,r=this.itemEls[0].clientHeight,n=Math.floor(this.getGui().clientHeight/r);let o=-1;t===Xe.PAGE_HOME?o=0:t===Xe.PAGE_END?o=s:t===Xe.PAGE_DOWN?o=Math.min(i+n,s):t===Xe.PAGE_UP&&(o=Math.max(i-n,0)),o!==-1&&this.highlightItem(this.itemEls[o])}addOptions(t){return t.forEach(i=>this.addOption(i)),this}addOption(t){const{value:i,text:s}=t,r=s||i;return this.options.push({value:i,text:r}),this.renderOption(i,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(t=>{Hc(t)}),this.itemEls=[]}updateIndices(){const t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((i,s)=>{AA(i,s+1),TA(i,t.length)})}renderOption(t,i){const s=this.gos.getDocument(),r=s.createElement("div");un(r,"option"),r.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const n=s.createElement("span");r.appendChild(n),n.textContent=i,this.unFocusable||(r.tabIndex=-1),this.itemEls.push(r),this.addManagedListener(r,"mousemove",()=>this.highlightItem(r)),this.addManagedListener(r,"mousedown",o=>{o.preventDefault(),this.setValue(t)}),this.createManagedBean(new ch({getTooltipValue:()=>i,getGui:()=>r,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(r)}setValue(t,i){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(i),this;const s=this.options.findIndex(r=>r.value===t);if(s!==-1){const r=this.options[s];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[s]),i||this.fireChangeEvent()}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const t=this.options.findIndex(i=>i.value===this.value);t!==-1&&this.highlightItem(this.itemEls[t])}reset(t){this.value=null,this.displayValue=null,this.clearHighlighted(),t||this.fireChangeEvent()}highlightItem(t){if(!al(t))return;this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(uE.ACTIVE_CLASS),y0(this.highlightedEl,!0);const i=this.getGui(),{scrollTop:s,clientHeight:r}=i,{offsetTop:n,offsetHeight:o}=t;(n+o>s+r||n<s)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!al(this.highlightedEl)||(this.highlightedEl.classList.remove(uE.ACTIVE_CLASS),y0(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:X.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:uE.EVENT_ITEM_SELECTED})}};LA.EVENT_ITEM_SELECTED="selectedItem";LA.ACTIVE_CLASS="ag-active-item";B([It],LA.prototype,"init",1);var W$=LA,PX=class FX extends dm{constructor(t){super(gi({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},t))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:t,value:i,placeholder:s}=this.config;t!=null&&this.addOptions(t),i!=null&&this.setValue(i,!0),s&&i==null&&(this.eDisplayField.textContent=s),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new W$("select",!0)),this.listComponent.setParentComponent(this);const t=this.listComponent.getAriaElement(),i=`ag-select-list-${this.listComponent.getCompId()}`;t.setAttribute("id",i),BI(this.getAriaElement(),t),this.listComponent.addManagedListener(this.listComponent,W$.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:FX.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,X.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(t){var i;const{key:s}=t;switch(s===Xe.TAB&&this.hidePicker(),s){case Xe.ENTER:case Xe.UP:case Xe.DOWN:case Xe.PAGE_UP:case Xe.PAGE_DOWN:case Xe.PAGE_HOME:case Xe.PAGE_END:t.preventDefault(),this.isPickerDisplayed?(i=this.listComponent)==null||i.handleKeyDown(t):super.onKeyDown(t);break;case Xe.ESCAPE:super.onKeyDown(t);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(t){return t.forEach(i=>this.addOption(i)),this}addOption(t){return this.listComponent.addOption(t),this}clearOptions(){var t;return(t=this.listComponent)==null||t.clearOptions(),this}setValue(t,i,s){if(this.value===t||!this.listComponent)return this;if(s||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue())return this;let n=this.listComponent.getDisplayValue();return n==null&&this.config.placeholder&&(n=this.config.placeholder),this.eDisplayField.textContent=n,this.setTooltip({newTooltipText:n??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(t,i)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};PX.EVENT_ITEM_SELECTED="selectedItem";var OA=PX,$c=class extends RX{constructor(e,t,i="text",s="input"){super(e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${s} ref="eInput" class="ag-input-field-input"></${s}>
                </div>
            </div>`,t),this.inputType=i,this.displayFieldTag=s}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return iw(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Gu(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Fl(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return C0(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Gu(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Gu(this.eInput,"autocomplete",t)}return this}};B([Gt("eLabel")],$c.prototype,"eLabel",2);B([Gt("eWrapper")],$c.prototype,"eWrapper",2);B([Gt("eInput")],$c.prototype,"eInput",2);var IA=class extends $c{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchEvent({type:X.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:t,event:i});const s=this.getInputElement(),r={type:X.EVENT_CHECKBOX_CHANGED,id:s.id,name:s.name,selected:e,previousValue:t};this.eventService.dispatchEvent(r)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},MX=class extends IA{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,X.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},oN=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(t){const s=e;let{conditions:r}=s;if(!r){const{condition1:a,condition2:l}=s;r=[a,l]}const n=r.map(a=>this.getModelAsString(a)),o=s.operator==="AND"?"andCondition":"orCondition";return n.join(` ${i(o,AX[o])} `)}else{if(e.type===nn.BLANK||e.type===nn.NOT_BLANK)return i(e.type,e.type);{const s=e,r=this.optionsFactory.getCustomOption(s.type),{displayKey:n,displayName:o,numberOfInputs:a}=r||{};return n&&o&&a===0?(i(n,o),o):this.conditionToString(s,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!=null?t:"":String(e)}},La=class yv extends S_{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){const i=this.optionsFactory.getCustomOption(t);if(i){const{numberOfInputs:r}=i;return r??1}const s=[yv.EMPTY,yv.NOT_BLANK,yv.BLANK];return t&&s.indexOf(t)>=0?0:t===yv.IN_RANGE?2:1}onFloatingFilterChanged(t,i){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(t){this.eTypes.forEach((i,s)=>{s===0?i.setValue(t,!0):i.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]}getConditionTypes(){return this.eTypes.map(t=>t.getValue())}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(t,i){if(!t&&!i)return!0;if(!t&&i||t&&!i)return!1;const s=!t.operator,r=!i.operator;if(!s&&r||s&&!r)return!1;let o;if(s){const a=t,l=i;o=this.areSimpleModelsEqual(a,l)}else{const a=t,l=i;o=a.operator===l.operator&&Fu(a.conditions,l.conditions,(c,u)=>this.areSimpleModelsEqual(c,u))}return o}shouldRefresh(t){var i,s,r;const n=this.getModel(),o=n?(i=n.conditions)!=null?i:[n]:null,a=(r=(s=t.filterOptions)==null?void 0:s.map(c=>typeof c=="string"?c:c.displayKey))!=null?r:this.getDefaultFilterOptions();return!(!(!o||o.every(c=>a.find(u=>u===c.type)!==void 0))||typeof t.maxNumConditions=="number"&&o&&o.length>t.maxNumConditions)}refresh(t){return!this.shouldRefresh(t)||!super.refresh(t)?!1:(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(t){if(t.operator){let s=t;s.conditions||(s.conditions=[s.condition1,s.condition2]);const r=this.validateAndUpdateConditions(s.conditions),n=this.getNumConditions();if(r<n)this.removeConditionsAndOperators(r);else if(r>n)for(let a=n;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const o=s.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),s.conditions.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const s=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(s.type,!0),this.setConditionIntoUi(s,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),dc.resolve()}validateAndUpdateConditions(t){let i=t.length;return i>this.maxNumConditions&&(t.splice(this.maxNumConditions),Si('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i}doesFilterPass(t){var i;const s=this.getModel();if(s==null)return!0;const{operator:r}=s,n=[];if(r){const a=s;n.push(...(i=a.conditions)!=null?i:[])}else n.push(s);return n[r&&r==="OR"?"some":"every"](a=>this.individualConditionPasses(t,a))}setParams(t){super.setParams(t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new TX,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(t){var i,s;t.suppressAndOrCondition!=null&&Si('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),t.alwaysShowBothConditions!=null&&Si('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(i=t.maxNumConditions)!=null?i:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Si('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(s=t.numAlwaysVisibleConditions)!=null?s:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Si('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Si('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const t=this.createManagedBean(new OA);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());const i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(t),this.resetType(t);const s=this.getNumConditions()-1;this.forEachPositionInput(s,r=>this.resetInput(r)),this.addChangedListeners(t,s)}createJoinOperatorPanel(){const t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");const i=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),s=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);const r=this.eJoinOperatorPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(i,r,n),this.resetJoinOperatorOr(s,r,n),this.isReadOnly()||(i.onValueChange(this.listener),s.onValueChange(this.listener))}createJoinOperator(t,i,s){const r=this.createManagedBean(new MX);return t.push(r),r.addCssClass("ag-filter-condition-operator"),r.addCssClass(`ag-filter-condition-operator-${s}`),i.appendChild(r.getGui()),r}getDefaultJoinOperator(t){return t==="AND"||t==="OR"?t:"AND"}createFilterListOptions(){const t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map(i=>typeof i=="string"?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(t){this.filterListOptions.forEach(i=>{t.addOption(i)}),t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){const{displayKey:i}=t,s=this.optionsFactory.getCustomOption(t.displayKey);return{value:i,text:s?this.localeService.getLocaleTextFunc()(s.displayKey,s.displayName):this.translate(i)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){var t;let i=-1,s=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?i=r:s=!1;if(this.shouldAddNewConditionAtEnd(s))this.createJoinOperatorPanel(),this.createOption();else{const r=(t=this.lastUiCompletePosition)!=null?t:this.getNumConditions()-2;if(i<r){this.removeConditionsAndOperators(r+1);const n=i+1,o=r-n;o>0&&this.removeConditionsAndOperators(n,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i}updateConditionStatusesAndValues(t,i){this.eTypes.forEach((r,n)=>{const o=this.isConditionDisabled(n,t);r.setDisabled(o||this.filterListOptions.length<=1),n===1&&(C0(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((r,n)=>{ws(r,this.isConditionBodyVisible(n))});const s=(i??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((r,n)=>{r.setValue(!s,!0)}),this.eJoinOperatorsOr.forEach((r,n)=>{r.setValue(s,!0)}),this.forEachInput((r,n,o,a)=>{this.setElementDisplayed(r,n<a),this.setElementDisabled(r,this.isConditionDisabled(o,t))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,i){if(t>=this.getNumConditions())return;this.removeComponents(this.eTypes,t,i),this.removeElements(this.eConditionBodies,t,i),this.removeValueElements(t,i);const s=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,s,i),this.removeComponents(this.eJoinOperatorsAnd,s,i),this.removeComponents(this.eJoinOperatorsOr,s,i)}removeElements(t,i,s){this.removeItems(t,i,s).forEach(n=>Hc(n))}removeComponents(t,i,s){this.removeItems(t,i,s).forEach(n=>{Hc(n.getGui()),this.destroyBean(n)})}removeItems(t,i,s){return s==null?t.splice(i):t.splice(i,s)}afterGuiAttached(t){if(super.afterGuiAttached(t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const i=this.getInputs(0)[0];if(!i)return;i instanceof $c&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const t=this.getModel();this.resetUiToActiveModel(t);let i=-1,s=-1,r=!1;const n=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))i===-1&&(i=a,s=a);else{const l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),c=a<i;(l||c)&&(this.removeConditionsAndOperators(a,1),r=!0,c&&s--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(s===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(s,n),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=s}getPlaceholderText(t,i){let s=this.translate(t);if(SA(this.filterPlaceholder)){const r=this.filterPlaceholder,n=this.eTypes[i].getValue(),o=this.translate(n);s=r({filterOptionKey:n,filterOption:o,placeholder:s})}else typeof this.filterPlaceholder=="string"&&(s=this.filterPlaceholder);return s}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();this.forEachInput((i,s,r,n)=>{if(!(i instanceof $c))return;const o=s===0&&n>1?"inRangeStart":s===0?"filterOoo":"inRangeEnd",a=s===0&&n>1?t("ariaFilterFromValue","Filter from value"):s===0?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(o,r)),i.setInputAriaLabel(a)})}setElementValue(t,i,s){t instanceof $c&&t.setValue(i!=null?String(i):null,!0)}setElementDisplayed(t,i){t instanceof Mi&&ws(t.getGui(),i)}setElementDisabled(t,i){t instanceof Mi&&C0(t.getGui(),i)}attachElementOnChange(t,i){t instanceof $c&&t.onValueChange(i)}forEachInput(t){this.getConditionTypes().forEach((i,s)=>{this.forEachPositionTypeInput(s,i,t)})}forEachPositionInput(t,i){const s=this.getConditionType(t);this.forEachPositionTypeInput(t,s,i)}forEachPositionTypeInput(t,i,s){const r=this.getNumberOfInputs(i),n=this.getInputs(t);for(let o=0;o<n.length;o++){const a=n[o];a!=null&&s(a,o,t,r)}}isConditionDisabled(t,i){return this.isReadOnly()?!0:t===0?!1:t>i+1}isConditionBodyVisible(t){const i=this.getConditionType(t);return this.getNumberOfInputs(i)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)===yv.EMPTY||this.getValues(t).some(s=>s==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const t=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&t.push(this.createCondition(i));return t}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(t){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,s)=>this.resetJoinOperatorAnd(i,s,this.joinOperatorId+s)),this.eJoinOperatorsOr.forEach((i,s)=>this.resetJoinOperatorOr(i,s,this.joinOperatorId+s)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),dc.resolve()}resetType(t){const s=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(s).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,i,s){this.resetJoinOperator(t,i,this.isDefaultOperator("AND"),this.translate("andCondition"),s)}resetJoinOperatorOr(t,i,s){this.resetJoinOperator(t,i,this.isDefaultOperator("OR"),this.translate("orCondition"),s)}resetJoinOperator(t,i,s,r,n){this.updateJoinOperatorDisabled(t.setValue(s,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${n}`).setLabel(r),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((t,i)=>this.updateJoinOperatorDisabled(t,i)),this.eJoinOperatorsOr.forEach((t,i)=>this.updateJoinOperatorDisabled(t,i))}updateJoinOperatorDisabled(t,i){t.setDisabled(this.isReadOnly()||i>0)}resetInput(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,i){const s=this.mapValuesFromModel(t);this.forEachInput((r,n,o,a)=>{o===i&&this.setElementValue(r,s[n]!=null?s[n]:null)})}setValueFromFloatingFilter(t){this.forEachInput((i,s,r,n)=>{this.setElementValue(i,s===0&&r===0?t:null,!0)})}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,i){this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(i,s=>{this.attachElementOnChange(s,this.listener)}))}individualConditionPasses(t,i){const s=this.getCellValue(t.node),r=this.mapValuesFromModel(i),n=this.optionsFactory.getCustomOption(i.type),o=this.evaluateCustomFilter(n,r,s);return o??(s==null?this.evaluateNullValue(i.type):this.evaluateNonNullValue(r,s,i,t))}evaluateCustomFilter(t,i,s){if(t==null)return;const{predicate:r}=t;if(r!=null&&!i.some(n=>n==null))return r(i,s)}isBlank(t){return t==null||typeof t=="string"&&t.trim().length===0}hasInvalidInputs(){return!1}};La.EMPTY="empty";La.BLANK="blank";La.NOT_BLANK="notBlank";La.EQUALS="equals";La.NOT_EQUAL="notEqual";La.LESS_THAN="lessThan";La.LESS_THAN_OR_EQUAL="lessThanOrEqual";La.GREATER_THAN="greaterThan";La.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";La.IN_RANGE="inRange";La.CONTAINS="contains";La.NOT_CONTAINS="notContains";La.STARTS_WITH="startsWith";La.ENDS_WITH="endsWith";var nn=La,eo=class ao extends nn{setParams(t){super.setParams(t),this.scalarFilterParams=t}evaluateNullValue(t){switch(t){case ao.EQUALS:case ao.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case ao.GREATER_THAN:case ao.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case ao.LESS_THAN:case ao.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case ao.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case ao.BLANK:return!0;case ao.NOT_BLANK:return!1}return!1}evaluateNonNullValue(t,i,s){const r=this.comparator(),n=t[0]!=null?r(t[0],i):0;switch(s.type){case ao.EQUALS:return n===0;case ao.NOT_EQUAL:return n!==0;case ao.GREATER_THAN:return n>0;case ao.GREATER_THAN_OR_EQUAL:return n>=0;case ao.LESS_THAN:return n<0;case ao.LESS_THAN_OR_EQUAL:return n<=0;case ao.IN_RANGE:{const o=r(t[1],i);return this.scalarFilterParams.inRangeInclusive?n>=0&&o<=0:n>0&&o<0}case ao.BLANK:return this.isBlank(i);case ao.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+s.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},U$=1e3,z$=1/0,LX=class extends oN{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:s}=t||{},r=i==nn.IN_RANGE||s===2,n=Qa(e.dateFrom),o=Qa(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){const l=n!==null?Gv(n,a):"null",c=o!==null?Gv(o,a):"null";return`${l}-${c}`}return n!=null?Gv(n,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},aN=class OX extends eo{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=U$,this.maxValidYear=z$,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(t){super.afterGuiAttached(t),this.dateConditionFromComps[0].afterGuiAttached(t)}mapValuesFromModel(t){const{dateFrom:i,dateTo:s,type:r}=t||{};return[i&&Qa(i)||null,s&&Qa(s)||null].slice(0,this.getNumberOfInputs(r))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(t,i){const s=i;return i==null||s<t?-1:s>t?1:0}setParams(t){this.dateFilterParams=t,super.setParams(t);const i=(s,r)=>{if(t[s]!=null)if(isNaN(t[s]))console.warn(`AG Grid: DateFilter ${s} is not a number`);else return t[s]==null?r:Number(t[s]);return r};this.minValidYear=i("minValidYear",U$),this.maxValidYear=i("maxValidYear",z$),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:Qa(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:Qa(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new LX(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(t){const i=new _X(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},t);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(t,i){t.setDate(i)}setElementDisplayed(t,i){t.setDisplayed(i)}setElementDisabled(t,i){t.setDisabled(i)}getDefaultFilterOptions(){return OX.DEFAULT_FILTER_OPTIONS}createValueElement(){const i=this.gos.getDocument().createElement("div");return i.classList.add("ag-filter-body"),this.createFromToElement(i,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(i,this.eConditionPanelsTo,this.dateConditionToComps,"to"),i}createFromToElement(t,i,s,r){const o=this.gos.getDocument().createElement("div");o.classList.add(`ag-filter-${r}`),o.classList.add(`ag-filter-date-${r}`),i.push(o),t.appendChild(o),s.push(this.createDateCompWrapper(o))}removeValueElements(t,i){this.removeDateComps(this.dateConditionFromComps,t,i),this.removeDateComps(this.dateConditionToComps,t,i),this.removeItems(this.eConditionPanelsFrom,t,i),this.removeItems(this.eConditionPanelsTo,t,i)}removeDateComps(t,i,s){this.removeItems(t,i,s).forEach(n=>n.destroy())}isValidDateValue(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(t){if(!super.isConditionUiComplete(t))return!1;let i=!0;return this.forEachInput((s,r,n,o)=>{n!==t||!i||r>=o||(i=i&&this.isValidDateValue(s.getDate()))}),i}areSimpleModelsEqual(t,i){return t.dateFrom===i.dateFrom&&t.dateTo===i.dateTo&&t.type===i.type}getFilterType(){return"date"}createCondition(t){const i=this.getConditionType(t),s={},r=this.getValues(t);return r.length>0&&(s.dateFrom=cc(r[0])),r.length>1&&(s.dateTo=cc(r[1])),gi({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},s)}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),s=t("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(i),r.setInputAriaLabel(s)})}getInputs(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]}getValues(t){const i=[];return this.forEachPositionInput(t,(s,r,n,o)=>{r<o&&i.push(s.getDate())}),i}translate(t){return t===eo.LESS_THAN?super.translate("before"):t===eo.GREATER_THAN?super.translate("after"):super.translate(t)}getModelAsString(t){var i;return(i=this.filterModelFormatter.getModelAsString(t))!=null?i:""}};aN.DEFAULT_FILTER_OPTIONS=[eo.EQUALS,eo.NOT_EQUAL,eo.LESS_THAN,eo.GREATER_THAN,eo.IN_RANGE,eo.BLANK,eo.NOT_BLANK];B([ce("userComponentFactory")],aN.prototype,"userComponentFactory",2);var IX=aN,lN=class extends Mi{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new TX,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return i==null||i==1}isTypeEditable(e){const t=[nn.IN_RANGE,nn.EMPTY,nn.BLANK,nn.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${t} ${i("ariaFilterInput","Filter Input")}`}};B([ce("columnModel")],lN.prototype,"columnModel",2);var NA=class extends lN{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return IX.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new LX(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const i=e;this.dateComp.setDate(Qa(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){ws(this.eDateWrapper,e),ws(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=cc(e);this.params.parentFilterInstance(i=>{if(i){const s=Qa(t);i.onFloatingFilterChanged(this.getLastType()||null,s)}})}getDateComponentParams(){const e=S_.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Aa(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new _X(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};B([ce("userComponentFactory")],NA.prototype,"userComponentFactory",2);B([Gt("eReadOnlyText")],NA.prototype,"eReadOnlyText",2);B([Gt("eDateWrapper")],NA.prototype,"eDateWrapper",2);var NX=class extends Mi{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListener(t,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()}),this.addManagedListener(t,"input",i=>{i.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Ku(),t.type=i?"date":"text";const{minValidYear:s,maxValidYear:r,minValidDate:n,maxValidDate:o}=e.filterParams||{};if(n&&s&&Si("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&r&&Si("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),n&&o){const[a,l]=[n,o].map(c=>c instanceof Date?c:Qa(c));a&&l&&a.getTime()>l.getTime()&&Si("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}n?n instanceof Date?t.min=Gv(n):t.min=n:s&&(t.min=`${s}-01-01`),o?o instanceof Date?t.max=Gv(o):t.max=o:r&&(t.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Qa(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(cc(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:DA()||HI()||Ku()&&GI()>=14.1}};B([Gt("eDateInput")],NX.prototype,"eDateInput",2);var hm=class extends $c{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=Rt(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{PA(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",t),this.addManagedListener(this.eInput,"paste",i=>{var s;const r=(s=i.clipboardData)==null?void 0:s.getData("text");r&&r.split("").some(n=>!e.test(n))&&i.preventDefault()})}},cN=class extends hm{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const r=parseFloat(this.eInput.value),n=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==n&&this.setValue(n)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:e,min:t,max:i,step:s}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof i=="number"&&this.setMax(i),typeof s=="number"&&this.setStep(s)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const s=parseFloat(e).toFixed(this.precision);return parseFloat(s).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,Gu(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Gu(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Gu(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(Rt(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(!s){i=this.adjustPrecision(i);const r=this.normalizeValue(i);s=i!=r}if(s)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},VX=class extends oN{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==nn.IN_RANGE||i===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function CM(e){const{allowedCharPattern:t}=e??{};return t??null}var BX=class GX extends eo{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:super.refresh(t)}mapValuesFromModel(t){const{filter:i,filterTo:s,type:r}=t||{};return[this.processValue(i),this.processValue(s)].slice(0,this.getNumberOfInputs(r))}getDefaultDebounceMs(){return 500}comparator(){return(t,i)=>t===i?0:t<i?1:-1}setParams(t){this.numberFilterParams=t,super.setParams(t),this.filterModelFormatter=new VX(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return GX.DEFAULT_FILTER_OPTIONS}setElementValue(t,i,s){const r=!s&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;super.setElementValue(t,r)}createValueElement(){const t=CM(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),un(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",t),this.createFromToElement(i,this.eValuesTo,"to",t),i}createFromToElement(t,i,s,r){const n=this.createManagedBean(r?new hm({allowedCharPattern:r}):new cN);n.addCssClass(`ag-filter-${s}`),n.addCssClass("ag-filter-filter"),i.push(n),t.appendChild(n.getGui())}removeValueElements(t,i){this.removeComponents(this.eValuesFrom,t,i),this.removeComponents(this.eValuesTo,t,i)}getValues(t){const i=[];return this.forEachPositionInput(t,(s,r,n,o)=>{r<o&&i.push(this.processValue(this.stringToFloat(s.getValue())))}),i}areSimpleModelsEqual(t,i){return t.filter===i.filter&&t.filterTo===i.filterTo&&t.type===i.type}getFilterType(){return"number"}processValue(t){return t==null||isNaN(t)?null:t}stringToFloat(t){if(typeof t=="number")return t;let i=Bu(t);return i!=null&&i.trim()===""&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):i==null||i.trim()==="-"?null:parseFloat(i)}createCondition(t){const i=this.getConditionType(t),s={filterType:this.getFilterType(),type:i},r=this.getValues(t);return r.length>0&&(s.filter=r[0]),r.length>1&&(s.filterTo=r[1]),s}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getModelAsString(t){var i;return(i=this.filterModelFormatter.getModelAsString(t))!=null?i:""}hasInvalidInputs(){let t=!1;return this.forEachInput(i=>{if(!i.getInputElement().validity.valid){t=!0;return}}),t}};BX.DEFAULT_FILTER_OPTIONS=[eo.EQUALS,eo.NOT_EQUAL,eo.GREATER_THAN,eo.GREATER_THAN_OR_EQUAL,eo.LESS_THAN,eo.LESS_THAN_OR_EQUAL,eo.IN_RANGE,eo.BLANK,eo.NOT_BLANK];var HX=BX,$X=class extends oN{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==nn.IN_RANGE||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}},Mc=class Cv extends nn{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(t){const i=t&&t.trim();return i===""?t:i}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?Cv.DEFAULT_FORMATTER:Cv.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new $X(this.localeService,this.optionsFactory)}getTextMatcher(){const t=this.textFilterParams.textCustomComparator;return t?(is.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:i,value:s,filterText:r})=>t(i,s,r)):this.textFilterParams.textMatcher||Cv.DEFAULT_MATCHER}createCondition(t){const i=this.getConditionType(t),s={filterType:this.getFilterType(),type:i},r=this.getValuesWithSideEffects(t,!0);return r.length>0&&(s.filter=r[0]),r.length>1&&(s.filterTo=r[1]),s}getFilterType(){return"text"}areSimpleModelsEqual(t,i){return t.filter===i.filter&&t.filterTo===i.filterTo&&t.type===i.type}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getValues(t){return this.getValuesWithSideEffects(t,!1)}getValuesWithSideEffects(t,i){const s=[];return this.forEachPositionInput(t,(r,n,o,a)=>{var l;if(n<a){let c=Bu(r.getValue());i&&this.textFilterParams.trimInput&&(c=(l=Cv.trimInput(c))!=null?l:null,r.setValue(c,!0)),s.push(c)}}),s}getDefaultFilterOptions(){return Cv.DEFAULT_FILTER_OPTIONS}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),un(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t}createFromToElement(t,i,s){const r=this.createManagedBean(new hm);r.addCssClass(`ag-filter-${s}`),r.addCssClass("ag-filter-filter"),i.push(r),t.appendChild(r.getGui())}removeValueElements(t,i){this.removeComponents(this.eValuesFrom,t,i),this.removeComponents(this.eValuesTo,t,i)}mapValuesFromModel(t){const{filter:i,filterTo:s,type:r}=t||{};return[i||null,s||null].slice(0,this.getNumberOfInputs(r))}evaluateNullValue(t){const i=[nn.NOT_EQUAL,nn.NOT_CONTAINS,nn.BLANK];return t?i.indexOf(t)>=0:!1}evaluateNonNullValue(t,i,s,r){const n=t.map(y=>this.formatter(y))||[],o=this.formatter(i),{api:a,colDef:l,column:c,columnApi:u,context:h,textFormatter:f}=this.textFilterParams;if(s.type===nn.BLANK)return this.isBlank(i);if(s.type===nn.NOT_BLANK)return!this.isBlank(i);const p={api:a,colDef:l,column:c,columnApi:u,context:h,node:r.node,data:r.data,filterOption:s.type,value:o,textFormatter:f};return n.some(y=>this.matcher(Vr(gi({},p),{filterText:y})))}getModelAsString(t){var i;return(i=this.filterModelFormatter.getModelAsString(t))!=null?i:""}};Mc.DEFAULT_FILTER_OPTIONS=[nn.CONTAINS,nn.NOT_CONTAINS,nn.EQUALS,nn.NOT_EQUAL,nn.STARTS_WITH,nn.ENDS_WITH,nn.BLANK,nn.NOT_BLANK];Mc.DEFAULT_FORMATTER=e=>e;Mc.DEFAULT_LOWERCASE_FORMATTER=e=>e==null?null:e.toString().toLowerCase();Mc.DEFAULT_MATCHER=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case Mc.CONTAINS:return t.indexOf(i)>=0;case Mc.NOT_CONTAINS:return t.indexOf(i)<0;case Mc.EQUALS:return t===i;case Mc.NOT_EQUAL:return t!=i;case Mc.STARTS_WITH:return t.indexOf(i)===0;case Mc.ENDS_WITH:const s=t.lastIndexOf(i);return s>=0&&s===t.length-i.length;default:return!1}};var uN=Mc,WX=class extends Lt{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var t;this.eFloatingFilterTextInput=this.createManagedBean(new hm((t=this.params)==null?void 0:t.config));const i=this.eFloatingFilterTextInput.getGui();e.appendChild(i),this.addManagedListener(i,"input",s=>this.valueChangedListener(s)),this.addManagedListener(i,"keydown",s=>this.valueChangedListener(s))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},VA=class extends lN{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;this.params=e;const i=(t=e.browserAutoComplete)!=null?t:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=S_.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const s=S_.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=Aa(this.syncUpWithParentFilter.bind(this),s);this.floatingFilterInputService.setValueChangedListener(r)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();An(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===Xe.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=uN.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(s=>{s&&s.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}};B([Gt("eFloatingFilterInputContainer")],VA.prototype,"eFloatingFilterInputContainer",2);B([It],VA.prototype,"postConstruct",1);var QPe=class extends Lt{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new cN),this.eFloatingFilterTextInput=this.createManagedBean(new hm),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,s=>this.valueChangedListener(s)),this.setupListeners(i,s=>this.valueChangedListener(s))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},JPe=class extends VA{init(e){var t;super.init(e),this.filterModelFormatter=new VX(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){CM(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return HX.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=CM(e.filterParams),this.allowedCharPattern?this.createManagedBean(new WX({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new QPe)}},ZPe=class extends VA{init(e){super.init(e),this.filterModelFormatter=new $X(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return uN.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new WX)}},gS=class wC{constructor(t,i=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new tu,this.eElement=t,this.preventMouseClick=i;const s=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",s,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",s,{passive:!0}),this.eElement.removeEventListener("touchmove",r,{passive:!0}),this.eElement.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(t){for(let i=0;i<t.length;i++)if(t[i].identifier===this.touchStart.identifier)return t[i];return null}addEventListener(t,i){this.eventService.addEventListener(t,i)}removeEventListener(t,i){this.eventService.removeEventListener(t,i)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout(()=>{const s=this.touchStart===i;if(this.touching&&s&&!this.moved){this.moved=!0;const r={type:wC.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:t};this.eventService.dispatchEvent(r)}},500)}onTouchMove(t){if(!this.touching)return;const i=this.getActiveTouch(t.touches);if(!i)return;!iN(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){if(this.touching){if(!this.moved){const i={type:wC.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}}checkForDoubleTap(){const t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>wC.DOUBLE_TAP_MILLIS){const s={type:wC.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(s),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(t=>t())}};gS.EVENT_TAP="tap";gS.EVENT_DOUBLE_TAP="doubleTap";gS.EVENT_LONG_TAP="longTap";gS.DOUBLE_TAP_MILLIS=500;var wo=gS,uh=class UX extends Mi{constructor(t){super(),t||this.setTemplate(UX.TEMPLATE)}attachCustomElements(t,i,s,r,n){this.eSortOrder=t,this.eSortAsc=i,this.eSortDesc=s,this.eSortMixed=r,this.eSortNone=n}setupSort(t,i=!1){this.column=t,this.suppressOrder=i,this.setupMultiSortIndicator(),!(!this.column.isSortable()&&!this.column.getColDef().showRowGroup)&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,X.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(t,i,s){if(i==null)return;const r=Yr(t,this.gos,s);r&&i.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const i=t==="asc";ws(this.eSortAsc,i,{skipAriaHidden:!0})}if(this.eSortDesc){const i=t==="desc";ws(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){const i=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),s=t==null;ws(this.eSortNone,!i&&s,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const t=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&t&&(this.addManagedListener(this.eventService,X.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";ws(this.eSortMixed,t,{skipAriaHidden:!0})}}updateSortOrder(){var t;if(!this.eSortOrder)return;const i=this.sortController.getColumnsWithSortingOrdered(),s=(t=this.sortController.getDisplaySortIndexForColumn(this.column))!=null?t:-1,r=i.some(o=>{var a;return(a=this.sortController.getDisplaySortIndexForColumn(o))!=null?a:!1}),n=s>=0&&r;ws(this.eSortOrder,n,{skipAriaHidden:!0}),s>=0?this.eSortOrder.textContent=(s+1).toString():An(this.eSortOrder)}};uh.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;B([Gt("eSortOrder")],uh.prototype,"eSortOrder",2);B([Gt("eSortAsc")],uh.prototype,"eSortAsc",2);B([Gt("eSortDesc")],uh.prototype,"eSortDesc",2);B([Gt("eSortMixed")],uh.prototype,"eSortMixed",2);B([Gt("eSortNone")],uh.prototype,"eSortNone",2);B([ce("columnModel")],uh.prototype,"columnModel",2);B([ce("sortController")],uh.prototype,"sortController",2);var dN=uh,pa=class zX extends Mi{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(t){const i=this.params;return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||i.enableFilterButton!=t.enableFilterButton||i.enableFilterIcon!=t.enableFilterIcon?!1:(this.setDisplayName(t),!0)}workOutTemplate(){var t;let i=(t=this.params.template)!=null?t:zX.TEMPLATE;return i=i&&i.trim?i.trim():i,i}init(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;const i=Bn(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}}addInIcon(t,i,s){if(i==null)return;const r=Yr(t,this.gos,s);r&&i.appendChild(r)}setupTap(){const{gos:t}=this;if(t.get("suppressTouch"))return;const i=new wo(this.getGui(),!0),s=this.shouldSuppressMenuHide(),r=s&&Rt(this.eMenu),n=r?new wo(this.eMenu,!0):i;if(this.params.enableMenu){const o=r?"EVENT_TAP":"EVENT_LONG_TAP",a=l=>this.params.showColumnMenuAfterMouseClick(l.touchStart);this.addManagedListener(n,wo[o],a)}if(this.params.enableSorting){const o=a=>{var l,c;const u=a.touchStart.target;s&&((l=this.eMenu)!=null&&l.contains(u)||(c=this.eFilterButton)!=null&&c.contains(u))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,wo.EVENT_TAP,o)}if(this.params.enableFilterButton){const o=new wo(this.eFilterButton,!0);this.addManagedListener(o,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>i.destroy()),r&&this.addDestroyFunc(()=>n.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Hc(this.eMenu),this.eMenu=void 0;return}const t=this.menuService.isLegacyMenuEnabled();this.addInIcon(t?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!t),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(t){var i,s,r,n;const{column:o}=this.params,a=this.menuService.isLegacyMenuEnabled();if(t&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter((s=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?s:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((n=(r=this.eMenu)!=null?r:this.eFilterButton)!=null?n:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new dN(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,gr.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",i=>{const s=this.params.column.isMoving(),n=new Date().getTime()-this.lastMovingChanged<50;if(!(s||n)){const l=this.gos.get("multiSortKey")==="ctrl"?i.ctrlKey||i.metaKey:i.shiftKey;this.params.progressSort(l)}});const t=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const i=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),r=!(i==null?void 0:i.every(n=>this.params.column.getSort()==n.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedListener(this.eventService,X.EVENT_SORT_CHANGED,t),this.addManagedListener(this.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0}configureFilter(t,i,s){if(!t)return Hc(i),!1;const{column:r}=this.params;return this.addInIcon("filter",i,r),this.addManagedListener(r,gr.EVENT_FILTER_CHANGED,s),s(),!0}onFilterChangedIcon(){const t=this.params.column.isFilterActive();ws(this.eFilter,t,{skipAriaHidden:!0})}onFilterChangedButton(){const t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)}getAnchorElementForMenu(t){var i,s,r,n;return t?(s=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?s:this.getGui():(n=(r=this.eMenu)!=null?r:this.eFilterButton)!=null?n:this.getGui()}};pa.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;B([ce("sortController")],pa.prototype,"sortController",2);B([ce("menuService")],pa.prototype,"menuService",2);B([ce("columnModel")],pa.prototype,"columnModel",2);B([Gt("eFilter")],pa.prototype,"eFilter",2);B([Gt("eFilterButton")],pa.prototype,"eFilterButton",2);B([Gt("eSortIndicator")],pa.prototype,"eSortIndicator",2);B([Gt("eMenu")],pa.prototype,"eMenu",2);B([Gt("eLabel")],pa.prototype,"eLabel",2);B([Gt("eText")],pa.prototype,"eText",2);B([Gt("eSortOrder")],pa.prototype,"eSortOrder",2);B([Gt("eSortAsc")],pa.prototype,"eSortAsc",2);B([Gt("eSortDesc")],pa.prototype,"eSortDesc",2);B([Gt("eSortMixed")],pa.prototype,"eSortMixed",2);B([Gt("eSortNone")],pa.prototype,"eSortNone",2);var bM=pa,mS=class jX extends Mi{constructor(){super(jX.TEMPLATE)}destroy(){super.destroy()}init(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&Si("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const t=r=>{if(Yc(r))return;const n=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);const i=r=>{iu(r)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();const s=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(s,On.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(s,On.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(t,i){const s=new wo(t,!0);this.addManagedListener(s,wo.EVENT_TAP,i),this.addDestroyFunc(()=>s.destroy()),this.addManagedListener(t,"click",i)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const i=this.params.columnGroup.isExpanded();ws(this.eOpenIcon,i),ws(this.eCloseIcon,!i)}else ws(this.eOpenIcon,!1),ws(this.eCloseIcon,!1)}addInIcon(t,i){const s=Yr(t,this.gos,null);s&&this.getRefElement(i).appendChild(s)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){ws(this.eOpenIcon,!1),ws(this.eCloseIcon,!1);return}}setupLabel(){var t;const{displayName:i,columnGroup:s}=this.params;if(Rt(i)){const r=Bn(i,!0);this.getRefElement("agLabel").textContent=r}this.addOrRemoveCssClass("ag-sticky-label",!((t=s.getColGroupDef())!=null&&t.suppressStickyLabel))}};mS.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;B([ce("columnModel")],mS.prototype,"columnModel",2);B([Gt("agOpened")],mS.prototype,"eOpenIcon",2);B([Gt("agClosed")],mS.prototype,"eCloseIcon",2);var eFe=mS,fm=class extends Mi{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},hN=class KX extends fm{constructor(){super(KX.TEMPLATE)}init(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),Rt(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(t){const i=t.key;(i===Xe.LEFT||i===Xe.UP||i===Xe.RIGHT||i===Xe.DOWN||t.shiftKey&&i===Xe.ENTER)&&t.stopPropagation()}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const t=this.eTextArea.getValue();return!Rt(t)&&!Rt(this.params.value)?this.params.value:this.params.parseValue(t)}};hN.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;B([Gt("eTextArea")],hN.prototype,"eTextArea",2);var tFe=hN,fN=class extends fm{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:s}=this,{values:r,value:n,eventKey:o}=e;if(Fi(r)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=o!=null?o===Xe.ENTER:!1;let a=!1;r.forEach(h=>{const f={value:h},p=i.formatValue(e.column,null,h),y=p!=null;f.text=y?p:h,t.addOption(f),a=a||n===h}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;l!=null&&t.setPickerGap(l),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),s.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,OA.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};B([ce("valueService")],fN.prototype,"valueService",2);B([Gt("eSelect")],fN.prototype,"eSelect",2);var vS=class extends fm{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;this.cellEditorInput.init(t,e);let i;if(e.cellStartedEdit){this.focusAfterAttached=!0;const s=e.eventKey;s===Xe.BACKSPACE||e.eventKey===Xe.DELETE?i="":s&&s.length===1?i=s:(i=this.cellEditorInput.getStartValue(),s!==Xe.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&t.setStartValue(i),this.addManagedListener(t.getGui(),"keydown",s=>{const{key:r}=s;(r===Xe.PAGE_UP||r===Xe.PAGE_DOWN)&&s.preventDefault()})}afterGuiAttached(){var e,t;const i=this.localeService.getLocaleTextFunc(),s=this.eInput;if(s.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Ku()||s.getFocusableElement().focus();const r=s.getInputElement();this.highlightAllOnFocus?r.select():(t=(e=this.cellEditorInput).setCaret)==null||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};B([Gt("eInput")],vS.prototype,"eInput",2);var iFe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!Rt(e)&&!Rt(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=Rt(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},j$=class extends vS{constructor(){super(new iFe)}},sFe="",rFe="",YX=class extends Mi{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),s=e.formatValue(i),r=Rt(s)?s:i,n=t>=0;n?this.eDelta.textContent=sFe+r:this.eDelta.textContent=rFe+r,this.eDelta.classList.toggle("ag-value-change-delta-up",n),this.eDelta.classList.toggle("ag-value-change-delta-down",!n)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),An(this.eDelta)}refresh(e,t=!1){const i=e.value;if(i===this.lastValue||(Rt(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:Rt(e.value)?this.eValue.textContent=i:An(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){const s=i-this.lastValue;this.showDelta(e,s)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}};B([ce("filterManager")],YX.prototype,"filterManager",2);var XX=class extends Mi{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;return Fi(i)&&(i=""),i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=i,Rt(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:Rt(e.value)?this.eCurrent.textContent=i:An(this.eCurrent),!0)}};B([ce("filterManager")],XX.prototype,"filterManager",2);var Gr=class Ar{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Ar.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){const s=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(t,s,i);this.dispatchLocalEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,s){return{type:Ar.EVENT_DATA_CHANGED,node:this,oldData:i,newData:t,update:s}}createLocalRowEvent(t){return{type:t,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Ar(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){const s=Rt(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,s);const n=this.createDataChangedEvent(t,r,!1);this.dispatchLocalEvent(n)}checkRowSelectable(){const t=this.beans.gos.get("isRowSelectable");this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_SELECTABLE_CHANGED)),i)return;if(this.beans.gos.get("groupSelectsChildren")){const r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const i=this.beans.gos.getCallback("getRowId");if(i)if(this.data){const s=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(Ar.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${Ar.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=t}getGroupKeys(t=!1){const i=[];let s=this;for(t&&(s=s.parent);s&&s.level>=0;)i.push(s.key),s=s.parent;return i.reverse(),i}isPixelInRange(t){return!Rt(this.rowTop)||!Rt(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_TOP_CHANGED)),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_DISPLAYED_CHANGED)))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_DRAGGING_CHANGED)))}setHighlighted(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_HIGHLIGHT_CHANGED)))}setHovered(t){this.hovered!==t&&(this.hovered=t)}isHovered(){return this.hovered}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_MASTER_CHANGED)))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_GROUP_CHANGED)))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Aa(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,i=!0,s=0;const r=this.__autoHeights;if(r==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(a=>{let l=r[a.getId()];if(l==null)if(this.beans.columnModel.isColSpanActive()){let c=[];switch(a.getPinned()){case"left":c=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":c=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:c=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(c.includes(a)){t=!0;return}l=-1}else{t=!0;return}else i=!1;l>s&&(s=l)}),t)||((i||s<10)&&(s=this.beans.gos.getRowHeightForNode(this).height),s==this.rowHeight))return;this.setRowHeight(s);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_UI_LEVEL_CHANGED)))}setExpanded(t,i,s){if(this.expanded===t)return;this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_EXPANDED_CHANGED));const r=Object.assign({},this.createGlobalRowEvent(X.EVENT_ROW_GROUP_OPENED),{expanded:t,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r,s),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(t){this.eventService&&this.eventService.dispatchEvent(t)}setDataValue(t,i,s){const n=(()=>{var l;return typeof t!="string"?t:(l=this.beans.columnModel.getGridColumn(t))!=null?l:this.beans.columnModel.getPrimaryColumn(t)})(),o=this.getValueFromValueService(n);if(this.beans.gos.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(n,o,i,s),!1;const a=this.beans.valueService.setValue(this,n,i,s);return this.dispatchCellChangedEvent(n,i,o),this.checkRowSelectable(),a}getValueFromValueService(t){var i,s;const r=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!r;let o=!1;const a=(i=this.beans.gos.get("groupTotalRow"))!=null?i:this.beans.gos.get("groupIncludeFooter");typeof a!="function"?o=!!a:o=!!((s=this.beans.gos.getCallback("groupTotalRow"))!=null?s:this.beans.gos.getCallback("groupIncludeFooter"))({node:this});const l=this.beans.gos.get("groupSuppressBlankHeader"),c=n&&o&&!l;return this.beans.valueService.getValue(t,this,!1,c)}dispatchEventForSaveValueReadOnly(t,i,s,r){const n=this.beans.gos.addGridCommonParams({type:X.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),data:this.data,node:this,oldValue:i,newValue:s,value:s,source:r});this.beans.eventService.dispatchEvent(n)}setGroupValue(t,i){const s=this.beans.columnModel.getGridColumn(t);Fi(this.groupData)&&(this.groupData={});const r=s.getColId(),n=this.groupData[r];n!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(s,i,n))}setAggData(t){const i=this.aggData;if(this.aggData=t,this.eventService){const s=r=>{const n=this.aggData?this.aggData[r]:void 0,o=i?i[r]:void 0;if(n===o)return;const a=this.beans.columnModel.lookupGridColumn(r);a&&this.dispatchCellChangedEvent(a,n,o)};for(const r in this.aggData)s(r);for(const r in t)r in this.aggData||s(r)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){const s=this.beans.gos.get("treeData"),r=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(s?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ar.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&rc(this.childrenAfterGroup)}dispatchCellChangedEvent(t,i,s){const r={type:Ar.EVENT_CELL_CHANGED,node:this,column:t,newValue:i,oldValue:s};this.dispatchLocalEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var t;let i=!1,s=!1,r=!1;if(!((t=this.childrenAfterGroup)!=null&&t.length))return this.selectable?this.selected:null;for(let n=0;n<this.childrenAfterGroup.length;n++){const o=this.childrenAfterGroup[n];let a=o.isSelected();if(!o.selectable){const l=o.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:i=!0;break;case!1:s=!0;break;default:r=!0;break}}if(!(r||i&&s))return i?!0:s?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}selectThisNode(t,i,s="api"){const r=!this.selectable&&t,n=this.selected===t;if(r||n)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(Ar.EVENT_ROW_SELECTED));const o=this.sibling;o&&o.footer&&o.eventService&&o.dispatchLocalEvent(o.createLocalRowEvent(Ar.EVENT_ROW_SELECTED));const a=Vr(gi({},this.createGlobalRowEvent(X.EVENT_ROW_SELECTED)),{event:i||null,source:s});return this.beans.eventService.dispatchEvent(a),!0}setSelected(t,i=!1,s="api"){if(typeof s=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:s})}setSelectedParams(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Vr(gi({},t),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(t){let i=this.parent;for(;i;){if(i===t)return!0;i=i.parent}return!1}addEventListener(t,i){var s,r;this.eventService||(this.eventService=new tu),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new RI(this.beans.frameworkOverrides));const n=(r=(s=this.frameworkEventListenerService)==null?void 0:s.wrap(i))!=null?r:i;this.eventService.addEventListener(t,n)}removeEventListener(t,i){var s,r;if(!this.eventService)return;const n=(r=(s=this.frameworkEventListenerService)==null?void 0:s.unwrap(i))!=null?r:i;this.eventService.removeEventListener(t,n),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(Ar.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(Ar.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(t){let i=this,s=!0,r=!1,n=null;for(;s&&!r;){const o=i.parent;Rt(o)&&i.firstChild?o.rowGroupColumn===t&&(r=!0,n=o):s=!1,i=o}return r?n:null}isFullWidthCell(){if(this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.key==null)return;const t=[];let i=this;for(;i.key!=null;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Set(["eventService","__objectId","sticky"]),i=new Ar(this.beans);Object.keys(this).forEach(s=>{t.has(s)||(i[s]=this[s])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};Gr.ID_PREFIX_ROW_GROUP="row-group-";Gr.ID_PREFIX_TOP_PINNED="t-";Gr.ID_PREFIX_BOTTOM_PINNED="b-";Gr.OBJECT_ID_SEQUENCE=0;Gr.EVENT_ROW_SELECTED="rowSelected";Gr.EVENT_DATA_CHANGED="dataChanged";Gr.EVENT_CELL_CHANGED="cellChanged";Gr.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";Gr.EVENT_MASTER_CHANGED="masterChanged";Gr.EVENT_GROUP_CHANGED="groupChanged";Gr.EVENT_MOUSE_ENTER="mouseEnter";Gr.EVENT_MOUSE_LEAVE="mouseLeave";Gr.EVENT_HEIGHT_CHANGED="heightChanged";Gr.EVENT_TOP_CHANGED="topChanged";Gr.EVENT_DISPLAYED_CHANGED="displayedChanged";Gr.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";Gr.EVENT_LAST_CHILD_CHANGED="lastChildChanged";Gr.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";Gr.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";Gr.EVENT_EXPANDED_CHANGED="expandedChanged";Gr.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";Gr.EVENT_SELECTABLE_CHANGED="selectableChanged";Gr.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";Gr.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";Gr.EVENT_DRAGGING_CHANGED="draggingChanged";var ts=Gr,BA=class extends Mi{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=kA(e,t),[s,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],n=e(s,r);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",s=>{iu(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",s=>{iu(s);const r=this.gos.get("groupSelectsFiltered"),n=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(n,r)?this.onClicked(!0,r,s||{})===0&&this.onClicked(!1,r,s):n?this.onClicked(!1,r,s):this.onClicked(!0,r,s||{})}),this.addManagedListener(this.rowNode,ts.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gos.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,ts.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,ts.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){var e,t,i;let s=this.rowNode.selectable;const r=this.getIsVisible();if(s)if(typeof r=="function"){const o=(e=this.overrides)==null?void 0:e.callbackParams;if(!this.column)s=r(Vr(gi({},o),{node:this.rowNode,data:this.rowNode.data}));else{const a=this.column.createColumnFunctionCallbackParams(this.rowNode);s=r(gi(gi({},o),a))}}else s=r??!1;if((t=this.column)==null?void 0:t.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if((i=this.overrides)!=null&&i.removeHidden){this.setDisplayed(s);return}this.setVisible(s)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:(t=(e=this.column)==null?void 0:e.getColDef())==null?void 0:t.checkboxSelection}};B([Gt("eCheckbox")],BA.prototype,"eCheckbox",2);B([It],BA.prototype,"postConstruct",1);var qX=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(qX||{}),Ni=class extends Lt{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=Ql("columnMovePin",this.gos,null),this.eHideIcon=Ql("columnMoveHide",this.gos,null),this.eMoveIcon=Ql("columnMoveMove",this.gos,null),this.eLeftIcon=Ql("columnMoveLeft",this.gos,null),this.eRightIcon=Ql("columnMoveRight",this.gos,null),this.eGroupIcon=Ql("columnMoveGroup",this.gos,null),this.eAggregateIcon=Ql("columnMoveValue",this.gos,null),this.ePivotIcon=Ql("columnMovePivot",this.gos,null),this.eDropNotAllowedIcon=Ql("dropNotAllowed",this.gos,null)}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),za(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=void 0,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var i,s,r,n;const o=this.getHorizontalDirection(e),a=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const l=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),c=this.findCurrentDropTarget(e,l);if(c!==this.lastDropTarget)this.leaveLastTargetIfExists(e,o,a,t),this.lastDropTarget!==null&&c===null&&((s=(i=this.dragSource).onGridExit)==null||s.call(i,this.dragItem)),this.lastDropTarget===null&&c!==null&&((n=(r=this.dragSource).onGridEnter)==null||n.call(r,this.dragItem)),this.enterDragTargetIfExists(c,e,o,a,t),this.lastDropTarget=c;else if(c&&c.onDragging){const u=this.createDropTargetEvent(c,e,o,a,t);c.onDragging(u)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const s=i.getBoundingClientRect();if(s.width===0||s.height===0)return!1;const r=e.clientX>=s.left&&e.clientX<s.right,n=e.clientY>=s.top&&e.clientY<s.bottom;if(!r||!n)return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let s=!1;for(const r of i)if(this.allContainersIntersect(e,r)){s=!0;break}return t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement)?!1:s&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){const i=t.length;if(i===0)return null;if(i===1)return t[0];const r=this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const n of r)for(const o of t)if(_Y(this.getAllContainersFromDropTarget(o)).indexOf(n)!==-1)return o;return null}enterDragTargetIfExists(e,t,i,s,r){if(e){if(e.onDragEnter){const n=this.createDropTargetEvent(e,t,i,s,r);e.onDragEnter(n)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,e,t,i,s);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,s,r){const n=e.getContainer(),o=n.getBoundingClientRect(),{gridApi:a,columnApi:l,dragItem:c,dragSource:u}=this,h=t.clientX-o.left,f=t.clientY-o.top;return{event:t,x:h,y:f,vDirection:s,hDirection:i,dragSource:u,fromNudge:r,dragItem:c,api:a,columnApi:l,dropZoneTarget:n}}positionGhost(e){const t=this.eGhost;if(!t)return;const s=t.getBoundingClientRect().height,r=ZY()-2,n=eX()-2,o=XI(t.offsetParent),{clientY:a,clientX:l}=e;let c=a-o.top-s/2,u=l-o.left-10;const h=this.gos.getDocument(),f=h.defaultView||window,p=f.pageYOffset||h.documentElement.scrollTop,y=f.pageXOffset||h.documentElement.scrollLeft;r>0&&u+t.clientWidth>r+y&&(u=r+y-t.clientWidth),u<0&&(u=0),n>0&&c+t.clientHeight>n+p&&(c=n+p-t.clientHeight),c<0&&(c=0),t.style.left=`${u}px`,t.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Ja(Ni.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let i=this.dragSource.dragItemName;SA(i)&&(i=i()),t.innerHTML=Bn(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const s=this.gos.getDocument();let r=null,n=null;try{r=s.fullscreenElement}catch{}finally{r||(r=this.gos.getRootNode());const o=r.querySelector("body");o?n=o:r instanceof ShadowRoot?n=r:r instanceof Document?n=r==null?void 0:r.documentElement:n=r}this.eGhostParent=n,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){An(this.eGhostIcon);let i=null;switch(e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():Ni.ICON_NOT_ALLOWED),e){case Ni.ICON_PINNED:i=this.ePinnedIcon;break;case Ni.ICON_MOVE:i=this.eMoveIcon;break;case Ni.ICON_LEFT:i=this.eLeftIcon;break;case Ni.ICON_RIGHT:i=this.eRightIcon;break;case Ni.ICON_GROUP:i=this.eGroupIcon;break;case Ni.ICON_AGGREGATE:i=this.eAggregateIcon;break;case Ni.ICON_PIVOT:i=this.ePivotIcon;break;case Ni.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case Ni.ICON_HIDE:i=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),!(i===this.eHideIcon&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}};Ni.ICON_PINNED="pinned";Ni.ICON_MOVE="move";Ni.ICON_LEFT="left";Ni.ICON_RIGHT="right";Ni.ICON_GROUP="group";Ni.ICON_AGGREGATE="aggregate";Ni.ICON_PIVOT="pivot";Ni.ICON_NOT_ALLOWED="notAllowed";Ni.ICON_HIDE="hide";Ni.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;B([ce("dragService")],Ni.prototype,"dragService",2);B([ce("mouseEventService")],Ni.prototype,"mouseEventService",2);B([ce("columnApi")],Ni.prototype,"columnApi",2);B([ce("gridApi")],Ni.prototype,"gridApi",2);B([It],Ni.prototype,"init",1);B([Ma],Ni.prototype,"clearDragSourceParamsList",1);Ni=B([ri("dragAndDropService")],Ni);var kg=class extends Mi{constructor(e,t,i,s,r,n){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=r,this.suppressVisibilityChange=n,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Yr("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new ZX(this,this.beans,this.rowNode,this.column):new JX(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&Si("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var i;const s=this.getDragItem(),r=((i=s.rowNodes)==null?void 0:i.length)||1,n=this.getRowDragText(this.column);return n?n(s,r):r===1?this.cellValueFn():`${r} ${t("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};B([ce("beans")],kg.prototype,"beans",2);B([It],kg.prototype,"postConstruct",1);B([Ma],kg.prototype,"removeDragSource",1);var QX=class extends Lt{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,s=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),s=SA(this.column.getColDef().rowDrag)),s?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},JX=class extends QX{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,X.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}};B([It],JX.prototype,"postConstruct",1);var ZX=class extends QX{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,X.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,X.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,X.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),s=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones(),n=i&&!r||s;this.setDisplayedOrVisible(n)}};B([It],ZX.prototype,"postConstruct",1);var Q0=class extends Lt{init(e,t,i,s,r,n,o){var a,l,c,u;this.params=o,this.eGui=t,this.eCheckbox=i,this.eExpanded=s,this.eContracted=r,this.comp=e,this.compClass=n;const{node:h,value:f,colDef:p}=o,y=this.isTopLevelFooter();if(!y){if(this.isEmbeddedRowMismatch())return;if(h.footer&&this.gos.get("groupHideOpenParents")){const C=p&&p.showRowGroup,S=h.rowGroupColumn&&h.rowGroupColumn.getColId();if(C!==S)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!y){const v=o.node.footer&&o.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(O=>{var k;return O.getColId()===((k=o.colDef)==null?void 0:k.showRowGroup)}),S=this.gos.get("groupDisplayType")!="multipleColumns"||this.gos.get("treeData")||this.gos.get("showOpenedGroup")&&!o.node.footer&&(!o.node.group||o.node.rowGroupIndex!=null&&o.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(O=>{var k;return O.getColId()===((k=o.colDef)==null?void 0:k.showRowGroup)})),_=!h.group&&(((a=this.params.colDef)==null?void 0:a.field)||((l=this.params.colDef)==null?void 0:l.valueGetter)),x=this.isExpandable(),A=this.columnModel.isPivotMode()&&h.leafGroup&&((c=h.rowGroupColumn)==null?void 0:c.getColId())===((u=o.column)==null?void 0:u.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!x&&!_&&!S&&!v&&!A)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var e,t;const i=(e=this.params.colDef)==null?void 0:e.cellAriaRole,s=(t=this.params.column)==null?void 0:t.getColDef().cellAriaRole;return i||s||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eGridCell:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){UY(t);return}const i=()=>{Xd(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,ts.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gos.getGrandTotalRow()||this.params.value!=null||this.params.node.level!=-1)return!1;const t=this.params.colDef;if(t==null||t.showRowGroup===!0)return!0;const s=this.columnModel.getRowGroupColumns();return!s||s.length===0?!0:s[0].getId()===t.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",t=this.params.pinned==="right",i=!e&&!t;return this.gos.get("enableRtl")?this.columnModel.isPinningLeft()?!t:!i:this.columnModel.isPinningLeft()?!e:!i}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let i=t.parent;for(;i!=null;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}Fi(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gos.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}if(e.rowGroupColumn!=null){const r=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(r)){this.showingValueForOpenedParent=!1;return}}const s=e.groupData[t.getId()]!=null;this.showingValueForOpenedParent=s}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var e;const t=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(t),{valueFormatted:s,value:r}=t;let n=s;if(n==null){const o=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)==null?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&o?n=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):n=r??null}this.comp.setInnerRenderer(i,n)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(t!=null&&!t.isRowGroupDisplayed(e.getId()))return this.params;const s=this.params,{value:r,node:n}=this.params,o=this.valueService.formatValue(e,n,r);return Vr(gi({},s),{valueFormatted:o})}addFooterValue(){let e=this.params.totalValueGetter;if(!e){const s=this.params.footerValueGetter;s&&(e=s,Si("As of v31.3, footerValueGetter is deprecated. Use `totalValueGetter` instead."))}let t="";if(e){const s=kI(this.params);s.value=this.params.value,typeof e=="function"?t=e(s):typeof e=="string"?t=this.expressionService.evaluate(e,s):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(this.params.value!=null?this.params.value:"");const i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gos.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),i=o=>o&&o.componentClass==this.compClass;if(t&&!i(t))return t;const s=this.displayedGroupNode.rowGroupColumn,r=s?s.getColDef():void 0;if(!r)return;const n=this.userComponentFactory.getCellRendererDetails(r,e);if(n&&!i(n))return n;if(i(n)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ts.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,s=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(s)}isShowRowGroupForThisRow(){if(this.gos.get("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return t==null||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,i=Yr("groupExpanded",this.gos,null),s=Yr("groupContracted",this.gos,null);i&&this.eExpanded.appendChild(i),s&&this.eContracted.appendChild(s);const r=t.eGridCell;!(((e=this.params.column)==null?void 0:e.isCellEditable(t.node))&&this.gos.get("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(r,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,ts.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ts.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroupNode,ts.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroupNode,ts.EVENT_GROUP_CHANGED,o),this.addManagedListener(this.displayedGroupNode,ts.EVENT_HAS_CHILDREN_CHANGED,o)}onExpandClicked(e){Yc(e)||(iu(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,i=!t.expanded;!i&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(i,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;const s=this.params.column;return s!=null&&typeof s.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:i}=this,{node:s}=e,r=this.isExpandable();if(r){const c=this.showingValueForOpenedParent?!0:s.expanded;this.comp.setExpandedDisplayed(c),this.comp.setContractedDisplayed(!c)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const n=i.isPivotMode(),o=n&&t.leafGroup,a=r&&!o,l=s.footer&&s.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",a),this.comp.addOrRemoveCssClass("ag-row-group",a),n?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",o):l||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!a)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,ts.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gos.get("groupHideOpenParents"))return;const e=this.params,t=e.node,i=!!e.colDef,s=this.gos.get("treeData"),n=!i||s||e.colDef.showRowGroup===!0?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+n,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new kg(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return typeof e=="function"||e===!0}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const i=new BA;this.getContext().createBean(i),i.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(i))}this.comp.setCheckboxVisible(t)}onKeyDown(e){!(e.key===Xe.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(Yc(e))return;C_(this.eExpanded,e)||C_(this.eContracted,e)||this.onExpandOrContract(e)}};B([ce("expressionService")],Q0.prototype,"expressionService",2);B([ce("valueService")],Q0.prototype,"valueService",2);B([ce("columnModel")],Q0.prototype,"columnModel",2);B([ce("userComponentFactory")],Q0.prototype,"userComponentFactory",2);B([ce("ctrlsService")],Q0.prototype,"ctrlsService",2);var pm=class eq extends Mi{constructor(){super(eq.TEMPLATE)}init(t){const i={setInnerRenderer:(o,a)=>this.setRenderDetails(o,a),setChildCount:o=>this.eChildCount.textContent=o,addOrRemoveCssClass:(o,a)=>this.addOrRemoveCssClass(o,a),setContractedDisplayed:o=>ws(this.eContracted,o),setExpandedDisplayed:o=>ws(this.eExpanded,o),setCheckboxVisible:o=>this.eCheckbox.classList.toggle("ag-invisible",!o)},s=this.createManagedBean(new Q0),r=!t.colDef,n=this.getGui();s.init(i,n,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),r&&un(n,s.getCellAriaRole())}setRenderDetails(t,i){if(t){const s=t.newAgStackInstance();if(!s)return;s.then(r=>{if(!r)return;const n=()=>this.context.destroyBean(r);this.isAlive()?(this.eValue.appendChild(r.getGui()),this.addDestroyFunc(n)):n()})}else this.eValue.innerText=i}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};pm.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;B([Gt("eExpanded")],pm.prototype,"eExpanded",2);B([Gt("eContracted")],pm.prototype,"eContracted",2);B([Gt("eCheckbox")],pm.prototype,"eCheckbox",2);B([Gt("eValue")],pm.prototype,"eValue",2);B([Gt("eChildCount")],pm.prototype,"eChildCount",2);var K$=pm,GA=class tq extends Mi{constructor(){super(tq.TEMPLATE)}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){const t=Yr("groupLoading",this.gos,null);t&&this.eLoadingIcon.appendChild(t);const i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(t){return!1}destroy(){super.destroy()}};GA.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;B([Gt("eLoadingIcon")],GA.prototype,"eLoadingIcon",2);B([Gt("eLoadingText")],GA.prototype,"eLoadingText",2);var nFe=GA,iq=class sq extends Mi{constructor(){super(sq.TEMPLATE)}init(t){const i=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",i),this.addDestroyFunc(()=>v0(t.eParentOfValue)),v0(t.eParentOfValue,i),t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.getGui().innerText=t("loadingError","ERR");const i=t("ariaSkeletonCellLoadingFailed","Row failed to load");Fl(this.getGui(),i)}setupLoading(){const i=this.gos.getDocument().createElement("div");i.classList.add("ag-skeleton-effect"),this.getGui().appendChild(i);const r=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Fl(this.getGui(),r)}refresh(t){return!1}destroy(){super.destroy()}};iq.TEMPLATE='<div class="ag-skeleton-container"></div>';var oFe=iq,rq=class nq extends Mi{constructor(){super()}destroy(){super.destroy()}init(t){const i=this.gos.get("overlayLoadingTemplate");if(this.setTemplate(i??nq.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){const s=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=s("loadingOoo","Loading...")})}}};rq.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var aFe=rq,oq=class aq extends Mi{constructor(){super()}destroy(){super.destroy()}init(t){const i=this.gos.get("overlayNoRowsTemplate");if(this.setTemplate(i??aq.DEFAULT_NO_ROWS_TEMPLATE),!i){const s=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=s("noRowsToShow","No Rows To Show")})}}};oq.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var lFe=oq,cFe=class extends fm{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Bn(t,!0)}},uFe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedListener(i,"keydown",this.preventStepping):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===Xe.UP||e.key===Xe.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!Rt(e)&&!Rt(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}},dFe=class extends vS{constructor(){super(new uFe)}},hFe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!Rt(e)&&!Rt(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return cc(e,!1)}},fFe=class extends vS{constructor(){super(new hFe)}},pFe=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!Rt(e)&&!Rt(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){var e,t;return cc((t=this.parseDate((e=this.params.value)!=null?e:void 0))!=null?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)}},lq=class extends vS{constructor(){super(new pFe(()=>this.dataTypeService))}};B([ce("dataTypeService")],lq.prototype,"dataTypeService",2);var pN=class cq extends Mi{constructor(){super(cq.TEMPLATE)}init(t){this.params=t,this.updateCheckbox(t);const i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),LI(i,"polite"),this.addManagedListener(i,"click",s=>{if(iu(s),this.eCheckbox.isDisabled())return;const r=this.eCheckbox.getValue();this.onCheckboxChanged(r)}),this.addManagedListener(i,"dblclick",s=>{iu(s)}),this.addManagedListener(this.params.eGridCell,"keydown",s=>{if(s.key===Xe.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();const r=this.eCheckbox.getValue();this.onCheckboxChanged(r),s.preventDefault()}})}refresh(t){return this.params=t,this.updateCheckbox(t),!0}updateCheckbox(t){var i,s,r;let n,o=!0;if(t.node.group&&t.column){const h=t.column.getColId();h.startsWith(m0)?n=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[h]!==void 0?n=(i=t.value)!=null?i:void 0:o=!1}else n=(s=t.value)!=null?s:void 0;if(!o){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(n);const a=t.disabled!=null?t.disabled:!((r=t.column)!=null&&r.isCellEditable(t.node));this.eCheckbox.setDisabled(a);const l=this.localeService.getLocaleTextFunc(),c=kA(l,n),u=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;this.eCheckbox.setInputAriaLabel(u)}onCheckboxChanged(t){const{column:i,node:s,rowIndex:r,value:n}=this.params,o={type:X.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:s.data,node:s,rowIndex:r,rowPinned:s.rowPinned,value:n};this.eventService.dispatchEvent(o);const a=this.params.node.setDataValue(this.params.column,t,"edit"),l={type:X.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:s.data,node:s,rowIndex:r,rowPinned:s.rowPinned,value:n,oldValue:n,newValue:t,valueChanged:a};this.eventService.dispatchEvent(l)}};pN.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;B([Gt("eCheckbox")],pN.prototype,"eCheckbox",2);var gFe=pN,uq=class extends fm{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(e){var t;this.params=e;const i=(t=e.value)!=null?t:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,X.EVENT_FIELD_VALUE_CHANGED,r=>this.setAriaLabel(r.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=kA(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}};B([Gt("eCheckbox")],uq.prototype,"eCheckbox",2);var mFe=class extends Mi{constructor(){super(),this.setTemplate("<div></div>")}init(e){var t;this.params=e,this.cssClassPrefix=(t=this.params.cssClassPrefix)!=null?t:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const e=Ja(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(Yr("check",this.gos)):this.params.icon&&(dS(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){const e=Ja(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=Ja(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){const e=Ja(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),t=this.getGui();if(this.params.subMenu){const i=this.gos.get("enableRtl")?"smallLeft":"smallRight";Xd(t,!1),e.appendChild(Yr(i,this.gos))}t.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}destroy(){super.destroy()}},x_=class extends Lt{constructor(){super(...arguments),this.agGridDefaults={agDateInput:NX,agColumnHeader:bM,agColumnGroupHeader:eFe,agSortIndicator:dN,agTextColumnFloatingFilter:ZPe,agNumberColumnFloatingFilter:JPe,agDateColumnFloatingFilter:NA,agReadOnlyFloatingFilter:rN,agAnimateShowChangeCellRenderer:YX,agAnimateSlideCellRenderer:XX,agGroupCellRenderer:K$,agGroupRowRenderer:K$,agLoadingCellRenderer:nFe,agSkeletonCellRenderer:oFe,agCheckboxCellRenderer:gFe,agCellEditor:j$,agTextCellEditor:j$,agNumberCellEditor:dFe,agDateCellEditor:fFe,agDateStringCellEditor:lq,agSelectCellEditor:fN,agLargeTextCellEditor:tFe,agCheckboxCellEditor:uq,agTextColumnFilter:uN,agNumberColumnFilter:HX,agDateColumnFilter:IX,agLoadingOverlay:aFe,agNoRowsOverlay:lFe,agTooltipComponent:cFe,agMenuItem:mFe},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){const e=this.gos.get("components");e!=null&&sa(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(a,l)=>({componentFromFramework:l,component:a}),s=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(s!=null)return i(s,!0);const r=this.jsComps[t];if(r){const a=this.getFrameworkOverrides().isFrameworkComponent(r);return i(r,a)}const n=this.agGridDefaults[t];if(n)return i(n,!1);const o=this.enterpriseAgDefaultCompsModule[t];return o?Zs.__assertRegistered(o,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):g0(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const i=[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],s=hS(t,i,!0,.8).values;console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),s.length>0&&console.warn(`         Did you mean: [${s.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};B([It],x_.prototype,"init",1);x_=B([ri("userComponentRegistry")],x_);var vFe={propertyName:"dateComponent",cellRenderer:!1},yFe={propertyName:"headerComponent",cellRenderer:!1},CFe={propertyName:"headerGroupComponent",cellRenderer:!1},Y$={propertyName:"cellRenderer",cellRenderer:!0},bFe={propertyName:"loadingCellRenderer",cellRenderer:!0},wFe={propertyName:"cellEditor",cellRenderer:!1},X$={propertyName:"innerRenderer",cellRenderer:!0},SFe={propertyName:"loadingOverlayComponent",cellRenderer:!1},xFe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},EFe={propertyName:"tooltipComponent",cellRenderer:!1},wM={propertyName:"filter",cellRenderer:!1},_Fe={propertyName:"floatingFilterComponent",cellRenderer:!1},TFe={propertyName:"toolPanel",cellRenderer:!1},AFe={propertyName:"statusPanel",cellRenderer:!1},kFe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},DFe={propertyName:"loadingCellRenderer",cellRenderer:!0},RFe={propertyName:"groupRowRenderer",cellRenderer:!0},PFe={propertyName:"detailCellRenderer",cellRenderer:!0},FFe={propertyName:"menuItem",cellRenderer:!1},dq=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};dq.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var Tf=class extends Lt{getHeaderCompDetails(e,t){return this.getCompDetails(e,yFe,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,CFe,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,kFe,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,DFe,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,RFe,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,PFe,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,X$,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,X$,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,Y$,null,t)}getLoadingCellRendererDetails(e,t){return this.getCompDetails(e,bFe,"agSkeletonCellRenderer",t,!0)}getCellEditorDetails(e,t){return this.getCompDetails(e,wFe,"agCellEditor",t,!0)}getFilterDetails(e,t,i){return this.getCompDetails(e,wM,i,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,vFe,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,SFe,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,xFe,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,EFe,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,Y$,null,t)}getFloatingFilterCompDetails(e,t,i){return this.getCompDetails(e,_Fe,i,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,TFe,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,AFe,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,FFe,"agMenuItem",t,!0)}getCompDetails(e,t,i,s,r=!1){const{propertyName:n,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:c,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:f}=this.getCompKeys(e,t,s);const p=S=>{const _=this.userComponentRegistry.retrieve(n,S);_&&(l=_.componentFromFramework?void 0:_.component,c=_.componentFromFramework?_.component:void 0)};if(a!=null&&p(a),l==null&&c==null&&i!=null&&p(i),l&&o&&!this.agComponentUtils.doesImplementIComponent(l)&&(l=this.agComponentUtils.adaptFunction(n,l)),!l&&!c){r&&console.error(`AG Grid: Could not find component ${a}, did you forget to configure this component?`);return}const y=this.mergeParamsWithApplicationProvidedParams(e,t,s,u),v=l==null,C=l||c;return{componentFromFramework:v,componentClass:C,params:y,type:t,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(C,v,y,t)}}getCompKeys(e,t,i){const{propertyName:s}=t;let r,n,o,a,l,c;if(e){const u=e,h=u[s+"Selector"],f=h?h(i):null,p=y=>{typeof y=="string"?r=y:y!=null&&y!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(y)?o=y:n=y)};f?(p(f.component),a=f.params,l=f.popup,c=f.popupPosition):p(u[s])}return{compName:r,jsComp:n,fwComp:o,paramsFromSelector:a,popupFromSelector:l,popupPositionFromSelector:c}}newAgStackInstance(e,t,i,s){const r=s.propertyName,n=!t;let o;if(n)o=new e;else{const l=this.componentMetadataProvider.retrieve(r);o=this.frameworkComponentWrapper.wrap(e,l.mandatoryMethodList,l.optionalMethodList,s)}const a=this.initComponent(o,i);return a==null?dc.resolve(o):a.then(()=>o)}mergeParamsWithApplicationProvidedParams(e,t,i,s=null){const r=this.gos.getGridCommonParams();qa(r,i);const n=e,o=n&&n[t.propertyName+"Params"];if(typeof o=="function"){const a=o(i);qa(r,a)}else typeof o=="object"&&qa(r,o);return qa(r,s),r}initComponent(e,t){if(this.context.createBean(e),e.init!=null)return e.init(t)}getDefaultFloatingFilterType(e,t){if(e==null)return null;let i=null,{compName:s,jsComp:r,fwComp:n}=this.getCompKeys(e,wM);return s?i=dq.getFloatingFilterType(s):r==null&&n==null&&e.filter===!0&&(i=t()),i}};B([ce("gridOptions")],Tf.prototype,"gridOptions",2);B([ce("agComponentUtils")],Tf.prototype,"agComponentUtils",2);B([ce("componentMetadataProvider")],Tf.prototype,"componentMetadataProvider",2);B([ce("userComponentRegistry")],Tf.prototype,"userComponentRegistry",2);B([ir("frameworkComponentWrapper")],Tf.prototype,"frameworkComponentWrapper",2);Tf=B([ri("userComponentFactory")],Tf);var hq=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const s=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<s.left+r,this.tickRight=e.clientX>s.right-r,this.tickUp=e.clientY<s.top+r&&!i,this.tickDown=e.clientY>s.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Vl=class extends Lt{constructor(e){super(),this.eContainer=e}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(e=>{const t=e.gridBodyCtrl;this.autoScrollService=new hq({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?Ni.ICON_NOT_ALLOWED:Ni.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const s=[...this.selectionService.getSelectedNodes()].sort((r,n)=>r.rowIndex==null||n.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(n));if(s.indexOf(t)!==-1)return s}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(X.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:s}=e;return!i.contains(s)}onEnterOrDragging(e){this.dispatchGridEvent(X.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),s=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){return parseInt(Os(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===1,s=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let n=i?1:0;if(this.isFromThisGrid(e))r.forEach(o=>{o.rowTop<s&&(n-=1)}),this.moveRows(r,s,n);else{const o=this.gos.getCallback("getRowId");let a=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===0&&a--,this.clientSideRowModel.updateRowData({add:r.map(l=>l.data).filter(l=>!this.clientSideRowModel.getRowNode(o?o({data:l,level:0}):l.id)),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){var s;this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),(s=this.rangeService)==null||s.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){Si("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent(X.EVENT_ROW_DRAG_ENTER,i))}),e.onDragLeave&&(t.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent(X.EVENT_ROW_DRAG_LEAVE,i))}),e.onDragging&&(t.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent(X.EVENT_ROW_DRAG_MOVE,i))}),e.onDragStop&&(t.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent(X.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(gi({isInterestedIn:i=>i===2,getIconName:()=>Ni.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),r=this.onDragging.bind(this),n=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?o=>{i(o),e.onDragEnter(this.draggingToRowDragEvent(X.EVENT_ROW_DRAG_ENTER,o))}:i,onDragLeave:e.onDragLeave?o=>{s(o),e.onDragLeave(this.draggingToRowDragEvent(X.EVENT_ROW_DRAG_LEAVE,o))}:s,onDragging:e.onDragging?o=>{r(o),e.onDragging(this.draggingToRowDragEvent(X.EVENT_ROW_DRAG_MOVE,o))}:r,onDragStop:e.onDragStop?o=>{n(o),e.onDragStop(this.draggingToRowDragEvent(X.EVENT_ROW_DRAG_END,o))}:n,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:s,onDragging:r,onDragStop:n,fromGrid:!0}}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y,s=i>this.paginationProxy.getCurrentPageHeight();let r=-1,n;s||(r=this.rowModel.getRowIndexAtPixel(i),n=this.rowModel.getRow(r));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:n,y:i,vDirection:o})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent(X.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent(X.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}};B([ce("dragAndDropService")],Vl.prototype,"dragAndDropService",2);B([ce("rowModel")],Vl.prototype,"rowModel",2);B([ce("paginationProxy")],Vl.prototype,"paginationProxy",2);B([ce("columnModel")],Vl.prototype,"columnModel",2);B([ce("focusService")],Vl.prototype,"focusService",2);B([ce("sortController")],Vl.prototype,"sortController",2);B([ce("filterManager")],Vl.prototype,"filterManager",2);B([ce("selectionService")],Vl.prototype,"selectionService",2);B([ce("mouseEventService")],Vl.prototype,"mouseEventService",2);B([ce("ctrlsService")],Vl.prototype,"ctrlsService",2);B([ir("rangeService")],Vl.prototype,"rangeService",2);B([It],Vl.prototype,"postConstruct",1);var sw=class extends Lt{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const s=e.touchStartListener;t.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),za(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:r}=e;i.addEventListener("mousedown",t);let n=null;const o=this.gos.get("suppressTouch");s&&!o&&(n=a=>{KI(a.target)||(a.cancelable&&(a.preventDefault(),r&&a.stopPropagation()),this.onTouchStart(e,a))},i.addEventListener("touchstart",n,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:n,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const s=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),n=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:this.gos.getRootNode(),type:"touchmove",listener:n,options:{passive:!1}},{target:o,type:"touchmove",listener:s,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const s=l=>this.onMouseMove(l,e.eElement),r=l=>this.onMouseUp(l,e.eElement),n=l=>l.preventDefault(),o=this.gos.getRootNode(),a=[{target:o,type:"mousemove",listener:s},{target:o,type:"mouseup",listener:r},{target:o,type:"contextmenu",listener:n}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:s,listener:r,options:n}=t;i.addEventListener(s,r,n)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:s,listener:r,options:n}=t;i.removeEventListener(s,r,n)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,s=Rt(i)?i:4;return iN(e,t,s)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;const s={type:X.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(s),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;Ku()&&((i=this.gos.getDocument().getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),i=e.type==="mousemove";return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const i={type:X.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}};B([ce("mouseEventService")],sw.prototype,"mouseEventService",2);B([Ma],sw.prototype,"removeAllListeners",1);sw=B([ri("dragService")],sw);var BR="ag-list-item-hovered",fq=class extends Lt{constructor(e,t,i){super(),this.comp=e,this.virtualList=t,this.params=i,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const e={isInterestedIn:t=>t===this.params.dragSourceType,getIconName:()=>this.moveBlocked?Ni.ICON_PINNED:Ni.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:t=>this.onDragging(t),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new hq({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),i=this.virtualList.getComponentAt(t.rowIndex);if(!i)return;const s=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,vM(s,BR),vM(s,`ag-item-highlight-${t.position}`))}getListDragItem(e){const t=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(t).paddingTop),s=this.virtualList.getRowHeight(),r=this.virtualList.getScrollTop(),n=Math.max(0,(e.y-i+r)/s),o=this.params.getNumRows(this.comp)-1,a=Math.min(o,n)|0;return{rowIndex:a,position:Math.round(n)>n||n>o?"bottom":"top",component:this.virtualList.getComponentAt(a)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${BR}`).forEach(t=>{[BR,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(i=>{t.classList.remove(i)})}),this.lastHoveredListItem=null}};B([ce("dragAndDropService")],fq.prototype,"dragAndDropService",2);B([It],fq.prototype,"postConstruct",1);function Up(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var gs=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}__getAlignedGridService(){return this.alignedGridsService}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){delete this.detailGridInfoMap[e]}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;sa(this.detailGridInfoMap,(i,s)=>{Rt(s)&&(e(s,t),t++)})}getDataAsCsv(e){if(Zs.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){Zs.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCsv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}assertNotExcelMultiSheet(e,t){return Zs.__assertRegistered("@ag-grid-enterprise/excel-export","api."+e,this.context.getGridId())?this.excelCreator.getFactoryMode()===1?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(Zs.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(Zs.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){Zs.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,t){if(!e)return;const i=this.ctrlsService.getGridBodyCtrl().getGui(),s=`aria-${e}`;t===null?i.removeAttribute(s):i.setAttribute(s,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}logDeprecation(e,t,i,s){Si(`Since ${e} api.${t} is deprecated. Please use ${i} instead. ${s??""}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(e={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(e))}flashCells(e={}){const t=i=>Si(`Since v31.1 api.flashCells parameter '${i}Delay' is deprecated. Please use '${i}Duration' instead.`);Rt(e.fadeDelay)&&t("fade"),Rt(e.flashDelay)&&t("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(e))}redrawRows(e={}){const t=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(t))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return Si("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(e,t,i,s){this.expansionService.setRowNodeExpanded(e,t,i,s)}onGroupExpandedOrCollapsed(){if(Fi(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(e){if(Fi(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(e,t,i){this.rowRenderer.addRenderedRowListener(e,t,i)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return Zs.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.filterManager.setAdvancedFilterModel(e)}showAdvancedFilterBuilder(){Zs.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every(o=>o.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):o.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:i,source:s,newValue:r}=e,n=i;this.selectionService.setNodesSelected({nodes:n,source:s??"api",newValue:r})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return Fi(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(e){if(Fi(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(e,"api")}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(Fi(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t),"ensureVisible")}ensureIndexVisible(e,t){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t),"ensureVisible")}ensureNodeVisible(e,t=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t),"ensureVisible")}forEachLeafNode(e){if(Fi(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){if(Fi(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){if(Fi(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){return Si("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.filterManager.getColumnFilterInstance(e)}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(!Zs.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return;const t=this.statusBarService.getStatusPanel(e);return Up(t)}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(e="api"){this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(e))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(e){return this.filterManager.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.filterManager.setColumnFilterModel(e,t)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,i){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:i,forceBrowserFocus:!0})}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}assertSideBarLoaded(e){return Zs.__assertRegistered("@ag-grid-enterprise/side-bar","api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance")){const t=this.sideBarService.getSideBarComp().getToolPanelInstance(e);return Up(t)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(Rt(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setRowCount(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){return this.logDeprecation("31.3","getValue","getCellValue"),this.getCellValue({colKey:e,rowNode:t})}getCellValue(e){var t;const{colKey:i,rowNode:s,useFormatter:r}=e;let n=(t=this.columnModel.getPrimaryColumn(i))!=null?t:this.columnModel.getGridColumn(i);if(Fi(n))return null;const o=this.valueService.getValue(n,s);if(r){const a=this.valueService.formatValue(n,s,o);return a??Bn(o,!0)}return o}addEventListener(e,t){this.apiEventService.addEventListener(e,t)}addGlobalListener(e){this.apiEventService.addGlobalListener(e)}removeEventListener(e,t){this.apiEventService.removeEventListener(e,t)}removeGlobalListener(e){this.apiEventService.removeGlobalListener(e)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){var e;const t=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const i={type:X.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(i),this.destroyCalled=!0,(e=this.ctrlsService.get("gridCtrl"))==null||e.destroyGridUi(),this.context.destroy(),this.detailGridInfoMap={},uY(this,["isDestroyed"],t)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Zs.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){if(this.rangeService){this.rangeService.addCellRange(e);return}Zs.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Zs.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(e,t){if(Zs.__assertRegistered("@ag-grid-enterprise/charts","api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>t())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(e){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(e))}getChartImageDataURL(e){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(e))}downloadChart(e){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(e))}openChartToolPanel(e){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(e))}closeChartToolPanel(e){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(e.chartId))}createRangeChart(e){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(e))}createPivotChart(e){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(e))}createCrossFilterChart(e){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(e))}updateChart(e){return this.assertChart("updateChart",()=>this.chartService.updateChart(e))}restoreChart(e,t){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(e,t))}assertClipboard(e,t){Zs.__assertRegistered("@ag-grid-enterprise/clipboard","api"+e,this.context.getGridId())&&t()}copyToClipboard(e){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(e))}cutToClipboard(e){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(e))}copySelectedRowsToClipboard(e){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(e))}copySelectedRangeToClipboard(e){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(e))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(e,t){Si("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const i=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:i,buttonElement:t,positionBy:"button"})}showColumnMenuAfterMouseClick(e,t){Si("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let i=this.columnModel.getGridColumn(e);if(i||(i=this.columnModel.getPrimaryColumn(e)),!i){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:i,mouseEvent:t,positionBy:"mouse"})}showContextMenu(e){const{rowNode:t,column:i,value:s,x:r,y:n}=e||{};let{x:o,y:a}=this.menuService.getContextMenuPosition(t,i);r!=null&&(o=r),n!=null&&(a=n),this.menuService.showContextMenu({mouseEvent:new MouseEvent("mousedown",{clientX:o,clientY:a}),rowNode:t,column:i,value:s})}showColumnChooser(e){this.menuService.showColumnChooser({chooserParams:e})}showColumnFilter(e){const t=this.columnModel.getGridColumn(e);if(!t){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showFilterMenu({column:t,containerType:"columnFilter",positionBy:"auto"})}showColumnMenu(e){const t=this.columnModel.getGridColumn(e);if(!t){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:t,positionBy:"auto"})}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(Up)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(Up)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn(`AG Grid: no column found for ${e.colKey}`);return}const i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};e.rowPinned==null&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);const r=this.navigationService.getCellByPosition(i);r&&(this.focusService.isCellFocused(i)||this.focusService.setFocusedCell(i),r.startRowOrCellEdit(e.key))}addAggFunc(e,t){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:t})}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)}applyServerSideTransactionAsync(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)}applyServerSideRowData(e){var t,i;const s=(t=e.startRow)!=null?t:0,r=(i=e.route)!=null?i:[];if(s<0){console.warn(`AG Grid: invalid value ${e.startRow} for startRow, the value should be >= 0`);return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,s,r):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(e))}applyTransactionAsync(e,t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(e,t))}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions())}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}sizeColumnsToFit(e){typeof e=="number"?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t,"api")}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t,"api")}setColumnWidth(e,t,i=!0,s="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,i,s)}setColumnWidths(e,t=!0,i="api"){this.columnModel.setColumnWidths(e,!1,t,i)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:t,source:"api"})}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t,source:"api"})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns("api",e)}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(e){return this.gos.get(e)}setGridOption(e,t){this.updateGridOptions({[e]:t})}updateGridOptions(e){this.gos.updateGridOptions({options:e})}__internalUpdateGridOptions(e,t){this.gos.updateGridOptions({options:e,force:t,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(e,t){Si(`set${e.charAt(0).toUpperCase()}${e.slice(1,e.length)} is deprecated. Please use 'api.setGridOption('${e}', newValue)' or 'api.updateGridOptions({ ${e}: newValue })' instead.`),this.setGridOption(e,t)}setPivotMode(e){this.deprecatedUpdateGridOption("pivotMode",e)}setPinnedTopRowData(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)}setPinnedBottomRowData(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)}setPopupParent(e){this.deprecatedUpdateGridOption("popupParent",e)}setSuppressModelUpdateAfterUpdateTransaction(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)}setDataTypeDefinitions(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)}setPagination(e){this.deprecatedUpdateGridOption("pagination",e)}paginationSetPageSize(e){this.deprecatedUpdateGridOption("paginationPageSize",e)}setSideBar(e){this.deprecatedUpdateGridOption("sideBar",e)}setSuppressClipboardPaste(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)}setGroupRemoveSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.deprecatedUpdateGridOption("groupDisplayType",e)}setGroupIncludeFooter(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)}setRowClass(e){this.deprecatedUpdateGridOption("rowClass",e)}setDeltaSort(e){this.deprecatedUpdateGridOption("deltaSort",e)}setSuppressRowDrag(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)}setEnableAdvancedFilter(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)}setQuickFilter(e){Si("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})}setExcludeHiddenColumnsFromQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)}setIncludeHiddenColumnsInQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.deprecatedUpdateGridOption("quickFilterParser",e)}setQuickFilterMatcher(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)}setAlwaysShowHorizontalScroll(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)}setFunctionsReadOnly(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)}setColumnDefs(e,t="api"){Si("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})}setAutoGroupColumnDef(e,t="api"){Si("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})}setDefaultColDef(e,t="api"){Si("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})}setColumnTypes(e,t="api"){Si("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})}setTreeData(e){this.deprecatedUpdateGridOption("treeData",e)}setServerSideDatasource(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)}setCacheBlockSize(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)}setDatasource(e){this.deprecatedUpdateGridOption("datasource",e)}setViewportDatasource(e){this.deprecatedUpdateGridOption("viewportDatasource",e)}setRowData(e){this.deprecatedUpdateGridOption("rowData",e)}setEnableCellTextSelection(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)}setHeaderHeight(e){this.deprecatedUpdateGridOption("headerHeight",e)}setDomLayout(e){this.deprecatedUpdateGridOption("domLayout",e)}setFillHandleDirection(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)}setGroupHeaderHeight(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)}setAnimateRows(e){this.deprecatedUpdateGridOption("animateRows",e)}setIsExternalFilterPresent(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)}setTabToNextCell(e){this.deprecatedUpdateGridOption("tabToNextCell",e)}setTabToNextHeader(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)}setNavigateToNextHeader(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)}setGetChildCount(e){this.deprecatedUpdateGridOption("getChildCount",e)}setProcessRowPostCreate(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)}setGetRowId(e){Si("getRowId is a static property and can no longer be updated.")}setGetRowClass(e){this.deprecatedUpdateGridOption("getRowClass",e)}setIsFullWidthRow(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)}setIsRowSelectable(e){this.deprecatedUpdateGridOption("isRowSelectable",e)}setIsRowMaster(e){this.deprecatedUpdateGridOption("isRowMaster",e)}setPostSortRows(e){this.deprecatedUpdateGridOption("postSortRows",e)}setGetDocument(e){this.deprecatedUpdateGridOption("getDocument",e)}setGetContextMenuItems(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)}setGetMainMenuItems(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)}setProcessCellForClipboard(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)}setSendToClipboard(e){this.deprecatedUpdateGridOption("sendToClipboard",e)}setProcessCellFromClipboard(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)}setProcessPivotResultColDef(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.deprecatedUpdateGridOption("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)}setGetServerSideGroupLevelParams(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)}setGetRowStyle(e){this.deprecatedUpdateGridOption("getRowStyle",e)}setGetRowHeight(e){this.deprecatedUpdateGridOption("getRowHeight",e)}};B([ce("rowRenderer")],gs.prototype,"rowRenderer",2);B([ce("navigationService")],gs.prototype,"navigationService",2);B([ce("filterManager")],gs.prototype,"filterManager",2);B([ce("columnModel")],gs.prototype,"columnModel",2);B([ce("selectionService")],gs.prototype,"selectionService",2);B([ce("gridOptionsService")],gs.prototype,"gos",2);B([ce("valueService")],gs.prototype,"valueService",2);B([ce("alignedGridsService")],gs.prototype,"alignedGridsService",2);B([ce("eventService")],gs.prototype,"eventService",2);B([ce("pinnedRowModel")],gs.prototype,"pinnedRowModel",2);B([ce("context")],gs.prototype,"context",2);B([ce("rowModel")],gs.prototype,"rowModel",2);B([ce("sortController")],gs.prototype,"sortController",2);B([ce("paginationProxy")],gs.prototype,"paginationProxy",2);B([ce("focusService")],gs.prototype,"focusService",2);B([ce("dragAndDropService")],gs.prototype,"dragAndDropService",2);B([ce("menuService")],gs.prototype,"menuService",2);B([ce("valueCache")],gs.prototype,"valueCache",2);B([ce("animationFrameService")],gs.prototype,"animationFrameService",2);B([ce("ctrlsService")],gs.prototype,"ctrlsService",2);B([ce("overlayService")],gs.prototype,"overlayService",2);B([ce("stateService")],gs.prototype,"stateService",2);B([ce("expansionService")],gs.prototype,"expansionService",2);B([ce("apiEventService")],gs.prototype,"apiEventService",2);B([ce("frameworkOverrides")],gs.prototype,"frameworkOverrides",2);B([ce("undoRedoService")],gs.prototype,"undoRedoService",2);B([ce("rowNodeBlockLoader")],gs.prototype,"rowNodeBlockLoader",2);B([ir("csvCreator")],gs.prototype,"csvCreator",2);B([ir("excelCreator")],gs.prototype,"excelCreator",2);B([ir("rangeService")],gs.prototype,"rangeService",2);B([ir("clipboardService")],gs.prototype,"clipboardService",2);B([ir("aggFuncService")],gs.prototype,"aggFuncService",2);B([ir("statusBarService")],gs.prototype,"statusBarService",2);B([ir("chartService")],gs.prototype,"chartService",2);B([ir("ssrmTransactionManager")],gs.prototype,"serverSideTransactionManager",2);B([ir("sideBarService")],gs.prototype,"sideBarService",2);B([It],gs.prototype,"init",1);gs=B([ri("gridApi")],gs);var Za=class extends Lt{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,X.EVENT_COLUMN_VISIBLE,()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return Rt(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){console.warn(`AG Grid - Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchEvent({type:Za.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchEvent({type:Za.EVENT_QUICK_FILTER_CHANGED}))}onQuickFilterColumnConfigChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:Za.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(s=>{const r=this.getQuickFilterTextForColumn(s,e);return Rt(r)&&r.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:s,matcher:r}=this;return r(s,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const s=e.getColDef();if(s.getQuickFilterText){const r=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:s});i=s.getQuickFilterText(r)}return Rt(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(s=>{const r=this.getQuickFilterTextForColumn(s,e);Rt(r)&&t.push(r)}),t.join(Za.QUICK_FILTER_SEPARATOR)}};Za.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged";Za.QUICK_FILTER_SEPARATOR=`
`;B([ce("valueService")],Za.prototype,"valueService",2);B([ce("columnModel")],Za.prototype,"columnModel",2);B([ce("rowModel")],Za.prototype,"rowModel",2);B([It],Za.prototype,"postConstruct",1);Za=B([ri("quickFilterService")],Za);var pc=class extends Lt{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var e,t,i;this.addManagedListener(this.eventService,X.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,X.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,X.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,X.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",s=>this.setAdvancedFilterModel(s.currentValue)),this.addManagedListener(this.eventService,X.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:s})=>this.onAdvancedFilterEnabledChanged(s)),this.addManagedListener(this.eventService,X.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,Za.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=gi({},(i=(t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)!=null?i:{})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const i=[],s=this.getFilterModel();if(e){const r=sN(Object.keys(e));this.allColumnFilters.forEach((n,o)=>{const a=e[o];i.push(this.setModelOnFilterWrapper(n.filterPromise,a)),r.delete(o)}),r.forEach(n=>{const o=this.columnModel.getPrimaryColumn(n)||this.columnModel.getGridColumn(n);if(!o){console.warn("AG Grid: setFilterModel() - no column found for colId: "+n);return}if(!o.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+n);return}const a=this.getOrCreateFilterWrapper(o,"NO_UI");if(!a){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+n);return}i.push(this.setModelOnFilterWrapper(a.filterPromise,e[n]))})}else this.allColumnFilters.forEach(r=>{i.push(this.setModelOnFilterWrapper(r.filterPromise,null))});dc.all(i).then(()=>{const r=this.getFilterModel(),n=[];this.allColumnFilters.forEach((o,a)=>{const l=s?s[a]:null,c=r?r[a]:null;is.jsonEquals(l,c)||n.push(o.column)}),n.length>0&&this.onFilterChanged({columns:n,source:t})})}setModelOnFilterWrapper(e,t){return new dc(i=>{e.then(s=>{typeof s.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(s.setModel(t)||dc.resolve()).then(()=>i())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((t,i)=>{const s=this.getModelFromFilterWrapper(t);Rt(s)&&(e[i]=s)}),e}getModelFromFilterWrapper(e){var t;const s=e.filterPromise.resolveNow(null,r=>r);return s==null?(t=this.initialFilterModel[e.column.getColId()])!=null?t:null:typeof s.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):s.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(i=>this.disposeFilterWrapper(i,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):(t=this.advancedFilterService)!=null&&t.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=s=>s?s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,t=!!this.gos.getGroupAggFiltering(),i=s=>{if(!s.isPrimary())return!0;const n=!this.columnModel.isPivotActive();return!s.isValueActive()||!n?!1:this.columnModel.isPivotMode()?!0:t};this.allColumnFilters.forEach(s=>{if(s.filterPromise.resolveNow(!1,e)){const r=s.filterPromise.resolveNow(null,n=>n);i(s.column)?this.activeAggregateFilters.push(r):this.activeColumnFilters.push(r)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(i=>{const s=i.filterPromise.resolveNow(!1,r=>r.isFilterActive());i.column.setFilterActive(s,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(e,t,i){const{data:s,aggData:r}=e,n=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?r:s;for(let a=0;a<n.length;a++){const l=n[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){const{source:t,filterInstance:i,additionalEventAttributes:s,columns:r}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",s),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(a=>{a&&a!==i&&a.onAnyFilterChanged&&a.onAnyFilterChanged()})});const n={source:t,type:X.EVENT_FILTER_CHANGED,columns:r||[]};s&&qa(n,s),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!((e=this.gos.get("allowShowChangeAfterFilter"))!=null?e:!1)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}onNewRowsLoaded(e){this.allColumnFilters.forEach(t=>{t.filterPromise.then(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{const s=i?this.columnModel.getGridColumn(i):e;return s?this.valueService.getValue(s,t,!0):void 0}}getFilterComponent(e,t,i=!0){var s;if(i)return((s=this.getOrCreateFilterWrapper(e,t))==null?void 0:s.filterPromise)||null;const r=this.cachedFilter(e);return r?r.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,i=>i.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let i=this.cachedFilter(e);return i||(i=this.createFilterWrapper(e,t),this.setColumnFilterWrapper(e,i)),i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(Zs.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFilter";else{const i=this.dataTypeService.getBaseDataType(e);i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(Zs.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFloatingFilter";else{const i=this.dataTypeService.getBaseDataType(e);i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),i=e.getColDef();let s;const r=Vr(gi({},this.createFilterParams(e,i)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(s,e)(),filterChangedCallback:o=>this.filterChangedCallbackFactory(s,e)(o),doesRowPassOtherFilter:o=>this.doesRowPassOtherFilters(s,o)}),n=this.userComponentFactory.getFilterDetails(i,r,t);return n?{filterPromise:()=>{const o=n.newAgStackInstance();return o&&o.then(a=>s=a),o},compDetails:n}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:kI(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e,t){var i;const s={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:r,compDetails:n}=this.createFilterInstance(e);return s.filterPromise=(i=r==null?void 0:r())!=null?i:null,s.compDetails=n,s}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((t,i)=>{let s;t.column.isPrimary()?s=this.columnModel.getPrimaryColumn(i):s=this.columnModel.getGridColumn(i),!(s&&s===t.column)&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))}),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t,"NO_UI")})}isFilterAllowed(e){var t,i;if(this.isAdvancedFilterEnabled()||!e.isFilterAllowed())return!1;const r=this.allColumnFilters.get(e.getColId());return(i=(t=r==null?void 0:r.filterPromise)==null?void 0:t.resolveNow(!0,n=>typeof(n==null?void 0:n.isFilterAllowed)=="function"?n==null?void 0:n.isFilterAllowed():!0))!=null?i:!0}getFloatingFilterCompDetails(e,t){const i=l=>{const c=this.getFilterComponent(e,"NO_UI");c!=null&&c.then(u=>{l(Up(u))})},s=e.getColDef(),r=Vr(gi({},this.createFilterParams(e,s)),{filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())}),n=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,wM,r);let o=this.userComponentFactory.getDefaultFloatingFilterType(s,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:n,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(s,a,o)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,i=>i&&i.getModel()):null}destroyFilter(e,t="api"){const i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],s&&(this.disposeFilterWrapper(s,t),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.getContext().destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const s={type:X.EVENT_FILTER_DESTROYED,source:t,column:e.column};this.eventService.dispatchEvent(s)})}filterModifiedCallbackFactory(e,t){return()=>{const i={type:X.EVENT_FILTER_MODIFIED,column:t,filterInstance:e};this.eventService.dispatchEvent(i)}}filterChangedCallbackFactory(e,t){return i=>{var s;const r=(s=i==null?void 0:i.source)!=null?s:"api",n={filter:e,additionalEventAttributes:i,columns:[t],source:r};this.callOnFilterChangedOutsideRenderCycle(n)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,s)){this.destroyFilter(i,"paramsUpdated");return}const r=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(n=>{(n!=null&&n.refresh?n.refresh(gi(Vr(gi({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(n,i),filterChangedCallback:this.filterChangedCallbackFactory(n,i),doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(n,a)}),r)):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListener(e,gr.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(i)))}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:s}=t;return!(i===s||(i==null?void 0:i.render)&&(s==null?void 0:s.render)&&i.render===s.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:this.columnModel.getAllGridColumns().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}const i=this.getFilterInstanceImpl(e,r=>{if(!t)return;const n=Up(r);t(n)});return Up(i)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstance(e,i=>{t(i)})})}getFilterInstanceImpl(e,t){const i=this.columnModel.getPrimaryColumn(e);if(!i)return;const s=this.getFilterComponent(i,"NO_UI"),r=s&&s.resolveNow(null,n=>n);return r?setTimeout(t,0,r):s&&s.then(n=>{t(n)}),r}warnAdvancedFilters(){Si("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let n=()=>{};const o=new Promise(a=>{n=a});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:n}),o}const i=this.columnModel.getPrimaryColumn(e),s=i?this.getOrCreateFilterWrapper(i,"NO_UI"):null;return s?(n=>new Promise(o=>{n.then(a=>o(a))}))(this.setModelOnFilterWrapper(s.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){var t;const i=this.columnModel.getPrimaryColumn(e);return i&&(t=this.cachedFilter(i))!=null?t:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};B([ce("valueService")],pc.prototype,"valueService",2);B([ce("columnModel")],pc.prototype,"columnModel",2);B([ce("rowModel")],pc.prototype,"rowModel",2);B([ce("userComponentFactory")],pc.prototype,"userComponentFactory",2);B([ce("rowRenderer")],pc.prototype,"rowRenderer",2);B([ce("dataTypeService")],pc.prototype,"dataTypeService",2);B([ce("quickFilterService")],pc.prototype,"quickFilterService",2);B([ir("advancedFilterService")],pc.prototype,"advancedFilterService",2);B([It],pc.prototype,"init",1);pc=B([ri("filterManager")],pc);var HA=class extends Mi{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedListener(this.eventService,X.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))}hasFilter(){return!!this.filterWrapper}getFilter(){var e,t;return(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)!=null?t:null}afterInit(){var e,t,i;return(i=(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))!=null?i:dc.resolve()}afterGuiAttached(e){var t,i;(i=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||i.then(s=>{var r;(r=s==null?void 0:s.afterGuiAttached)==null||r.call(s,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(i=>{var s;(s=i==null?void 0:i.afterGuiDetached)==null||s.call(i)})}createFilter(e){var t;const{column:i,source:s}=this;this.filterWrapper=this.filterManager.getOrCreateFilterWrapper(i,s),(t=this.filterWrapper)!=null&&t.filterPromise&&this.filterWrapper.filterPromise.then(r=>{let n=r.getGui();if(Rt(n)||console.warn(`AG Grid: getGui method from filter returned ${n}, it should be a DOM element or an HTML template string.`),typeof n=="string"&&(n=Ja(n)),this.appendChild(n),e){const o={type:X.EVENT_FILTER_OPENED,column:i,source:s,eGui:this.getGui()};this.eventService.dispatchEvent(o)}})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(An(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}};B([ce("filterManager")],HA.prototype,"filterManager",2);B([ce("columnModel")],HA.prototype,"columnModel",2);B([It],HA.prototype,"postConstruct",1);var gN=class extends Mi{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},gm=class pq extends gN{constructor(t){super(pq.TEMPLATE,t)}postConstruct(){const t=this.getGui(),i={addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),addOrRemoveBodyCssClass:(s,r)=>this.eFloatingFilterBody.classList.toggle(s,r),setButtonWrapperDisplayed:s=>ws(this.eButtonWrapper,s),setCompDetails:s=>this.setCompDetails(s),getFloatingFilterComp:()=>this.compPromise,setWidth:s=>t.style.width=s,setMenuIcon:s=>this.eButtonShowMainFilter.appendChild(s)};this.ctrl.setComp(i,t,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(t){if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}}};gm.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;B([Gt("eFloatingFilterBody")],gm.prototype,"eFloatingFilterBody",2);B([Gt("eButtonWrapper")],gm.prototype,"eButtonWrapper",2);B([Gt("eButtonShowMainFilter")],gm.prototype,"eButtonShowMainFilter",2);B([It],gm.prototype,"postConstruct",1);B([Ma],gm.prototype,"destroyFloatingFilterComp",1);var MFe=gm,$A=class extends Lt{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){var e;const t=(e=this.gos.get("domLayout"))!=null?e:"normal";return["normal","print","autoHeight"].indexOf(t)===-1?(Si(`${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):t}};B([It],$A.prototype,"postConstruct",1);var dh=class extends Lt{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Aa(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Aa(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const{fakeHScrollComp:e,fakeVScrollComp:t}=this.ctrlsService.getParams();this.addManagedListener(this.centerRowsCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const i=this.gos.get("debounceVerticalScrollbar"),s=i?Aa(this.onVScroll.bind(this),100):this.onVScroll.bind(this),r=i?Aa(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",s),t.onScrollCallback(r)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(this.centerRowsCtrl==null)return;e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft());const i=this.enableRtl?e:-e,{topCenter:s,stickyTopCenter:r,stickyBottomCenter:n,centerHeader:o,bottomCenter:a,fakeHScrollComp:l}=this.ctrlsService.getParams();o.setHorizontalScroll(-i),a.setContainerTranslateX(i),s.setContainerTranslateX(i),r.setContainerTranslateX(i),n.setContainerTranslateX(i);const c=this.centerRowsCtrl.getViewportElement(),u=this.lastScrollSource[1]===0;e=Math.abs(e),u?l.setScrollPosition(e):tw(c,e,this.enableRtl)}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;let s;e===0?s=ew(t,this.enableRtl):s=this.ctrlsService.get("fakeHScrollComp").getScrollPosition(),this.doHorizontalScroll(Math.round(s)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let t;e===0?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===0?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:X.EVENT_BODY_SCROLL,direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const i=Vr(gi({},t),{type:X.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(i)},100)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!lh()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=uS(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Zb()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const s=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Zb()?e=e>0?0:s:e=Math.min(Math.max(e,0),s)),tw(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let s=-1;for(let r=0;r<i;r++){const n=this.rowModel.getRow(r);if(typeof e=="function"){if(n&&e(n)){s=r;break}}else if(e===n||e===n.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(this.gos.isDomLayout("print"))return;const i=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=i){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{r||this.paginationProxy.goToPageWithIndex(e);const n=this.ctrlsService.getGridBodyCtrl(),o=n.getStickyTopHeight(),a=n.getStickyBottomHeight(),l=this.paginationProxy.getRow(e);let c;do{const u=l.rowTop,h=l.rowHeight,f=this.paginationProxy.getPixelOffset(),p=l.rowTop-f,y=p+l.rowHeight,v=this.getVScrollPosition(),C=this.heightScaler.getDivStretchOffset(),S=v.top+C,_=v.bottom+C,x=_-S,A=this.heightScaler.getScrollPositionForPixel(p),R=this.heightScaler.getScrollPositionForPixel(y-x),O=Math.min((A+R)/2,p),k=S+o>p,F=_-a<y;let N=null;t==="top"?N=A:t==="bottom"?N=R:t==="middle"?N=O:k?N=A-o:F&&(N=R+a),N!==null&&(this.setVerticalScrollPosition(N),this.rowRenderer.redraw({afterScroll:!0})),c=u!==l.rowTop||h!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getGridColumn(e);if(!i||i.isPinned()||!this.columnModel.isColumnDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),n=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:s)||r,l=o?s:i;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:u,colMiddle:h,colRight:f}=this.getColumnBounds(e);return c?h-n/2:a?o?f:u:o?u-n:f-n}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:r}=this.getColumnBounds(e),n=this.enableRtl,o=n?t>r:i<r,a=n?i<s:t>s;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),s=e.getActualWidth(),r=e.getLeft(),n=t?-1:1,o=t?i-r:r,a=o+s*n,l=o+s/2*n;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,s=e+t;return{start:i,end:s,width:e}}};B([ce("ctrlsService")],dh.prototype,"ctrlsService",2);B([ce("animationFrameService")],dh.prototype,"animationFrameService",2);B([ce("paginationProxy")],dh.prototype,"paginationProxy",2);B([ce("rowModel")],dh.prototype,"rowModel",2);B([ce("rowContainerHeightService")],dh.prototype,"heightScaler",2);B([ce("rowRenderer")],dh.prototype,"rowRenderer",2);B([ce("columnModel")],dh.prototype,"columnModel",2);B([It],dh.prototype,"postConstruct",1);var gq="ag-force-vertical-scroll",LFe="ag-selectable",OFe="ag-column-moving",Oa=class extends Lt{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,s,r,n,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=r,this.eStickyTop=n,this.eStickyBottom=o,this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new $A(this.comp)),this.bodyScrollFeature=this.createManagedBean(new dh(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,r,n,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(s),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,X.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(t=>{this.addManagedListener(t,"focusin",i=>{const{target:s}=i,r=rg(s,"ag-root",t);t.classList.toggle("ag-has-focus",!r)}),this.addManagedListener(t,"focusout",i=>{const{target:s,relatedTarget:r}=i,n=t.contains(r),o=rg(r,"ag-root",t);rg(s,"ag-root",t)||(!n||o)&&t.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(OFe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(LFe,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.gos.getScrollbarWidth()||0,i=UI()?16:0,s=`calc(100% + ${t+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(s))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const s=i.relatedTarget;if(b_(s)===null){this.rowRenderer.stopEditing();return}let r=t.some(n=>n.contains(s))&&this.mouseEventService.isElementInThisGrid(s);if(!r){const n=this.popupService;r=n.getActivePopups().some(o=>o.contains(s))||n.isElementWithinCustomPopup(s)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedListener(i,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=t===-1?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?gq:null,i=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&dX(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const t=this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),i=t?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(i,t)};e(),this.addManagedListener(this.eventService,X.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyWheel.bind(this)),this.addManagedListener(this.eStickyBottom,"wheel",this.onStickyWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",i=>this.onFullWidthContainerWheel(i,t))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!lh())return;const t=new wo(this.eBodyViewport),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListener(t,wo.EVENT_LONG_TAP,i),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Vl(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight();let s=0;t>0&&(s+=t),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0,s=e+i;this.comp.setStickyBottomBottom(`${s}px`)}sizeColumnsToFit(e,t){const s=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,n=um(this.eGridBody)-s;if(n>0){this.columnModel.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};B([ce("animationFrameService")],Oa.prototype,"animationFrameService",2);B([ce("rowContainerHeightService")],Oa.prototype,"rowContainerHeightService",2);B([ce("ctrlsService")],Oa.prototype,"ctrlsService",2);B([ce("columnModel")],Oa.prototype,"columnModel",2);B([ce("scrollVisibleService")],Oa.prototype,"scrollVisibleService",2);B([ce("menuService")],Oa.prototype,"menuService",2);B([ce("headerNavigationService")],Oa.prototype,"headerNavigationService",2);B([ce("dragAndDropService")],Oa.prototype,"dragAndDropService",2);B([ce("pinnedRowModel")],Oa.prototype,"pinnedRowModel",2);B([ce("rowRenderer")],Oa.prototype,"rowRenderer",2);B([ce("popupService")],Oa.prototype,"popupService",2);B([ce("mouseEventService")],Oa.prototype,"mouseEventService",2);B([ce("rowModel")],Oa.prototype,"rowModel",2);B([ce("filterManager")],Oa.prototype,"filterManager",2);var sC="ag-cell-range-selected",IFe="ag-cell-range-chart",NFe="ag-cell-range-single-cell",VFe="ag-cell-range-chart-category",BFe="ag-cell-range-handle",GFe="ag-cell-range-top",HFe="ag-cell-range-right",$Fe="ag-cell-range-bottom",WFe="ag-cell-range-left",UFe=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(sC,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${sC}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${sC}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${sC}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${sC}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(IFe,this.hasChartRange),y0(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(NFe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,s=!t&&e.right,r=!t&&e.bottom,n=!t&&e.left;this.cellComp.addOrRemoveCssClass(GFe,i),this.cellComp.addOrRemoveCssClass(HFe,s),this.cellComp.addOrRemoveCssClass($Fe,r),this.cellComp.addOrRemoveCssClass(WFe,n)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>Dl([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,s=!1,r=!1;const n=this.cellCtrl.getCellPosition().column,o=this.beans.columnModel;let a,l;e?(a=o.getDisplayedColAfter(n),l=o.getDisplayedColBefore(n)):(a=o.getDisplayedColBefore(n),l=o.getDisplayedColAfter(n));const c=this.rangeService.getCellRanges().filter(u=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),u));a||(r=!0),l||(i=!0);for(let u=0;u<c.length&&!(t&&i&&s&&r);u++){const h=c[u],f=this.rangeService.getRangeStartRow(h),p=this.rangeService.getRangeEndRow(h);!t&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(t=!0),!s&&this.beans.rowPositionUtils.sameRow(p,this.cellCtrl.getCellPosition())&&(s=!0),!r&&a&&h.columns.indexOf(a)<0&&(r=!0),!i&&l&&h.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:s,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(BFe,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const s=Os(t),r=this.cellCtrl.getCellPosition(),n=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),o=e.get("enableRangeHandle");let a=i===1&&!this.cellCtrl.isEditing()&&(n||o);if(this.hasChartRange){const c=t[0].type===1&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass(VFe,c),a=s.type===0}return a&&s.endRow!=null&&this.rangeService.isContiguousRange(s)&&this.rangeService.isBottomRightCell(s,r)}addSelectionHandle(){const e=this.beans.gos,t=Os(this.rangeService.getCellRanges()).type,s=e.get("enableFillHandle")&&Fi(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},zFe=class extends Lt{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,X.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Fu(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let i=this.column;const s=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||Fi(i)||s!==i.getPinned()));r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Os(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.columnModel.getBodyContainerWidth();return t+i+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const i=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},jFe=class extends Lt{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,s=>this.cellComp.addOrRemoveCssClass(s,!0),s=>this.cellComp.addOrRemoveCssClass(s,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),s=e.cellStyle;t=s(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},Ji=class{postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gos.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};B([ce("resizeObserverService")],Ji.prototype,"resizeObserverService",2);B([ce("paginationProxy")],Ji.prototype,"paginationProxy",2);B([ce("context")],Ji.prototype,"context",2);B([ce("gridOptionsService")],Ji.prototype,"gos",2);B([ce("environment")],Ji.prototype,"environment",2);B([ce("rowRenderer")],Ji.prototype,"rowRenderer",2);B([ce("valueService")],Ji.prototype,"valueService",2);B([ce("eventService")],Ji.prototype,"eventService",2);B([ce("columnModel")],Ji.prototype,"columnModel",2);B([ce("headerNavigationService")],Ji.prototype,"headerNavigationService",2);B([ce("navigationService")],Ji.prototype,"navigationService",2);B([ce("columnAnimationService")],Ji.prototype,"columnAnimationService",2);B([ce("focusService")],Ji.prototype,"focusService",2);B([ce("popupService")],Ji.prototype,"popupService",2);B([ce("stylingService")],Ji.prototype,"stylingService",2);B([ce("columnHoverService")],Ji.prototype,"columnHoverService",2);B([ce("userComponentFactory")],Ji.prototype,"userComponentFactory",2);B([ce("userComponentRegistry")],Ji.prototype,"userComponentRegistry",2);B([ce("animationFrameService")],Ji.prototype,"animationFrameService",2);B([ce("dragService")],Ji.prototype,"dragService",2);B([ce("dragAndDropService")],Ji.prototype,"dragAndDropService",2);B([ce("sortController")],Ji.prototype,"sortController",2);B([ce("filterManager")],Ji.prototype,"filterManager",2);B([ce("rowContainerHeightService")],Ji.prototype,"rowContainerHeightService",2);B([ce("frameworkOverrides")],Ji.prototype,"frameworkOverrides",2);B([ce("cellPositionUtils")],Ji.prototype,"cellPositionUtils",2);B([ce("rowPositionUtils")],Ji.prototype,"rowPositionUtils",2);B([ce("selectionService")],Ji.prototype,"selectionService",2);B([ce("rowCssClassCalculator")],Ji.prototype,"rowCssClassCalculator",2);B([ce("rowModel")],Ji.prototype,"rowModel",2);B([ce("ctrlsService")],Ji.prototype,"ctrlsService",2);B([ce("ctrlsFactory")],Ji.prototype,"ctrlsFactory",2);B([ce("agStackComponentsRegistry")],Ji.prototype,"agStackComponentsRegistry",2);B([ce("valueCache")],Ji.prototype,"valueCache",2);B([ce("rowNodeEventThrottle")],Ji.prototype,"rowNodeEventThrottle",2);B([ce("localeService")],Ji.prototype,"localeService",2);B([ce("syncService")],Ji.prototype,"syncService",2);B([ce("ariaAnnouncementService")],Ji.prototype,"ariaAnnouncementService",2);B([ir("rangeService")],Ji.prototype,"rangeService",2);B([ir("selectionHandleFactory")],Ji.prototype,"selectionHandleFactory",2);B([It],Ji.prototype,"postConstruct",1);Ji=B([ri("beans")],Ji);var KFe=class extends Ji{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Yc(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:i,gos:s}=this.beans,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const n=this.cellCtrl.createEvent(e,X.EVENT_CELL_CLICKED);t.dispatchEvent(n);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(n)})},0),(s.get("singleClickEdit")||o.singleClickEdit)&&!s.get("suppressClickEdit")&&!(e.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!lh()||FI("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),i=this.cellCtrl.createEvent(e,X.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),typeof t.onCellDoubleClicked=="function"&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{t.onCellDoubleClicked(i)})},0),!this.beans.gos.get("singleClickEdit")&&!this.beans.gos.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:s}=e,r=e.target,{cellCtrl:n,beans:o}=this,{eventService:a,rangeService:l,focusService:c}=o;if(this.isRightClickInExistingRange(e))return;const u=l&&l.getCellRanges().length!=0;if(!s||!u){const h=Ku()&&!n.isEditing()&&!KI(r);n.focusCell(h)}if(s&&u&&!c.isCellFocused(n.getCellPosition())){e.preventDefault();const h=c.getFocusedCell();if(h){const{column:f,rowIndex:p,rowPinned:y}=h,v=o.rowRenderer.getRowByPosition({rowIndex:p,rowPinned:y}),C=v==null?void 0:v.getCellCtrl(f);C!=null&&C.isEditing()&&C.stopEditing(),c.setFocusedCell({column:f,rowIndex:p,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){const h=this.cellCtrl.getCellPosition();if(s)l.extendLatestRangeToCell(h);else{const f=t||i;l.setRangeToCell(h,f)}}a.dispatchEvent(this.cellCtrl.createEvent(e,X.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),s=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(e){return rg(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,X.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,X.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){}},YFe=class extends Lt{constructor(e,t,i,s,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=s,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case Xe.ENTER:this.onEnterKeyDown(e);break;case Xe.F2:this.onF2KeyDown(e);break;case Xe.ESCAPE:this.onEscapeKeyDown(e);break;case Xe.TAB:this.onTabKeyDown(e);break;case Xe.BACKSPACE:case Xe.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Xe.DOWN:case Xe.UP:case Xe.RIGHT:case Xe.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var i;const{cellCtrl:s,beans:r,rowNode:n}=this,{gos:o,rangeService:a,eventService:l}=r;if(!s.isEditing()){if(l.dispatchEvent({type:X.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),wX(e,o.get("enableCellEditingOnBackspace"))){if(a&&o.get("enableRangeSelection"))a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(s.isCellEditable()){const c=s.getColumn(),u=(i=this.beans.valueService.parseValue(c,n,"",n.getValueFromValueService(c)))!=null?i:null;n.setDataValue(c,u,"cellClear")}}else s.startRowOrCellEdit(e,t);l.dispatchEvent({type:X.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?Xe.UP:Xe.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Xe.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Xe.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const s=e.key;s===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(s,e),e.preventDefault())}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const i=this.rowNode.isSelected(),s=!i;if(s||!t.get("suppressRowDeselection")){const r=this.beans.gos.get("groupSelectsFiltered"),n=this.rowNode.setSelectedParams({newValue:s,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});i===void 0&&n===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},mq=class extends Mi{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(Yr("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const s=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(t){const s=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(s)}else i()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};B([It],mq.prototype,"postConstruct",1);var XFe="ag-column-first",qFe="ag-column-last",WA=class{static getHeaderClassesFromColDef(e,t,i,s){return Fi(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,i,s)}static getToolPanelClassesFromColDef(e,t,i,s){return Fi(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,i,s)}static refreshFirstAndLastStyles(e,t,i){e.addOrRemoveCssClass(XFe,i.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass(qFe,i.isColumnAtEdge(t,"last"))}static getClassParams(e,t,i,s){return t.addGridCommonParams({colDef:e,column:i,columnGroup:s})}static getColumnClassesFromCollDef(e,t,i,s,r){if(Fi(e))return[];let n;if(typeof e=="function"){const o=this.getClassParams(t,i,s,r);n=e(o)}else n=e;return typeof n=="string"?[n]:Array.isArray(n)?[...n]:[]}},QFe="ag-cell",JFe="ag-cell-auto-height",ZFe="ag-cell-normal-height",eMe="ag-cell-focus",tMe="ag-cell-first-right-pinned",iMe="ag-cell-last-left-pinned",sMe="ag-cell-not-inline-editing",rMe="ag-column-hover",nMe="ag-cell-wrap-text",oMe=0,vq=class SM extends Lt{constructor(t,i,s,r){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=t,this.rowNode=i,this.beans=s,this.rowCtrl=r,this.instanceId=t.getId()+"-"+oMe++,this.colIdSanitised=Bn(this.column.getId()),s.gos.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new zFe(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellPositionFeature)==null||i.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new jFe(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellCustomStyleFeature)==null||i.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new KFe(this,this.beans,this.column),this.addDestroyFunc(()=>{var i;(i=this.cellMouseListenerFeature)==null||i.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new YFe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var i;(i=this.cellKeyboardListenerFeature)==null||i.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new UFe(this.beans,this),this.addDestroyFunc(()=>{var i;(i=this.cellRangeFeature)==null||i.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(t,i){const s=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&Rt(a))return Vv(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},r=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!i&&r&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:s,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new ch(n,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(t,i,s,r,n){var o,a,l,c;this.cellComp=t,this.eGui=i,this.printLayout=r,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(o=this.cellPositionFeature)==null||o.setComp(i),(a=this.cellCustomStyleFeature)==null||a.setComp(t),(l=this.tooltipFeature)==null||l.refreshToolTip(),(c=this.cellKeyboardListenerFeature)==null||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),n&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(u=>u()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const i=t.parentElement,s=this.beans.gos.getRowHeightForNode(this.rowNode).height,r=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:c,borderBottomWidth:u,borderTopWidth:h}=Wf(i),f=l+c+u+h,y=t.offsetHeight+f;if(a<5){const C=this.beans.gos.getDocument(),S=!C||!C.contains(t),_=y==0;if(S||_){window.setTimeout(()=>r(a+1),0);return}}const v=Math.max(y,s);this.rowNode.setRowAutoHeight(v,this.column)},n=()=>r(0);n();const o=this.beans.resizeObserverService.observeResize(t,n);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var t;return(t=this.column.getColDef().cellAriaRole)!=null?t:"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){var t;return(t=this.valueFormatted)!=null?t:this.value}showValue(t=!1){var i;const s=this.getValueToDisplay();let r;if(this.rowNode.stub){const n=this.createCellRendererParams();r=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),n)}else if(this.isCellRenderer()){const n=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n)}this.cellComp.setRenderDetails(r,s,t),(i=this.cellRangeFeature)==null||i.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),s=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),r=this.includeDndSource!=this.isIncludeControl(t.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return i||s||r||n}startEditing(t=null,i=!1,s=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,s)});return}const r=this.createCellEditorParams(t,i),n=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(n,r);this.editCompDetails=o;const a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!n.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:n.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,a,l,this.beans.gos.get("reactiveCustomComponents"));const c=this.createEvent(s,X.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(c)}setEditing(t){var i;this.editing!==t&&(this.editing=t,(i=this.cellRangeFeature)==null||i.refreshHandle())}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(t){const i={newValueExists:!1};if(t)return i;const s=this.cellComp.getCellEditor();return!s||s.isCancelAfterEnd&&s.isCancelAfterEnd()?i:{newValue:s.getValue(),newValueExists:!0}}saveNewValue(t,i){if(i===t)return!1;this.suppressRefreshCell=!0;const s=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,s}stopEditing(t=!1){if(!this.editing)return!1;const{newValue:i,newValueExists:s}=this.takeValueFromCellEditor(t),r=this.rowNode.getValueFromValueService(this.column);let n=!1;return s&&(n=this.saveNewValue(r,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,i,!t&&!!n),n}dispatchEditingStoppedEvent(t,i,s){const r=Vr(gi({},this.createEvent(null,X.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:i,valueChanged:s});this.beans.eventService.dispatchEvent(r)}createCellEditorParams(t,i){return this.beans.gos.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:i,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,s,r,n)=>this.registerRowDragger(i,s,n),setTooltip:(i,s)=>{var r;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,s),(r=this.tooltipFeature)==null||r.refreshToolTip()}})}parseValue(t){return this.beans.valueService.parseValue(this.column,this.rowNode,t,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.recreateCell(this):this.refreshCell(t)}refreshCell(t){var i,s,r,n;if(this.suppressRefreshCell||this.editing)return;const o=this.column.getColDef(),a=t!=null&&!!t.newData,l=t!=null&&!!t.suppressFlash||!!o.suppressCellFlash,c=o.field==null&&o.valueGetter==null&&o.showRowGroup==null,u=t&&t.forceRefresh||c||a,h=!!this.cellComp,f=this.updateAndFormatValue(h),p=u||f;if(h){if(p){this.showValue(a);const y=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!l&&!y&&(this.beans.gos.get("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),(i=this.cellCustomStyleFeature)==null||i.applyUserStyles(),(s=this.cellCustomStyleFeature)==null||s.applyClassesFromColDef()}(r=this.tooltipFeature)==null||r.refreshToolTip(),(n=this.cellCustomStyleFeature)==null||n.applyCellClassRules()}}stopEditingAndFocus(t=!1,i=!1){this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(i)}navigateAfterEdit(t){if(this.beans.gos.get("enterNavigatesVerticallyAfterEdit")){const s=t?Xe.UP:Xe.DOWN;this.beans.navigationService.navigateToNextCell(null,s,this.getCellPosition(),!1)}}flashCell(t){var i,s;const r=(i=t==null?void 0:t.flashDuration)!=null?i:t==null?void 0:t.flashDelay,n=(s=t==null?void 0:t.fadeDuration)!=null?s:t==null?void 0:t.fadeDelay;this.animateCell("data-changed",r,n)}animateCell(t,i,s){if(!this.cellComp)return;const r=`ag-cell-${t}`,n=`ag-cell-${t}-animation`,{gos:o}=this.beans;i||(i=o.get("cellFlashDuration")),Rt(s)||(s=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(n,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.cellComp.addOrRemoveCssClass(n,!0),this.eGui.style.transition=`background-color ${s}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.eGui.style.transition="")},s))},i)})}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){var i;return(i=this.callValueFormatter(t))!=null?i:t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const i=this.value,s=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=s:!0}valuesAreEqual(t,i){const s=this.column.getColDef();return s.equals?s.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){const t=this.getGui();this.beans.gos.setDomData(t,SM.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gos.setDomData(t,SM.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return this.beans.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(t)}onKeyDown(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(t)}onMouseEvent(t,i){var s;(s=this.cellMouseListenerFeature)==null||s.onMouseEvent(t,i)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:i,beans:s}=this;WA.refreshFirstAndLastStyles(t,i,s.columnModel)}refreshAriaColIndex(){const t=this.beans.columnModel.getAriaColumnIndex(this.column);VI(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,i)});return}this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(tMe,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(iMe,t)}onCellFocused(t){if(this.beans.gos.get("suppressCellFocus"))return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(eMe,i),i&&t&&t.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});const s=this.beans.gos.get("editType")==="fullRow";!i&&!s&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Bu(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(QFe,!0),this.cellComp.addOrRemoveCssClass(sMe,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(JFe,t),this.cellComp.addOrRemoveCssClass(ZFe,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(rMe,t)}onColDefChanged(){if(!this.cellComp)return;if(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{const i=this.getCellEditor();if(i!=null&&i.refresh){const{eventKey:s,cellStartedEdit:r}=this.editCompDetails.params,n=this.createCellEditorParams(s,r),o=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(o,n);i.refresh(a.params)}}}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(nMe,t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),s=this.createEvent(t,X.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(s),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(s)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new BA;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new mq(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,s){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,i);return}const r=this.createRowDragComp(t,i,s);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(t,i,s){const r=this.beans.gos.get("pagination"),n=this.beans.gos.get("rowDragManaged"),o=this.beans.gos.isRowModelType("clientSide");if(n){if(!o){Si("managed row dragging is only allowed in the Client Side Row Model");return}if(r){Si("managed row dragging is not possible when doing pagination");return}}const a=new kg(()=>this.value,this.rowNode,this.column,t,i,s);return this.beans.context.createBean(a),a}};vq.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var og=vq,aMe=0,yq=class xM extends Lt{constructor(t,i,s,r,n){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gos=i.gos,this.rowNode=t,this.paginationPage=i.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=r,this.printLayout=n,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+aMe++,this.rowId=Bn(t.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gos.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Bn(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}setComp(t,i,s){const r={rowComp:t,element:i,containerType:s};this.allRowGuis.push(r),s==="left"?this.leftGui=r:s==="right"?this.rightGui=r:s==="fullWidth"?this.fullWidthGui=r:this.centerGui=r,this.initialiseRowComp(r),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){switch(this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),t){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0;break}}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=i)}initialiseRowComp(t){const i=this.gos;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(n=>s.addOrRemoveCssClass(n,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Xd(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),i.setDomData(t.element,xM.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(t.element,xM.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Bn(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(lM(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(lM(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if(this.gos.get("enableRangeSelection")){Si("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),s=new kg(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),r=this.createBean(s,this.beans.context);this.rowDragComps.push(r)}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!Zs.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const s=this.createFullWidthCompDetails(t.element,i);t.rowComp.showFullWidth(s)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,i;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(s=>{var r;return(r=s==null?void 0:s.rowComp)==null?void 0:r.getFullWidthCellRenderer()}):[(i=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(i)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,s=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&i&&s}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow"),i=this.rowNode.isFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(r);t?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,i=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,i,s=null){const r={list:[],map:{}},n=(o,a)=>{r.list.push(a),r.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=t.map[a];l||(l=new og(o,this.rowNode,this.beans,this)),n(a,l)}),t.list.forEach(o=>{if(r.map[o.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(o,s)){n(o.getColumn().getInstanceId(),o);return}o.destroy()}),r}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(i=>{const s=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(s,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:const i=t;throw new Error(`Unhandled case: ${i}`)}}createAllCellCtrls(){const t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const s=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const r=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const c=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(c)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(t){const i=()=>{t.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=Rt(this.rowNode.oldRowTop),s=this.beans.columnModel.isPinningLeft(),r=this.beans.columnModel.isPinningRight();if(i){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=s,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=s,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,i=t(this.fullWidthGui,null),s=t(this.centerGui,null),r=t(this.leftGui,"left"),n=t(this.rightGui,"right");return i&&s&&r&&n}addListeners(){this.addManagedListener(this.rowNode,ts.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,ts.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,ts.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,ts.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,ts.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const t=this.beans.eventService;this.addManagedListener(t,X.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,X.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,X.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,X.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,X.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,X.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,X.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,X.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(t,X.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(s=>{this.addRowDraggerToRow(s)});return}this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[]}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,ts.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())}),this.addManagedListener(this.rowNode,ts.EVENT_CELL_CHANGED,t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const s=t===0,r=t===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",s),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass("ag-row-group",t),s.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),s.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),Xd(s.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Bu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(t){const i=this.allRowGuis.find(l=>l.element.contains(t.target));if(!((i?i.element:null)===t.target))return;const n=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Yc(t))return;const i=this.allRowGuis.find(o=>o.element.contains(t.target)),s=i?i.element:null,r=s===t.target;let n=null;r||(n=this.beans.focusService.findNextFocusableElement(s,!1,t.shiftKey)),(this.isFullWidth()&&r||!n)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const i=(t=this.allRowGuis.find(s=>al(s.element)))==null?void 0:t.element;return i?i.getBoundingClientRect().top:0}onFullWidthRowFocused(t){var i;const s=this.rowNode,r=t?this.isFullWidth()&&t.rowIndex===s.rowIndex&&t.rowPinned==s.rowPinned:!1,n=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;n&&(n.classList.toggle("ag-full-width-focus",r),r&&n.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,i){const s={list:[],map:{}};return t.list.forEach(r=>{r!==i&&(s.list.push(r),s.map[r.getColumn().getInstanceId()]=r)}),s}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(t,i){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(t,i){const s=this.createRowEvent(t,i);return s.source=this,s}onRowDblClick(t){if(Yc(t))return;const i=this.createRowEventWithSource(X.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(i)}onRowMouseDown(t){if(this.lastMouseDownOnDragger=rg(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,s=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:s.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}onRowClick(t){if(Yc(t)||this.lastMouseDownOnDragger)return;const s=this.createRowEventWithSource(X.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(s);const r=t.ctrlKey||t.metaKey,n=t.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;const a=this.gos.get("rowMultiSelectWithClick"),l=!this.gos.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):r?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:t,source:c});else{const u=a?!1:!r;this.rowNode.setSelectedParams({newValue:!0,clearSelection:u,rangeSelect:n,event:t,source:c})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const i=()=>{const r=t.clientHeight;if(r!=null&&r>0){const n=()=>{this.rowNode.setRowHeight(r),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(n,0)}},s=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(s),i()}createFullWidthCompDetails(t,i){const s=this.gos.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,n,o,a)=>this.addFullWidthRowDragging(r,n,o,a),setTooltip:(r,n)=>this.refreshRowTooltip(r,n)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(s);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(s);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(s);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(s)}}refreshRowTooltip(t,i){if(!this.fullWidthGui)return;const s={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new ch(s,this.beans))}addFullWidthRowDragging(t,i,s="",r){if(!this.isFullWidth())return;const n=new kg(()=>s,this.rowNode,void 0,t,i,r);this.createBean(n,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(n,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){if(this.stoppingRowEdit)return;const i=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;let r=!1;for(const n of i){const o=n.stopEditing(t);s&&!t&&!r&&o&&(r=!0)}if(r){const n=this.createRowEvent(X.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(n)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(t){this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=t?this.createRowEvent(X.EVENT_ROW_EDITING_STARTED):this.createRowEvent(X.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)}startRowEditing(t=null,i=null,s=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((n,o)=>{const a=o===i;return a?o.startEditing(t,a,s):o.startEditing(null,a,s),n?!0:o.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,i){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"?"left":t==="right"?"right":null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),s={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(s)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gos.getCallback("getRowStyle");let s;if(i){const r={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};s=i(r)}return s||t?Object.assign({},t,s):this.emptyStyle}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",i),y0(s.element,i),s.element.contains(this.beans.gos.getActiveDomElement())&&(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&this.beans.gos.get("suppressRowDeselection"))return;const s=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(s)}addHoverFunctionality(t){this.active&&(this.addManagedListener(t,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,ts.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gos.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,ts.EVENT_MOUSE_LEAVE,()=>{t.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(t){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(i.top,!0)-100,r=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(s,t),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){t?i(t):this.allRowGuis.forEach(i)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),n=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,o=n?`${Math.min(s,n)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(t=!1){if(this.active=!1,!t&&this.gos.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent(X.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=i=>(i.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const s=this.beans.paginationProxy.getPixelOffset();return t+s*(i?1:-1)}setRowTop(t){if(!this.printLayout&&Rt(t)){const i=this.applyPaginationOffset(t),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(n)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";let i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{const s=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,r=this.applyPaginationOffset(s);i=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return i+"px"}setRowTopStyle(t){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(s=>{s.getColumn()==t&&(i=s)}),i!=null||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(t)>=0&&(i=s)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){const i=this.rowNode.getRowIndexString(),s=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),r=this.rowNode.rowIndex%2===0,n=s+this.rowNode.rowIndex+1;this.forEachGui(t,o=>{o.rowComp.setRowIndex(i),o.rowComp.addOrRemoveCssClass("ag-row-even",r),o.rowComp.addOrRemoveCssClass("ag-row-odd",!r),NI(o.element,n)})}};yq.DOM_DATA_KEY_ROW_CTRL="renderedRow";var ag=yq,ul=class extends Lt{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",FI("touchstart")?"touchstart":"mousedown"].forEach(i=>{const s=this.processMouseEvent.bind(this,i);this.addManagedListener(this.element,i,s)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Yc(t))return;const i=this.getRowForEvent(t),s=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,i,s):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!lh())return;const e=new wo(this.element),t=i=>{const s=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,s,r)};this.addManagedListener(e,wo.EVENT_LONG_TAP,t),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=this.gos.getDomData(t,ag.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,s){const r=i?i.getRowNode():null,n=s?s.getColumn():null;let o=null;if(n){const c=e||t;s.dispatchCellContextMenuEvent(c??null),o=this.valueService.getValue(n,r)}const a=this.ctrlsService.getGridBodyCtrl(),l=s?s.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:r,column:n,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:y_(this.gos,e,og.DOM_DATA_KEY_CELL_CTRL),rowCtrl:y_(this.gos,e,ag.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){const s=e.getRowNode(),r=e.getColumn(),n=e.isEditing();if(!w_(this.gos,i,s,r,n)&&t==="keydown"&&(!n&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),PA(i)&&e.processCharacter(i)),t==="keydown"){const a=e.createEvent(i,X.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(a)}}processFullWidthRowKeyboardEvent(e,t,i){const s=e.getRowNode(),r=this.focusService.getFocusedCell(),n=r&&r.column;if(!w_(this.gos,i,s,n,!1)){const a=i.key;if(t==="keydown")switch(a){case Xe.PAGE_HOME:case Xe.PAGE_END:case Xe.PAGE_UP:case Xe.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case Xe.UP:case Xe.DOWN:e.onKeyboardNavigate(i);break;case Xe.TAB:e.onTabKeyDown(i);break}}if(t==="keydown"){const a=e.createRowEvent(X.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(a)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=bX(e);if(i===Xe.A)return this.onCtrlAndA(e);if(i===Xe.C)return this.onCtrlAndC(e);if(i===Xe.D)return this.onCtrlAndD(e);if(i===Xe.V)return this.onCtrlAndV(e);if(i===Xe.X)return this.onCtrlAndX(e);if(i===Xe.Y)return this.onCtrlAndY();if(i===Xe.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:i,rangeService:s}=this;if(s&&i.isRowsToRender()){const[r,n]=[t.isEmpty("top"),t.isEmpty("bottom")],o=r?null:"top";let a,l;n?(a=null,l=this.paginationProxy.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowData().length-1);const c=this.columnModel.getAllDisplayedColumns();if(rc(c))return;s.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:Os(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gos.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};B([ce("mouseEventService")],ul.prototype,"mouseEventService",2);B([ce("valueService")],ul.prototype,"valueService",2);B([ce("menuService")],ul.prototype,"menuService",2);B([ce("ctrlsService")],ul.prototype,"ctrlsService",2);B([ce("navigationService")],ul.prototype,"navigationService",2);B([ce("focusService")],ul.prototype,"focusService",2);B([ce("undoRedoService")],ul.prototype,"undoRedoService",2);B([ce("columnModel")],ul.prototype,"columnModel",2);B([ce("paginationProxy")],ul.prototype,"paginationProxy",2);B([ce("pinnedRowModel")],ul.prototype,"pinnedRowModel",2);B([ir("rangeService")],ul.prototype,"rangeService",2);B([ir("clipboardService")],ul.prototype,"clipboardService",2);B([It],ul.prototype,"postConstruct",1);var J0=class extends Lt{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedListener(this.eventService,X.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=um(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50);const s=this.gos.getCallback("processUnpinnedColumns");i.length&&(s&&(i=s({columns:i,viewportWidth:t})),this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),s=t+i;if(s<e)return[];const r=[...this.columnModel.getDisplayedLeftColumns()],n=[...this.columnModel.getDisplayedRightColumns()];let o=0,a=0,l=0;const c=[];let u=s-l-e;for(;(a<r.length||o<n.length)&&u>0;){if(o<n.length){const h=n[o++];u-=h.getActualWidth(),c.push(h)}if(a<r.length&&u>0){const h=r[a++];u-=h.getActualWidth(),c.push(h)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=uS(e);if(this.bodyHeight!==t){this.bodyHeight=t;const i={type:X.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}};B([ce("ctrlsService")],J0.prototype,"ctrlsService",2);B([ce("pinnedWidthService")],J0.prototype,"pinnedWidthService",2);B([ce("columnModel")],J0.prototype,"columnModel",2);B([ce("scrollVisibleService")],J0.prototype,"scrollVisibleService",2);B([It],J0.prototype,"postConstruct",1);var mN=class extends Lt{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,X.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;ws(this.element,t),uc(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};B([ce("pinnedWidthService")],mN.prototype,"pinnedWidthService",2);B([It],mN.prototype,"postConstruct",1);var vN=class extends Lt{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,X.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;ws(this.element,t),uc(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};B([ce("pinnedWidthService")],vN.prototype,"pinnedWidthService",2);B([It],vN.prototype,"postConstruct",1);var UA=class extends Lt{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedListener(this.eventService,X.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}};B([ce("rowContainerHeightService")],UA.prototype,"maxDivHeightScaler",2);B([It],UA.prototype,"postConstruct",1);var zA=class extends Lt{constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",t=>{if(t.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gos.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};B([ce("dragService")],zA.prototype,"dragService",2);B([ir("rangeService")],zA.prototype,"rangeService",2);B([It],zA.prototype,"postConstruct",1);var Z0=class extends Lt{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,X.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,X.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gos.isDomLayout("print"),i=e.getBodyContainerWidth(),s=e.getDisplayedColumnsLeftWidth(),r=e.getDisplayedColumnsRightWidth();let n;t?n=i+s+r:(n=i,this.addSpacer&&(this.gos.get("enableRtl")?s:r)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(n+=this.gos.getScrollbarWidth())),this.callback(n)}};B([ce("columnModel")],Z0.prototype,"columnModel",2);B([ce("scrollVisibleService")],Z0.prototype,"scrollVisibleService",2);B([It],Z0.prototype,"postConstruct",1);function lMe(e){switch(e){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":case"stickyBottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":case"stickyBottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":case"stickyBottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}var cMe=Jh([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["stickyBottomCenter","ag-sticky-bottom-container"],["stickyBottomLeft","ag-pinned-left-sticky-bottom"],["stickyBottomRight","ag-pinned-right-sticky-bottom"],["stickyBottomFullWidth","ag-sticky-bottom-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),uMe=Jh([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"],["stickyBottomCenter","ag-sticky-bottom-viewport"]]),mm=class Cq extends Lt{constructor(t){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=t,this.isFullWithContainer=this.name==="topFullWidth"||this.name==="stickyTopFullWidth"||this.name==="stickyBottomFullWidth"||this.name==="bottomFullWidth"||this.name==="fullWidth"}static getRowContainerCssClasses(t){const i=cMe.get(t),s=uMe.get(t);return{container:i,viewport:s}}static getPinned(t){switch(t){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"stickyBottomLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"stickyBottomRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new J0(this)))}registerWithCtrlsService(){switch(this.name){case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return;default:this.ctrlsService.register(this.name,this)}}forContainers(t,i){t.indexOf(this.name)>=0&&i()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(t,i,s){this.comp=t,this.eContainer=i,this.eViewport=s,this.createManagedBean(new ul(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const r=["topCenter","topLeft","topRight"],n=["stickyTopCenter","stickyTopLeft","stickyTopRight"],o=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],a=["bottomCenter","bottomLeft","bottomRight"],l=["center","left","right"],c=[...r,...a,...l,...n,...o],u=["center","left","right","fullWidth"],h=["center","topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],f=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],p=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"];this.forContainers(f,()=>{this.pinnedWidthFeature=this.createManagedBean(new mN(this.eContainer)),this.addManagedListener(this.eventService,X.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(p,()=>{this.pinnedWidthFeature=this.createManagedBean(new vN(this.eContainer)),this.addManagedListener(this.eventService,X.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(u,()=>this.createManagedBean(new UA(this.eContainer,this.name==="center"?s:void 0))),this.forContainers(c,()=>this.createManagedBean(new zA(this.eContainer))),this.forContainers(h,()=>this.createManagedBean(new Z0(y=>this.comp.setContainerWidth(`${y}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_ROWS_CHANGED,t=>this.onDisplayedRowsChanged(t.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth","stickyBottomCenter","stickyBottomLeft","stickyBottomRight","stickyBottomFullWidth"].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const s=()=>{const r=this.gos.get("ensureDomOrder"),n=this.gos.isDomLayout("print");this.comp.setDomOrder(r||n)};this.addManagedPropertyListener("domLayout",s),s()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],()=>{const t=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",t)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const t=i=>{this.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(t=!1){const i=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,s,t)}getCenterWidth(){return um(this.eViewport)}getCenterViewportScrollLeft(){return ew(this.eViewport,this.enableRtl)}registerViewportResizeListener(t){const i=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(()=>i())}isViewportInTheDOMTree(){return qI(this.eViewport)}getViewportScrollLeft(){return ew(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||uX(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(t){this.eContainer.style.transform=`translateX(${t}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(t){tw(this.eViewport,t,this.enableRtl)}isContainerVisible(){return!Cq.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(t=!1){const i=this.getRowCtrls();if(!this.visible||i.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const s=this.gos.isDomLayout("print"),n=this.gos.get("embedFullWidthRows")||s,o=i.filter(a=>{const l=a.isFullWidth();return this.isFullWithContainer?!n&&l:n||!l});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:t})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"stickyBottomCenter":case"stickyBottomLeft":case"stickyBottomRight":case"stickyBottomFullWidth":return this.rowRenderer.getStickyBottomRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};B([ce("dragService")],mm.prototype,"dragService",2);B([ce("ctrlsService")],mm.prototype,"ctrlsService",2);B([ce("columnModel")],mm.prototype,"columnModel",2);B([ce("resizeObserverService")],mm.prototype,"resizeObserverService",2);B([ce("rowRenderer")],mm.prototype,"rowRenderer",2);B([It],mm.prototype,"postConstruct",1);var bq=mm,dMe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="left"></ag-row-container>
                <ag-row-container ref="centerContainer" name="center"></ag-row-container>
                <ag-row-container ref="rightContainer" name="right"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>
        </div>
        <div class="ag-sticky-bottom" ref="eStickyBottom" role="presentation">
            <ag-row-container ref="stickyBottomLeftContainer" name="stickyBottomLeft"></ag-row-container>
            <ag-row-container ref="stickyBottomCenterContainer" name="stickyBottomCenter"></ag-row-container>
            <ag-row-container ref="stickyBottomRightContainer" name="stickyBottomRight"></ag-row-container>
            <ag-row-container ref="stickyBottomFullWidthContainer" name="stickyBottomFullWidth"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,nu=class extends Mi{constructor(){super(dMe)}init(){const e=(i,s)=>{const r=`${i}px`;s.style.minHeight=r,s.style.height=r},t={setRowAnimationCssOnBodyViewport:(i,s)=>this.setRowAnimationCssOnBodyViewport(i,s),setColumnCount:i=>KY(this.getGui(),i),setRowCount:i=>jY(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>this.eStickyBottom.style.height=i,setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,s)=>this.addOrRemoveCssClass(i,s),updateLayoutClasses:(i,s)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(n=>{n.toggle("ag-layout-auto-height",s.autoHeight),n.toggle("ag-layout-normal",s.normal),n.toggle("ag-layout-print",s.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",s.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",s.normal),this.addOrRemoveCssClass("ag-layout-print",s.print)},setAlwaysVerticalScrollClass:(i,s)=>this.eBodyViewport.classList.toggle(gq,s),registerBodyViewportResizeListener:i=>{const s=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>s())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,s)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(i,s))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new Oa),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&this.gos.get("enableRangeSelection")||this.gos.get("rowSelection")==="multiple")&&zY(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};B([ce("resizeObserverService")],nu.prototype,"resizeObserverService",2);B([ir("rangeService")],nu.prototype,"rangeService",2);B([Gt("eBodyViewport")],nu.prototype,"eBodyViewport",2);B([Gt("eStickyTop")],nu.prototype,"eStickyTop",2);B([Gt("eStickyBottom")],nu.prototype,"eStickyBottom",2);B([Gt("eTop")],nu.prototype,"eTop",2);B([Gt("eBottom")],nu.prototype,"eBottom",2);B([Gt("gridHeader")],nu.prototype,"headerRootComp",2);B([Gt("eBody")],nu.prototype,"eBody",2);B([It],nu.prototype,"init",1);var w0=class extends Lt{postConstruct(){this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const i={type:X.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};B([ce("ctrlsService")],w0.prototype,"ctrlsService",2);B([ce("columnAnimationService")],w0.prototype,"columnAnimationService",2);B([It],w0.prototype,"postConstruct",1);w0=B([ri("scrollVisibleService")],w0);var $d=class extends Lt{constructor(){super(...arguments),this.gridInstanceId=$d.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[$d.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return y_(this.gos,e.target,og.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const i=t[$d.GRID_DOM_KEY];if(Rt(i))return i===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gos.isDomLayout("normal"),i=e;let s,r;if(i.clientX!=null||i.clientY!=null?(s=i.clientX,r=i.clientY):(s=i.x,r=i.y),t){const n=this.ctrlsService.getGridBodyCtrl(),o=n.getScrollFeature().getVScrollPosition(),a=n.getScrollFeature().getHScrollPosition();s+=a.left,r+=o.top}return{x:s,y:r}}};$d.gridInstanceSequence=new b0;$d.GRID_DOM_KEY="__ag_grid_instance";B([ce("ctrlsService")],$d.prototype,"ctrlsService",2);$d=B([ri("mouseEventService")],$d);var ha=class extends Lt{constructor(){super(),this.onPageDown=cM(this.onPageDown,100),this.onPageUp=cM(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,s=e.altKey,r=e.ctrlKey||e.metaKey,n=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case Xe.PAGE_HOME:case Xe.PAGE_END:!r&&!s&&(this.onHomeOrEndKey(i),a=!0);break;case Xe.LEFT:case Xe.RIGHT:case Xe.UP:case Xe.DOWN:if(!o)return!1;r&&!s&&!n&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case Xe.PAGE_DOWN:case Xe.PAGE_UP:!r&&!s&&(a=this.handlePageUpDown(i,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),t?(e===Xe.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var t;const{scrollIndex:i,scrollType:s,scrollColumn:r,focusIndex:n,focusColumn:o}=e;Rt(r)&&!r.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(r),Rt(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,s),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(n),this.focusService.setFocusedCell({rowIndex:n,column:o,rowPinned:null,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell({rowIndex:n,rowPinned:null,column:o})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),r=this.paginationProxy.getPixelOffset(),n=i.top+s,o=this.paginationProxy.getRowIndexAtPixel(n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.paginationProxy.getPixelOffset(),r=i.top,n=this.paginationProxy.getRowIndexAtPixel(r+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,n,!0):this.navigateToNextPage(e,n,!0)}navigateToNextPage(e,t,i=!1){const s=this.getViewportHeight(),r=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow(),o=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRow(e.rowIndex),l=i?(a==null?void 0:a.rowHeight)-s-o:s-o,c=(a==null?void 0:a.rowTop)+l;let u=this.paginationProxy.getRowIndexAtPixel(c+o);if(u===e.rowIndex){const f=i?-1:1;t=u=e.rowIndex+f}let h;i?(h="bottom",u<r&&(u=r),t<r&&(t=r)):(h="top",u>n&&(u=n),t>n&&(t=n)),this.isRowTallerThanView(u)&&(t=u,h="top"),this.navigateTo({scrollIndex:t,scrollType:h,scrollColumn:null,focusIndex:u,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var i;const s=t?-1:1,r=this.getViewportHeight(),n=this.paginationProxy.getPageLastRow();let o=0,a=e.rowIndex;for(;a>=0&&a<=n;){const l=this.paginationProxy.getRow(a);if(l){const c=(i=l.rowHeight)!=null?i:0;if(o+c>r)break;o+=c}a+=s}return Math.max(0,Math.min(a,n))}getViewportHeight(){const{gridBodyCtrl:e,center:t}=this.ctrlsService.getParams(),i=e.getScrollFeature().getVScrollPosition(),s=this.gos.getScrollbarWidth();let r=i.bottom-i.top;return t.isHorizontalScrollShowing()&&(r-=s),r}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const i=t.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:s,column:r}=i;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:r,focusIndex:s,focusColumn:r})}onHomeOrEndKey(e){const t=e===Xe.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),s=t?i[0]:Os(i),r=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s})}onTabKeyDown(e,t){const i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t);if(s!==!1){s&&t.preventDefault();return}if(i){const{rowIndex:r,rowPinned:n}=e.getRowPosition();(n?r===0:r===this.paginationProxy.getPageFirstRow())&&(this.gos.get("headerHeight")===0||this.gos.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof og&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let s=this.getCellByPosition(i);return!s&&(s=this.rowRenderer.getRowByPosition(i),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,i){let s=e.isEditing();if(!s&&e instanceof og){const o=e.getRowCtrl();o&&(s=o.isEditing())}let r;return s?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,t,i):r=this.moveToNextEditingCell(e,t,i):r=this.moveToNextCellNotEditing(e,t),r===null?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const s=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(s,t,!0);return r===!1?null:r==null?!1:(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const s=e.getCellPosition(),r=this.findNextCellToFocusOn(s,t,!0);if(r===!1)return null;if(r==null)return!1;const n=r.getCellPosition(),o=this.isCellEditable(s),a=this.isCellEditable(n),l=n&&s.rowIndex===n.rowIndex&&s.rowPinned===n.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.columnModel.getAllDisplayedColumns();let s;e instanceof ag?s=Vr(gi({},e.getRowPosition()),{column:t?i[0]:Os(i)}):s=e.getCellPosition();const r=this.findNextCellToFocusOn(s,t,!1);if(r===!1)return null;if(r instanceof og)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return Rt(r)}findNextCellToFocusOn(e,t,i){var s;let r=e;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextTabbedCell(r,t);const n=this.gos.getCallback("tabToNextCell");if(Rt(n)){const c=n({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:r||null});if(c===!0||c===null)c===null&&Si("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),r=e;else{if(c===!1)return!1;c.floating&&(Si("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),r={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}}}if(!r)return null;if(r.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+r.rowIndex,column:r.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(i&&!o&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);const a=this.getCellByPosition(r);if(!a){const l=this.rowRenderer.getRowByPosition(r);if(!l||!l.isFullWidth()||i)continue;return l}if(!a.isSuppressNavigable())return(s=this.rangeService)==null||s.setRangeToCell(r),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,i,s){let r=i,n=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?t===Xe.LEFT&&(r=this.getLastCellOfColSpan(r)):t===Xe.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),n=Fi(r);if(n&&e&&e.key===Xe.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),s){const a=this.gos.getCallback("navigateToNextCell");if(Rt(a)){const c=a({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});Rt(c)?(c.floating&&(Si("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),r={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):r=null}}if(!r)return;if(r.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+r.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(r);o?this.focusPosition(o):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const i=this.columnModel.getAllDisplayedColumns(),s=this.rowRenderer.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),n={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Os(i):i[0])};this.focusPosition(n);const o=r!=null?this.rowPositionUtils.before(n,r):!1,a={type:X.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column,isFullWidthCell:!0,floating:n.rowPinned,fromBelow:o};return this.eventService.dispatchEvent(a),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:Os(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gos.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&(i==null?void 0:i.sticky))&&Fi(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};B([ce("mouseEventService")],ha.prototype,"mouseEventService",2);B([ce("paginationProxy")],ha.prototype,"paginationProxy",2);B([ce("focusService")],ha.prototype,"focusService",2);B([ce("columnModel")],ha.prototype,"columnModel",2);B([ce("rowModel")],ha.prototype,"rowModel",2);B([ce("ctrlsService")],ha.prototype,"ctrlsService",2);B([ce("rowRenderer")],ha.prototype,"rowRenderer",2);B([ce("headerNavigationService")],ha.prototype,"headerNavigationService",2);B([ce("rowPositionUtils")],ha.prototype,"rowPositionUtils",2);B([ce("cellNavigationService")],ha.prototype,"cellNavigationService",2);B([ce("pinnedRowModel")],ha.prototype,"pinnedRowModel",2);B([ir("rangeService")],ha.prototype,"rangeService",2);B([It],ha.prototype,"postConstruct",1);ha=B([ri("navigationService")],ha);var yN=class wq extends fm{constructor(t){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=t}postConstruct(){this.gos.setDomData(this.getGui(),wq.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const t=this.getGui(),i=this.params,s=r=>{w_(this.gos,r,i.node,i.column,!0)||i.onKeyDown(r)};this.addManagedListener(t,"keydown",s)}};yN.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";B([It],yN.prototype,"postConstruct",1);var hMe=yN,fMe=class extends Mi{constructor(e,t,i,s,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=s,this.cellCtrl=t;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(n);const o=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a=(u,h)=>{h!=null&&h!=""?o.setAttribute(u,h):o.removeAttribute(u)};un(o,t.getCellAriaRole()),a("col-id",t.getColumnIdSanitised());const l=t.getTabIndex();l!==void 0&&a("tabindex",l.toString());const c={addOrRemoveCssClass:(u,h)=>this.addOrRemoveCssClass(u,h),setUserStyles:u=>ZI(o,u),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:u=>this.includeSelection=u,setIncludeRowDrag:u=>this.includeRowDrag=u,setIncludeDndSource:u=>this.includeDndSource=u,setRenderDetails:(u,h,f)=>this.setRenderDetails(u,h,f),setEditDetails:(u,h,f)=>this.setEditDetails(u,h,f),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(c,this.getGui(),this.eCellWrapper,i,r)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,s=i&&this.eCellWrapper==null;if(s){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const r=!i&&this.eCellWrapper!=null;r&&(Hc(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const n=!e&&i,o=n&&this.eCellValue==null;if(o){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const a=!n&&this.eCellValue!=null;a&&(Hc(this.eCellValue),this.eCellValue=void 0);const l=s||r||o||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const s=this.editorVersion,r=e.newAgStackInstance();if(!r)return;const{params:n}=e;r.then(a=>this.afterCellEditorCreated(s,a,n,t,i)),Fi(this.cellEditor)&&n.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();An(t);const i=e!=null?Bn(e,!0):null;i!=null&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Hc(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Hc(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){const i=!this.beans.gos.get("suppressAnimationFrame"),s=this.rendererVersion,{componentClass:r}=e,n=()=>{if(this.rendererVersion!==s||!this.isAlive())return;const a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,s,r);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(n,this.rowNode.rowIndex,"createTasksP2"):n()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const r=this.getParentOfValue();An(r),r.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,i,s,r){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();const a=s||t.isPopup!==void 0&&t.isPopup();a?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),(i=this.rowCtrl)==null||i.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui();e.contains(this.beans.gos.getActiveDomElement())&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){this.beans.gos.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new hMe(e));const s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);const r=this.beans.popupService,n=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),o=t??(i.getPopupPosition?i.getPopupPosition():"over"),a=this.beans.gos.get("enableRtl"),l={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:o,alignSide:a?"right":"left",keepWithinBounds:!0},c=r.positionPopupByComponent.bind(r,l),u=this.beans.localeService.getLocaleTextFunc(),h=r.addPopup({modal:n,eChild:s,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:u("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui();e.contains(this.beans.gos.getActiveDomElement())&&WI()&&e.focus({preventScroll:!0}),An(this.getParentOfValue())}},pMe=class extends Mi{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),s.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(s);const r=this.getGui(),n=r.style;this.domOrder=this.rowCtrl.getDomOrder(),un(r,"row");const o=this.rowCtrl.getTabIndex();o!=null&&r.setAttribute("tabindex",o.toString());const a={setDomOrder:l=>this.domOrder=l,setCellCtrls:l=>this.setCellCtrls(l),showFullWidth:l=>this.showFullWidth(l),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(l,c)=>this.addOrRemoveCssClass(l,c),setUserStyles:l=>ZI(r,l),setTop:l=>n.top=l,setTransform:l=>n.transform=l,setRowIndex:l=>r.setAttribute("row-index",l),setRowId:l=>r.setAttribute("row-id",l),setRowBusinessKey:l=>r.setAttribute("row-business-key",l),refreshFullWidth:l=>this.refreshFullWidth(l)};e.setComp(a,this.getGui(),i),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const t=s=>{if(this.isAlive()){const r=s.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(s)}else this.beans.context.destroyBean(s)},i=e.newAgStackInstance();i&&i.then(t)}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(s=>{const r=s.getInstanceId();this.cellComps[r]==null?this.newCellComp(s):t[r]=null});const i=_f(t).filter(s=>s!=null);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const s=this.cellComps[i.getInstanceId()];s&&t.push(s.getGui())}),JI(this.getGui(),t)}newCellComp(e){const t=new fMe(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=_f(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().getInstanceId();this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}refreshFullWidth(e){const{fullWidthCellRenderer:t}=this;if(!t||!t.refresh)return!1;const i=e();return t.refresh(i)}};function gMe(){const e=Mi.elementGettingCreated.getAttribute("name"),t=bq.getRowContainerCssClasses(e);let i;return e==="center"||e==="topCenter"||e==="stickyTopCenter"||e==="bottomCenter"||e==="stickyBottomCenter"?i=`<div class="${t.viewport}" ref="eViewport" role="presentation">
                <div class="${t.container}" ref="eContainer"></div>
            </div>`:i=`<div class="${t.container}" ref="eContainer"></div>`,i}var ey=class extends Mi{constructor(){super(gMe()),this.rowComps={},this.name=Mi.elementGettingCreated.getAttribute("name"),this.type=lMe(this.name)}postConstruct(){const e={setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i};this.createManagedBean(new bq(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const t=gi({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const i=s=>{const r=s.getInstanceId(),n=t[r];if(n)this.rowComps[r]=n,delete t[r],this.ensureDomOrder(n.getGui());else{if(!s.getRowNode().displayed)return;const o=new pMe(s,this.beans,this.type);this.rowComps[r]=o,this.appendRow(o.getGui())}};e.forEach(i),_f(t).forEach(s=>{this.eContainer.removeChild(s.getGui()),s.destroy()}),un(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?cX(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(QI(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};B([ce("beans")],ey.prototype,"beans",2);B([Gt("eViewport")],ey.prototype,"eViewport",2);B([Gt("eContainer")],ey.prototype,"eContainer",2);B([It],ey.prototype,"postConstruct",1);B([Ma],ey.prototype,"preDestroy",1);var CN=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ni.ICON_PINNED:Ni.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};B([ce("columnModel")],CN.prototype,"columnModel",2);B([ce("gridOptionsService")],CN.prototype,"gos",2);var lg=class{static attemptMoveColumns(e){const{isFromHeader:t,hDirection:i,xPosition:s,fromEnter:r,fakeEvent:n,pinned:o,gos:a,columnModel:l}=e,c=i===0,u=i===1;let{allMovingColumns:h}=e;if(t){let A=[];h.forEach(R=>{var O;let k=null,F=R.getParent();for(;F!=null&&F.getDisplayedLeafColumns().length===1;)k=F,F=F.getParent();k!=null?(!!((O=k.getColGroupDef())!=null&&O.marryChildren)?k.getProvidedColumnGroup().getLeafColumns():k.getLeafColumns()).forEach(ee=>{A.includes(ee)||A.push(ee)}):A.includes(R)||A.push(R)}),h=A}const f=h.slice();l.sortColumnsLikeGridColumns(f);const p=this.calculateValidMoves({movingCols:f,draggingRight:u,xPosition:s,pinned:o,gos:a,columnModel:l}),y=this.calculateOldIndex(f,l);if(p.length===0)return;const v=p[0];let C=y!==null&&!r;if(t&&(C=y!==null),C&&!n&&(c&&v>=y||u&&v<=y))return;const S=l.getAllDisplayedColumns();let _=[],x=null;for(let A=0;A<p.length;A++){const R=p[A],O=l.getProposedColumnOrder(f,R);if(!l.doesOrderPassRules(O))continue;const k=O.filter(N=>S.includes(N));if(x===null)x=k;else if(!Fu(k,x))break;const F=this.groupFragCount(O);_.push({move:R,fragCount:F})}if(_.length!==0)return _.sort((A,R)=>A.fragCount-R.fragCount),this.moveColumns(h,_[0].move,"uiColumnMoved",!1,l)}static moveColumns(e,t,i,s,r){return r.moveColumns(e,t,i,s),s?null:{columns:e,toIndex:t}}static calculateOldIndex(e,t){const i=t.getAllGridColumns(),s=SY(e.map(l=>i.indexOf(l))),r=s[0];return Os(s)-r!==s.length-1?null:r}static groupFragCount(e){function t(s){let r=[],n=s.getOriginalParent();for(;n!=null;)r.push(n),n=n.getOriginalParent();return r}let i=0;for(let s=0;s<e.length-1;s++){let r=t(e[s]),n=t(e[s+1]);[r,n]=r.length>n.length?[r,n]:[n,r],r.forEach(o=>{n.indexOf(o)===-1&&i++})}return i}static getDisplayedColumns(e,t){switch(t){case"left":return e.getDisplayedLeftColumns();case"right":return e.getDisplayedRightColumns();default:return e.getDisplayedCenterColumns()}}static calculateValidMoves(e){const{movingCols:t,draggingRight:i,xPosition:s,pinned:r,gos:n,columnModel:o}=e;if(n.get("suppressMovableColumns")||t.some(_=>_.getColDef().suppressMovable))return[];const l=this.getDisplayedColumns(o,r),c=o.getAllGridColumns(),u=l.filter(_=>Dl(t,_)),h=l.filter(_=>!Dl(t,_)),f=c.filter(_=>!Dl(t,_));let p=0,y=s;if(i){let _=0;u.forEach(x=>_+=x.getActualWidth()),y-=_}if(y>0){for(let _=0;_<h.length;_++){const x=h[_];if(y-=x.getActualWidth(),y<0)break;p++}i&&p++}let v;if(p>0){const _=h[p-1];v=f.indexOf(_)+1}else v=f.indexOf(h[0]),v===-1&&(v=0);const C=[v],S=(_,x)=>_-x;if(i){let _=v+1;const x=c.length-1;for(;_<=x;)C.push(_),_++;C.sort(S)}else{let _=v;const x=c.length-1;let A=c[_];for(;_<=x&&l.indexOf(A)<0;)_++,C.push(_),A=c[_];_=v-1;const R=0;for(;_>=R;)C.push(_),_--;C.sort(S).reverse()}return C}static normaliseX(e,t,i,s,r){const n=r.getHeaderRowContainerCtrl(t).getViewport();return i&&(e-=n.getBoundingClientRect().left),s.get("enableRtl")&&(e=n.clientWidth-e),t==null&&(e+=r.get("center").getCenterViewportScrollLeft()),e}},ty=class{constructor(e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!Rt(e)}init(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){return this.pinned?Ni.ICON_PINNED:Ni.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const s=e.dragItem.visibleState,r=(t||[]).filter(n=>s[n.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(e){const s=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColumnsVisible(s,t,i)}}setColumnsPinned(e,t,i){if(e){const s=e.filter(r=>!r.getColDef().lockPinned);this.columnModel.setColumnsPinned(s,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.isCenterContainer){const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>s-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){var r;if(s){if(this.lastMovedInfo){const{columns:u,toIndex:h}=this.lastMovedInfo;lg.moveColumns(u,h,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,Fi(e.hDirection))return;const n=lg.normaliseX(e.x,this.pinned,!1,this.gos,this.ctrlsService);t||this.checkCenterForScrolling(n);const o=this.normaliseDirection(e.hDirection),a=e.dragSource.type,l=((r=e.dragSource.getDragItem().columns)==null?void 0:r.filter(u=>u.getColDef().lockPinned?u.getPinned()==this.pinned:!0))||[],c=lg.attemptMoveColumns({allMovingColumns:l,isFromHeader:a===1,hDirection:o,xPosition:n,pinned:this.pinned,fromEnter:t,fakeEvent:i,gos:this.gos,columnModel:this.columnModel});c&&(this.lastMovedInfo=c)}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${e}`)}else return e}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Ni.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Ni.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ni.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const r=this.lastDraggingEvent.dragItem.columns.filter(n=>!n.getColDef().lockPinned);if(r.length>0&&(this.dragAndDropService.setGhostIcon(Ni.ICON_PINNED),this.failedMoveAttempts>7)){const n=this.needToMoveLeft?"left":"right";this.setColumnsPinned(r,n,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};B([ce("columnModel")],ty.prototype,"columnModel",2);B([ce("dragAndDropService")],ty.prototype,"dragAndDropService",2);B([ce("gridOptionsService")],ty.prototype,"gos",2);B([ce("ctrlsService")],ty.prototype,"ctrlsService",2);B([It],ty.prototype,"init",1);var iy=class extends Lt{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}})}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new ty(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new CN(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};B([ce("dragAndDropService")],iy.prototype,"dragAndDropService",2);B([ce("columnModel")],iy.prototype,"columnModel",2);B([ce("ctrlsService")],iy.prototype,"ctrlsService",2);B([It],iy.prototype,"postConstruct",1);B([It],iy.prototype,"init",1);var sy=class Sq extends gN{constructor(t){super(Sq.TEMPLATE,t),this.headerCompVersion=0,this.column=t.getColumnGroupChild(),this.pinned=t.getPinned()}postConstruct(){const t=this.getGui();((n,o)=>{o!=null&&o!=""?t.setAttribute(n,o):t.removeAttribute(n)})("col-id",this.column.getColId());const s={setWidth:n=>t.style.width=n,addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),setAriaSort:n=>n?XY(t,n):qY(t),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(s,this.getGui(),this.eResize,this.eHeaderCompWrapper);const r=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",r)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(t){this.headerCompVersion++;const i=this.headerCompVersion;t.newAgStackInstance().then(s=>this.afterCompCreated(i,s))}afterCompCreated(t,i){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(i);return}this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}};sy.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;B([Gt("eResize")],sy.prototype,"eResize",2);B([Gt("eHeaderCompWrapper")],sy.prototype,"eHeaderCompWrapper",2);B([It],sy.prototype,"postConstruct",1);B([Ma],sy.prototype,"destroyHeaderComp",1);var mMe=sy,jA=class xq extends gN{constructor(t){super(xq.TEMPLATE,t)}postConstruct(){const t=this.getGui(),i=(r,n)=>n!=null?t.setAttribute(r,n):t.removeAttribute(r);t.setAttribute("col-id",this.ctrl.getColId());const s={addOrRemoveCssClass:(r,n)=>this.addOrRemoveCssClass(r,n),setResizableDisplayed:r=>ws(this.eResize,r),setWidth:r=>t.style.width=r,setAriaExpanded:r=>i("aria-expanded",r),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(s,t,this.eResize)}setUserCompDetails(t){t.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(t){const i=()=>this.destroyBean(t);if(!this.isAlive()){i();return}const s=this.getGui(),r=t.getGui();s.appendChild(r),this.addDestroyFunc(i),this.headerGroupComp=t,this.ctrl.setDragSource(s)}};jA.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;B([Gt("eResize")],jA.prototype,"eResize",2);B([It],jA.prototype,"postConstruct",1);var vMe=jA,bN=class extends Mi{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){NI(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,t){if(!this.isAlive())return;const i=this.headerComps;if(this.headerComps={},e.forEach(s=>{const r=s.getInstanceId();let n=i[r];delete i[r],n==null&&(n=this.createHeaderComp(s),this.getGui().appendChild(n.getGui())),this.headerComps[r]=n}),sa(i,(s,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),t){const s=_f(this.headerComps);s.sort((n,o)=>{const a=n.getCtrl().getColumnGroupChild().getLeft(),l=o.getCtrl().getColumnGroupChild().getLeft();return a-l});const r=s.map(n=>n.getGui());JI(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new vMe(e);break;case"filter":t=new MFe(e);break;default:t=new mMe(e);break}return this.createBean(t),t.setParentComponent(this),t}};B([It],bN.prototype,"init",1);B([Ma],bN.prototype,"destroyHeaderCtrls",1);var yMe=0,hh=class Eq extends Lt{constructor(t,i,s){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=s,this.beans=i,this.instanceId=t.getUniqueId()+"-"+yMe++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(t){const{headerRowIndex:i,column:s}=this.focusService.getFocusedHeader();return CX(this.gos,t,i,s)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(t){this.eGui=t,this.addDomData(),this.addManagedListener(this.beans.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:t,column:i,beans:s}=this;WA.refreshFirstAndLastStyles(t,i,s.columnModel)}refreshAriaColIndex(){const{beans:t,column:i}=this,s=t.columnModel.getAriaColumnIndex(i);VI(this.eGui,s)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gos.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(t){var i;const s=this.gos.getActiveDomElement(),r=t.key===Xe.LEFT||t.key===Xe.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),s!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||r)&&(t.preventDefault(),t.stopImmediatePropagation()),!r))return;const n=t.key===Xe.LEFT!==this.gos.get("enableRtl"),o=qX[n?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(i=this.resizeFeature)==null||i.toggleColumnResizing(!0)}else this.moveHeader(o)}getViewportAdjustedResizeDiff(t){let i=this.getResizeDiff(t);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),n=this.pinnedWidthService.getPinnedRightWidth(),o=um(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+n+i>o)if(o>r+n)i=o-r-n;else return 0}return i}getResizeDiff(t){let i=t.key===Xe.LEFT!==this.gos.get("enableRtl");const s=this.column.getPinned(),r=this.gos.get("enableRtl");return s&&r!==(s==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case Xe.PAGE_DOWN:case Xe.PAGE_UP:case Xe.PAGE_HOME:case Xe.PAGE_END:i&&t.preventDefault()}}addDomData(){const t=Eq.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(this.eGui,t,this),this.addDestroyFunc(()=>this.gos.setDomData(this.eGui,t,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,i,s){const r=t??i;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault();const n=s instanceof gr?s:void 0;this.menuService.isHeaderContextMenuEnabled(n)&&this.menuService.showHeaderContextMenu(n,t,i),this.dispatchColumnMouseEvent(X.EVENT_COLUMN_HEADER_CONTEXT_MENU,s)}dispatchColumnMouseEvent(t,i){const s={type:t,column:i};this.eventService.dispatchEvent(s)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};hh.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";B([ce("pinnedWidthService")],hh.prototype,"pinnedWidthService",2);B([ce("focusService")],hh.prototype,"focusService",2);B([ce("userComponentFactory")],hh.prototype,"userComponentFactory",2);B([ce("ctrlsService")],hh.prototype,"ctrlsService",2);B([ce("dragAndDropService")],hh.prototype,"dragAndDropService",2);B([ce("menuService")],hh.prototype,"menuService",2);B([It],hh.prototype,"postConstruct",1);var KA=hh,YA=class extends Lt{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=s,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Os(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,gr.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=Rt(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),s=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(s),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gos.isDomLayout("print")||e.getPinned()==="left")return t;const s=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){const r=this.beans.columnModel.getBodyContainerWidth();return s+r+t}return s+t}setLeft(e){if(Rt(e)&&(this.eCell.style.left=`${e}px`),this.columnOrGroup instanceof gr)this.columnOrGroup;else{const i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&YY(this.ariaEl,i.length),i[0]}}};B([It],YA.prototype,"postConstruct",1);var yS=class extends Lt{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};B([ce("columnHoverService")],yS.prototype,"columnHoverService",2);B([It],yS.prototype,"postConstruct",1);var CMe=class extends KA{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,s){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,gr.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Yr("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new Uf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Fl(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;const s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let i=this.column;do if(i=e?t.getDisplayedColBefore(i):t.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Xe.UP:case Xe.DOWN:t||e.preventDefault();case Xe.LEFT:case Xe.RIGHT:if(t)return;e.stopPropagation();case Xe.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Xe.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&rg(e.relatedTarget,"ag-floating-filter");if(i&&s&&e.target===this.eGui){const n=this.lastFocusEvent,o=!!(n&&n.key===Xe.TAB);if(n&&o){const a=n.shiftKey;this.focusService.focusInto(this.eGui,a)}}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(){this.createManagedBean(new yS([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,X.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new YA(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,t=i=>{if((i==null?void 0:i.source)==="filterDestroyed"&&this.context.isDestroyed())return;const s=this.comp.getFloatingFilterComp();s&&s.then(r=>{var n;if(r){const o=e.getCurrentFloatingFilterParentModel(this.column);r.onParentModelChanged(o,i?this.gos.addGridCommonParams({columns:(n=i.columns)!=null?n:[],type:X.EVENT_FILTER_CHANGED,source:i.source==="api"?"api":"columnFilter"}):null)}})};this.destroySyncListener=this.addManagedListener(this.column,gr.EVENT_FILTER_CHANGED,t),e.isFilterActive(this.column)&&t(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListener(this.column,gr.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,gr.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var e,t;const i=this.active;this.setupActive();const s=!i&&this.active;i&&!this.active&&((e=this.destroySyncListener)==null||e.call(this),(t=this.destroyFilterChangedListener)==null||t.call(this));const r=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,n=this.comp.getFloatingFilterComp();!n||!r?this.updateCompDetails(r,s):n.then(o=>{var a;!o||this.beans.filterManager.areFilterCompsDifferent((a=this.userCompDetails)!=null?a:null,r)?this.updateCompDetails(r,s):this.updateFloatingFilterParams(r)})}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var t;if(!e)return;const i=e.params;(t=this.comp.getFloatingFilterComp())==null||t.then(s=>{let r=!1;s!=null&&s.refresh&&typeof s.refresh=="function"&&s.refresh(i)!==null&&(r=!0),!r&&(s!=null&&s.onParamsUpdated)&&typeof s.onParamsUpdated=="function"&&s.onParamsUpdated(i)!==null&&Si("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},ry=class extends Lt{constructor(e,t,i,s,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=r}postConstruct(){const e=[];let t,i;const s=()=>{if(ws(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),i){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const c=new wo(this.eResize);c.addEventListener(wo.EVENT_DOUBLE_TAP,l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener(wo.EVENT_DOUBLE_TAP,l),c.destroy()})}},r=()=>{e.forEach(o=>o()),e.length=0},n=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,r(),s())};n(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(n)}onResizing(e,t){const{column:i,lastResizeAmount:s,resizeStartWidth:r}=this,n=this.normaliseResizeAmount(t),o=r+n,a=[{key:i,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),u=um(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(n-s)>u)return}this.lastResizeAmount=n,this.columnModel.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}};B([ce("horizontalResizeService")],ry.prototype,"horizontalResizeService",2);B([ce("pinnedWidthService")],ry.prototype,"pinnedWidthService",2);B([ce("ctrlsService")],ry.prototype,"ctrlsService",2);B([ce("columnModel")],ry.prototype,"columnModel",2);B([It],ry.prototype,"postConstruct",1);var wN=class extends Lt{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new IA),this.cbSelectAll.addCssClass("ag-header-select-all"),un(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,X.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),cS(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),s=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${s} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${s} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return this.gos.get("rowSelection")==="multiple"?!0:(console.warn(`AG Grid: ${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return t==="clientSide"||t==="serverSide"?!0:(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let s="uiSelectAll";i?s="uiSelectAllCurrentPage":t&&(s="uiSelectAllFiltered");const r={source:s,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){const t=e,i=this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=t(i)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};B([ce("rowModel")],wN.prototype,"rowModel",2);B([ce("selectionService")],wN.prototype,"selectionService",2);var bMe=class extends KA{constructor(e,t,i){super(e,t,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,s){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(s),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new ry(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new yS([this.column],t)),this.createManagedBean(new YA(this.column,t,this.beans)),this.createManagedBean(new Uf(t,{shouldStopEventPropagation:r=>this.shouldStopEventPropagation(r),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,gr.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(e,t){var i,s;if(!this.column.isResizable())return;const r=this.column.getActualWidth(),n=(i=this.column.getMinWidth())!=null?i:0,o=(s=this.column.getMaxWidth())!=null?s:Number.MAX_SAFE_INTEGER,a=Math.min(Math.max(r+e,n),o);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:a}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,column:i,gos:s,ctrlsService:r}=this,n=this.getPinned(),o=t.getBoundingClientRect().left,a=i.getActualWidth(),l=s.get("enableRtl"),c=e===0!==l,u=lg.normaliseX(c?o-20:o+a+20,n,!0,s,r);lg.attemptMoveColumns({allMovingColumns:[i],isFromHeader:!0,hDirection:e,xPosition:u,pinned:n,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:this.beans.columnModel}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto")}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:t=>{this.menuService.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button"})},showColumnMenuAfterMouseClick:t=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse"})},showFilter:t=>{this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:t=>{this.beans.sortController.progressSort(this.column,!!t,"uiColumnSorted")},setSort:(t,i)=>{this.beans.sortController.setSortForColumn(this.column,t,!!i,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(t,i)=>{this.setupTooltip(t,i)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new wN(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Xe.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Xe.ENTER&&this.onEnterKeyDown(e),e.key===Xe.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();!i||!(i instanceof bM)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui,r=this.column.getColDef();!t&&i&&!r.headerComponent&&(t=()=>{const a=s.querySelector(".ag-header-cell-text");return a?a.scrollWidth>a.clientWidth:!0});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:t},o=this.createManagedBean(new ch(n));this.refreshFunctions.push(()=>o.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=WA.getHeaderClassesFromColDef(t,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{s.has(r)?s.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),s.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:s,dragAndDropService:r,gos:n}=this,{columnModel:o}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?Ni.ICON_HIDE:Ni.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(t),dragItemName:s,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:c=>{var u;if(a){const h=((u=c==null?void 0:c.columns)==null?void 0:u.filter(f=>!f.getColDef().lockVisible))||[];o.setColumnsVisible(h,!0,"uiColumnMoved")}},onGridExit:c=>{var u;if(a){const h=((u=c==null?void 0:c.columns)==null?void 0:u.filter(f=>!f.getColDef().lockVisible))||[];o.setColumnsVisible(h,!1,"uiColumnMoved")}}};r.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListener(this.column,gr.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,gr.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,gr.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,gr.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const e=()=>{const t=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",t),this.refreshAria()};this.addManagedListener(this.column,gr.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:s}=this;if(!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:r,isSpanningTotal:n}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",r>0);const{columnModel:o}=s,a=o.getColumnHeaderRowHeight();if(r===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${a}px`);return}i.addOrRemoveCssClass("ag-header-span-total",n);const c=o.isPivotMode()?o.getPivotGroupHeaderHeight():o.getGroupHeaderHeight(),u=r*c;e.style.setProperty("top",`${-u}px`),e.style.setProperty("height",`${a+u}px`)}setupAutoHeight(e){const{columnModel:t,resizeObserverService:i}=this.beans,s=c=>{if(!this.isAlive())return;const{paddingTop:u,paddingBottom:h,borderBottomWidth:f,borderTopWidth:p}=Wf(this.getGui()),y=u+h+f+p,C=e.offsetHeight+y;if(c<5){const S=this.beans.gos.getDocument(),_=!S||!S.contains(e),x=C==0;if(_||x){window.setTimeout(()=>s(c+1),0);return}}t.setColumnHeaderHeight(this.column,C)};let r=!1,n;const o=()=>{const c=this.column.isAutoHeaderHeight();c&&!r&&a(),!c&&r&&l()},a=()=>{r=!0,s(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),n=i.observeResize(e,()=>s(0))},l=()=>{r=!1,n&&n(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),n=void 0};o(),this.addDestroyFunc(()=>l()),this.addManagedListener(this.column,gr.EVENT_WIDTH_CHANGED,()=>r&&s(0)),this.addManagedListener(this.eventService,gr.EVENT_SORT_CHANGED,()=>{r&&window.setTimeout(()=>s(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(VY(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,X.EVENT_COLUMN_HOVER_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=s=>this.handleMouseOverChange(s.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent(X.EVENT_COLUMN_HEADER_CLICKED,this.column),i=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",t),this.addManagedListener(this.getGui(),"contextmenu",i)}handleMouseOverChange(e){this.setActiveHeader(e);const i={type:e?X.EVENT_COLUMN_HEADER_MOUSE_OVER:X.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column};this.eventService.dispatchEvent(i)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof bM?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},CS=class extends Lt{constructor(e,t,i,s){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnModel.autoSizeColumns({columns:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const s=this.normaliseDragChange(t),r=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(r,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),s=this.getSizeRatiosOfColumns(t,i),r={columnsToResize:t,resizeStartWidth:i,resizeRatios:s};let n=null;if(e&&(n=this.columnModel.getDisplayedGroupAtDirection(this.columnGroup,"After")),n){const o=n.getDisplayedLeafColumns(),a=r.groupAfterColumns=o.filter(c=>c.isResizable()),l=r.groupAfterStartWidth=this.getInitialSizeOfColumns(a);r.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:r,groupAfterStartWidth:n,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=n,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){var s,r,n;if(!this.resizeCols||!this.resizeRatios)return;const o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(s=this.resizeTakeFromCols)!=null?s:void 0,groupAfterStartWidth:(r=this.resizeTakeFromStartWidth)!=null?r:void 0,groupAfterRatios:(n=this.resizeTakeFromRatios)!=null?n:void 0};this.resizeColumns(o,e,t,i)}resizeColumns(e,t,i,s=!0){const{columnsToResize:r,resizeStartWidth:n,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,u=[];if(u.push({columns:r,ratios:o,width:t}),a){const h=t-n;u.push({columns:a,ratios:c,width:l-h})}this.columnModel.resizeColumnSets({resizeSets:u,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}};B([ce("horizontalResizeService")],CS.prototype,"horizontalResizeService",2);B([ce("autoWidthCalculator")],CS.prototype,"autoWidthCalculator",2);B([ce("columnModel")],CS.prototype,"columnModel",2);B([It],CS.prototype,"postConstruct",1);var _q=class extends Lt{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,ho.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}};B([It],_q.prototype,"postConstruct",1);var wMe=class extends KA{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const s=this.getGui();this.setDragSource(s)}},this.column=e}setComp(e,t,i){this.comp=e,this.setGui(t),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const s=this.getParentRowCtrl().getPinned(),r=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new yS(r,t)),this.createManagedBean(new YA(this.column,t,this.beans)),this.createManagedBean(new _q(e,this.column)),this.resizeFeature=this.createManagedBean(new CS(e,i,s,this.column)),this.createManagedBean(new Uf(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(X.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:s,gos:r,ctrlsService:n}=this,o=r.get("enableRtl"),a=e===0,l=this.getPinned(),c=i.getBoundingClientRect(),u=c.left,h=c.width,f=lg.normaliseX(a!==o?u-20:u+h+20,l,!0,r,n),p=s.getGroupId(),y=this.focusService.getFocusedHeader();lg.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:f,pinned:l,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:t.columnModel});const v=s.getDisplayedLeafColumns(),C=a?v[0]:Os(v);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&y&&this.restoreFocus(p,s,y)}restoreFocus(e,t,i){const s=t.getLeafColumns();if(!s.length)return;const r=s[0].getParent();if(!r)return;const n=this.findGroupWidthId(r,e);n&&this.focusService.focusHeaderPosition({headerPosition:Vr(gi({},i),{column:n})})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:i=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),i,"gridInitializing")},setTooltip:(i,s)=>{this.setupTooltip(i,s)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){const e=s=>this.handleMouseOverChange(s.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent(X.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup()),i=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",t),this.addManagedListener(this.getGui(),"contextmenu",i)}handleMouseOverChange(e){const i={type:e?X.EVENT_COLUMN_HEADER_MOUSE_OVER:X.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(i)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.column.getColGroupDef(),s=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui;!t&&s&&!(i!=null&&i.headerGroupComponent)&&(t=()=>{const o=r.querySelector(".ag-header-group-text");return o?o.scrollWidth>o.clientWidth:!0});const n={getColumn:()=>this.column,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(i&&i.headerTooltip),shouldDisplayTooltip:t};i&&(n.getColDef=()=>i),this.createBean(new ch(n))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,On.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,On.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.column;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=WA.getHeaderClassesFromColDef(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){const t=this.column.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());t.forEach(s=>{this.addManagedListener(s,gr.EVENT_MOVING_CHANGED,i)}),i()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Xe.ENTER){const i=this.column,s=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:i,displayName:s,gos:r,dragAndDropService:n}=this,{columnModel:o}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!r.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?Ni.ICON_HIDE:Ni.ICON_NOT_ALLOWED,dragItemName:s,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!r.get("suppressDragLeaveHidesColumns"),a.forEach(u=>u.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(u=>u.setMoving(!1,"uiColumnDragged")),onGridEnter:u=>{var h;if(l){const f=((h=u==null?void 0:u.columns)==null?void 0:h.filter(p=>!p.getColDef().lockVisible))||[];o.setColumnsVisible(f,!0,"uiColumnMoved")}},onGridExit:u=>{var h;if(l){const f=((h=u==null?void 0:u.columns)==null?void 0:h.filter(p=>!p.getColDef().lockVisible))||[];o.setColumnsVisible(f,!1,"uiColumnMoved")}}};n.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(r=>i[r.getId()]=r.isVisible());const s=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(r=>{t.indexOf(r)>=0&&(s.push(r),za(t,r))}),t.forEach(r=>s.push(r)),{columns:s,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}},SMe=0,qC=class extends Lt{constructor(e,t,i){super(),this.instanceId=SMe++,this.rowIndex=e,this.pinned=t,this.type=i;const s=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,X.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_VIRTUAL_COLUMNS_CHANGED,e=>this.onVirtualColumnsChanged(e.afterScroll)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){if(this.headerCellCtrls)return sg(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{columnModel:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans;let i=e.getHeaderRowCount();const s=[];let r=0;t.hasFloatingFilters()&&(i++,r=1);const n=e.getColumnGroupHeaderRowHeight(),o=e.getColumnHeaderRowHeight(),a=1+r,l=i-a;for(let h=0;h<l;h++)s.push(n);s.push(o);for(let h=0;h<r;h++)s.push(e.getFloatingFiltersHeight());let c=0;for(let h=0;h<this.rowIndex;h++)c+=s[h];const u=s[this.rowIndex];return{topOffset:c,rowHeight:u}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,e);const i=r=>{const{focusService:n,columnModel:o}=this.beans;return n.isHeaderWrapperFocused(r)?o.isDisplayed(r.getColumnGroupChild()):!1};if(e)for(const[r,n]of e)i(n)?this.headerCellCtrls.set(r,n):this.destroyBean(n);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let s;if(t&&(s=t.get(i),t.delete(i)),s&&s.getColumnGroupChild()!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":s=this.createBean(new CMe(e,this.beans,this));break;case"group":s=this.createBean(new wMe(e,this.beans,this));break;default:s=this.createBean(new bMe(e,this.beans,this));break}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnModel:i}=this.beans;return["left",null,"right"].forEach(s=>{const r=i.getVirtualHeaderGroupRow(s,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){if(!this.headerCellCtrls)return!1;const s=Array.from(this.headerCellCtrls.values()).find(r=>r.getColumnGroupChild()==e);return s?s.focus(t):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}};B([ce("beans")],qC.prototype,"beans",2);B([It],qC.prototype,"postConstruct",1);var vm=class extends Lt{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,X.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new iy(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){const t=new b0,i=this.focusService.getFocusHeaderToUseAfterRefresh(),s=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const c=this.createBean(new qC(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},r=()=>{const a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new qC(a,this.pinned,"column")))},n=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=t.next();if(this.filtersRowCtrl){const c=this.filtersRowCtrl.getRowIndex()!==l;(!e||c)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new qC(l,this.pinned,"filter")))};s(),r(),n();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Z0(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const i=()=>{const s=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(s==null)return;const r=s==0,n=this.hidden!==r,o=this.gos.get("enableRtl"),a=this.gos.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?s+a:s;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!r),n&&(this.hidden=r,this.refresh())};this.addManagedListener(this.eventService,X.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,X.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,X.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,X.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(e){if(e instanceof gr)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,i):!1}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};B([ce("ctrlsService")],vm.prototype,"ctrlsService",2);B([ce("scrollVisibleService")],vm.prototype,"scrollVisibleService",2);B([ce("pinnedWidthService")],vm.prototype,"pinnedWidthService",2);B([ce("columnModel")],vm.prototype,"columnModel",2);B([ce("focusService")],vm.prototype,"focusService",2);B([ce("filterManager")],vm.prototype,"filterManager",2);var ym=class dE extends Mi{constructor(t){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=t}init(){this.selectAndSetTemplate();const t={setDisplayed:s=>this.setDisplayed(s),setCtrls:s=>this.setCtrls(s),setCenterWidth:s=>this.eCenterContainer.style.width=s,setViewportScrollLeft:s=>this.getGui().scrollLeft=s,setPinnedContainerWidth:s=>{const r=this.getGui();r.style.width=s,r.style.maxWidth=s,r.style.minWidth=s}};this.createManagedBean(new vm(this.pinned)).setComp(t,this.getGui())}selectAndSetTemplate(){const t=this.pinned=="left",i=this.pinned=="right",s=t?dE.PINNED_LEFT_TEMPLATE:i?dE.PINNED_RIGHT_TEMPLATE:dE.CENTER_TEMPLATE;this.setTemplate(s),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())}setCtrls(t){const i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let s;const r=n=>{const o=n.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),s&&QI(this.eRowContainer,o,s),s=o};t.forEach(n=>{const o=n.getInstanceId(),a=i[o];delete i[o];const l=a||this.createBean(new bN(n));this.headerRowComps[o]=l,this.rowCompsList.push(l),r(l)}),_f(i).forEach(n=>this.destroyRowComp(n))}};ym.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>';ym.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>';ym.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;B([Gt("eCenterContainer")],ym.prototype,"eCenterContainer",2);B([It],ym.prototype,"init",1);B([Ma],ym.prototype,"destroyRowComps",1);var GR=ym,Dg=class extends Lt{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl});const e=this.gos.getDocument();this.addManagedListener(e,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:s,column:r}=t,n=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=o?this.headerPositionUtils.getColumnVisibleParent(r,s):this.headerPositionUtils.getColumnVisibleChild(r,s),u=!1;return a<0&&(a=0,l=r,u=!0),a>=n?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!u&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){const s=this.focusService.getFocusedHeader(),r=e===2,n=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,r!==n?(a="Before",o=this.headerPositionUtils.findHeader(s,a)):(a="After",o=this.headerPositionUtils.findHeader(s,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(s,a,i)}focusNextHeaderRow(e,t,i){const s=e.headerRowIndex;let r=null,n;if(t==="Before"?s>0&&(n=s-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"end")):(n=s+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"start")),!r)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r==null?void 0:r.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(e instanceof ho){const s=e.getDisplayedLeafColumns();i=t==="Before"?Os(s):s[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}};B([ce("focusService")],Dg.prototype,"focusService",2);B([ce("headerPositionUtils")],Dg.prototype,"headerPositionUtils",2);B([ce("ctrlsService")],Dg.prototype,"ctrlsService",2);B([It],Dg.prototype,"postConstruct",1);Dg=B([ri("headerNavigationService")],Dg);var Cm=class extends Lt{setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new Uf(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",s),this.mockContextMenuForIPad(s),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0,i=e.getHeaderRowCount(),s;this.filterManager.hasFloatingFilters()&&(i++,t=1);const n=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),a=1+t,l=i-a;if(s=t*e.getFloatingFiltersHeight(),s+=l*n,s+=o,this.headerHeight===s)return;this.headerHeight=s;const c=`${s+1}px`;this.comp.setHeightAndMinHeight(c),this.eventService.dispatchEvent({type:X.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.columnModel.getAllDisplayedColumns().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey!==t?2:3;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case Xe.LEFT:t=2;case Xe.RIGHT:Rt(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case Xe.UP:t=0;case Xe.DOWN:Rt(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!lh())return;const t=new wo(this.eGui),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListener(t,wo.EVENT_LONG_TAP,i),this.addDestroyFunc(()=>t.destroy())}};B([ce("headerNavigationService")],Cm.prototype,"headerNavigationService",2);B([ce("focusService")],Cm.prototype,"focusService",2);B([ce("columnModel")],Cm.prototype,"columnModel",2);B([ce("ctrlsService")],Cm.prototype,"ctrlsService",2);B([ce("filterManager")],Cm.prototype,"filterManager",2);B([ce("menuService")],Cm.prototype,"menuService",2);var SN=class Tq extends Mi{constructor(){super(Tq.TEMPLATE)}postConstruct(){const t={addOrRemoveCssClass:(r,n)=>this.addOrRemoveCssClass(r,n),setHeightAndMinHeight:r=>{this.getGui().style.height=r,this.getGui().style.minHeight=r}};this.createManagedBean(new Cm).setComp(t,this.getGui(),this.getFocusableElement());const s=r=>{this.createManagedBean(r),this.appendChild(r)};s(new GR("left")),s(new GR(null)),s(new GR("right"))}};SN.TEMPLATE='<div class="ag-header" role="presentation"/>';B([It],SN.prototype,"postConstruct",1);var xMe=SN,rw=class extends Lt{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};B([ce("dragService")],rw.prototype,"dragService",2);B([ce("ctrlsService")],rw.prototype,"ctrlsService",2);rw=B([ri("horizontalResizeService")],rw);var Af=class extends Lt{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,s=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:s})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let s=-1,r="left";const n=this.menuService.isLegacyMenuEnabled();!n&&this.gos.get("enableRtl")&&(s=1,r="right");let o=n?void 0:4*s,a=n?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,n)}showPopup(e,t,i,s,r){const n=e?this.createBean(new HA(e,"COLUMN_MENU")):void 0;if(this.activeMenu=n,!(n!=null&&n.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");un(o,"presentation"),o.classList.add("ag-menu"),r||o.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(o,"keydown",y=>this.trapFocusWithin(y,o)),o.appendChild(n==null?void 0:n.getGui());let a;const l=()=>n==null?void 0:n.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?s??this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=y=>{e.setMenuVisible(!1,"contextMenu");const v=y instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),v&&s&&al(s)){const C=this.focusService.findTabbableParent(s);C&&C.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},h=this.localeService.getLocaleTextFunc(),f=r&&i!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),p=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:u,positionCallback:()=>t(o),anchorToElement:c,ariaLabel:f});p&&(this.hidePopup=a=p.hideFunc),n.afterInit().then(()=>{t(o),n.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==Xe.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){const s={type:X.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:t,column:i??null};this.eventService.dispatchEvent(s)}isMenuEnabled(e){var t;return e.isFilterAllowed()&&((t=e.getColDef().menuTabs)!=null?t:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}};B([ce("filterManager")],Af.prototype,"filterManager",2);B([ce("popupService")],Af.prototype,"popupService",2);B([ce("focusService")],Af.prototype,"focusService",2);B([ce("ctrlsService")],Af.prototype,"ctrlsService",2);B([ce("menuService")],Af.prototype,"menuService",2);Af=B([ri("filterMenuFactory")],Af);var xN=class extends Lt{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:n,focusInnerElement:o,onFocusIn:a,onFocusOut:l,shouldStopEventPropagation:c,onTabKeyDown:u,handleKeyDown:h,eFocusableElement:f}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=o,this.eFocusableElement=f,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!n,this.providedFocusIn=a,this.providedFocusOut=l,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=h}postConstruct(){this.createManagedBean(new Uf(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=this.gos.getDocument(),i=this.focusService.findFocusableElements(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let r,n;e?(r=0,n=s):(r=s+1,n=i.length);const o=i.slice(r,n),a=this.gos.get("tabIndex");o.sort((l,c)=>{const u=parseInt(l.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return h===a?1:u===a?-1:u===0?1:h===0?-1:u-h}),o[e?o.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e){return e===this.eTopGuard||e===this.eBottomGuard}};B([ce("focusService")],xN.prototype,"focusService",2);B([It],xN.prototype,"postConstruct",1);var bS=class extends Mi{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const t=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:s=>{t.forEach(r=>s!=null?r.setAttribute("tabindex",s):r.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new xN({comp:i,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(e){const t=document.createElement("div"),i=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),un(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];An(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){dS(e)||(e=e.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}},XA=class Aq extends bS{constructor(t){super(Aq.getTemplate(t.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=t}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(t=>this.addItem(t)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var t,i,s;return(s=(i=(t=this.activeItem)==null?void 0:t.tabbedItem)==null?void 0:i.afterDetachedCallback)==null?void 0:s.call(i)})}static getTemplate(t){return`<div class="ag-tabs ${t}">
            <div ref="eHeader"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${t?`${t}-body`:""}"></div>
        </div>`}setupHeader(){const{enableCloseButton:t,cssClass:i}=this.params,s=(r,n)=>{r.classList.add(`ag-tabs-${n}`),i&&r.classList.add(`${i}-${n}`)};t?(this.setupCloseButton(s),this.eTabHeader=this.gos.getDocument().createElement("div"),s(this.eHeader,"header-wrapper"),un(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,un(this.eTabHeader,"tablist"),s(this.eTabHeader,"header")}setupCloseButton(t){const i=this.gos.getDocument(),s=i.createElement("button");t(s,"close-button");const r=Yr("close",this.gos,void 0,!0);Fl(s,this.params.closeButtonAriaLabel),s.appendChild(r),this.addManagedListener(s,"click",()=>{var o,a;return(a=(o=this.params).onCloseClicked)==null?void 0:a.call(o)});const n=i.createElement("div");t(n,"close-button-wrapper"),un(n,"presentation"),n.appendChild(s),this.eHeader.appendChild(n),this.eCloseButton=s}handleKeyDown(t){switch(t.key){case Xe.RIGHT:case Xe.LEFT:if(!this.eTabHeader.contains(this.gos.getActiveDomElement()))return;const i=t.key===Xe.RIGHT,s=this.gos.get("enableRtl"),r=this.items.indexOf(this.activeItem),n=i!==s?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===n)return;t.preventDefault();const o=this.items[n];this.showItemWrapper(o),o.eHeaderButton.focus();break;case Xe.UP:case Xe.DOWN:t.stopPropagation();break}}onTabKeyDown(t){var i,s,r,n;if(t.defaultPrevented)return;const{focusService:o,eHeader:a,eBody:l,activeItem:c,params:u}=this,{suppressTrapFocus:h,enableCloseButton:f}=u,p=this.gos.getActiveDomElement(),y=t.target,v=t.shiftKey;if(a.contains(p)){t.preventDefault(),f&&v&&!((i=this.eCloseButton)!=null&&i.contains(p))?(s=this.eCloseButton)==null||s.focus():h&&v?(r=this.focusService.findFocusableElementBeforeTabGuard(this.gos.getDocument().body,y))==null||r.focus():this.focusBody(t.shiftKey);return}let C=null;if(o.isTargetUnderManagedComponent(l,y)&&(v&&(C=this.focusService.findFocusableElementBeforeTabGuard(l,y)),!C&&!h&&(C=c.eHeaderButton)),!C&&l.contains(p)&&(C=o.findNextFocusableElement(l,!1,v),!C)){t.preventDefault(),h&&!v?this.forceFocusOutOfContainer(v):f&&!v?(n=this.eCloseButton)==null||n.focus():this.focusHeader();return}C&&(t.preventDefault(),C.focus())}focusInnerElement(t){t?this.focusHeader():this.focusBody(!0)}focusHeader(t){this.activeItem.eHeaderButton.focus({preventScroll:t})}focusBody(t){this.focusService.focusInto(this.eBody,t)}setAfterAttachedParams(t){this.afterAttachedParams=t}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(t){const i=document.createElement("span");un(i,"tab"),i.setAttribute("tabindex","-1"),i.appendChild(t.title),i.classList.add("ag-tab"),this.eTabHeader.appendChild(i),Fl(i,t.titleLabel);const s={tabbedItem:t,eHeaderButton:i};this.items.push(s),i.addEventListener("click",this.showItemWrapper.bind(this,s))}showItem(t){const i=this.items.find(s=>s.tabbedItem===t);i&&this.showItemWrapper(i)}showItemWrapper(t){var i,s,r,n,o,a;const{tabbedItem:l,eHeaderButton:c}=t;if((s=(i=this.params).onItemClicked)==null||s.call(i,{item:l}),this.activeItem===t){(n=(r=this.params).onActiveItemClicked)==null||n.call(r);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),An(this.eBody),l.bodyPromise.then(u=>{this.eBody.appendChild(u);const h=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,h),l.afterAttachedCallback&&l.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const f=l.getScrollableContainer&&l.getScrollableContainer()||u;this.lastScrollListener=this.addManagedListener(f,"scroll",()=>{this.tabbedItemScrollMap.set(l.name,f.scrollTop)});const p=this.tabbedItemScrollMap.get(l.name);p!==void 0&&setTimeout(()=>{f.scrollTop=p},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(a=(o=this.activeItem.tabbedItem).afterDetachedCallback)==null||a.call(o)),c.classList.add("ag-tab-selected"),this.activeItem=t}};B([ce("focusService")],XA.prototype,"focusService",2);B([Gt("eHeader")],XA.prototype,"eHeader",2);B([Gt("eBody")],XA.prototype,"eBody",2);B([It],XA.prototype,"postConstruct",1);var EMe=50,EM=class extends Lt{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const i=this.gos.getWindow(),s=()=>{const a=new i.ResizeObserver(t);return a.observe(e),()=>a.disconnect()},r=()=>{var a,l;let c=(a=e==null?void 0:e.clientWidth)!=null?a:0,u=(l=e==null?void 0:e.clientHeight)!=null?l:0,h=!0;const f=()=>{var p,y;if(h){const v=(p=e==null?void 0:e.clientWidth)!=null?p:0,C=(y=e==null?void 0:e.clientHeight)!=null?y:0;(v!==c||C!==u)&&(c=v,u=C,t()),this.doNextPolyfillTurn(f)}};return f(),()=>h=!1},n=this.gos.get("suppressBrowserResizeObserver");return!!i.ResizeObserver&&!n?s():this.getFrameworkOverrides().wrapIncoming(()=>r(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const e=()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(i=>i())};this.polyfillScheduled=!0,window.setTimeout(e,EMe)}};EM=B([ri("resizeObserverService")],EM);var S0=class extends Lt{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,s=this.createTasksP2,r=s.list,n=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let h;if(i.length)this.sortTaskList(t),h=i.pop().task;else if(r.length)this.sortTaskList(s),h=r.pop().task;else if(n.length)h=n.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}a=new Date().getTime()-o}i.length||r.length||n.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}};B([ce("ctrlsService")],S0.prototype,"ctrlsService",2);B([ce("paginationProxy")],S0.prototype,"paginationProxy",2);B([It],S0.prototype,"init",1);S0=B([ri("animationFrameService")],S0);var nw=class extends Lt{postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,s){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,i,s),e.setExpanded(t,void 0,s))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};B([ce("rowModel")],nw.prototype,"rowModel",2);B([It],nw.prototype,"postConstruct",1);nw=B([ri("expansionService")],nw);var gc=class extends Lt{postConstruct(){var e;this.activeMenuFactory=(e=this.enterpriseMenuFactory)!=null?e:this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),s=this.getCellGui(i,t);if(!s)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const r=s.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){var t,i,s;const{column:r,rowNode:n}=e;let{anchorToElement:o,value:a}=e;n&&r&&a==null&&(a=n.getValueFromValueService(r)),o==null&&(o=this.getContextMenuAnchorElement(n,r)),(s=this.contextMenuFactory)==null||s.onContextMenu((t=e.mouseEvent)!=null?t:null,(i=e.touchEvent)!=null?i:null,n??null,r??null,a,o)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e!=null&&e.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(lh()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var t;const i=e.getColDef(),s=(t=i.floatingFilterComponentParams)==null?void 0:t.suppressFilterButton;return s!=null&&Si("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),i.suppressFloatingFilterButton==null?!s:!i.suppressFloatingFilterButton}getColumnMenuType(){var e;return(e=this.gos.get("columnMenu"))!=null?e:"legacy"}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gos.exists("suppressMenuHide")?e:!0}showColumnMenuCommon(e,t,i,s){const{column:r,positionBy:n}=t;if(n==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(r,o,i,s)}else if(n==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(r,o,i,s)}else r&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const o=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()).getHeaderCtrlForColumn(r);e.showMenuAfterButtonClick(r,o.getAnchorElementForMenu(s),i,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;const i=e.getCellCtrl(t);return(i==null?void 0:i.getGui())||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),s=this.getRowCtrl(e);if(!s)return i;const r=this.getCellGui(s,t);return r||(s.isFullWidth()?s.getFullWidthElement():i)}};B([ce("filterMenuFactory")],gc.prototype,"filterMenuFactory",2);B([ce("ctrlsService")],gc.prototype,"ctrlsService",2);B([ce("animationFrameService")],gc.prototype,"animationFrameService",2);B([ce("filterManager")],gc.prototype,"filterManager",2);B([ce("rowRenderer")],gc.prototype,"rowRenderer",2);B([ir("columnChooserFactory")],gc.prototype,"columnChooserFactory",2);B([ir("contextMenuFactory")],gc.prototype,"contextMenuFactory",2);B([ir("enterpriseMenuFactory")],gc.prototype,"enterpriseMenuFactory",2);B([It],gc.prototype,"postConstruct",1);gc=B([ri("menuService")],gc);var Rg=class extends Lt{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const s=this.rowRenderer.getAllCellsForColumn(e);return t||s.push(i),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(n=>this.cloneItemIntoDummy(n,t)),i.appendChild(t);const s=t.offsetWidth;i.removeChild(t);const r=this.getAutoSizePadding();return s+r}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const s=i.getHtmlElementForColumnHeader(e);s!=null&&(t=s)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),r=s.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(r.add("ag-header","ag-header-row"),s.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&r.add(c)}break}o=o.parentElement}s.appendChild(i),t.appendChild(s)}};B([ce("rowRenderer")],Rg.prototype,"rowRenderer",2);B([ce("ctrlsService")],Rg.prototype,"ctrlsService",2);B([ce("rowCssClassCalculator")],Rg.prototype,"rowCssClassCalculator",2);B([It],Rg.prototype,"postConstruct",1);Rg=B([ri("autoWidthCalculator")],Rg);var wS=class extends Lt{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,i,s,r;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let o=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(o=(i=e.sibling.childStore)==null?void 0:i.getStoreBounds()),((s=o==null?void 0:o.heightPx)!=null?s:0)+((r=o==null?void 0:o.topPx)!=null?r:0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){const t=e.footer&&e.rowIndex===0,i=!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1;if(t||i){let s=e.footer?e.sibling:e;for(;s.isExpandable()&&s.expanded;)if(s.master)s=s.detailNode;else if(s.childrenAfterSort){if(s.childrenAfterSort.length===0)break;s=Os(s.childrenAfterSort)}return s.rowTop+s.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const s=t?this.rowRenderer.getFirstVisibleVerticalPixel():this.rowRenderer.getLastVisibleVerticalPixel(),r=new Set,n=c=>{if(r.add(c),t){const u=this.getLastPixelOfGroup(c),h=s+i+c.rowHeight;u<h?c.stickyRowTop=i+(u-h):c.stickyRowTop=i}else{const u=this.getFirstPixelOfGroup(c),h=s-(i+c.rowHeight);u>h?c.stickyRowTop=i-(u-h):c.stickyRowTop=i}i=0,r.forEach(u=>{const h=u.stickyRowTop+u.rowHeight;i<h&&(i=h)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>c.displayed?c.footer?o===!0||o==="grand"&&c.level===-1||o==="group"&&c.level>-1?!1:!r.has(c):c.isExpandable()?a===!0?!1:!r.has(c)&&c.expanded:!1:!1;for(let c=0;c<100;c++){let u=s+i;t||(u=s-i);const h=this.rowModel.getRowIndexAtPixel(u),f=this.rowModel.getRow(h);if(f==null)break;const y=this.getStickyAncestors(f).find(C=>(t?C.rowIndex<h:C.rowIndex>h)&&l(C));if(y){n(y);continue}if((t?f.rowTop<u:f.rowTop+f.rowHeight>u)&&l(f)){n(f);continue}break}return t||r.forEach(c=>{c.stickyRowTop=i-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",i=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&i?!0:i?"grand":t?"group":!1}canRowsBeSticky(){const e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const s=this.stickyTopRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const s=this.stickyBottomRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,i){const s=e==="top",r=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,n={},o=[];for(let h=0;h<r.length;h++){const f=r[h].getRowNode();if(!t.has(f)){n[f.id]=r[h],f.sticky=!1;continue}o.push(r[h])}const a=new Set;for(let h=0;h<o.length;h++)a.add(o[h].getRowNode());const l=[];t.forEach(h=>{a.has(h)||(h.sticky=!0,l.push(this.createRowCon(h,!1,!1)))});let c=!!l.length||o.length!==r.length;s?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(n,!1);const u=[...o,...l];return u.sort((h,f)=>f.getRowNode().rowIndex-h.getRowNode().rowIndex),s||u.reverse(),u.forEach(h=>h.setRowTop(h.getRowNode().stickyRowTop)),c?(s?this.stickyTopRowCtrls=u:this.stickyBottomRowCtrls=u,!0):!1}};B([ce("rowModel")],wS.prototype,"rowModel",2);B([ce("rowRenderer")],wS.prototype,"rowRenderer",2);B([ce("ctrlsService")],wS.prototype,"ctrlsService",2);B([It],wS.prototype,"postConstruct",1);var Ml=class extends Lt{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(n=>n.onRangeSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(n=>n.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener(X.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.addEventListener(X.EVENT_COLUMN_MOVED,t),this.eventService.addEventListener(X.EVENT_COLUMN_PINNED,t),this.eventService.addEventListener(X.EVENT_COLUMN_VISIBLE,t)},s=()=>{this.eventService.removeEventListener(X.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.removeEventListener(X.EVENT_COLUMN_MOVED,t),this.eventService.removeEventListener(X.EVENT_COLUMN_PINNED,t),this.eventService.removeEventListener(X.EVENT_COLUMN_VISIBLE,t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListener("enableRangeSelection",n=>{n.currentValue?i():s()}),this.gos.get("enableRangeSelection")&&i()}}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,X.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,X.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,X.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gos.isGroupRowsSticky()){const e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new wS(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new _Me(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=_f(this.rowCtrlsByRowIndex),t=_f(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,X.EVENT_CELL_FOCUSED,e=>{this.onCellFocusChanged(e)}),this.addManagedListener(this.eventService,X.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,X.EVENT_FLASH_CELLS,e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))}),this.addManagedListener(this.eventService,X.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())}),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,X.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&l(c)})},s=()=>{i(l=>l.onLeftChanged())},r=()=>{i(l=>l.onWidthChanged())},n=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",s),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",n),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",s),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",n),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const s=i.getCellElement(e);s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(i=>{i.destroyFirstPass(),i.destroySecondPass()}),e.length=0,t&&t.forEach(i=>{const s=new ag(i,this.beans,!1,!1,this.printLayout);e.push(s)})}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var i;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const s=r=>{const n=r[e.rowIndex];n&&n.getRowNode()===e&&(n.destroyFirstPass(),n.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":s(this.topRowCtrls);break;case"bottom":s(this.bottomRowCtrls);break;default:s(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const i=this.gos.getActiveDomElement(),s=this.gos.getDomData(i,og.DOM_DATA_KEY_CELL_CTRL),r=this.gos.getDomData(i,ag.DOM_DATA_KEY_ROW_CTRL);return s||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&this.gos.isAnimateRows(),r=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(r,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){const r=t[s].getAllCellCtrls(),n=r.length;for(let o=0;o<n;o++)e.push(r[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const s in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[s]);return i}addRenderedRowListener(e,t,i){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>i.refreshOrDestroyCell(t)),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(i=>{if(!i.isFullWidth())return;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var t;const i=this.getCellCtrls(e.rowNodes,e.columns).map(n=>n.getCellRenderer()).filter(n=>n!=null);if((t=e.columns)!=null&&t.length)return i;const s=[],r=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(n=>{if(r&&!this.isRowInMap(n.getRowNode(),r)||!n.isFullWidth())return;const o=n.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&s.push(l)}}),[...s,...i]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const s=i.getCellEditor();s&&t.push(s)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const s=i.id;switch(i.rowPinned){case"top":t.top[s]=i;break;case"bottom":t.bottom[s]=i;break;default:t.normal[s]=i;break}}),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(s=>{const r=s.getRowNode();return this.isRowInMap(r,t)})}getCellCtrls(e,t){let i;Rt(t)&&(i={},t.forEach(r=>{const n=this.columnModel.getGridColumn(r);Rt(n)&&(i[n.getId()]=!0)}));const s=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(n=>{const o=n.getColumn().getId();i&&!i[o]||s.push(n)})}),s}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];sa(this.rowCtrlsByRowIndex,(i,s)=>{s.getRowNode().id==null&&e.push(i)}),this.removeRowCtrls(e);const t={};return sa(this.rowCtrlsByRowIndex,(i,s)=>{const r=s.getRowNode();t[r.id]=s}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let i;this.stickyRowFeature&&WI()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const s=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let n=!1;this.stickyRowFeature&&(n=this.stickyRowFeature.checkStickyRows());const o=this.firstRenderedRow!==s||this.lastRenderedRow!==r;if(!(t&&!n&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!n),i!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(n=>i[n]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(n=>!i[n]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){let t=nX(this.firstRenderedRow,this.lastRenderedRow);const i=(r,n)=>{const o=n.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(n)&&t.push(o)};sa(this.rowCtrlsByRowIndex,i),sa(e,i),t.sort((r,n)=>r-n);const s=[];for(let r=0;r<t.length;r++){const n=t[r],o=this.paginationProxy.getRow(n);o&&!o.sticky&&s.push(n)}return s}recycleRows(e,t=!1,i=!1){const s=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t),s.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,i)}),e&&(i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){const t={type:X.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const s=i.getRowNode();return!(t!=null&&!this.isRowInMap(s,t))})}createOrUpdateRowCtrl(e,t,i,s){let r,n=this.rowCtrlsByRowIndex[e];if(n||(r=this.paginationProxy.getRow(e),Rt(r)&&Rt(t)&&t[r.id]&&r.alreadyRendered&&(n=t[r.id],t[r.id]=null)),!n)if(r||(r=this.paginationProxy.getRow(e)),Rt(r))n=this.createRowCon(r,i,s);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=n,n}destroyRowCtrls(e,t){const i=[];sa(e,(s,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);return}r.destroyFirstPass(!t),t?(this.zombieRowCtrls[r.getInstanceId()]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[r.getInstanceId()]})):r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),hY(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=this.gos.getRowHeightAsNumber();return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.paginationProxy.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation");let u=!1,h,f;do{const S=this.paginationProxy.getPixelOffset(),{pageFirstPixel:_,pageLastPixel:x}=this.paginationProxy.getCurrentPagePixelRange(),A=this.rowContainerHeightService.getDivStretchOffset(),R=l.getScrollFeature().getVScrollPosition(),O=R.top,k=R.bottom;c?(h=_+A,f=x+A):(h=Math.max(O+S-a,_)+A,f=Math.min(k+S+a,x)+A),this.firstVisibleVPixel=Math.max(O+S,_)+A,this.lastVisibleVPixel=Math.min(k+S,x)+A,u=this.ensureAllRowsInRangeHaveHeightsCalculated(h,f)}while(u);let p=this.paginationProxy.getRowIndexAtPixel(h),y=this.paginationProxy.getRowIndexAtPixel(f);const v=this.paginationProxy.getPageFirstRow(),C=this.paginationProxy.getPageLastRow();p<v&&(p=v),y>C&&(y=C),e=p,t=y}const i=this.gos.isDomLayout("normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!s&&t-e>r&&(t=e+r);const n=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;if(n||o){this.firstRenderedRow=e,this.lastRenderedRow=t;const a={type:X.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(a)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:X.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const s=e.getRowNode(),r=this.focusService.isRowNodeFocused(s),n=e.isEditing(),o=s.detail;return r||n||o?!!this.paginationProxy.isRowPresent(s):!1}createRowCon(e,t,i){const s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(s)return s;const r=this.gos.get("suppressAnimationFrame"),n=i&&!r&&!this.printLayout;return new ag(e,this.beans,t,n,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const s=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!s}};B([ce("animationFrameService")],Ml.prototype,"animationFrameService",2);B([ce("paginationProxy")],Ml.prototype,"paginationProxy",2);B([ce("columnModel")],Ml.prototype,"columnModel",2);B([ce("pinnedRowModel")],Ml.prototype,"pinnedRowModel",2);B([ce("rowModel")],Ml.prototype,"rowModel",2);B([ce("focusService")],Ml.prototype,"focusService",2);B([ce("beans")],Ml.prototype,"beans",2);B([ce("rowContainerHeightService")],Ml.prototype,"rowContainerHeightService",2);B([ce("ctrlsService")],Ml.prototype,"ctrlsService",2);B([It],Ml.prototype,"postConstruct",1);Ml=B([ri("rowRenderer")],Ml);var _Me=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],za(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],za(this.entriesList,e)}getEntries(){return this.entriesList}},ow=class extends Lt{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(e){const t=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return rc(t)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const i=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(rc(i))return 0;for(let s=0;s<i.length;s++){const r=i[s];if(r.rowTop+r.rowHeight-1>=e)return s}return i.length-1}setPinnedTopRowData(){const e=this.gos.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);const t={type:X.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}setPinnedBottomRowData(){const e=this.gos.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);const t={type:X.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}createNodesFromData(e,t){const i=[];if(e){let s=0;e.forEach((r,n)=>{const o=new ts(this.beans);o.data=r;const a=t?ts.ID_PREFIX_TOP_PINNED:ts.ID_PREFIX_BOTTOM_PINNED;o.id=a+n,o.rowPinned=t?"top":"bottom",o.setRowTop(s),o.setRowHeight(this.gos.getRowHeightForNode(o).height),o.setRowIndex(n),s+=o.rowHeight,i.push(o)})}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){rc(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){rc(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||e.length===0)return 0;const t=Os(e);return t.rowTop+t.rowHeight}};B([ce("beans")],ow.prototype,"beans",2);B([It],ow.prototype,"init",1);ow=B([ri("pinnedRowModel")],ow);var qA=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let s=0;s<e.childrenAfterGroup.length;s++){const r=e.childrenAfterGroup[s];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[s],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const s={rowNode:t,children:null};this.mapToItems[t.id]=s,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){const r=this.mapToItems[i.id],n=this.mapToItems[i.parent.id];n.children||(n.children=[]),n.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}},ny=class Lp extends Lt{constructor(t){super(),this.state=Lp.STATE_WAITING_TO_LOAD,this.version=0,this.id=t}getId(){return this.id}load(){this.state=Lp.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=Lp.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state=Lp.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(t,i){this.successCommon(t,i)}pageLoaded(t,i,s){this.successCommon(t,{rowData:i,rowCount:s})}isRequestMostRecentAndLive(t){const i=t===this.version,s=this.isAlive();return i&&s}successCommon(t,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=Lp.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(t=!0){const i={type:Lp.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(i)}};ny.EVENT_LOAD_COMPLETE="loadComplete";ny.STATE_WAITING_TO_LOAD="needsLoading";ny.STATE_LOADING="loading";ny.STATE_LOADED="loaded";ny.STATE_FAILED="failed";var _M=ny,Yu=class extends Lt{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=is.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener(_M.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){is.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:Yu.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:Yu.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>i.getState()===_M.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:s}=t.getBlockStateJson();e[i]=s}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Yu.BLOCK_LOADED_EVENT="blockLoaded";Yu.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";B([ce("rowModel")],Yu.prototype,"rowModel",2);B([It],Yu.prototype,"postConstruct",1);B([Gc(0,oc("loggerFactory"))],Yu.prototype,"setBeans",1);Yu=B([ri("rowNodeBlockLoader")],Yu);var aw=class extends Lt{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,X.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,i,s){const r=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return r&&this.calculatePages(),r}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onModelUpdated(e){this.calculatePages();const t={type:X.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(t)}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages();const e={type:X.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){if(!this.active||this.currentPage===e||typeof this.currentPage!="number")return;this.currentPage=e,this.calculatePages();const t={type:X.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!0,newPageSize:!1,keepRenderedRows:!1};this.eventService.dispatchEvent(t)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return Fi(this.topRowBounds)||Fi(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}isRowPresent(e){return this.rowModel.isRowPresent(e)?e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),i=this.getPageLastRow();for(let s=t;s<=i;s++){const r=this.getRow(s);r&&e(r)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Rt(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:Rt(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Rt(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Rt(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;if(this.pageSizeAutoCalculated=void 0,this.pageSize===e)return;this.calculatePages();const t={type:X.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!1};this.eventService.dispatchEvent(t)}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(i!==this.pageSize){this.calculatePages();const s={type:X.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!0};this.eventService.dispatchEvent(s)}}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Rt(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:X.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const s=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=s-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};B([ce("rowModel")],aw.prototype,"rowModel",2);B([It],aw.prototype,"postConstruct",1);aw=B([ri("paginationProxy")],aw);var E_=class extends Lt{processAllCellClasses(e,t,i,s){this.processClassRules(void 0,e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,s,r){if(t==null&&e==null)return;const n={},o={},a=(l,c)=>{l.split(" ").forEach(u=>{u.trim()!=""&&c(u)})};if(t){const l=Object.keys(t);for(let c=0;c<l.length;c++){const u=l[c],h=t[u];let f;typeof h=="string"?f=this.expressionService.evaluate(h,i):typeof h=="function"&&(f=h(i)),a(u,p=>{f?n[p]=!0:o[p]=!0})}}e&&r&&Object.keys(e).forEach(l=>a(l,c=>{n[c]||(o[c]=!0)})),r&&Object.keys(o).forEach(r),Object.keys(n).forEach(s)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let s;return typeof i=="function"?s=i(t):s=i,typeof s=="string"&&(s=[s]),s||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}};B([ce("expressionService")],E_.prototype,"expressionService",2);E_=B([ri("stylingService")],E_);var kq=class extends IA{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},TMe=class extends $c{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},AMe=class extends hm{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const e=Ku();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||e||this.eInput.focus()}),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(e){var t;const i=e instanceof Date?(t=cc(e??null,!1))!=null?t:void 0:e;return this.min===i?this:(this.min=i,Gu(this.eInput,"min",i),this)}setMax(e){var t;const i=e instanceof Date?(t=cc(e??null,!1))!=null?t:void 0:e;return this.max===i?this:(this.max=i,Gu(this.eInput,"max",i),this)}setStep(e){return this.step===e?this:(this.step=e,Gu(this.eInput,"step",e),this)}getDate(){var e;if(this.eInput.validity.valid)return(e=Qa(this.getValue()))!=null?e:void 0}setDate(e,t){this.setValue(cc(e??null,!1),t)}},kMe=class extends $c{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:i}=this.config;e!=null&&this.setMinValue(e),t!=null&&this.setMaxValue(t),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>{const t=e.target.value;this.setValue(t)})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());const i=super.setValue(e,t);return this.eInput.value=e,i}},EN=class extends Mi{constructor(e,t){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=t}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(e){let t="";this.params.valueFormatter&&(t=this.params.valueFormatter(e)),this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),this.value=e}highlightString(e){const{parsedValue:t}=this;if(this.params.cellRenderer||!Rt(t))return;let i=Rt(e);if(i){const s=t==null?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(s>=0){const r=s+e.length,n=Bn(t.slice(0,s),!0),o=Bn(t.slice(s,r),!0),a=Bn(t.slice(r));this.renderValueWithoutRenderer(`${n}<span class="ag-rich-select-row-text-highlight">${o}</span>${a}`)}else i=!1}i||this.renderValueWithoutRenderer(t)}updateHighlighted(e){var t;const i=this.getGui(),s=`ag-rich-select-row-${this.getCompId()}`;if((t=i.parentElement)==null||t.setAttribute("id",s),e){const r=this.getParentComponent().getAriaElement();II(r,s),this.wrapperEl.setAttribute("data-active-option",s)}y0(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,t){const i=this.gos.getDocument(),s=this.getGui(),r=i.createElement("span");r.style.overflow="hidden",r.style.textOverflow="ellipsis";const n=Bn(Rt(t)?t:e,!0);this.parsedValue=Rt(n)?n:null,s.appendChild(r),this.renderValueWithoutRenderer(n),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})}renderValueWithoutRenderer(e){const t=this.getGui().querySelector("span");t&&(t.innerHTML=Rt(e)?e:"&nbsp;")}populateWithRenderer(e,t){let i,s;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:t,setTooltip:(r,n)=>{this.setTooltip({newTooltipText:r,shouldDisplayTooltip:n})}})),s&&(i=s.newAgStackInstance()),i&&tN(i,this.getGui()),i?(i.then(r=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(r)})}),!0):!1}onClick(){const e=this.getParentComponent(),t={type:X.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(t)}};B([ce("userComponentFactory")],EN.prototype,"userComponentFactory",2);B([It],EN.prototype,"postConstruct",1);var SS=class Dq extends bS{constructor(t){super(Dq.getTemplate((t==null?void 0:t.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0;const{cssIdentifier:i="default",ariaRole:s="listbox",listName:r}=t||{};this.cssIdentifier=i,this.ariaRole=s,this.listName=r}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t),focusInnerElement:t=>this.focusInnerElement(t),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)}),this.setAriaProperties(),this.addManagedListener(this.eventService,X.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const i=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),s=this.eContainer;un(s,this.ariaRole),Fl(s,i)}addResizeObserver(){const t=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),i=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(i)}focusInnerElement(t){this.focusRow(t?this.model.getRowCount()-1:0)}onFocusIn(t){const i=t.target;i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=BY(i)-1)}onFocusOut(t){this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(t){switch(t.key){case Xe.UP:case Xe.DOWN:this.navigate(t.key===Xe.UP)&&t.preventDefault();break;case Xe.PAGE_HOME:case Xe.PAGE_END:case Xe.PAGE_UP:case Xe.PAGE_DOWN:this.navigateToPage(t.key)!==null&&t.preventDefault();break}}onTabKeyDown(t){this.navigate(t.shiftKey)?t.preventDefault():(iu(t),this.forceFocusOutOfContainer(t.shiftKey))}navigate(t){if(this.lastFocusedRowIndex==null)return!1;const i=this.lastFocusedRowIndex+(t?-1:1);return i<0||i>=this.model.getRowCount()?!1:(this.focusRow(i),!0)}navigateToPage(t,i="focused"){let s=!1;i==="focused"&&(i=this.getLastFocusedRow(),s=!0);const r=this.model.getRowCount()-1;let n=-1;return t===Xe.PAGE_HOME?n=0:t===Xe.PAGE_END?n=r:t===Xe.PAGE_DOWN?n=Math.min(i+this.pageSize,r):t===Xe.PAGE_UP&&(n=Math.max(i-this.pageSize,0)),n===-1?null:(s?this.focusRow(n):this.ensureIndexVisible(n),n)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(t){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(t),this.animationFrameService.requestAnimationFrame(()=>{if(this.isScrolling=!1,!this.isAlive())return;const i=this.renderedRows.get(t);i&&i.eDiv.focus()}))}getComponentAt(t){const i=this.renderedRows.get(t);return i&&i.rowComponent}forEachRenderedRow(t){this.renderedRows.forEach((i,s)=>t(i.rowComponent,s))}static getTemplate(t){return`<div class="ag-virtual-list-viewport ag-${t}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${t}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(t,i=!0){const s=this.model.getRowCount();if(typeof t!="number"||t<0||t>=s)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;const r=t*this.rowHeight,n=r+this.rowHeight,o=this.getGui(),a=o.scrollTop,l=o.offsetHeight,c=a+l,u=i?0:this.rowHeight,h=a>r+u,f=c<n-u;if(h)return o.scrollTop=r,!0;if(f){const p=n-l;return o.scrollTop=p,!0}return!1}setComponentCreator(t){this.componentCreator=t}setComponentUpdater(t){this.componentUpdater=t}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(t){this.isHeightFromTheme=!1,this.rowHeight=t,this.refresh()}refresh(t){if(this.model==null||!this.isAlive())return;const i=this.model.getRowCount();this.eContainer.style.height=`${i*this.rowHeight}px`,DI(()=>this.eContainer.clientHeight>=i*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(t)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((t,i)=>this.removeRow(i))}drawVirtualRows(t){if(!this.isAlive()||!this.model)return;const i=this.getGui(),s=i.scrollTop,r=s+i.offsetHeight,n=Math.floor(s/this.rowHeight),o=Math.floor(r/this.rowHeight);this.pageSize=Math.floor((r-s)/this.rowHeight),this.ensureRowsRendered(n,o,t)}ensureRowsRendered(t,i,s){this.renderedRows.forEach((r,n)=>{(n<t||n>i)&&n!==this.lastFocusedRowIndex&&this.removeRow(n)}),s&&this.refreshRows();for(let r=t;r<=i;r++)this.renderedRows.has(r)||r<this.model.getRowCount()&&this.insertRow(r)}insertRow(t){const i=this.model.getRow(t),s=document.createElement("div");s.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),un(s,this.ariaRole==="tree"?"treeitem":"option"),TA(s,this.model.getRowCount()),AA(s,t+1),s.setAttribute("tabindex","-1"),s.style.height=`${this.rowHeight}px`,s.style.top=`${this.rowHeight*t}px`;const r=this.componentCreator(i,s);r.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=t),s.appendChild(r.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",s):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",s):this.eContainer.appendChild(s),this.renderedRows.set(t,{rowComponent:r,eDiv:s,value:i})}removeRow(t){const i=this.renderedRows.get(t);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(t)}refreshRows(){const t=this.model.getRowCount();this.renderedRows.forEach((i,s)=>{var r,n;if(s>=t)this.removeRow(s);else{const o=this.model.getRow(s);(n=(r=this.model).areRowsEqual)!=null&&n.call(r,i.value,o)?this.componentUpdater(o,i.rowComponent):this.removeRow(s)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(t){this.model=t}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};B([ce("resizeObserverService")],SS.prototype,"resizeObserverService",2);B([ce("animationFrameService")],SS.prototype,"animationFrameService",2);B([Gt("eContainer")],SS.prototype,"eContainer",2);B([It],SS.prototype,"postConstruct",1);var Rq=SS,DMe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,QA=class extends dm{constructor(e){var t,i;super(Vr(gi({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(t=e==null?void 0:e.template)!=null?t:DMe,modalPicker:!1},e),{maxPickerHeight:(i=e==null?void 0:e.maxPickerHeight)!=null?i:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:s,value:r,valueList:n,searchStringCreator:o}=e||{};s!=null&&(this.cellRowHeight=s),r!==void 0&&(this.value=r),n!=null&&(this.values=n),o&&(this.searchStringCreator=o)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:e,placeholder:t}=this.config;e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(t),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{searchDebounceDelay:i=300}=this.config;this.clearSearchString=Aa(this.clearSearchString,i),this.renderSelectedValue(),e&&(this.eInput.onValueChange(s=>this.searchTextFromString(s)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const e=this.gos.getDocument(),t=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=t("loadingOoo","Loading..."),this.eLoading=i}createListComponent(){this.listComponent=this.createBean(new Rq({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));const e=(a,l)=>{};this.listComponent.setComponentUpdater(e),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,X.EVENT_FIELD_PICKER_VALUE_SELECTED,a=>{this.onListValueSelected(a.value,a.fromEnterKey)});const{cellRowHeight:t}=this;t&&this.listComponent.setRowHeight(t);const i=this.listComponent.getGui(),s=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",a=>a.preventDefault()),i.classList.add("ag-rich-select-list");const r=`ag-rich-select-list-${this.listComponent.getCompId()}`;s.setAttribute("id",r);const o=this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Fl(s,o),BI(this.eWrapper,s)}renderSelectedValue(){const{value:e,eDisplayField:t,config:i}=this,{allowTyping:s,initialInputValue:r}=this.config,n=this.config.valueFormatter?this.config.valueFormatter(e):e;if(s){this.eInput.setValue(r??n);return}let o;i.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.config,{value:e,valueFormatted:n}));let a;if(o&&(a=o.newAgStackInstance()),a)An(t),tN(a,t),a.then(l=>{this.addDestroyFunc(()=>this.getContext().destroyBean(l))});else{if(Rt(this.value))t.innerText=n,t.classList.remove("ag-display-as-placeholder");else{const{placeholder:l}=i;Rt(l)?(t.innerHTML=`${Bn(l)}`,t.classList.add("ag-display-as-placeholder")):An(t)}this.setTooltip({newTooltipText:n??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:e,value:t}=this;if(t==null||!e)return-1;for(let i=0;i<e.length;i++)if(e[i]===t)return i;return-1}highlightFilterMatch(){var e;(e=this.listComponent)==null||e.forEachRenderedRow((t,i)=>{t.highlightString(this.searchString)})}highlightSelectedValue(e){var t;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(t=this.listComponent)==null||t.forEachRenderedRow((i,s)=>{const r=e===-1?!1:this.highlightedItem===s;i.updateHighlighted(r)})}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:t,refresh:i}=e;this.listComponent&&this.currentList!==t&&(this.currentList=t,this.listComponent.setModel({getRowCount:()=>t.length,getRow:s=>t[s],areRowsEqual:(s,r)=>s===r}),i&&(this.values?this.listComponent.refresh(!0):(this.values=t,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var e,t;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}(e=this.eLoading)!=null&&e.offsetParent&&((t=this.eLoading.parentElement)==null||t.removeChild(this.eLoading));const i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const e=this.eInput.getFocusableElement();e.focus(),e.select()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===Xe.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!PA(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){e==null&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){const{valueFormatter:t=s=>s}=this.config;let i;return typeof e[0]=="number"||typeof e[0]=="string"?i=e.map(s=>t(s)):typeof e[0]=="object"&&this.searchStringCreator&&(i=this.searchStringCreator(e)),i}getSuggestionsAndFilteredValues(e,t){let i=[],s=[];if(!e.length)return{suggestions:i,filteredValues:s};const{searchType:r="fuzzy",filterList:n}=this.config;if(r==="fuzzy"){const o=hS(this.searchString,t,!0);i=o.values;const a=o.indices;if(n&&a.length)for(let l=0;l<a.length;l++)s.push(this.values[a[l]])}else i=t.filter((o,a)=>{const l=o.toLocaleLowerCase(),c=this.searchString.toLocaleLowerCase(),u=r==="match"?l.startsWith(c):l.indexOf(c)!==-1;return n&&u&&s.push(this.values[a]),u});return{suggestions:i,filteredValues:s}}filterListModel(e){const{filterList:t}=this.config;t&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())}runSearch(){var e,t;const{values:i}=this,s=this.buildSearchStrings(i);if(!s){this.highlightSelectedValue(-1);return}const{suggestions:r,filteredValues:n}=this.getSuggestionsAndFilteredValues(this.searchString,s),{filterList:o,highlightMatch:a,searchType:l="fuzzy"}=this.config,c=n.length,u=!!(o&&this.searchString!=="");if(this.filterListModel(u?n:i),r.length){const h=u?0:s.indexOf(r[0]);this.selectListItem(h)}else if(this.highlightSelectedValue(-1),!u||c)(e=this.listComponent)==null||e.ensureIndexVisible(0);else if(u){this.getAriaElement().removeAttribute("data-active-option");const h=(t=this.listComponent)==null?void 0:t.getAriaElement();h&&II(h,null)}a&&l!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var e;const t=(e=this.listComponent)==null?void 0:e.getGui(),i=this.currentList?this.currentList.length===0:!1;t==null||t.classList.toggle("ag-hidden",i)}clearSearchString(){this.searchString=""}selectListItem(e,t){if(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)return;this.listComponent.ensureIndexVisible(e,!t)&&!t&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}setValue(e,t,i){const s=this.currentList?this.currentList.indexOf(e):-1;return s===-1?this:(this.value=e,i||this.selectListItem(s),this.renderSelectedValue(),super.setValue(e,t))}createRowComponent(e){const t=new EN(this.config,this.eWrapper);t.setParentComponent(this.listComponent),this.getContext().createBean(t),t.setState(e);const{highlightMatch:i,searchType:s="fuzzy"}=this.config;return i&&s!=="fuzzy"&&t.highlightString(this.searchString),t}getRowForMouseEvent(e){const{listComponent:t}=this;if(!t)return-1;const s=(t==null?void 0:t.getGui()).getBoundingClientRect(),r=t.getScrollTop(),n=e.clientY-s.top+r;return Math.floor(n/t.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const t=this.getRowForMouseEvent(e);t!==-1&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.selectListItem(t,!0))}onNavigationKeyDown(e,t){e.preventDefault();const i=t===Xe.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}const s=this.highlightedItem,n=s===-1?0:s+(i?1:-1);this.selectListItem(n)}onPageNavigation(e){var t;if(!this.isPickerDisplayed)return;const i=(t=this.listComponent)==null?void 0:t.navigateToPage(e,this.highlightedItem);i!=null&&this.animationFrameService.requestAnimationFrame(()=>{if(!this.isAlive())return null;this.highlightSelectedValue(i)})}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,t){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,t),this.hidePicker()}dispatchPickerEvent(e,t){const i={type:X.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:t,value:e};this.dispatchEvent(i)}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const t=e.key,{allowTyping:i}=this.config;switch(t){case Xe.LEFT:case Xe.RIGHT:i||e.preventDefault();break;case Xe.PAGE_HOME:case Xe.PAGE_END:if(i){e.preventDefault();const s=this.eInput.getInputElement(),r=t===Xe.PAGE_HOME?0:s.value.length;s.setSelectionRange(r,r);break}case Xe.PAGE_UP:case Xe.PAGE_DOWN:e.preventDefault(),this.onPageNavigation(t);break;case Xe.DOWN:case Xe.UP:this.onNavigationKeyDown(e,t);break;case Xe.ESCAPE:this.isPickerDisplayed&&(al(this.listComponent.getGui())&&(e.preventDefault(),iu(e)),this.hidePicker());break;case Xe.ENTER:this.onEnterKeyDown(e);break;case Xe.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};B([ce("userComponentFactory")],QA.prototype,"userComponentFactory",2);B([ce("animationFrameService")],QA.prototype,"animationFrameService",2);B([Gt("eInput")],QA.prototype,"eInput",2);var oy=class Pq extends nN{constructor(t){super(t,Pq.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:t,maxValue:i,textFieldWidth:s,step:r,value:n,onValueChange:o}=this.config;t!=null&&this.setMinValue(t),i!=null&&this.setMaxValue(i),s!=null&&this.setTextFieldWidth(s),r!=null&&this.setStep(r),n!=null&&this.setValue(n),o!=null&&this.onValueChange(o)}onValueChange(t){const i=X.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,()=>{const s=parseFloat(this.eText.getValue());this.eSlider.setValue(s.toString(),!0),t(s||0)}),this.addManagedListener(this.eSlider,i,()=>{const s=this.eSlider.getValue();this.eText.setValue(s,!0),t(parseFloat(s))}),this}setSliderWidth(t){return this.eSlider.setWidth(t),this}setTextFieldWidth(t){return this.eText.setWidth(t),this}setMinValue(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this}setMaxValue(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this}getValue(){return this.eText.getValue()}setValue(t,i){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),i||this.dispatchEvent({type:X.EVENT_FIELD_VALUE_CHANGED}),this)}setStep(t){return this.eSlider.setStep(t),this.eText.setStep(t),this}};oy.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;B([Gt("eLabel")],oy.prototype,"eLabel",2);B([Gt("eSlider")],oy.prototype,"eSlider",2);B([Gt("eText")],oy.prototype,"eText",2);B([It],oy.prototype,"init",1);var RMe=oy,zf=class bv extends Mi{constructor(t={}){super(bv.getTemplate(t)),this.params=t,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:i,items:s,suppressEnabledCheckbox:r,expanded:n,suppressToggleExpandOnEnableChange:o,useToggle:a}=t;this.cssIdentifier=t.cssIdentifier||"default",this.enabled=i??!0,this.items=s||[],this.useToggle=a??!1,this.alignItems=t.alignItems||"center",this.expanded=n??!0,r!=null&&(this.suppressEnabledCheckbox=r),o!=null&&(this.suppressToggleExpandOnEnableChange=o)}static getTemplate(t){const i=t.cssIdentifier||"default",s=t.direction||"vertical";return`
            <div class="ag-group ag-${i}-group" role="presentation">
                <div ref="eToolbar" class="ag-group-toolbar ag-${i}-group-toolbar">
                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
                </div>
                <div ref="eContainer" class="ag-group-container ag-group-container-${s} ag-${i}-group-container"></div>
            </div>
        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const r=this.items;this.items=[],this.addItems(r)}const t=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:i,suppressOpenCloseIcons:s}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(s??!1),this.refreshChildDisplay(),ws(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(r=>{this.setEnabled(r,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(r)}),i!=null&&this.onEnableChange(i)}refreshChildDisplay(){var t;ws(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),(t=this.eTitleBar)==null||t.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(t){this.alignItems!==t&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=t;const i=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(i),this}toggleGroupExpand(t){var i;let s=!1;if((i=this.eTitleBar)!=null&&i.isSuppressCollapse()&&!this.useToggle)t=!0,s=!0;else if(t=t??!this.expanded,this.expanded===t)return this;return this.expanded=t,this.refreshChildDisplay(),ws(this.eContainer,t),s||this.dispatchEvent({type:t?bv.EVENT_EXPANDED:bv.EVENT_COLLAPSED}),this}addItems(t){t.forEach(i=>this.addItem(i))}prependItem(t){this.insertItem(t,!0)}addItem(t){this.insertItem(t,!1)}insertItem(t,i){const s=this.eContainer,r=t instanceof Mi?t.getGui():t;r.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),i?(s.insertAdjacentElement("afterbegin",r),this.items.unshift(r)):(s.appendChild(r),this.items.push(r))}hideItem(t,i){const s=this.items[i];ws(s,!t)}getItemIndex(t){const i=t instanceof Mi?t.getGui():t;return this.items.indexOf(i)}setTitle(t){var i;return(i=this.eTitleBar)==null||i.setTitle(t),this}addTitleBarWidget(t){var i;return(i=this.eTitleBar)==null||i.addWidget(t),this}addCssClassToTitleBar(t){var i;(i=this.eTitleBar)==null||i.addCssClass(t)}dispatchEnableChangeEvent(t){const i={type:bv.EVENT_ENABLE_CHANGE,enabled:t};this.dispatchEvent(i)}setEnabled(t,i,s){var r;return this.enabled=t,this.refreshDisabledStyles(),s||this.toggleGroupExpand(t),i||(this.cbGroupEnabled.setValue(t),(r=this.eToggle)==null||r.setValue(t)),this}isEnabled(){return this.enabled}onEnableChange(t){return this.addManagedListener(this,bv.EVENT_ENABLE_CHANGE,i=>t(i.enabled)),this}hideEnabledCheckbox(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(t){var i;return(i=this.eTitleBar)==null||i.hideOpenCloseIcons(t),this}refreshDisabledStyles(){var t;const i=!this.enabled;this.eContainer.classList.toggle("ag-disabled",i),(t=this.eTitleBar)==null||t.refreshDisabledStyles(this.suppressEnabledCheckbox&&i),this.eContainer.classList.toggle("ag-disabled-group-container",i)}setupTitleBar(){const t=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",t.getGui())}createDefaultTitleBar(){const t=this.createManagedBean(new q$(this.params));return this.eTitleBar=t,t.refreshOnExpand(this.expanded),this.addManagedListener(t,q$.EVENT_EXPAND_CHANGED,i=>this.toggleGroupExpand(i.expanded)),t}createToggleTitleBar(){var t;const i=this.createManagedBean(new kq({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:s=>{this.setEnabled(s,!0),this.dispatchEnableChangeEvent(s)}}));return i.addCssClass("ag-group-title-bar"),i.addCssClass(`ag-${(t=this.params.cssIdentifier)!=null?t:"default"}-group-title-bar ag-unselectable`),this.eToggle=i,this.toggleGroupExpand(this.enabled),i}};zf.EVENT_EXPANDED="expanded";zf.EVENT_COLLAPSED="collapsed";zf.EVENT_ENABLE_CHANGE="enableChange";B([Gt("eToolbar")],zf.prototype,"eToolbar",2);B([Gt("cbGroupEnabled")],zf.prototype,"cbGroupEnabled",2);B([Gt("eContainer")],zf.prototype,"eContainer",2);B([It],zf.prototype,"postConstruct",1);var PMe=zf,HR="ag-disabled-group-title-bar",ay=class TM extends Mi{constructor(t={}){super(TM.getTemplate(t)),this.suppressOpenCloseIcons=!1;const{title:i,suppressOpenCloseIcons:s}=t;i&&i.length>0&&(this.title=i),s!=null&&(this.suppressOpenCloseIcons=s)}static getTemplate(t){var i;const s=(i=t.cssIdentifier)!=null?i:"default";return`
            <div class="ag-group-title-bar ag-${s}-group-title-bar ag-unselectable" role="button">
                <span class="ag-group-title-bar-icon ag-${s}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${s}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${s}-group-title"></span>
            </div>
        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(Ql("columnSelectClosed",this.gos,null)),this.eGroupOpenedIcon.appendChild(Ql("columnSelectOpen",this.gos,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",t=>{switch(t.key){case Xe.ENTER:case Xe.SPACE:t.preventDefault(),this.dispatchExpandChanged();break;case Xe.RIGHT:case Xe.LEFT:t.preventDefault(),this.dispatchExpandChanged(t.key===Xe.RIGHT);break}})}refreshOnExpand(t){this.refreshAriaStatus(t),this.refreshOpenCloseIcons(t)}refreshAriaStatus(t){this.suppressOpenCloseIcons||Xd(this.getGui(),t)}refreshOpenCloseIcons(t){const i=!this.suppressOpenCloseIcons;ws(this.eGroupOpenedIcon,i&&t),ws(this.eGroupClosedIcon,i&&!t)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(t){const i={type:TM.EVENT_EXPAND_CHANGED,expanded:t};this.dispatchEvent(i)}setTitle(t){const i=this.getGui(),s=!!t&&t.length>0;t=s?t:void 0,this.eTitle.textContent=t??"",ws(i,s),t!==this.title&&(this.title=t);const r=i.classList.contains(HR);return this.refreshDisabledStyles(r),this}addWidget(t){return this.getGui().appendChild(t),this}hideOpenCloseIcons(t){return this.suppressOpenCloseIcons=t,t&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(t){const i=this.getGui();t?(i.classList.add(HR),i.removeAttribute("tabindex")):(i.classList.remove(HR),typeof this.title=="string"?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex"))}};ay.EVENT_EXPAND_CHANGED="expandedChanged";B([Gt("eGroupOpenedIcon")],ay.prototype,"eGroupOpenedIcon",2);B([Gt("eGroupClosedIcon")],ay.prototype,"eGroupClosedIcon",2);B([Gt("eTitle")],ay.prototype,"eTitle",2);B([It],ay.prototype,"postConstruct",1);var q$=ay,_N=class extends bS{constructor(e=0,t){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[],this.params=t??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){const t=this.getParentComponent(),i=t&&t.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case Xe.UP:case Xe.RIGHT:case Xe.DOWN:case Xe.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case Xe.ESCAPE:this.closeIfIsChild()&&iu(e);break}}handleFocusIn(e){var t,i;const s=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(s)&&(this.getGui().contains(s)||(i=(t=this.activeMenuItem)==null?void 0:t.getSubMenuGui())!=null&&i.contains(s))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var t;const i=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(i)||(t=this.activeMenuItem.getSubMenuGui())!=null&&t.contains(i)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&dc.all(e.map(t=>t==="separator"?dc.resolve({eGui:this.createSeparator()}):typeof t=="string"?(console.warn(`AG Grid: unrecognised menu item ${t}`),dc.resolve({eGui:null})):this.addItem(t))).then(t=>{t.forEach(i=>{i!=null&&i.eGui&&(this.appendChild(i.eGui),i.comp&&this.menuItems.push(i.comp))})})}addItem(e){const t=this.createManagedBean(new C1);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(t.setParentComponent(this),this.addManagedListener(t,C1.EVENT_CLOSE_MENU,i=>{this.dispatchEvent(i)}),this.addManagedListener(t,C1.EVENT_MENU_ITEM_ACTIVATED,i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem}),{comp:t,eGui:t.getGui()}))}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}createSeparator(){return Ja(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`)}handleNavKey(e){switch(e){case Xe.UP:case Xe.DOWN:const i=this.findNextItem(e===Xe.UP);i&&i!==this.activeMenuItem&&i.activate();return}const t=this.gos.get("enableRtl")?Xe.RIGHT:Xe.LEFT;e===t?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();return t&&t instanceof C1?(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter(r=>!r.isDisabled());if(!t.length)return;if(!this.activeMenuItem)return e?Os(t):t[0];e&&t.reverse();let i,s=!1;for(let r=0;r<t.length;r++){const n=t[r];if(!s){n===this.activeMenuItem&&(s=!0);continue}i=n;break}return s&&!i?t[0]:i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};B([ce("focusService")],_N.prototype,"focusService",2);B([It],_N.prototype,"postConstruct",1);var Fq=class extends bS{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===Xe.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};B([It],Fq.prototype,"postConstruct",1);var ly=class wv extends Lt{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(t){var i,s;const{menuItemDef:r,isAnotherSubMenuOpen:n,level:o,childComponent:a,contextParams:l}=t;return this.params=t.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=n,this.childComponent=a,this.contextParams=l,this.cssClassPrefix=(s=(i=this.params.menuItemParams)==null?void 0:i.cssClassPrefix)!=null?s:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,Vr(gi({},r),{level:o,isAnotherSubMenuOpen:n,openSubMenu:u=>this.openSubMenu(u),closeSubMenu:()=>this.closeSubMenu(),closeMenu:u=>this.closeMenu(u),updateTooltip:(u,h)=>this.refreshTooltip(u,h),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(u=>{var h;this.menuItemComp=u;const f=(h=u.configureDefaults)==null?void 0:h.call(u);f&&this.configureDefaults(f===!0?void 0:f)})}addListeners(t,i){i!=null&&i.suppressClick||this.addManagedListener(t,"click",s=>this.onItemSelected(s)),i!=null&&i.suppressKeyboardSelect||this.addManagedListener(t,"keydown",s=>{(s.key===Xe.ENTER||s.key===Xe.SPACE)&&(s.preventDefault(),this.onItemSelected(s))}),i!=null&&i.suppressMouseDown||this.addManagedListener(t,"mousedown",s=>{s.stopPropagation(),s.preventDefault()}),i!=null&&i.suppressMouseOver||(this.addManagedListener(t,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(t=!1){var i,s;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const r=Ja('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=r;let n,o=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const u=this.createBean(new Fq(this.childComponent));u.setParentComponent(this);const h=u.getGui(),f="mouseenter",p=()=>this.cancelDeactivate();h.addEventListener(f,p),n=()=>h.removeEventListener(f,p),r.appendChild(h),this.childComponent.afterGuiAttached&&(o=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const u=this.createBean(new _N(this.level+1,this.contextParams));u.setParentComponent(this),u.addMenuItems(this.params.subMenu),r.appendChild(u.getGui()),this.addManagedListener(u,wv.EVENT_CLOSE_MENU,h=>this.dispatchEvent(h)),u.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),n=()=>this.destroyBean(u),t&&(o=()=>{u.activateFirstItem(),this.subMenuIsOpening=!1})}const a=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:r}),l=this.localeService.getLocaleTextFunc(),c=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:a,anchorToElement:this.eGui,ariaLabel:l("ariaLabelSubMenu","SubMenu"),afterGuiAttached:o});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var u,h;c&&c.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),n(),(h=(u=this.menuItemComp).setExpanded)==null||h.call(u,!1),this.eSubMenuGui=void 0},(s=(i=this.menuItemComp).setExpanded)==null||s.call(i,!0)}setAriaExpanded(t){this.suppressAria||Xd(this.eGui,t)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(t){var i,s;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),(s=(i=this.menuItemComp).setActive)==null||s.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),t&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var t,i;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),(i=(t=this.menuItemComp).setActive)==null||i.call(t,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(t){this.parentComponent=t}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(t){var i,s;(s=(i=this.menuItemComp).select)==null||s.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gos.addGridCommonParams(gi({},this.contextParams)))):this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(t)}closeMenu(t){const i={type:wv.EVENT_CLOSE_MENU};t&&(t instanceof MouseEvent?i.mouseEvent=t:i.keyboardEvent=t),this.dispatchEvent(i)}onItemActivated(){const t={type:wv.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),wv.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),wv.ACTIVATION_DELAY):this.deactivate()}configureDefaults(t){var i,s,r;if(!this.menuItemComp){setTimeout(()=>this.configureDefaults(t));return}let n=this.menuItemComp.getGui();const o=(s=(i=this.menuItemComp).getRootElement)==null?void 0:s.call(i);o&&(t!=null&&t.suppressRootStyles||n.classList.add("ag-menu-option-custom"),n=o),this.eGui=n,this.suppressRootStyles=!!(t!=null&&t.suppressRootStyles),this.suppressRootStyles||(n.classList.add(this.cssClassPrefix),(r=this.params.cssClasses)==null||r.forEach(a=>n.classList.add(a)),this.params.disabled&&n.classList.add(`${this.cssClassPrefix}-disabled`)),t!=null&&t.suppressTooltip||this.refreshTooltip(this.params.tooltip),this.suppressAria=!!(t!=null&&t.suppressAria),this.suppressAria||(un(n,"treeitem"),WY(n,this.level+1),this.params.disabled&&OI(n,!0)),t!=null&&t.suppressTabIndex||n.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(n,t),this.suppressFocus=!!(t!=null&&t.suppressFocus)}refreshTooltip(t,i){this.tooltip=t,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),!(!t||!this.menuItemComp)&&(this.tooltipFeature=this.createBean(new ch({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:i})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};ly.EVENT_CLOSE_MENU="closeMenu";ly.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";ly.ACTIVATION_DELAY=80;B([ce("popupService")],ly.prototype,"popupService",2);B([ce("userComponentFactory")],ly.prototype,"userComponentFactory",2);var C1=ly,bm=class AM extends Mi{constructor(t){super(AM.getTemplate(t)),this.config=t,this.closable=!0}static getTemplate(t){const i=t.cssIdentifier||"default";return`<div class="ag-panel ag-${i}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${i}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${i}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${i}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${i}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:t,closable:i,hideTitleBar:s,title:r,minWidth:n=250,width:o,minHeight:a=250,height:l,centered:c,popup:u,x:h,y:f}=this.config;this.positionableFeature=new q0(this.getGui(),{minWidth:n,width:o,minHeight:a,height:l,centered:c,x:h,y:f,popup:u,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const p=this.getGui();t&&this.setBodyComponent(t),s?ws(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",y=>{if(p.contains(y.relatedTarget)||p.contains(this.gos.getActiveDomElement())||this.eTitleBarButtons.contains(y.target)){y.preventDefault();return}const v=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");v&&v.focus()}),!(u&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const t=this.getGui();t.focus(),this.close=()=>{t.parentElement.removeChild(t),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(t){this.positionableFeature.setHeight(t)}getWidth(){return this.positionableFeature.getWidth()}setWidth(t){this.positionableFeature.setWidth(t)}setClosable(t){if(t!==this.closable&&(this.closable=t),t){const i=this.closeButtonComp=new Mi(AM.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);const s=i.getGui(),r=Yr("close",this.gos);r.classList.add("ag-panel-title-bar-button-icon"),s.appendChild(r),this.addTitleBarButton(i),i.addManagedListener(s,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())}addTitleBarButton(t,i){const s=this.eTitleBarButtons,r=s.children,n=r.length;i==null&&(i=n),i=Math.max(0,Math.min(i,n)),t.addCssClass("ag-panel-title-bar-button");const o=t.getGui();i===0?s.insertAdjacentElement("afterbegin",o):i===n?s.insertAdjacentElement("beforeend",o):r[i-1].insertAdjacentElement("afterend",o),t.setParentComponent(this)}getBodyHeight(){return uS(this.eContentWrapper)}getBodyWidth(){return um(this.eContentWrapper)}setTitle(t){this.eTitle.innerText=t}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const t=this.getGui();t&&al(t)&&this.close(),super.destroy()}};bm.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';B([Gt("eContentWrapper")],bm.prototype,"eContentWrapper",2);B([Gt("eTitleBar")],bm.prototype,"eTitleBar",2);B([Gt("eTitleBarButtons")],bm.prototype,"eTitleBarButtons",2);B([Gt("eTitle")],bm.prototype,"eTitle",2);B([It],bm.prototype,"postConstruct",1);var FMe=bm,MMe=class extends FMe{constructor(e){super(Vr(gi({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:i,maximizable:s}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",r=>{this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),s&&this.setMaximizable(s),i&&this.setResizable(i)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:i,title:s,afterGuiAttached:r}=this.config,n=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:t,ariaLabel:s||n("ariaLabelDialog","Dialog"),afterGuiAttached:r});o&&(this.close=o.hideFunc)}onClosed(e){var t,i;this.destroy(),(i=(t=this.config).closedCallback)==null||i.call(t,e)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:i,width:s,height:r}=this.lastPosition;this.setWidth(s),this.setHeight(r),this.positionableFeature.offsetElement(t,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){ws(this.maximizeIcon,!this.isMaximized),ws(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new Mi('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=Yr("maximize",this.gos),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Yr("minimize",this.gos),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};B([ce("popupService")],MMe.prototype,"popupService",2);var LMe=0,qd=class extends Lt{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedListener(this.eventService,X.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,s=this.getPopupIndex(i);if(s!==-1){const p=this.popupList[s];p.alignedToElement=t}const r=t.getBoundingClientRect(),n=this.getParentRect(),o=this.keepXYWithinBounds(i,r.top-n.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const c=n.right-n.left-a;let u;this.gos.get("enableRtl")?(u=f(),u<0&&(u=h(),this.setAlignedStyles(i,"left")),u>c&&(u=0,this.setAlignedStyles(i,"right"))):(u=h(),u>c&&(u=f(),this.setAlignedStyles(i,"right")),u<0&&(u=0,this.setAlignedStyles(i,"left"))),i.style.left=`${u}px`,i.style.top=`${o}px`;function h(){return r.right-n.left-2}function f(){return r.left-n.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:r,eventSource:n,alignSide:o="left",position:a="over",column:l,rowNode:c,type:u}=e,h=n.getBoundingClientRect(),f=this.getParentRect(),p=this.getPopupIndex(t);if(p!==-1){const v=this.popupList[p];v.alignedToElement=n}const y=()=>{let v=h.left-f.left;o==="right"&&(v-=t.offsetWidth-h.width);let C;return a==="over"?(C=h.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,h,f,e.nudgeY||0)==="under"?C=h.top-f.top+h.height:C=h.top-t.offsetHeight-(s||0)*2-f.top),{x:v,y:C}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:r,updatePosition:y,postProcessCallback:()=>this.callPostProcessPopup(u,t,n,null,l,c)})}shouldRenderUnderOrAbove(e,t,i,s){const r=i.bottom-t.bottom,n=t.top-i.top,o=e.offsetHeight+s;return r>o?"under":n>o||n>r?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i],{alignedToElement:r}=s;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,s,r,n){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:n,ePopup:t,type:e,eventSource:i,mouseEvent:s})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:r,skipObserver:n,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:u,y:h}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,s&&(u+=s),r&&(h+=r),i&&(u=this.keepXYWithinBounds(t,u,1),h=this.keepXYWithinBounds(t,h,0)),t.style.left=`${u}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!n){const c=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>c(),qd.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gos.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),XI(t)}keepXYWithinBounds(e,t,i){const s=i===0,r=s?"clientHeight":"clientWidth",n=s?"top":"left",o=s?"offsetHeight":"offsetWidth",a=s?"scrollTop":"scrollLeft",l=this.gos.getDocument(),c=l.documentElement,u=this.getPopupParent(),h=u.getBoundingClientRect(),f=l.documentElement.getBoundingClientRect(),p=u===l.body,y=e[o];let C=p?(s?YI:Jb)(c)+c[a]:u[r];p&&(C-=Math.abs(f[n]-h[n]));const S=C-y;return Math.min(Math.max(t,0),Math.abs(S))}addPopup(e){const t=this.gos.getDocument(),{eChild:i,ariaLabel:s,alwaysOnTop:r,positionCallback:n,anchorToElement:o}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,s,!!r),c=this.addEventListenersToPopup(Vr(gi({},e),{wrapperEl:l}));return n&&n(),this.addPopupToPopupList(i,l,c,o),{hideFunc:c}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();Rt(e.style.top)||(e.style.top=`${i.top*-1}px`),Rt(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){const s=this.getPopupParent(),r=document.createElement("div"),{allThemes:n}=this.environment.getTheme();return n.length&&r.classList.add(...n),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||un(e,"dialog"),Fl(e,t),r.appendChild(e),s.appendChild(r),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(){const{allThemes:e}=this.environment.getTheme();for(const t of this.popupList){for(const i of Array.from(t.wrapper.classList))i.startsWith("ag-theme-")&&t.wrapper.classList.remove(i);e.length&&t.wrapper.classList.add(...e)}}addEventListenersToPopup(e){const t=this.gos.getDocument(),i=this.getPopupParent(),{wrapperEl:s,eChild:r,closedCallback:n,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let c=!1;const u=y=>{if(!s.contains(this.gos.getActiveDomElement()))return;y.key===Xe.ESCAPE&&!Yc(y)&&p({keyboardEvent:y})},h=y=>p({mouseEvent:y}),f=y=>p({touchEvent:y}),p=(y={})=>{const{mouseEvent:v,touchEvent:C,keyboardEvent:S,forceHide:_}=y;!_&&(this.isEventFromCurrentPopup({mouseEvent:v,touchEvent:C},r)||c)||(c=!0,i.removeChild(s),t.removeEventListener("keydown",u),t.removeEventListener("mousedown",h),t.removeEventListener("touchstart",f),t.removeEventListener("contextmenu",h),this.eventService.removeEventListener(X.EVENT_DRAG_STARTED,h),n&&n(v||C||S),this.removePopupFromPopupList(r))};return o&&o({hidePopup:p}),window.setTimeout(()=>{a&&t.addEventListener("keydown",u),l&&(t.addEventListener("mousedown",h),this.eventService.addEventListener(X.EVENT_DRAG_STARTED,h),t.addEventListener("touchstart",f),t.addEventListener("contextmenu",h))},0),p}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:LMe++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(n=>n&&n()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=r,s.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:r}=e,n=s.getBoundingClientRect(),o=i.top-n.top,a=i.left-n.left;let l=o,c=a;const u=r.style.top,h=parseInt(u.substring(0,u.length-1),10),f=r.style.left,p=parseInt(f.substring(0,f.length-1),10);return new dc(y=>{this.getFrameworkOverrides().setInterval(()=>{const v=t.getBoundingClientRect(),C=s.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const _=v.top-C.top;if(_!=l){const A=this.keepXYWithinBounds(r,h+o-_,0);r.style.top=`${A}px`}l=_;const x=v.left-C.left;if(x!=c){const A=this.keepXYWithinBounds(r,p+a-x,1);r.style.left=`${A}px`}c=x},200).then(v=>{y(()=>{v!=null&&window.clearInterval(v)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:s}=e,r=i||s;if(!r)return!1;const n=this.getPopupIndex(t);if(n===-1)return!1;for(let o=n;o<this.popupList.length;o++){const a=this.popupList[o];if(C_(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=this.gos.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),n=r.length,o=this.getWrapper(e);if(!o||s<=1||!t.contains(e))return;const a=i.indexOf(o),l=o.querySelectorAll("div"),c=[];for(l.forEach(u=>{u.scrollTop!==0&&c.push([u,u.scrollTop])}),n?o.classList.contains("ag-always-on-top")?a!==s-1&&Os(r).insertAdjacentElement("afterend",o):a!==s-n-1&&r[0].insertAdjacentElement("beforebegin",o):a!==s-1&&Os(i).insertAdjacentElement("afterend",o);c.length;){const u=c.pop();u[0].scrollTop=u[1]}}};qd.WAIT_FOR_POPUP_CONTENT_RESIZE=200;B([ce("focusService")],qd.prototype,"focusService",2);B([ce("ctrlsService")],qd.prototype,"ctrlsService",2);B([ce("resizeObserverService")],qd.prototype,"resizeObserverService",2);B([It],qd.prototype,"postConstruct",1);qd=B([ri("popupService")],qd);var OMe=class extends Mi{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var t;let i=!1;if(Rt(e)){const s=(t=this.value)==null?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(s>=0){i=!0,this.hasHighlighting=!0;const r=s+e.length,n=Bn(this.value.slice(0,s)),o=Bn(this.value.slice(s,r)),a=Bn(this.value.slice(r));this.getGui().lastElementChild.innerHTML=`${n}<b>${o}</b>${a}`}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=(e=Bn(this.value))!=null?e:"&nbsp;"}},JA=class Mq extends fm{constructor(t){super(Mq.TEMPLATE),this.params=t,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Rq({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:i=>this.autocompleteEntries[i]});const t=this.virtualList.getGui();this.addManagedListener(t,"click",()=>this.params.onConfirmed()),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",i=>i.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(t,i){t.preventDefault();const s=this.autocompleteEntries.indexOf(this.selectedValue),r=i===Xe.UP?s-1:s+1;this.checkSetSelectedValue(r)}setSearch(t){this.searchString=t,Rt(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(t,i){let s,r=!1;const n=t.toLocaleLowerCase(),o=i.filter(a=>{const c=a.toLocaleLowerCase().indexOf(n),u=c===0,h=c>=0;return h&&(!s||!r&&u||r===u&&a.length<s.length)&&(s=a,r=u),h});return!s&&o.length&&(s=o[0]),{topMatch:s,allMatches:o}}runSearch(){var t,i;const{autocompleteEntries:s}=this.params,r=s.map(c=>{var u;return(u=c.displayValue)!=null?u:c.key});let n,o;if(this.params.useFuzzySearch)n=hS(this.searchString,r,!0).values,o=n.length?n[0]:void 0;else{const c=this.runContainsSearch(this.searchString,r);n=c.allMatches,o=c.topMatch}let a=s.filter(({key:c,displayValue:u})=>n.includes(u??c));if(!a.length&&this.selectedValue&&((i=(t=this.params)==null?void 0:t.forceLastSelection)!=null&&i.call(t,this.selectedValue,this.searchString))&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),!o)return;const l=n.indexOf(o);this.checkSetSelectedValue(l)}updateSearchInList(){this.virtualList.forEachRenderedRow(t=>t.setSearchString(this.searchString))}checkSetSelectedValue(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)}setSelectedValue(t){const i=this.autocompleteEntries[t];this.selectedValue!==i&&(this.selectedValue=i,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow((s,r)=>{s.updateSelected(t===r)}))}createRowComponent(t){var i;const s=new OMe;return this.getContext().createBean(s),s.setState((i=t.displayValue)!=null?i:t.key,t===this.selectedValue),s}onMouseMove(t){const i=this.virtualList.getGui().getBoundingClientRect(),s=this.virtualList.getScrollTop(),r=t.clientY-i.top+s,n=Math.floor(r/this.virtualList.getRowHeight());this.checkSetSelectedValue(n)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!=null?t:null}};JA.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`;B([Gt("eList")],JA.prototype,"eList",2);B([It],JA.prototype,"init",1);var IMe=JA,jf=class SC extends Mi{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(t=>this.onValueChanged(t)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(t){const i=Bu(t);this.updateValue(i),this.updateAutocompleteList(i)}updateValue(t){this.updateLastPosition(),this.dispatchEvent({type:SC.EVENT_VALUE_CHANGED,value:t}),this.validate(t)}updateAutocompleteList(t){var i,s,r,n;const o=(s=(i=this.listGenerator)==null?void 0:i.call(this,t,this.lastPosition))!=null?s:{enabled:!1};if((!o.type||o.type!==((r=this.autocompleteListParams)==null?void 0:r.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,(n=this.autocompleteListParams)!=null&&n.enabled){this.isListOpen||this.openList();const{searchString:a}=this.autocompleteListParams;this.autocompleteList.setSearch(a??"")}else this.isListOpen&&this.closeList()}onKeyDown(t){const i=t.key;switch(this.updateLastPosition(),i){case Xe.ENTER:this.onEnterKeyDown(t);break;case Xe.TAB:this.onTabKeyDown(t);break;case Xe.DOWN:case Xe.UP:this.onUpDownKeyDown(t,i);break;case Xe.LEFT:case Xe.RIGHT:case Xe.PAGE_HOME:case Xe.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case Xe.ESCAPE:this.onEscapeKeyDown(t);break;case Xe.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}}confirmSelection(){var t;const i=(t=this.autocompleteList)==null?void 0:t.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:SC.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())}onEnterKeyDown(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(t,i){var s;t.preventDefault(),this.isListOpen?(s=this.autocompleteList)==null||s.onNavigationKeyDown(t,i):this.forceOpenList()}onEscapeKeyDown(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!=null?t:null)}setCaret(t,i){const s=this.gos.getDocument(),r=this.gos.getActiveDomElement();i&&(!r||r===s.body)&&this.eAutocompleteInput.getFocusableElement().focus();const n=this.eAutocompleteInput.getInputElement();n.setSelectionRange(t,t),t===n.value.length&&(n.scrollLeft=n.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!=null?t:0}validate(t){var i;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((i=this.validationMessage)!=null?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:SC.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new IMe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const t=this.autocompleteList.getGui(),i={ePopup:t,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gos.get("enableRtl")?"right":"left",keepWithinBounds:!0},s=this.popupService.addPopup({eChild:t,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(i),ariaLabel:this.listAriaLabel});this.hidePopup=s.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:SC.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return Bu(this.eAutocompleteInput.getValue())}setInputPlaceholder(t){return this.eAutocompleteInput.setInputPlaceholder(t),this}setInputAriaLabel(t){return this.eAutocompleteInput.setInputAriaLabel(t),this}setListAriaLabel(t){return this.listAriaLabel=t,this}setListGenerator(t){return this.listGenerator=t,this}setValidator(t){return this.validator=t,this}isValid(){return this.valid}setValue(t){const{value:i,position:s,silent:r,updateListOnlyIfOpen:n,restoreFocus:o}=t;this.eAutocompleteInput.setValue(i,!0),this.setCaret(s??this.lastPosition,o),r||this.updateValue(i),(!n||this.isListOpen)&&this.updateAutocompleteList(i)}setForceLastSelection(t){return this.forceLastSelection=t,this}setInputDisabled(t){return this.eAutocompleteInput.setDisabled(t),this}};jf.EVENT_VALUE_CHANGED="eventValueChanged";jf.EVENT_VALUE_CONFIRMED="eventValueConfirmed";jf.EVENT_OPTION_SELECTED="eventOptionSelected";jf.EVENT_VALID_CHANGED="eventValidChanged";B([ce("popupService")],jf.prototype,"popupService",2);B([Gt("eAutocompleteInput")],jf.prototype,"eAutocompleteInput",2);B([It],jf.prototype,"postConstruct",1);var NMe=jf,Kf=class hE extends Mi{constructor(t,i,s,r){super(),this.dragSourceDropTarget=t,this.ghost=i,this.horizontal=s,this.template=r}init(){var t;this.setTemplate((t=this.template)!=null?t:hE.TEMPLATE);const i=this.getGui();this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(Yr("columnDrag",this.gos)),this.eButton.appendChild(Yr("cancel",this.gos)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const t=this.localeService.getLocaleTextFunc(),i=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(i,t),Fl(this.getGui(),i.join(". "))}addAdditionalAriaInstructions(t,i){if(this.isRemovable()){const s=i("ariaDropZoneColumnComponentDescription","Press DELETE to remove");t.push(s)}}setupTooltip(){const t=()=>{const i=this.getTooltip();this.setTooltip({newTooltipText:i})};t(),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,t)}getDragSourceId(){}getDefaultIconName(){return Ni.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:t,eDragHandle:i}=this,s=this.createGetDragItem(),r=this.getDefaultIconName(),n={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:i,getDefaultIconName:()=>r,getDragItem:s,dragItemName:this.getDisplayName()};t.addDragSource(n,!0),this.addDestroyFunc(()=>t.removeDragSource(n))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){ws(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const t={type:hE.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",s=>this.onKeyDown(s)),this.addManagedListener(this.eButton,"click",s=>{this.dispatchEvent(t),s.stopPropagation()});const i=new wo(this.eButton);this.addManagedListener(i,wo.EVENT_TAP,()=>{this.dispatchEvent(t)}),this.addDestroyFunc(i.destroy.bind(i))}onKeyDown(t){t.key===Xe.DELETE&&this.isRemovable()&&(t.preventDefault(),this.dispatchEvent({type:hE.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const t=this.getDisplayValue(),i=Bn(t);this.eText.innerHTML=i}addElementClasses(t,i){i=i?`-${i}`:"";const s=this.horizontal?"horizontal":"vertical";t.classList.add(`ag-column-drop-cell${i}`,`ag-column-drop-${s}-cell${i}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};Kf.EVENT_COLUMN_REMOVE="columnRemove";Kf.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`;B([ce("dragAndDropService")],Kf.prototype,"dragAndDropService",2);B([Gt("eText")],Kf.prototype,"eText",2);B([Gt("eDragHandle")],Kf.prototype,"eDragHandle",2);B([Gt("eButton")],Kf.prototype,"eButton",2);B([It],Kf.prototype,"init",1);var VMe=Kf,xS=class bu extends Mi{constructor(t){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=t,this.state=bu.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),un(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(t){this.positionableFeature.setResizable(t?{bottom:!0}:!1),this.resizeEnabled=t}isSourceEventFromTarget(t){const{dropZoneTarget:i,dragSource:s}=t;return i.contains(s.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(t=>t()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,An(this.getGui()),An(this.ePillDropList)}init(t){this.params=t??{},this.createManagedBean(new Uf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new q0(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),Fl(this.ePillDropList,this.getAriaLabel())}handleKeyDown(t){const i=!this.horizontal;let s=t.key===Xe.DOWN,r=t.key===Xe.UP;if(!i){const o=this.gos.get("enableRtl");s=!o&&t.key===Xe.RIGHT||o&&t.key===Xe.LEFT,r=!o&&t.key===Xe.LEFT||o&&t.key===Xe.RIGHT}if(!s&&!r)return;const n=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,r);n&&(t.preventDefault(),n.focus())}addElementClasses(t,i){i=i?`-${i}`:"";const s=this.horizontal?"horizontal":"vertical";t.classList.add(`ag-column-drop${i}`,`ag-column-drop-${s}${i}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(t){const i=this.getNewInsertIndex(t);if(i<0)return!1;const s=this.minimumAllowedNewInsertIndex(),r=Math.max(s,i),n=r!==this.insertIndex;return n&&(this.insertIndex=r),n}getNewInsertIndex(t){const i=t.event,s=this.horizontal?i.clientX:i.clientY,r=this.childPillComponents.map(o=>o.getGui().getBoundingClientRect()),n=r.findIndex(o=>this.horizontal?o.right>s&&o.left<s:o.top<s&&o.bottom>s);if(n===-1){const o=this.gos.get("enableRtl");return r.every(c=>s>(this.horizontal?c.right:c.bottom))?o&&this.horizontal?0:this.childPillComponents.length:r.every(c=>s<(this.horizontal?c.left:c.top))?o&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=n?n+1:n}checkDragStartedBySelf(t){this.state===bu.STATE_NOT_DRAGGING&&(this.state=bu.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(t.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())}onDragging(t){this.checkDragStartedBySelf(t),this.checkInsertIndex(t)&&this.refreshGui()}handleDragEnterEnd(t){}onDragEnter(t){const i=this.getItems(t.dragSource.getDragItem());this.state=bu.STATE_NEW_ITEMS_IN;const s=i.filter(n=>this.isItemDroppable(n,t)),r=s.every(n=>this.childPillComponents.map(o=>o.getItem()).indexOf(n)!==-1);if(s.length!==0){if(this.potentialDndItems=s,r){this.state=bu.STATE_NOT_DRAGGING;return}this.handleDragEnterEnd(t),this.checkInsertIndex(t),this.refreshGui()}}isPotentialDndItems(){return wY(this.potentialDndItems)}handleDragLeaveEnd(t){}onDragLeave(t){if(this.state===bu.STATE_REARRANGE_ITEMS){const i=this.getItems(t.dragSource.getDragItem());this.removeItems(i)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(t),this.potentialDndItems=[],this.refreshGui()),this.state=bu.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let t=!1;this.state===bu.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),t=!0):t=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!t)&&this.refreshGui()}this.state=bu.STATE_NOT_DRAGGING}removeItems(t){const i=this.getExistingItems().filter(s=>!Dl(t,s));this.updateItems(i)}addItems(t){if(!t)return;const i=this.getExistingItems().slice(),s=t.filter(r=>i.indexOf(r)<0);uM(i,s,this.insertIndex),this.updateItems(i)}addItem(t){this.insertIndex=this.getExistingItems().length,this.addItems([t]),this.refreshGui()}rearrangeItems(t){const i=this.getNonGhostItems().slice();return uM(i,t,this.insertIndex),Fu(i,this.getExistingItems())?!1:(this.updateItems(i),!0)}refreshGui(){const t=this.ePillDropList.scrollTop,i=this.resizeEnabled,s=this.getFocusedItem();let r=this.focusService.findNextFocusableElement();r||(r=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=t),i&&this.toggleResizable(i),this.focusService.isKeyboardMode()&&this.restoreFocus(s,r)}getFocusedItem(){const t=this.getGui(),i=this.gos.getActiveDomElement();return t.contains(i)?Array.from(t.querySelectorAll(".ag-column-drop-cell")).indexOf(i):-1}restoreFocus(t,i){const s=this.getGui(),r=Array.from(s.querySelectorAll(".ag-column-drop-cell"));if(t===-1)return;r.length===0&&i.focus();const n=Math.min(r.length-1,t),o=r[n];o&&o.focus()}focusList(t){const i=t?this.childPillComponents.length-1:0;this.restoreFocus(i,this.getFocusableElement())}getNonGhostItems(){const t=this.getExistingItems();return this.isPotentialDndItems()?t.filter(i=>!Dl(this.potentialDndItems,i)):t}addItemsToGui(){const i=this.getNonGhostItems().map(s=>this.createItemComponent(s,!1));if(this.isPotentialDndItems()){const s=this.potentialDndItems.map(r=>this.createItemComponent(r,!0));this.insertIndex>=i.length?i.push(...s):i.splice(this.insertIndex,0,...s)}this.appendChild(this.ePillDropList),i.forEach((s,r)=>{r>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(s.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((t,i)=>{const s=t.getGui();AA(s,i+1),TA(s,this.childPillComponents.length)})}createItemComponent(t,i){const s=this.createPillComponent(t,this.dropTarget,i,this.horizontal);return s.addEventListener(VMe.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[t])),this.context.createBean(s),this.guiDestroyFunctions.push(()=>this.destroyBean(s)),i||this.childPillComponents.push(s),s}addIconAndTitleToGui(){const{title:t,icon:i}=this.params;if(!t||!i)return;const s=document.createElement("div");if(cS(s,!0),this.addElementClasses(s,"title-bar"),this.addElementClasses(i,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),s.appendChild(i),!this.horizontal){const r=document.createElement("span");this.addElementClasses(r,"title"),r.innerHTML=t,s.appendChild(r)}this.appendChild(s)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:t}=this.params;if(!t||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const i=document.createElement("span");i.innerHTML=t,this.addElementClasses(i,"empty-message"),this.ePillDropList.appendChild(i)}addArrow(t){if(this.horizontal){const i=this.gos.get("enableRtl"),s=Yr(i?"smallLeft":"smallRight",this.gos);this.addElementClasses(s,"cell-separator"),t.appendChild(s)}}};xS.STATE_NOT_DRAGGING="notDragging";xS.STATE_NEW_ITEMS_IN="newItemsIn";xS.STATE_REARRANGE_ITEMS="rearrangeItems";B([ce("focusService")],xS.prototype,"focusService",2);B([ce("dragAndDropService")],xS.prototype,"dragAndDropService",2);var BMe=["touchstart","touchend","touchmove","touchcancel"],Lq=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new dc(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,s){const r=Dl(BMe,t);e.addEventListener(t,i,{capture:!!s,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},kf=class extends Lt{getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===Xe.UP,s=e===Xe.DOWN,r=e===Xe.LEFT;let n,o;if(i||s)o=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),n=t.column;else{const a=this.columnModel.getAllDisplayedColumns(),l=this.gos.get("enableRtl");o=t.rowIndex,n=r!==l?a[0]:Os(a)}return{rowIndex:o,rowPinned:null,column:n}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case Xe.UP:i=this.getCellAbove(i);break;case Xe.DOWN:i=this.getCellBelow(i);break;case Xe.RIGHT:this.gos.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case Xe.LEFT:this.gos.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e);break}i?s=this.isCellGoodToFocusOn(i):s=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}return i?!t.isSuppressNavigable(i):!1}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const s=this.rowModel.getRow(e.rowIndex),r=this.getNextStickyPosition(s);return r||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gos.isGroupRowsSticky()||!e||!e.sticky)return;const i=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let s=[];i?s=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):s=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const r=t?-1:1,n=s.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=s[n+r];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;if(i?t===0:t===this.paginationProxy.getPageFirstRow())return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const r=this.rowModel.getRow(e.rowIndex),n=this.getNextStickyPosition(r,!0);return n||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,s=e.rowPinned,r=this.columnModel.getDisplayedColAfter(e.column);if(!r){r=t[0];const n=this.getRowBelow(e);if(Fi(n)||!n.rowPinned&&!this.paginationProxy.isRowInPage(n))return null;i=n?n.rowIndex:null,s=n?n.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,s=e.rowPinned,r=this.columnModel.getDisplayedColBefore(e.column);if(!r){r=Os(t);const n=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Fi(n)||!n.rowPinned&&!this.paginationProxy.isRowInPage(n))return null;i=n?n.rowIndex:null,s=n?n.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}};B([ce("columnModel")],kf.prototype,"columnModel",2);B([ce("rowModel")],kf.prototype,"rowModel",2);B([ce("rowRenderer")],kf.prototype,"rowRenderer",2);B([ce("pinnedRowModel")],kf.prototype,"pinnedRowModel",2);B([ce("paginationProxy")],kf.prototype,"paginationProxy",2);kf=B([ri("cellNavigationService")],kf);var Pg=class extends Lt{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}getAlignedGridApis(){var e;let t=(e=this.gos.get("alignedGrids"))!=null?e:[];const i=typeof t=="function";typeof t=="function"&&(t=t());const s=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return t.map(n=>{var o;if(!n){Pu("alignedGrids contains an undefined option."),i||Pu(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Pu(s());return}if(n instanceof gs)return n;const a=n;return"current"in a?(o=a.current)==null?void 0:o.api:(a.api||Pu(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${s()}`),a.api)}).filter(n=>!!n&&!n.isDestroyed())}init(){this.addManagedListener(this.eventService,X.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,X.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{if(t.isDestroyed())return;const i=t.__getAlignedGridService();e(i)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i)}):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case X.EVENT_COLUMN_MOVED:case X.EVENT_COLUMN_VISIBLE:case X.EVENT_COLUMN_PINNED:case X.EVENT_COLUMN_RESIZED:const t=e;this.processColumnEvent(t);break;case X.EVENT_COLUMN_GROUP_OPENED:const i=e;this.processGroupOpenedEvent(i);break;case X.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){e.columnGroups.forEach(t=>{let i=null;if(t){const s=t.getGroupId();i=this.columnModel.getProvidedColumnGroup(s)}t&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(i,t.isExpanded(),"alignedGridChanged"))})}processColumnEvent(e){var t;const i=e.column;let s=null;if(i&&(s=this.columnModel.getPrimaryColumn(i.getColId())),i&&!s)return;const r=this.getMasterColumns(e);switch(e.type){case X.EVENT_COLUMN_MOVED:{const c=e,h=e.api.getColumnState().map(f=>({colId:f.colId}));this.columnModel.applyColumnState({state:h,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${c.toIndex}`)}break;case X.EVENT_COLUMN_VISIBLE:{const c=e,h=e.api.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));this.columnModel.applyColumnState({state:h},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${c.visible}`)}break;case X.EVENT_COLUMN_PINNED:{const c=e,h=e.api.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));this.columnModel.applyColumnState({state:h},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${c.pinned}`)}break;case X.EVENT_COLUMN_RESIZED:const a=e,l={};r.forEach(c=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${c.getActualWidth()}`),l[c.getId()]={key:c.getColId(),newWidth:c.getActualWidth()}}),(t=a.flexColumns)==null||t.forEach(c=>{l[c.getId()]&&delete l[c.getId()]}),this.columnModel.setColumnWidths(Object.values(l),!1,a.finished,"alignedGridChanged");break}const o=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(a=>{a.setGridOption("alwaysShowVerticalScroll",o)})}};B([ce("columnModel")],Pg.prototype,"columnModel",2);B([ce("ctrlsService")],Pg.prototype,"ctrlsService",2);B([Gc(0,oc("loggerFactory"))],Pg.prototype,"setBeans",1);B([It],Pg.prototype,"init",1);Pg=B([ri("alignedGridsService")],Pg);var Fg=class extends Lt{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,X.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(e){var t;const{newValue:i,clearSelection:s,suppressFinishActions:r,rangeSelect:n,nodes:o,event:a,source:l="api"}=e;if(o.length===0)return 0;if(o.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const c=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,u=o.map(f=>f.footer?f.sibling:f);if(n){if(o.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let f=null;if(l==="checkboxSelected"&&i===!1&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),f==null&&(f=this.getLastSelectedNode()),f){const p=u[0];if(p!==f&&this.isMultiselect())return this.selectRange(p,f,i,l)}}this.lastRowNode=i?null:u[0];let h=0;for(let f=0;f<u.length;f++){const p=u[f];c&&p.group||p.selectThisNode(i,a,l)&&h++,this.groupSelectsChildren&&((t=p.childrenAfterGroup)!=null&&t.length)&&(h+=this.selectChildren(p,i,c,l))}if(!r&&(i&&(s||!this.isMultiselect())&&(h+=this.clearOtherNodes(u[0],l)),h>0)){this.updateGroupsFromChildrenSelections(l);const p={type:X.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(p)}return h}selectRange(e,t,i=!0,s){const r=this.rowModel.getNodesInRangeForSelection(e,t);let n=0;r.forEach(a=>{if(a.group&&this.groupSelectsChildren)return;a.selectThisNode(i,void 0,s)&&n++}),this.updateGroupsFromChildrenSelections(s);const o={type:X.EVENT_SELECTION_CHANGED,source:s};return this.eventService.dispatchEvent(o),n}selectChildren(e,t,i,s){const r=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return Fi(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:s,nodes:r})}getLastSelectedNode(){const e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;const t=this.selectedNodes.get(Os(e));return t||null}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,s)=>{i&&e(i)&&t.set(s,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const s=this.rowModel.getRootNode();t||(t=new qA(!0,s),t.setInactive());let r=!1;return t.forEachChangedNodeDepthFirst(n=>{if(n!==s){const o=n.calculateSelectedFromChildren();r=n.selectThisNode(o===null?!1:o,void 0,e)||r}}),r}clearOtherNodes(e,t){const i=new Map;let s=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){const n=this.selectedNodes.get(r.id);s+=n.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(r=>{const n=r.calculateSelectedFromChildren();r.selectThisNode(n===null?!1:n,void 0,t)}),s}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(Rt(t)&&e.id!==t.id&&t){const s=t.id;this.selectedNodes.get(s)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();if(this.resetNodes(),t){const i={type:X.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const i=[];function s(r){for(let n=0,o=r.length;n<o;n++){const a=r[n];if(a.isSelected())i.push(a);else{const l=a;l.group&&l.children&&s(l.children)}}}return s(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=a=>a.selectThisNode(!1,void 0,s),i=this.rowModel.getType()==="clientSide",{source:s,justFiltered:r,justCurrentPage:n}=e;if(n||r){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(r,n).forEach(t)}else this.selectedNodes.forEach(a=>{a&&t(a)}),this.reset(s);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(s);const o={type:X.EVENT_SELECTION_CHANGED,source:s};this.eventService.dispatchEvent(o)}getSelectedCounts(e,t){let i=0,s=0;const r=n=>{this.groupSelectsChildren&&n.group||(n.isSelected()?i++:n.selectable&&s++)};return this.getNodesToSelect(e,t).forEach(r),{selectedCount:i,notSelectedCount:s}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:s}=this.getSelectedCounts(e,t);return i===0&&s===0?!1:i>0&&s>0?null:i>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const i=[];if(t)return this.paginationProxy.forEachNodeOnPage(r=>{if(!r.group){i.push(r);return}if(!r.expanded){const n=o=>{var a;i.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(n)};n(r);return}this.groupSelectsChildren||i.push(r)}),i;const s=this.rowModel;return e?(s.forEachNodeAfterFilter(r=>{i.push(r)}),i):(s.forEachNode(r=>{i.push(r)}),i)}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:i,justCurrentPage:s}=e,r=o=>o.selectThisNode(!0,void 0,t);this.getNodesToSelect(i,s).forEach(r),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);const n={type:X.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(n)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;const i=new Set(e),s=[];this.rowModel.forEachNode(r=>{i.has(r.id)&&s.push(r)}),this.setNodesSelected({newValue:!0,nodes:s,source:t})}};B([ce("rowModel")],Fg.prototype,"rowModel",2);B([ce("paginationProxy")],Fg.prototype,"paginationProxy",2);B([It],Fg.prototype,"init",1);Fg=B([ri("selectionService")],Fg);var lw=class{constructor(e){this.viaApi=(t,...i)=>(Si(`Since v31, 'columnApi.${t}' is deprecated and moved to 'api.${t}'.`),this.api[t](...i)),this.api=e}sizeColumnsToFit(e){this.viaApi("sizeColumnsToFit",e)}setColumnGroupOpened(e,t){this.viaApi("setColumnGroupOpened",e,t)}getColumnGroup(e,t){return this.viaApi("getColumnGroup",e,t)}getProvidedColumnGroup(e){return this.viaApi("getProvidedColumnGroup",e)}getDisplayNameForColumn(e,t){return this.viaApi("getDisplayNameForColumn",e,t)}getDisplayNameForColumnGroup(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)}getColumn(e){return this.viaApi("getColumn",e)}getColumns(){return this.viaApi("getColumns")}applyColumnState(e){return this.viaApi("applyColumnState",e)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(e){this.viaApi("setColumnGroupState",e)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(e){return this.viaApi("getDisplayedColAfter",e)}getDisplayedColBefore(e){return this.viaApi("getDisplayedColBefore",e)}setColumnVisible(e,t){this.viaApi("setColumnVisible",e,t)}setColumnsVisible(e,t){this.viaApi("setColumnsVisible",e,t)}setColumnPinned(e,t){this.viaApi("setColumnPinned",e,t)}setColumnsPinned(e,t){this.viaApi("setColumnsPinned",e,t)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(e,t){this.viaApi("moveColumn",e,t)}moveColumnByIndex(e,t){this.viaApi("moveColumnByIndex",e,t)}moveColumns(e,t){this.viaApi("moveColumns",e,t)}moveRowGroupColumn(e,t){this.viaApi("moveRowGroupColumn",e,t)}setColumnAggFunc(e,t){this.viaApi("setColumnAggFunc",e,t)}setColumnWidth(e,t,i=!0,s){this.viaApi("setColumnWidth",e,t,i,s)}setColumnWidths(e,t=!0,i){this.viaApi("setColumnWidths",e,t,i)}setPivotMode(e){this.viaApi("setPivotMode",e)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(e,t){return this.viaApi("getPivotResultColumn",e,t)}setValueColumns(e){this.viaApi("setValueColumns",e)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(e){this.viaApi("removeValueColumn",e)}removeValueColumns(e){this.viaApi("removeValueColumns",e)}addValueColumn(e){this.viaApi("addValueColumn",e)}addValueColumns(e){this.viaApi("addValueColumns",e)}setRowGroupColumns(e){this.viaApi("setRowGroupColumns",e)}removeRowGroupColumn(e){this.viaApi("removeRowGroupColumn",e)}removeRowGroupColumns(e){this.viaApi("removeRowGroupColumns",e)}addRowGroupColumn(e){this.viaApi("addRowGroupColumn",e)}addRowGroupColumns(e){this.viaApi("addRowGroupColumns",e)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(e){this.viaApi("setPivotColumns",e)}removePivotColumn(e){this.viaApi("removePivotColumn",e)}removePivotColumns(e){this.viaApi("removePivotColumns",e)}addPivotColumn(e){this.viaApi("addPivotColumn",e)}addPivotColumns(e){this.viaApi("addPivotColumns",e)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(e,t){return this.viaApi("autoSizeColumn",e,t)}autoSizeColumns(e,t){this.viaApi("autoSizeColumns",e,t)}autoSizeAllColumns(e){this.viaApi("autoSizeAllColumns",e)}setPivotResultColumns(e){this.viaApi("setPivotResultColumns",e)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};B([ce("gridApi")],lw.prototype,"api",2);lw=B([ri("columnApi")],lw);var Df=class extends Lt{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=i=>this.callColumnCellValueChangedHandler(i),t=this.gos.useAsyncEvents();this.eventService.addEventListener(X.EVENT_CELL_VALUE_CHANGED,e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener(X.EVENT_CELL_VALUE_CHANGED,e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValue(e,t,i=!1,s=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),n=r.field,o=e.getColId(),a=t.data;let l;const c=t.groupData&&t.groupData[o]!==void 0,u=!s&&t.aggData&&t.aggData[o]!==void 0,h=this.isSsrm&&s&&!!e.getColDef().aggFunc,f=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(i&&r.filterValueGetter?l=this.executeFilterValueGetter(r.filterValueGetter,a,e,t):this.isTreeData&&u?l=t.aggData[o]:this.isTreeData&&r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):this.isTreeData&&n&&a?l=Vv(a,n,e.isFieldContainsDots()):c?l=t.groupData[o]:u?l=t.aggData[o]:r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):f?l=Vv(a,t.field,e.isFieldContainsDots()):n&&a&&!h&&(l=Vv(a,n,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const p=l.substring(1);l=this.executeValueGetter(p,a,e,t)}if(l==null){const p=this.getOpenedGroup(t,e);if(p!=null)return p}return l}parseValue(e,t,i,s){const r=e.getColDef(),n=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:s,newValue:i,colDef:r,column:e}),o=r.valueParser;return Rt(o)?typeof o=="function"?o(n):this.expressionService.evaluate(o,n):i}formatValue(e,t,i,s,r=!0){let n=null,o;const a=e.getColDef();if(s?o=s:r&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?n=o(l):n=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return n==null&&Array.isArray(i)&&(n=i.join(", ")),n}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const s=t.getColDef().showRowGroup;let r=e.parent;for(;r!=null;){if(r.rowGroupColumn&&(s===!0||s===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,s){const r=this.columnModel.getPrimaryColumn(t);if(!e||!r)return!1;Fi(e.data)&&(e.data={});const{field:n,valueSetter:o}=r.getColDef();if(Fi(n)&&Fi(o))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(r,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:i,colDef:r.getColDef(),column:r});a.newValue=i;let l;if(Rt(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(e.data,n,i,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(r,e);const c={type:X.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,api:a.api,columnApi:a.columnApi,colDef:a.colDef,context:a.context,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:s};return this.eventService.dispatchEvent(c),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})}setValueUsingField(e,t,i,s){if(!t)return!1;let r=!1;if(!s)r=e[t]===i,r||(e[t]=i);else{const n=t.split(".");let o=e;for(;n.length>0&&o;){const a=n.shift();n.length===0?(r=o[a]===i,r||(o[a]=i)):o=o[a]}}return!r}executeFilterValueGetter(e,t,i,s){const r=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});return typeof e=="function"?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,i,s){const r=i.getColId(),n=this.valueCache.getValue(s,r);if(n!==void 0)return n;const o=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(s,r,a),a}getValueCallback(e,t){const i=this.columnModel.getPrimaryColumn(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),s=e.getColDef().keyCreator;let r=i;if(s){const n=this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});r=s(n)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&Si("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}};B([ce("expressionService")],Df.prototype,"expressionService",2);B([ce("columnModel")],Df.prototype,"columnModel",2);B([ce("valueCache")],Df.prototype,"valueCache",2);B([ce("dataTypeService")],Df.prototype,"dataTypeService",2);B([It],Df.prototype,"init",1);Df=B([ri("valueService")],Df);var __=class extends Lt{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};B([Gc(0,oc("loggerFactory"))],__.prototype,"setBeans",1);__=B([ri("expressionService")],__);var T_=class extends Lt{setBeans(e){this.logging=e.get("debug")}create(e){return new TN(e,this.isLogging.bind(this))}isLogging(){return this.logging}};B([Gc(0,oc("gridOptionsService"))],T_.prototype,"setBeans",1);T_=B([ri("loggerFactory")],T_);var TN=class{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}},wm=class extends Lt{setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:r=>r===1||r===0,getIconName:()=>Ni.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new $A(this.view)),this.addRtlSupport();const s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),this.ctrlsService.register("gridCtrl",this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return((e=t==null?void 0:t.getAttribute("row-id"))==null?void 0:e.startsWith("detail"))||!1}showDropZones(){return Zs.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return Zs.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return Zs.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return Zs.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){const e={type:X.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.view.getFocusableContainers(),i=this.gos.getActiveDomElement(),r=t.findIndex(n=>n.contains(i))+(e?-1:1);return r<=0||r>=t.length?!1:this.focusService.focusInto(t[r])}focusInnerElement(e){const t=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(Os(t),!0);const s=Os(i);if(this.focusService.focusGridView(s,!0))return!0}if(this.gos.get("headerHeight")===0||this.gos.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(let s=1;s<t.length;s++)if(this.focusService.focusInto(t[s]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}};B([ce("focusService")],wm.prototype,"focusService",2);B([ce("resizeObserverService")],wm.prototype,"resizeObserverService",2);B([ce("columnModel")],wm.prototype,"columnModel",2);B([ce("ctrlsService")],wm.prototype,"ctrlsService",2);B([ce("mouseEventService")],wm.prototype,"mouseEventService",2);B([ce("dragAndDropService")],wm.prototype,"dragAndDropService",2);var cy=class extends bS{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:i=>this.addCssClass(i),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:i=>{this.getGui().style.userSelect=i??"",this.getGui().style.webkitUserSelect=i??""},setCursor:i=>{this.getGui().style.cursor=i??""}};this.ctrl=this.createManagedBean(new wm);const t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>this.ctrl.focusInnerElement(i),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.eRootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",t=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",s=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${t}
                </div>
                ${i}
                <ag-pagination></ag-pagination>
                ${s}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(t=>al(t))}};B([ce("loggerFactory")],cy.prototype,"loggerFactory",2);B([Gt("gridBody")],cy.prototype,"gridBodyComp",2);B([Gt("sideBar")],cy.prototype,"sideBarComp",2);B([Gt("rootWrapperBody")],cy.prototype,"eRootWrapperBody",2);B([It],cy.prototype,"postConstruct",1);var Mg=class extends Lt{progressSort(e,t,i){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}setSortForColumn(e,t,i,s){t!=="asc"&&t!=="desc"&&(t=null);const r=this.gos.isColumnsSortingCoupledToGroup();let n=[e];if(r&&e.getColDef().showRowGroup){const l=this.columnModel.getSourceColumnsForGroupColumn(e),c=l==null?void 0:l.filter(u=>u.isSortable());c&&(n=[e,...c])}n.forEach(l=>l.setSort(t,s));const o=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(n,s);a.push(...l)}this.updateSortIndex(e),a.push(...n),this.dispatchSortChangedEvents(s,a)}updateSortIndex(e){const t=this.gos.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),s=t&&i||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(a=>a.setSortIndex(null));const n=r.filter(a=>t&&a.getColDef().showRowGroup?!1:a!==s);(s.getSort()?[...n,s]:n).forEach((a,l)=>{a.setSortIndex(l)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:X.EVENT_SORT_CHANGED,source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(s=>{e.includes(s)||(s.getSort()&&i.push(s),s.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=Mg.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort()),s=i<0,r=i==t.length-1;let n;return s||r?n=t[0]:n=t[i+1],Mg.DEFAULT_SORTING_ORDER.indexOf(n)<0?(console.warn("AG Grid: invalid sort type "+n),null):n}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(n=>!!n.getSort());if(this.columnModel.isPivotMode()){const n=this.gos.isColumnsSortingCoupledToGroup();e=e.filter(o=>{const a=!!o.getAggFunc(),l=!o.isPrimary(),c=n?this.columnModel.getGroupDisplayColumnForGroup(o.getId()):o.getColDef().showRowGroup;return a||l||c})}const t=this.columnModel.getRowGroupColumns().filter(n=>!!n.getSort()),i={};e.forEach((n,o)=>i[n.getId()]=o),e.sort((n,o)=>{const a=n.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const c=i[n.getId()],u=i[o.getId()];return c>u?1:-1}else return l==null?-1:1});const s=this.gos.isColumnsSortingCoupledToGroup()&&!!t.length;s&&(e=[...new Set(e.map(n=>{var o;return(o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()))!=null?o:n}))]);const r=new Map;return e.forEach((n,o)=>r.set(n,o)),s&&t.forEach(n=>{const o=this.columnModel.getGroupDisplayColumnForGroup(n.getId());r.set(n,r.get(o))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,s])=>t-s).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gos.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const s=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=s[0].getSort();return s.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};Mg.DEFAULT_SORTING_ORDER=["asc","desc",null];B([ce("columnModel")],Mg.prototype,"columnModel",2);Mg=B([ri("sortController")],Mg);var pr=class extends Lt{static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",pr.toggleKeyboardMode),e.addEventListener("mousedown",pr.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",pr.toggleKeyboardMode),e.addEventListener("mousedown",pr.toggleKeyboardMode))}static toggleKeyboardMode(e){const t=pr.keyboardModeActive,i=e.type==="keydown";i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(pr.keyboardModeActive=i)}static unregisterGridCompController(e){pr.removeKeyboardModeEvents(e)}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl})}registerKeyboardFocusEvents(){const e=this.gos.getDocument();pr.addKeyboardModeEvents(e),pr.instanceCount++,this.addDestroyFunc(()=>{pr.instanceCount--,pr.unregisterGridCompController(e)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return pr.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),ag.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),KA.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(this.gos.getDomData(i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:i}=this.focusedCellPosition,s={rowIndex:e,rowPinned:t,column:i,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return r&&(s.isFullWidthCell=r.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=gi({type:X.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:s,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:n=!1}=e,o=this.columnModel.getGridColumn(t);if(!o){this.focusedCellPosition=null;return}this.focusedCellPosition=o?{rowIndex:i,rowPinned:Bu(s),column:o}:null;const a=Vr(gi({type:X.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:r,preventScrollOnBrowserFocus:n,floating:null});this.eventService.dispatchEvent(a)}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const t=e.getColumnGroupChild(),i=e.getRowIndex(),s=e.getPinned(),{column:r,headerRowIndex:n}=this.focusedHeaderPosition;return t===r&&i===n&&s==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){if(this.gos.get("suppressHeaderFocus"))return!1;const{direction:t,fromTab:i,allowUserOverride:s,event:r,fromCell:n,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(n&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(s){const l=this.getFocusedHeader(),c=this.headerNavigationService.getHeaderRowCount();if(i){const u=this.gos.getCallback("tabToNextHeader");u&&(a=this.getHeaderPositionFromUserFunc({userFunc:u,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}))}else{const u=this.gos.getCallback("navigateToNextHeader");if(u&&r){const h={key:r.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:r};a=u(h)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:n,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(this.gos.get("suppressHeaderFocus"))return!1;const{userFunc:t,headerPosition:i,direction:s,event:r}=e,n=this.getFocusedHeader(),o=this.headerNavigationService.getHeaderRowCount(),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:s,currentPosition:n,headerPosition:i,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:s,event:r})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:i,currentPosition:s,headerPosition:r,headerRowCount:n}=e,a=t({backwards:i==="Before",previousHeaderPosition:s,nextHeaderPosition:r,headerRowCount:n});return a===!0||a===null?(a===null&&Si("Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),s):a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:i,fromCell:s,rowWithoutSpanValue:r,event:n}=e;if(t.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(t.column);this.headerNavigationService.scrollToColumn(t.column,i);const a=this.ctrlsService.getHeaderRowContainerCtrl(t.column.getPinned()).focusHeader(t.headerRowIndex,t.column,n);return a&&(r!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(r??-1),a}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];if(!e)return!1;e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0));const t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,i=Os(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===Bu(t)}findFocusableElements(e,t,i=!1){const s=aX;let r=jI;t&&(r+=", "+t),i&&(r+=', [tabindex="-1"]');const n=Array.prototype.slice.apply(e.querySelectorAll(s)).filter(l=>al(l)),o=Array.prototype.slice.apply(e.querySelectorAll(r));return o.length?((l,c)=>l.filter(u=>c.indexOf(u)===-1))(n,o):n}focusInto(e,t=!1,i=!1){const s=this.findFocusableElements(e,null,i),r=t?Os(s):s[0];return r?(r.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const i=this.findFocusableElements(e),s=i.indexOf(t);if(s===-1)return null;let r=-1;for(let n=s-1;n>=0;n--)if(i[n].classList.contains("ag-tab-guard-top")){r=n;break}return r<=0?null:i[r-1]}findNextFocusableElement(e=this.eGridDiv,t,i){const s=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),r=this.gos.getActiveDomElement();let n;t?n=s.findIndex(a=>a.contains(r)):n=s.indexOf(r);const o=n+(i?-1:1);return o<0||o>=s.length?null:s[o]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const i=e.querySelectorAll(`.${Uf.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let s=0;s<i.length;s++)if(i[s].contains(t))return!0;return!1}findTabbableParent(e,t=5){let i=0;for(;e&&b_(e)===null&&++i<=t;)e=e.parentElement;return b_(e)===null?null:e}focusGridView(e,t){var i;if(this.gos.get("suppressCellFocus"))return t?this.gos.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const s=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!s)return!1;const{rowIndex:r,rowPinned:n}=s,o=this.getFocusedHeader();return!e&&o&&(e=o.column),r==null||!e?!1:(this.navigationService.ensureCellVisible({rowIndex:r,column:e,rowPinned:n}),this.setFocusedCell({rowIndex:r,column:e,rowPinned:Bu(n),forceBrowserFocus:!0}),(i=this.rangeService)==null||i.setRangeToCell({rowIndex:r,rowPinned:n,column:e}),!0)}focusNextGridCoreContainer(e,t=!1){return!t&&this.gridCtrl.focusNextInnerContainer(e)?!0:((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){var t,i;return this.advancedFilterFocusColumn=e==null?void 0:e.column,(i=(t=this.advancedFilterService)==null?void 0:t.getCtrl().focusHeaderComp())!=null?i:!1}focusNextFromAdvancedFilter(e,t){var i,s;const r=(s=t?void 0:this.advancedFilterFocusColumn)!=null?s:(i=this.columnModel.getAllDisplayedColumns())==null?void 0:i[0];return e?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(r)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};pr.keyboardModeActive=!1;pr.instanceCount=0;B([ce("eGridDiv")],pr.prototype,"eGridDiv",2);B([ce("columnModel")],pr.prototype,"columnModel",2);B([ce("headerNavigationService")],pr.prototype,"headerNavigationService",2);B([ce("headerPositionUtils")],pr.prototype,"headerPositionUtils",2);B([ce("rowRenderer")],pr.prototype,"rowRenderer",2);B([ce("rowPositionUtils")],pr.prototype,"rowPositionUtils",2);B([ce("cellPositionUtils")],pr.prototype,"cellPositionUtils",2);B([ce("navigationService")],pr.prototype,"navigationService",2);B([ce("ctrlsService")],pr.prototype,"ctrlsService",2);B([ce("filterManager")],pr.prototype,"filterManager",2);B([ir("rangeService")],pr.prototype,"rangeService",2);B([ir("advancedFilterService")],pr.prototype,"advancedFilterService",2);B([It],pr.prototype,"init",1);pr=B([ri("focusService")],pr);var kM=class extends Lt{setMouseOver(e){this.selectedColumns=e;const t={type:X.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}clearMouseOver(){this.selectedColumns=null;const e={type:X.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};kM=B([ri("columnHoverService")],kM);var cw=class extends Lt{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e();return}const t=i=>{for(;i.length;){const s=i.pop();s&&s()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>t(this.executeNextFuncs),0),window.setTimeout(()=>{e(),t(this.executeLaterFuncs)},200)})}};B([ce("ctrlsService")],cw.prototype,"ctrlsService",2);B([It],cw.prototype,"postConstruct",1);cw=B([ri("columnAnimationService")],cw);var x0=class extends Lt{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center,this.addManagedListener(this.eventService,X.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,X.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=this.gos.getRowHeightAsNumber(),s=Math.floor(e/i);this.paginationProxy.setPageSize(s,"autoCalculated")};this.isBodyRendered?Aa(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};B([ce("ctrlsService")],x0.prototype,"ctrlsService",2);B([ce("paginationProxy")],x0.prototype,"paginationProxy",2);B([It],x0.prototype,"postConstruct",1);x0=B([ri("paginationAutoPageSizeService")],x0);var A_=class extends Lt{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}};B([It],A_.prototype,"init",1);A_=B([ri("valueCache")],A_);var GMe="paste",E0=class extends Lt{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,X.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){e.source!==GMe&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const s=this.gos.get("aggregateOnlyChangedColumns"),r=new qA(s,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(n=>{i.push(n)})}this.rowRenderer.refreshCells({rowNodes:i})}};B([ce("rowModel")],E0.prototype,"rowModel",2);B([ce("rowRenderer")],E0.prototype,"rowRenderer",2);B([It],E0.prototype,"init",1);E0=B([ri("changeDetectionService")],E0);var k_=class extends Lt{adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(s){return!1}getGui(){return this.eGui}init(s){const r=e(s),n=typeof r;if(n==="string"||n==="number"||n==="boolean"){this.eGui=Ja("<span>"+r+"</span>");return}if(r==null){this.eGui=Ja("<span></span>");return}this.eGui=r}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}};B([ce("componentMetadataProvider")],k_.prototype,"componentMetadataProvider",2);k_=B([ri("agComponentUtils")],k_);var uw=class extends Lt{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}};B([ce("agComponentUtils")],uw.prototype,"agComponentUtils",2);B([It],uw.prototype,"postConstruct",1);uw=B([ri("componentMetadataProvider")],uw);var HMe=25,Q$=10,$R=8,$Me=4,WR=4,UR=6,WMe=16,J$=14,zR=8,UMe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:$Me*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:$R*7,headerCellMinWidth:48,listItemHeight:$R*4,rowHeight:$R*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:WR*8,headerCellMinWidth:24,listItemHeight:WR*6,rowHeight:WR*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:UR*8,headerCellMinWidth:36,listItemHeight:UR*4,rowHeight:UR*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:J$+zR*4.25,headerCellMinWidth:36,listItemHeight:WMe+zR,rowHeight:J$+zR*3.5,chartMenuPanelWidth:260}},Z$={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},dw=class extends Lt{constructor(){super(...arguments),this.calculatedSizes={},this.calculatedTheme=null}postConstruct(){var e;const t=(e=this.getTheme().el)!=null?e:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.calculatedTheme=null,this.calculatedTheme=this.getTheme(),this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const e={type:X.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){const{themeFamily:t,el:i}=this.getTheme();if(!t||t.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={});const s=this.calculatedSizes[t][e];return s??(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,i),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,i){const s="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),r=UMe[s][e],n=this.gos.getDocument();if(i||(i=this.eGridDiv),!Z$[e])return r;const o=Z$[e],a=n.createElement("div"),l=Array.from(i.classList);a.classList.add(t,...l),a.style.position="absolute";const c=o.reduce((h,f)=>{const p=n.createElement("div");return p.style.position="static",p.classList.add(f),h.appendChild(p),p},a);let u=0;if(n.body){n.body.appendChild(a);const h=e.toLowerCase().indexOf("height")!==-1?"height":"width";u=parseInt(window.getComputedStyle(c)[h],10),n.body.removeChild(a)}return u||r}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){if(this.calculatedTheme)return this.calculatedTheme;const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,i=null,s=[];for(;t;)if(i=e.exec(t.className),!i)t=t.parentElement||void 0;else{const n=t.className.match(e);n&&(s=n);break}if(!i)return{allThemes:s};const r=i[0];return this.calculatedTheme={theme:r,el:t,themeFamily:r.replace(/-dark$/,""),allThemes:s},this.calculatedTheme}getFromTheme(e,t){var i;return(i=this.getSassVariable(t))!=null?i:e}getDefaultRowHeight(){return this.getFromTheme(HMe,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):e!=""?parseFloat(e):-1}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return Rt(e)?Math.max(e,Q$):Q$}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};B([ce("eGridDiv")],dw.prototype,"eGridDiv",2);B([It],dw.prototype,"postConstruct",1);dw=B([ri("environment")],dw);var _0=class extends Lt{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,X.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=JY(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:X.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:X.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}};B([ce("ctrlsService")],_0.prototype,"ctrlsService",2);B([Gc(0,oc("loggerFactory"))],_0.prototype,"agWire",1);B([It],_0.prototype,"postConstruct",1);_0=B([ri("rowContainerHeightService")],_0);var T0=class extends Lt{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const t=!!this.gos.get("rowSelection"),i=this.gos.get("isRowSelectable");if(!t||!i)return;const s=this.gos.get("groupSelectsChildren"),r=this.rowModel.getType()==="clientSide"&&s,n=[],o=a=>{if(e&&!a.group)return;if(r&&a.group){const c=a.childrenAfterGroup.some(u=>u.selectable===!0);a.setRowSelectable(c,!0);return}const l=i?i(a):!0;a.setRowSelectable(l,!0),!l&&a.isSelected()&&n.push(a)};if(r){const a=this.rowModel;new qA(!1,a.getRootNode()).forEachChangedNodeDepthFirst(o,!0,!0)}else this.rowModel.forEachNode(o);n.length&&this.selectionService.setNodesSelected({nodes:n,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof Fg&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};B([ce("rowModel")],T0.prototype,"rowModel",2);B([ce("selectionService")],T0.prototype,"selectionService",2);B([It],T0.prototype,"init",1);T0=B([ri("selectableService")],T0);var dl=class extends Mi{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:t,btPrevious:i,btNext:s,btLast:r,pageSizeComp:n}=this;this.activateTabIndex([t,i,s,r]),t.insertAdjacentElement("afterbegin",Yr(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",Yr(e?"next":"previous",this.gos)),s.insertAdjacentElement("afterbegin",Yr(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",Yr(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,X.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListener(t,"click",i),this.addManagedListener(t,"keydown",s=>{(s.key===Xe.ENTER||s.key===Xe.SPACE)&&(s.preventDefault(),i())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),i=e?t+1:0;this.lbCurrent.textContent=this.formatNumber(i)}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc(),s=i("thousandSeparator",","),r=i("decimalSeparator",".");return zI(e,s,r)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),s=e("of","of"),r=e("firstPage","First Page"),n=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${l}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${s}</span>
                    <span id="ag-${l}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${s}</span>
                        <span id="ag-${l}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay(),r=e===i-1;this.nextButtonDisabled=r||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){OI(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let r,n;if(this.isZeroPagesToDisplay()?r=n=0:(r=t*e+1,n=r+t-1,i&&n>s&&(n=s)),this.lbFirstRowOnPage.textContent=this.formatNumber(r),this.rowNodeBlockLoader.isLoading()){const o=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=o("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(n)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&t===0}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(i===1){const s=this.paginationProxy.getRow(0);if(s&&s.group&&!(s.groupData||s.aggData)){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.textContent=this.formatNumber(t),this.lbRecordCount.textContent=this.formatNumber(i);else{const s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};B([ce("paginationProxy")],dl.prototype,"paginationProxy",2);B([ce("rowNodeBlockLoader")],dl.prototype,"rowNodeBlockLoader",2);B([Gt("btFirst")],dl.prototype,"btFirst",2);B([Gt("btPrevious")],dl.prototype,"btPrevious",2);B([Gt("btNext")],dl.prototype,"btNext",2);B([Gt("btLast")],dl.prototype,"btLast",2);B([Gt("lbRecordCount")],dl.prototype,"lbRecordCount",2);B([Gt("lbFirstRowOnPage")],dl.prototype,"lbFirstRowOnPage",2);B([Gt("lbLastRowOnPage")],dl.prototype,"lbLastRowOnPage",2);B([Gt("lbCurrent")],dl.prototype,"lbCurrent",2);B([Gt("lbTotal")],dl.prototype,"lbTotal",2);B([Gt("pageSizeComp")],dl.prototype,"pageSizeComp",2);B([It],dl.prototype,"postConstruct",1);var ES=class Oq extends Mi{constructor(){super(Oq.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(t,i){const s=this.eOverlayWrapper.classList;s.toggle("ag-layout-auto-height",i.autoHeight),s.toggle("ag-layout-normal",i.normal),s.toggle("ag-layout-print",i.print)}postConstruct(){this.createManagedBean(new $A(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(t){const i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,i.toggle(t,!0)}showOverlay(t,i,s){this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(r=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,this.updateListenerDestroyFunc=s,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var t;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(t=this.updateListenerDestroyFunc)==null||t.call(this),An(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};ES.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`;B([ce("overlayService")],ES.prototype,"overlayService",2);B([Gt("eOverlayWrapper")],ES.prototype,"eOverlayWrapper",2);B([It],ES.prototype,"postConstruct",1);var zMe=ES,A0=class extends Lt{getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):s&&(t="top",e=s-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Rt(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}};B([ce("rowModel")],A0.prototype,"rowModel",2);B([ce("pinnedRowModel")],A0.prototype,"pinnedRowModel",2);B([ce("paginationProxy")],A0.prototype,"paginationProxy",2);A0=B([ri("rowPositionUtils")],A0);var DM=class extends Lt{createId(e){const{rowIndex:t,rowPinned:i,column:s}=e;return this.createIdFromValues({rowIndex:t,column:s,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${i??"null"}.${s.getId()}`}equals(e,t){const i=e.column===t.column,s=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return i&&s&&r}};DM=B([ri("cellPositionUtils")],DM);var xC=class{constructor(e){this.cellValueChanges=e}},jR=class extends xC{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}},Iq=class Nq{constructor(t){this.actionStack=[],this.maxStackSize=t||Nq.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};Iq.DEFAULT_STACK_SIZE=10;var eW=Iq,Xu=class extends Lt{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),s=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:n,rowIndex:o,column:a,oldValue:l,value:c}=e,u={rowPinned:n,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");e<=0||(this.undoStack=new eW(e),this.redoStack=new eW(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,X.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,X.EVENT_MODEL_UPDATED,t=>{t.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,X.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,X.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,X.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,X.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const t={type:X.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);const i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),s={type:X.EVENT_UNDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(s)}redo(e){const t={type:X.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);const i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),s={type:X.EVENT_REDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(s)}undoRedo(e,t,i,s,r){if(!e)return!1;const n=e.pop();return!n||!n.cellValueChanges?!1:(this.processAction(n,o=>o[s],r),n instanceof jR?this.processRange(this.rangeService,n.ranges||[n[i]]):this.processCell(n.cellValueChanges),t.push(n),!0)}processAction(e,t,i){e.cellValueChanges.forEach(s=>{const{rowIndex:r,rowPinned:n,columnId:o}=s,a={rowIndex:r,rowPinned:n},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,t(s),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((s,r)=>{if(!s)return;const n=s.startRow,o=s.endRow;r===t.length-1&&(i={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:s.startColumn,columns:s.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:s}=t,r={rowIndex:i,rowPinned:s},n=this.rowPositionUtils.getRowNode(r),o={rowPinned:t.rowPinned,rowIndex:n.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:s,rowPinned:r}=e,n=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getGridColumn(s);if(!o)return;n.ensureIndexVisible(i),n.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:r};this.focusService.setFocusedCell(Vr(gi({},a),{forceBrowserFocus:!0})),t==null||t.setRangeToCell(a)}addRowEditingListeners(){this.addManagedListener(this.eventService,X.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,X.EVENT_ROW_EDITING_STOPPED,()=>{const e=new xC(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,X.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,X.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new xC(this.cellValueChanges);this.pushActionsToUndoStack(i)}})}addPasteListeners(){this.addManagedListener(this.eventService,X.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,X.EVENT_PASTE_END,()=>{const e=new xC(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,X.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,X.EVENT_FILL_END,e=>{const t=new jR(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,X.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,X.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;this.rangeService&&this.gos.get("enableRangeSelection")?e=new jR(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new xC(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};B([ce("focusService")],Xu.prototype,"focusService",2);B([ce("ctrlsService")],Xu.prototype,"ctrlsService",2);B([ce("cellPositionUtils")],Xu.prototype,"cellPositionUtils",2);B([ce("rowPositionUtils")],Xu.prototype,"rowPositionUtils",2);B([ce("columnModel")],Xu.prototype,"columnModel",2);B([ir("rangeService")],Xu.prototype,"rangeService",2);B([It],Xu.prototype,"init",1);Xu=B([ri("undoRedoService")],Xu);var hw=class extends Lt{findHeader(e,t){let i,s;if(e.column instanceof ho?i=this.columnModel.getDisplayedGroupAtDirection(e.column,t):(s=`getDisplayedCol${t}`,i=this.columnModel[s](e.column)),!i)return;let{headerRowIndex:r}=e;if(this.getHeaderRowType(r)!=="filter"){const a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-r]}const{column:n,headerRowIndex:o}=this.getHeaderIndexToFocus(i,r);return{column:n,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let i;if(e instanceof ho&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const s=e;i=s.getLeafColumns()[0];let r=i;for(;r!==s;)t++,r=r.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),s=i==="filter",r=i==="column";let n=s?e:e.getParent(),o=t-1,a=o;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;n&&n.isPadding();)n=n.getParent(),o--;a=o,o<0&&(n=e,o=t,a=void 0)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,i="After"){const s=this.getHeaderRowType(t);let r=e,n=t+1,o=n;if(s==="group"){const a=e.getDisplayedLeafColumns(),l=i==="After"?a[0]:Os(a),c=[];let u=l;for(;u.getParent()!==e;)u=u.getParent(),c.push(u);if(r=l,l.isSpanHeaderHeight())for(let h=c.length-1;h>=0;h--){const f=c[h];if(!f.isPadding()){r=f;break}n++}else r=Os(c),r||(r=l)}return{column:r,headerRowIndex:n,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.columnModel.getAllDisplayedColumns(),s=i[t==="start"?0:i.length-1];if(!s)return;const n=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getRowType(e);if(n=="group"){const o=this.columnModel.getColumnGroupAtLevel(s,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:n==null?-1:e,column:s}}};B([ce("columnModel")],hw.prototype,"columnModel",2);B([ce("ctrlsService")],hw.prototype,"ctrlsService",2);hw=B([ri("headerPositionUtils")],hw);var RM=class{buildColumnDefs(e,t,i){const s=[],r={};return e.forEach(n=>{const o=this.createDefFromColumn(n,t,i);let a=!0,l=o,c=n.getOriginalParent(),u=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}const f=r[c.getGroupId()];if(f){f.children.push(l),a=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[l],r[h.groupId]=h,l=h,c=c.getOriginalParent()),c!=null&&u===c){a=!1;break}u=c}a&&s.push(l)}),s}createDefFromGroup(e){const t=m_(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const s=m_(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=e.isVisible()?void 0:!0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,s}};RM=B([ri("columnDefFactory")],RM);var fw=class{getInitialRowClasses(e){const t=[];return Rt(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),hM(t,this.processClassesFromGridOptions(e.rowNode)),hM(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=n=>{typeof n=="string"?t.push(n):Array.isArray(n)&&n.forEach(o=>t.push(o))},s=this.gos.get("rowClass");if(s){if(typeof s=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(s)}const r=this.gos.getCallback("getRowClass");if(r){const n={data:e.data,node:e,rowIndex:e.rowIndex},o=r(n);i(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},i=>{}),t}processRowClassRules(e,t,i){const s=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),s,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};B([ce("stylingService")],fw.prototype,"stylingService",2);B([ce("gridOptionsService")],fw.prototype,"gos",2);fw=B([ri("rowCssClassCalculator")],fw);var k0=class extends Lt{init(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const i=(r,n)=>({currentPos:n,rowNode:r}),s=e.map(i);return s.sort(this.compareRowNodes.bind(this,t)),s.map(r=>r.rowNode)}compareRowNodes(e,t,i){const s=t.rowNode,r=i.rowNode;for(let n=0,o=e.length;n<o;n++){const a=e[n],l=a.sort==="desc",c=this.getValue(s,a.column),u=this.getValue(r,a.column);let h;const f=this.getComparator(a,s);if(f?h=f(c,u,s,r,l):h=is.defaultComparator(c,u,this.isAccentedSort),!isNaN(h)&&h!==0)return a.sort==="asc"?h:h*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,s=i.getColDef().comparator;if(s!=null)return s;if(!i.getColDef().showRowGroup)return;const r=!t.group&&i.getColDef().field;if(!r)return;const n=this.columnModel.getPrimaryColumn(r);if(n)return n.getColDef().comparator}getValue(e,t){var i,s;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){const a=(i=e.allLeafChildren)==null?void 0:i[0];return a?this.valueService.getValue(t,a,!1,!1):void 0}const o=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return o?(s=e.groupData)==null?void 0:s[o.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}};B([ce("valueService")],k0.prototype,"valueService",2);B([ce("columnModel")],k0.prototype,"columnModel",2);B([It],k0.prototype,"init",1);k0=B([ri("rowNodeSorter")],k0);var QC=class extends Lt{constructor(){super(...arguments),this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){const e=this.params;this.ready=e.gridCtrl!=null&&e.gridBodyCtrl!=null&&e.center!=null&&e.left!=null&&e.right!=null&&e.bottomCenter!=null&&e.bottomLeft!=null&&e.bottomRight!=null&&e.topCenter!=null&&e.topLeft!=null&&e.topRight!=null&&e.stickyTopCenter!=null&&e.stickyTopLeft!=null&&e.stickyTopRight!=null&&e.stickyBottomCenter!=null&&e.stickyBottomLeft!=null&&e.stickyBottomRight!=null&&e.centerHeader!=null&&e.leftHeader!=null&&e.rightHeader!=null&&e.fakeHScrollComp!=null&&e.fakeVScrollComp!=null&&e.gridHeaderCtrl!=null,this.ready&&(this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0)}whenReady(e){this.ready?e(this.params):this.readyCallbacks.push(e)}register(e,t){this.params[e]=t,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.params.leftHeader=e;break;case"right":this.params.rightHeader=e;break;default:this.params.centerHeader=e;break}this.checkReady()}get(e){return this.params[e]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.params.leftHeader,this.params.rightHeader,this.params.centerHeader]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.params.leftHeader;case"right":return this.params.rightHeader;default:return this.params.centerHeader}}};QC.NAME="ctrlsService";QC=B([ri(QC.NAME)],QC);var PM=class extends Lt{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(t!=null)return new t}};PM=B([ri("ctrlsFactory")],PM);var Sm=class extends Mi{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,X.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",$I()||lh())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=UI(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=["mouseenter","mousedown","touchstart"],t=["mouseleave","touchend"],i=this.getGui();e.forEach(s=>this.addManagedListener(i,s,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),t.forEach(s=>this.addManagedListener(i,s,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,X.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,X.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const t=this.getViewport();DI(()=>al(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};B([Gt("eViewport")],Sm.prototype,"eViewport",2);B([Gt("eContainer")],Sm.prototype,"eContainer",2);B([ce("scrollVisibleService")],Sm.prototype,"scrollVisibleService",2);B([ce("ctrlsService")],Sm.prototype,"ctrlsService",2);B([ce("animationFrameService")],Sm.prototype,"animationFrameService",2);var xm=class Vq extends Sm{constructor(){super(Vq.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,X.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Z0(i=>this.eContainer.style.width=`${i}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const t=this.scrollVisibleService.isVerticalScrollShowing();let i=this.columnModel.getDisplayedColumnsRightWidth();const s=!this.enableRtl&&t,r=this.gos.getScrollbarWidth();s&&(i+=r),uc(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=r);let n=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(n+=r),uc(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=r)}setScrollVisible(){const t=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,s=this.gos.get("suppressHorizontalScroll"),r=t&&this.gos.getScrollbarWidth()||0,o=s?0:r===0&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),ng(this.getGui(),o),ng(this.eViewport,o),ng(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})}getScrollPosition(){return ew(this.getViewport(),this.enableRtl)}setScrollPosition(t){al(this.getViewport())||this.attemptSettingScrollPosition(t),tw(this.getViewport(),t,this.enableRtl)}};xm.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;B([Gt("eLeftSpacer")],xm.prototype,"eLeftSpacer",2);B([Gt("eRightSpacer")],xm.prototype,"eRightSpacer",2);B([ce("columnModel")],xm.prototype,"columnModel",2);B([ce("pinnedRowModel")],xm.prototype,"pinnedRowModel",2);B([It],xm.prototype,"postConstruct",1);var jMe=xm,pw=class extends Lt{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gos.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:X.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:X.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};B([ce("columnModel")],pw.prototype,"columnModel",2);B([It],pw.prototype,"postConstruct",1);pw=B([ri("pinnedWidthService")],pw);var D0=class extends Lt{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(s=>this.eventService.dispatchEvent(s)),this.events=[]};t?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}};B([ce("animationFrameService")],D0.prototype,"animationFrameService",2);B([ce("rowModel")],D0.prototype,"rowModel",2);B([It],D0.prototype,"postConstruct",1);D0=B([ri("rowNodeEventThrottle")],D0);var KMe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},Gh=(e,t)=>{var i;return((i=t.rowModelType)!=null?i:"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},YMe={enableRowGroup:Gh,rowGroup:Gh,rowGroupIndex:Gh,enablePivot:Gh,enableValue:Gh,pivot:Gh,pivotIndex:Gh,aggFunc:Gh,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var t;const i=["columnsMenuTab","generalMenuTab"];return(t=e.menuTabs)!=null&&t.some(s=>i.includes(s))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Av},XMe={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0},qMe=Object.keys(XMe),Av={objectName:"colDef",allProperties:qMe,docsUrl:"column-properties/",deprecations:KMe,validations:YMe},QMe={enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."}},JMe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1},ZMe={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{var t;const i=(t=e.rowModelType)!=null?t:"clientSide";switch(i){case"clientSide":const s=`treeData requires 'getDataPath' in the ${i} row model.`;return e.getDataPath?null:s;case"serverSide":const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:r}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{var t;switch((t=e.rowModelType)!=null?t:"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>Av,defaultColDef:()=>Av,defaultColGroupDef:()=>Av,autoGroupColumnDef:()=>Av},eLe={objectName:"gridOptions",allProperties:[...Qb.ALL_PROPERTIES,...Oc.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:QMe,validations:ZMe},Us=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new tu,this.globalEventHandlerFactory=e=>(t,i)=>{if(this.destroyed)return;const s=XC.has(t);if(s&&!e||!s&&e)return;const r=Oc.getCallbackForEvent(t),n=this.gridOptions[r];typeof n=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{n(i)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new lw(this.api);const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(e){var t;return(t=this.gridOptions[e])!=null?t:JMe[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Rt(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>{const s=i;return s.api=this.api,s.columnApi=this.columnApi,s.context=this.context,e(s)})}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}static toNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}static toConstrainedNum(e,t){return i=>{const s=Us.toNumber(i);if(!(s==null||s<e||s>t))return s}}static getCoercedValue(e,t){const i=Us.PROPERTY_COERCIONS.get(e);return i?i(t):t}static getCoercedGridOptions(e){const t={};return Object.entries(e).forEach(([i,s])=>{const r=Us.getCoercedValue(i,s);t[i]=r}),t}updateGridOptions({options:e,force:t,source:i="api"}){const s={id:Us.changeSetId++,properties:[]},r=[];Object.entries(e).forEach(([n,o])=>{i==="api"&&_Pe[n]&&Si(`${n} is an initial property and cannot be updated.`);const a=Us.getCoercedValue(n,o),l=t||typeof a=="object"&&i==="api",c=this.gridOptions[n];if(l||c!==a){this.gridOptions[n]=a;const u={type:n,currentValue:a,previousValue:c,changeSet:s,source:i};r.push(u)}}),this.validationService.processGridOptions(this.gridOptions),s.properties=r.map(n=>n.type),r.forEach(n=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${n.type} from `,n.previousValue," to  ",n.currentValue),this.propertyEventService.dispatchEvent(n)})}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getScrollbarWidth(){if(this.scrollbarWidth==null){const t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:tX();t!=null&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:X.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&Fi(this.gridOptions.rowModelType)}isDomLayout(e){var t;return((t=this.gridOptions.domLayout)!=null?t:"normal")===e}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(e,t=!1,i){if(i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:i,estimated:!0};const r={node:e,data:e.data},n=this.getCallback("getRowHeight")(r);if(this.isNumeric(n))return n===0&&Si("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,n),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||Fi(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const i=e[this.getDomDataKey()];return i?i[t]:void 0}setDomData(e,t,i){const s=this.getDomDataKey();let r=e[s];Fi(r)&&(r={},e[s]=r),r[t]=i}getDocument(){let e=null;return this.gridOptions.getDocument&&Rt(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&Rt(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}getAsyncTransactionWaitMillis(){return Rt(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return!(e!=null&&e.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return()=>!0}getGrandTotalRow(){const e=this.gridOptions.grandTotalRow;if(e)return e;if(this.gridOptions.groupIncludeTotalFooter)return"bottom"}getGroupTotalRowCallback(){const e=this.get("groupTotalRow");if(typeof e=="function")return this.getCallback("groupTotalRow");if(e)return()=>e;const t=this.get("groupIncludeFooter");if(typeof t=="function"){const i=this.getCallback("groupIncludeFooter");return s=>i(s)?"bottom":void 0}return()=>t?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(e){const t=e;return t.api=this.api,t.columnApi=this.columnApi,t.context=this.context,t}};Us.PROPERTY_COERCIONS=new Map([...Qb.BOOLEAN_PROPERTIES.map(e=>[e,Us.toBoolean]),...Qb.NUMBER_PROPERTIES.map(e=>[e,Us.toNumber]),["groupAggFiltering",e=>typeof e=="function"?e:Us.toBoolean(e)],["pageSize",Us.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",Us.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",Us.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",Us.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",Us.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",Us.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",Us.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",Us.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",Us.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",Us.toConstrainedNum(0,Number.MAX_VALUE)]]);Us.changeSetId=0;B([ce("gridOptions")],Us.prototype,"gridOptions",2);B([ce("eventService")],Us.prototype,"eventService",2);B([ce("environment")],Us.prototype,"environment",2);B([ce("frameworkOverrides")],Us.prototype,"frameworkOverrides",2);B([ce("eGridDiv")],Us.prototype,"eGridDiv",2);B([ce("validationService")],Us.prototype,"validationService",2);B([ce("gridApi")],Us.prototype,"api",2);B([It],Us.prototype,"init",1);B([Ma],Us.prototype,"destroy",1);Us=B([ri("gridOptionsService")],Us);var FM=class extends Lt{getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(i,s,r)=>e({key:i,defaultValue:s,variableValues:r});const t=this.gos.get("localeText");return(i,s,r)=>{let n=t&&t[i];if(n&&r&&r.length){let o=0;for(;!(o>=r.length||n.indexOf("${variable}")===-1);)n=n.replace("${variable}",r[o++])}return n??s}}};FM=B([ri("localeService")],FM);var AN=class Bq extends Sm{constructor(){super(Bq.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new UA(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedListener(this.eventService,X.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const t=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,s=t&&this.gos.getScrollbarWidth()||0,r=s===0&&i?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),uc(this.getGui(),r),uc(this.eViewport,r),uc(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:t}=this,s=t.getGridBodyCtrl().getBodyViewportElement(),r=this.getScrollPosition(),n=s.scrollTop;r!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(t,i){!i&&!al(this.getViewport())&&this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t}};AN.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;B([It],AN.prototype,"postConstruct",1);var tLe=AN,tW={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},iW=["january","february","march","april","may","june","july","august","september","october","november","december"],Lg=class extends Lt{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Tv(e.source))})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([s,r])=>{this.dataTypeDefinitions[s]=Vr(gi({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})});const i=(e=this.gos.get("dataTypeDefinitions"))!=null?e:{};this.dataTypeMatchers={},Object.entries(i).forEach(([s,r])=>{const n=this.processDataTypeDefinition(r,i,[s],t);n&&(this.dataTypeDefinitions[s]=n,r.dataTypeMatcher&&(this.dataTypeMatchers[s]=r.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(s=>{const r=this.dataTypeMatchers[s];r&&delete this.dataTypeMatchers[s],this.dataTypeMatchers[s]=r??t[s].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i=gi(gi({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,s){let r;const n=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=s[n];const a=t[n];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,n))return;r=this.mergeDataTypeDefinitions(o,e)}else{if(i.includes(n)){Si('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[n];if(!this.validateDataTypeDefinition(e,o,n))return;const a=this.processDataTypeDefinition(o,t,[...i,n],s);if(!a)return;r=this.mergeDataTypeDefinitions(a,e)}return Vr(gi({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}validateDataTypeDefinition(e,t,i){return t?t.baseDataType!==e.baseDataType?(Si('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Si(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,s;if((i=t.node)!=null&&i.group){const r=t.column.getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&r!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(Vr(gi({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(Vr(gi({},t),{value:t.value.value}))}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if(typeof t.value!="string"||(s=e.dataTypeMatcher)!=null&&s.call(e,t.value))return e.valueFormatter(t);if(!this.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,i){let{cellDataType:s}=t;const{field:r}=t;if(s===void 0&&(s=e.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(e,t)?this.inferCellDataType(r,i):!1),!s){e.cellDataType=!1;return}const n=this.dataTypeDefinitions[s];if(!n){Si(`Missing data type definition - "${s}"`);return}return e.cellDataType=s,n.groupSafeValueFormatter&&(e.valueFormatter=n.groupSafeValueFormatter),n.valueParser&&(e.valueParser=n.valueParser),n.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,i),n.columnTypes}updateColDefAndGetColumnType(e,t,i){var s,r;const n=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,i),o=(r=(s=t.type)!=null?s:n)!=null?r:e.type;return e.type=o,o?this.convertColumnTypes(o):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=s=>{t.add(s.key)};e.addEventListener(gr.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(gr.EVENT_STATE_UPDATED,i))}canInferCellDataType(e,t){var i;if(this.rowModel.getType()!=="clientSide")return!1;const s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,s))return!1;const r=t.type===null?e.type:t.type;if(r){const n=(i=this.gos.get("columnTypes"))!=null?i:{};if(this.convertColumnTypes(r).some(a=>{const l=n[a.trim()];return l&&this.doColDefPropsPreventInference(l,s)}))return!1}return!this.doColDefPropsPreventInference(e,s)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>this.doesColDefPropPreventInference(e,t,i,s))}doesColDefPropPreventInference(e,t,i,s){if(!t[i])return!1;const r=e[i];return r===null?(t[i]=!1,!1):s===void 0?!!r:r===s}inferCellDataType(e,t){var i;if(!e)return;let s;const r=this.getInitialData();if(r){const o=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");s=Vv(r,e,o)}else this.initWaitForRowData(t);if(s==null)return;const[n]=(i=Object.entries(this.dataTypeMatchers).find(([o,a])=>a(s)))!=null?i:["object"];return n}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const i=this.addManagedListener(this.eventService,X.EVENT_ROW_DATA_UPDATE_STARTED,s=>{const{firstRowData:r}=s;if(!r)return;i==null||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations();const n={type:X.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(n)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(n=>n()),this.columnStateUpdateListenerDestroyFuncs=[];const s={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([n,o])=>{const a=this.columnModel.getGridColumn(n);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const u=this.getUpdatedColumnState(a,o);u.rowGroup&&u.rowGroupIndex==null&&(s[n]=u),u.pivot&&u.pivotIndex==null&&(r[n]=u),i.push(u)}}),t&&i.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,r)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnModel.getColumnStateFromColDef(e);return t.forEach(s=>{delete i[s],s==="rowGroup"?delete i.rowGroupIndex:s==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(s=>typeof s!="string")?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(e){var t;return e?(t=this.getDataTypeDefinition(e))!=null?t:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var i;if(t==null)return!0;const s=(i=this.getDataTypeDefinition(e))==null?void 0:i.dataTypeMatcher;return s?s(t):!0}validateColDef(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Si('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Si('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(e,t,i){const s=(a,l,c)=>{let u=a.getColDef().valueFormatter;return u===t.groupSafeValueFormatter&&(u=t.valueFormatter),this.valueService.formatValue(a,l,c,u)},r=Zs.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),n=this.localeService.getLocaleTextFunc(),o=a=>{const{filterParams:l}=e;e.filterParams=typeof l=="object"?gi(gi({},l),a):a};switch(t.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",r&&o({comparator:(a,l)=>{const c=a==null?0:parseInt(a),u=l==null?0:parseInt(l);return c===u?0:c>u?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===Xe.SPACE,o(r?{valueFormatter:a=>Rt(a.value)?n(String(a.value),a.value?"True":"False"):n("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(a,l)=>l,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(a,l)=>l===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=a=>s(a.column,a.node,a.value),r&&o({valueFormatter:a=>{const l=s(a.column,a.node,a.value);return Rt(l)?l:n("blanks","(Blanks)")},treeList:!0,treeListFormatter:(a,l)=>{if(l===1&&a!=null){const c=iW[Number(a)-1];return n(c,tW[c])}return a??n("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=l=>s(l.column,l.node,l.value);const a=t.dateParser;o(r?{valueFormatter:l=>{const c=s(l.column,l.node,l.value);return Rt(c)?c:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:l=>{const c=a(l??void 0);return c?[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())]:null},treeListFormatter:(l,c)=>{if(c===1&&l!=null){const u=iW[Number(l)-1];return n(u,tW[u])}return l??n("blanks","(Blanks)")}}:{comparator:(l,c)=>{const u=a(c);return c==null||u<l?-1:u>l?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(a,l)=>{const c=this.columnModel.getPrimaryColumn(i),u=c==null?void 0:c.getColDef();if(!c||!u)return 0;const h=a==null?"":s(c,null,a),f=l==null?"":s(c,null,l);return h===f?0:h>f?1:-1},e.keyCreator=a=>s(a.column,a.node,a.value),r?o({valueFormatter:a=>{const l=s(a.column,a.node,a.value);return Rt(l)?l:n("blanks","(Blanks)")}}):e.filterValueGetter=a=>s(a.column,a.node,this.valueService.getValue(a.column,a.node));break}}}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var s,r;return((r=(s=i.newValue)==null?void 0:s.trim)==null?void 0:r.call(s))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:Kb(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var s,r;return i.newValue==null?i.newValue:((r=(s=i.newValue)==null?void 0:s.trim)==null?void 0:r.call(s))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>Qa(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>{var s;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):(s=cc(i.value,!1))!=null?s:""},dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>{var s;return(s=Qa(i))!=null?s:void 0},dateFormatter:i=>{var s;return(s=cc(i??null,!1))!=null?s:void 0},valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>{var s;return(s=Kb(i.value))!=null?s:""}}}}};B([ce("rowModel")],Lg.prototype,"rowModel",2);B([ce("columnModel")],Lg.prototype,"columnModel",2);B([ce("valueService")],Lg.prototype,"valueService",2);B([It],Lg.prototype,"init",1);Lg=B([ri("dataTypeService")],Lg);var Og=class extends Lt{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=Zs.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new TN("AG Grid",()=>this.gos.get("debug")).log(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){const e={type:X.EVENT_GRID_READY};this.eventService.dispatchEvent(e)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,Tv(e.source))}}};B([ce("ctrlsService")],Og.prototype,"ctrlsService",2);B([ce("columnModel")],Og.prototype,"columnModel",2);B([ce("rowModel")],Og.prototype,"rowModel",2);B([It],Og.prototype,"postConstruct",1);Og=B([ri("syncService")],Og);var Ig=class extends Lt{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,X.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,(!this.gos.get("columnDefs")||this.gos.isRowModelType("clientSide")&&!this.gos.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gos.get("suppressLoadingOverlay"))return;const e={},t=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(t,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gos.get("suppressNoRowsOverlay"))return;const e={},t=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(t,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(e,t,i){const s=e.newAgStackInstance(),r=this.addManagedPropertyListener(i,({currentValue:n})=>{s.then(o=>{o.refresh&&o.refresh(this.gos.addGridCommonParams(gi({},n??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(s,t,r)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),t=this.gos.get("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};B([ce("userComponentFactory")],Ig.prototype,"userComponentFactory",2);B([ce("paginationProxy")],Ig.prototype,"paginationProxy",2);B([ce("columnModel")],Ig.prototype,"columnModel",2);B([It],Ig.prototype,"postConstruct",1);Ig=B([ri("overlayService")],Ig);var Ra=class extends Lt{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Aa(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Aa(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Aa(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var e;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(e=this.gos.get("initialState"))!=null?e:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const t=this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,({source:r})=>{r==="gridInitializing"&&(t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),i=this.addManagedListener(this.eventService,X.EVENT_ROW_COUNT_READY,()=>{i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),s=this.addManagedListener(this.eventService,X.EVENT_FIRST_DATA_RENDERED,()=>{s==null||s(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,X.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,X.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var e;const t=(e=this.gos.get("initialState"))!=null?e:{};this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,X.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,X.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,X.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,X.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,X.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,X.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var e;const{filter:t,rowGroupExpansion:i,rowSelection:s,pagination:r}=(e=this.gos.get("initialState"))!=null?e:{},n=this.gos.get("advancedFilterModel");(t||n)&&this.setFilterState(t,n),i&&this.setRowGroupExpansionState(i),s&&this.setRowSelectionState(s),r&&this.setPaginationState(r),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,X.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,X.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,X.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,X.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,X.EVENT_PAGINATION_CHANGED,o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var e;const{scroll:t,rangeSelection:i,focusedCell:s,columnOrder:r}=(e=this.gos.get("initialState"))!=null?e:{};s&&this.setFocusedCellState(s),i&&this.setRangeSelectionState(i),t&&this.setScrollState(t),this.setColumnPivotState(!!(r!=null&&r.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,X.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,X.EVENT_RANGE_SELECTION_CHANGED,n=>{n.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,X.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],s=[],r=[],n=[],o=[],a=[],l=[],c=[],u=this.columnModel.getColumnState();for(let h=0;h<u.length;h++){const{colId:f,sort:p,sortIndex:y,rowGroup:v,rowGroupIndex:C,aggFunc:S,pivot:_,pivotIndex:x,pinned:A,hide:R,width:O,flex:k}=u[h];c.push(f),p&&(t[y??0]={colId:f,sort:p}),v&&(i[C??0]=f),typeof S=="string"&&s.push({colId:f,aggFunc:S}),_&&(r[x??0]=f),A&&(A==="right"?o:n).push(f),R&&a.push(f),(k||O)&&l.push({colId:f,flex:k??void 0,width:O})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:n.length||o.length?{leftColIds:n,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:s,pivot:r,columnPinning:n,columnVisibility:o,columnSizing:a,columnOrder:l}=e,c={},u=y=>{let v=c[y];return v||(v={colId:y},c[y]=v,v)};t&&t.sortModel.forEach(({colId:y,sort:v},C)=>{const S=u(y);S.sort=v,S.sortIndex=C}),i&&i.groupColIds.forEach((y,v)=>{const C=u(y);C.rowGroup=!0,C.rowGroupIndex=v}),s&&s.aggregationModel.forEach(({colId:y,aggFunc:v})=>{u(y).aggFunc=v}),r&&(r.pivotColIds.forEach((y,v)=>{const C=u(y);C.pivot=!0,C.pivotIndex=v}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"})),n&&(n.leftColIds.forEach(y=>{u(y).pinned="left"}),n.rightColIds.forEach(y=>{u(y).pinned="right"})),o&&o.hiddenColIds.forEach(y=>{u(y).hide=!0}),a&&a.columnSizingModel.forEach(({colId:y,flex:v,width:C})=>{const S=u(y);S.flex=v??null,S.width=C});const h=l==null?void 0:l.orderedColIds,f=!!(h!=null&&h.length),p=f?h.map(y=>u(y)):Object.values(c);if(p.length){this.columnStates=p;const y={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:p,applyOrder:f,defaultState:y},"gridInitializing")}}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(t){let s=[];for(const r of t)this.columnModel.getSecondaryColumn(r.colId)&&s.push(r);this.columnModel.applyColumnState({state:s,applyOrder:e},"gridInitializing")}i&&this.columnModel.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnModel.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:s})=>{s&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var t;if(!e.hasOwnProperty("columnGroup"))return;const i=new Set((t=e.columnGroup)==null?void 0:t.openColumnGroupIds),r=this.columnModel.getColumnGroupState().map(({groupId:n})=>{const o=i.has(n);return o&&i.delete(n),{groupId:n,open:o}});i.forEach(n=>{r.push({groupId:n,open:!0})}),r.length&&(this.columnGroupStates=r),this.columnModel.setColumnGroupState(r,"gridInitializing")}getFilterState(){var e;let t=this.filterManager.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const i=(e=this.filterManager.getAdvancedFilterModel())!=null?e:void 0;return t||i?{filterModel:t,advancedFilterModel:i}:void 0}setFilterState(e,t){const{filterModel:i,advancedFilterModel:s}=e??{advancedFilterModel:t};i&&this.filterManager.setFilterModel(i,"columnFilter"),s&&this.filterManager.setAdvancedFilterModel(s)}getRangeSelectionState(){var e;const t=(e=this.rangeService)==null?void 0:e.getCellRanges().map(i=>{const{id:s,type:r,startRow:n,endRow:o,columns:a,startColumn:l}=i;return{id:s,type:r,startRow:n,endRow:o,colIds:a.map(c=>c.getColId()),startColId:l.getColId()}});return t!=null&&t.length?{cellRanges:t}:void 0}setRangeSelectionState(e){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;const t=[];e.cellRanges.forEach(i=>{const s=[];if(i.colIds.forEach(n=>{const o=this.columnModel.getGridColumn(n);o&&s.push(o)}),!s.length)return;let r=this.columnModel.getGridColumn(i.startColId);if(!r){const n=this.columnModel.getAllDisplayedColumns(),o=new Set(s);r=n.find(a=>o.has(a))}t.push(Vr(gi({},i),{columns:s,startColumn:r}))}),this.rangeService.setCellRanges(t)}getScrollState(){var e,t,i;if(!this.isClientSideRowModel)return;const s=(e=this.ctrlsService.getGridBodyCtrl())==null?void 0:e.getScrollFeature(),{left:r}=(t=s==null?void 0:s.getHScrollPosition())!=null?t:{left:0},{top:n}=(i=s==null?void 0:s.getVScrollPosition())!=null?i:{top:0};return n||r?{top:n,left:r}:void 0}setScrollState(e){var t;if(!this.isClientSideRowModel)return;const{top:i,left:s}=e;(t=this.ctrlsService.getGridBodyCtrl())==null||t.getScrollFeature().setScrollPosition(i,s)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:s}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:s}=e;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(t),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const e=this.paginationProxy.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)}getRowSelectionState(){var e;const t=this.selectionService.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((e=t==null?void 0:t.toggledNodes)!=null&&e.length)?void 0:t}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach(([s,r])=>{aM(r,this.cachedState[s])||(i=!0)}),this.cachedState=gi(gi({},this.cachedState),t),i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),aM(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=Vr(gi({},this.cachedState),{[e]:t})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const t={type:X.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(t)}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};B([ce("filterManager")],Ra.prototype,"filterManager",2);B([ce("ctrlsService")],Ra.prototype,"ctrlsService",2);B([ce("focusService")],Ra.prototype,"focusService",2);B([ce("columnModel")],Ra.prototype,"columnModel",2);B([ce("paginationProxy")],Ra.prototype,"paginationProxy",2);B([ce("rowModel")],Ra.prototype,"rowModel",2);B([ce("selectionService")],Ra.prototype,"selectionService",2);B([ce("expansionService")],Ra.prototype,"expansionService",2);B([ce("columnAnimationService")],Ra.prototype,"columnAnimationService",2);B([ir("sideBarService")],Ra.prototype,"sideBarService",2);B([ir("rangeService")],Ra.prototype,"rangeService",2);B([It],Ra.prototype,"postConstruct",1);Ra=B([ri("stateService")],Ra);var gw=class extends Lt{init(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,eLe)}processColumnDefs(e){this.processOptions(e,Av)}processOptions(e,t){const{validations:i,deprecations:s,allProperties:r,propertyExceptions:n,objectName:o,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...n??[],...Object.keys(s)],r,o,a);const l=new Set;Object.keys(e).forEach(u=>{var h;const f=s[u];if(f)if("renamed"in f){const{renamed:x,version:A}=f;l.add(`As of v${A}, ${String(u)} is deprecated. Please use ${String(x)} instead.`),e[x]=e[u]}else{const{message:x,version:A}=f;l.add(`As of v${A}, ${String(u)} is deprecated. ${x??""}`)}const p=e[u];if(p==null||p===!1)return;const y=i[u];let v;if(y)if(typeof y=="function"){const x=y(e,this.gridOptions);if(!x)return;if("objectName"in x){const A=e[u];if(Array.isArray(A)){A.forEach(R=>{this.processOptions(R,x)});return}this.processOptions(e[u],x);return}v=x}else v=y;else return;const{module:C,dependencies:S,supportedRowModels:_}=v;if(_){const x=(h=this.gridOptions.rowModelType)!=null?h:"clientSide";if(!_.includes(x)){l.add(`${String(u)} is not supported with the '${x}' row model.`);return}}if(C){const x=Array.isArray(C)?C:[C];let A=!0;if(x.forEach(R=>{Zs.__assertRegistered(R,String(u),this.context.getGridId())||(A=!1,l.add(`${String(u)} is only available when ${R} is loaded.`))}),!A)return}if(S){const x=this.checkForWarning(u,S,e);if(x){l.add(x);return}}}),l.size>0&&l.forEach(u=>{Si(u)})}checkForWarning(e,t,i){if(typeof t=="function")return t(i,this.gridOptions);const r=Object.entries(t).find(([a,l])=>{const c=i[a];return!l.includes(c)});if(!r)return null;const[n,o]=r;return o.length>1?`'${String(e)}' requires '${n}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${n}' to be ${o[0]}.`}checkProperties(e,t,i,s,r){const n=["__ob__","__v_skip","__metadata__"],o=gX(Object.getOwnPropertyNames(e),[...n,...t,...i],i);if(sa(o,(a,l)=>{Si(`invalid ${s} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}`)}),Object.keys(o).length>0&&r){const a=this.getFrameworkOverrides().getDocLink(r);Si(`to see all the valid ${s} properties please check: ${a}`)}}};B([ce("gridOptions")],gw.prototype,"gridOptions",2);B([It],gw.prototype,"init",1);gw=B([ri("validationService")],gw);var D_=class extends Lt{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new RI(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),s=this.gos.useAsyncEvents()&&!XC.has(e),r=s?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(i),this.eventService.addEventListener(e,i,s)}removeEventListener(e,t){var i;const s=this.frameworkEventWrappingService.unwrap(t),r=this.asyncEventListeners.get(e),n=!!(r!=null&&r.delete(s));n||(i=this.syncEventListeners.get(e))==null||i.delete(s),this.eventService.removeEventListener(e,s,n)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){const s=(n,o)=>{XC.has(n)&&t(n,o)},r=(n,o)=>{XC.has(n)||t(n,o)};this.globalEventListenerPairs.set(e,{syncListener:s,asyncListener:r}),this.eventService.addGlobalListener(s,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:s,asyncListener:r}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(s,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,s)=>{i.forEach(r=>this.eventService.removeEventListener(s,r,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}};B([It],D_.prototype,"postConstruct",1);D_=B([ri("apiEventService")],D_);var kN=class extends Mi{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,X.EVENT_PAGINATION_CHANGED,e=>this.handlePaginationChanged(e))}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){An(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationProxy.getPageSize(),i=!t||!e.includes(t);i&&(e.unshift(""),Si(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const s=this.localeService.getLocaleTextFunc(),r=s("pageSizeSelectorLabel","Page Size:"),n=e.map(a=>({value:String(a),text:String(a)})),o=s("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new OA).addOptions(n).setValue(String(i?"":t)).setAriaLabel(o).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=i}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get("paginationPageSizeSelector");return!Array.isArray(t)||!this.validateValues(t)?e:[...t].sort((i,s)=>i-s)}validateValues(e){if(!e.length)return Si(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let t=0;t<e.length;t++){const i=e[t],s=typeof i=="number",r=i>0;if(!s)return Si(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!r)return Si(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};B([ce("paginationProxy")],kN.prototype,"paginationProxy",2);B([It],kN.prototype,"init",1);var mw=class extends Lt{constructor(){super(),this.descriptionContainer=null,this.announceValue=Aa(this.announceValue.bind(this),200)}postConstruct(){const e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),LI(t,"polite"),$Y(t,"additions text"),HY(t,!0),this.eGridDiv.appendChild(t)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50))}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(An(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}};B([ce("eGridDiv")],mw.prototype,"eGridDiv",2);B([It],mw.prototype,"postConstruct",1);mw=B([ri("ariaAnnouncementService")],mw);var MM=class{};MM.gridOptions=void 0;function iLe(e,t,i){if(!t)return Pu("No gridOptions provided to createGrid"),{};const s=new rLe().create(e,t,r=>{const n=new cy(e);r.createBean(n)},void 0,i);if(!Object.isFrozen(t)&&!(i!=null&&i.frameworkOverrides)){const r="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{Pu(`gridOptions.api is no longer supported. See ${r}.`)},configurable:!0}),Object.defineProperty(t,"columnApi",{get:()=>{Pu(`gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ${r}.`)},configurable:!0})}return s}var sLe=1,rLe=class{create(e,t,i,s,r){var n;let o={};MM.gridOptions?(qa(o,MM.gridOptions,!0,!0),o=gi(gi({},o),t)):o=t;const a=Us.getCoercedGridOptions(o),l=!!a.debug,c=(n=a.gridId)!=null?n:String(sLe++),u=this.getRegisteredModules(r,c),h=this.createBeansList(a.rowModelType,u,c),f=this.createProvidedBeans(e,a,r);if(!h){Pu("Failed to create grid.");return}const p={providedBeanInstances:f,beanClasses:h,debug:l,gridId:c},y=new TN("Context",()=>p.debug),v=new uPe(p,y),C=v.getBean("beans");return this.registerModuleUserComponents(C,u),this.registerStackComponents(C,u),this.registerControllers(C,u),i(v),C.syncService.start(),s&&s(v),v.getBean("gridApi")}registerControllers(e,t){t.forEach(i=>{i.controllers&&i.controllers.forEach(s=>e.ctrlsFactory.register(s))})}registerStackComponents(e,t){const i=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(e,t){const i=e?e.modules:null,s=Zs.__getRegisteredModules(t),r=[],n={},o=(a,l,c)=>{(h=>{n[h.moduleName]||(n[h.moduleName]=!0,r.push(h),Zs.__register(h,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(h=>o(a,h,c))};return i&&i.forEach(a=>o(!0,a,t)),s&&s.forEach(a=>o(!Zs.__isPackageBased(),a,void 0)),r}registerModuleUserComponents(e,t){this.extractModuleEntity(t,s=>s.userComponents?s.userComponents:[]).forEach(s=>{e.userComponentRegistry.registerDefaultComponent(s.componentName,s.componentClass)})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;Fi(s)&&(s=new Lq);const r={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createAgStackComponentsList(e){let t=[{componentName:"AgCheckbox",componentClass:IA},{componentName:"AgRadioButton",componentClass:MX},{componentName:"AgToggleButton",componentClass:kq},{componentName:"AgInputTextField",componentClass:hm},{componentName:"AgInputTextArea",componentClass:TMe},{componentName:"AgInputNumberField",componentClass:cN},{componentName:"AgInputDateField",componentClass:AMe},{componentName:"AgInputRange",componentClass:kMe},{componentName:"AgRichSelect",componentClass:QA},{componentName:"AgSelect",componentClass:OA},{componentName:"AgSlider",componentClass:RMe},{componentName:"AgGridBody",componentClass:nu},{componentName:"AgHeaderRoot",componentClass:xMe},{componentName:"AgSortIndicator",componentClass:dN},{componentName:"AgPagination",componentClass:dl},{componentName:"AgPageSizeSelector",componentClass:kN},{componentName:"AgOverlayWrapper",componentClass:zMe},{componentName:"AgGroupComponent",componentClass:PMe},{componentName:"AgRowContainer",componentClass:ey},{componentName:"AgFakeHorizontalScroll",componentClass:jMe},{componentName:"AgFakeVerticalScroll",componentClass:tLe},{componentName:"AgAutocomplete",componentClass:NMe}];const i=this.extractModuleEntity(e,s=>s.agStackComponents?s.agStackComponents:[]);return t=t.concat(i),t}createBeansList(e="clientSide",t,i){const s=t.filter(l=>!l.rowModel||l.rowModel===e),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[e]){Pu("Could not find row model for rowModelType = "+e);return}if(!Zs.__assertRegistered(r[e],`rowModelType = '${e}'`,i))return;const n=[Ji,A0,DM,hw,x0,gs,x_,k_,uw,EM,Tf,_0,rw,FM,gw,ow,sw,fM,tu,Us,qd,Fg,pc,To,Dg,aw,Ml,__,Xb,Pg,ha,A_,Df,T_,Rg,Af,Ni,lw,pr,$d,dw,kf,E_,w0,Mg,kM,cw,T0,qb,E0,S0,Xu,pM,RM,fw,Yu,k0,QC,pw,D0,PM,Lg,Za,Og,Ig,Ra,nw,D_,mw,gc],o=this.extractModuleEntity(s,l=>l.beans?l.beans:[]);n.push(...o);const a=[];return n.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},nLe=class{wrap(e,t,i=[],s){const r=this.createWrapper(e,s);return t.forEach(n=>{this.createMethod(r,n,!0)}),i.forEach(n=>{this.createMethod(r,n,!1)}),r}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}},uy=typeof global>"u"?{}:global;uy.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;uy.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;uy.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;uy.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;uy.Node=typeof Node>"u"?{}:Node;uy.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var DN=class EC{constructor(t,i,s,r,n,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gos=i,this.eventService=s,this.columnModel=r,this.beans=o,this.selectionService=n,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=EC.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return is.cloneObject(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if(typeof t=="string"){console.warn("AG Grid: rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);const i=this.rootNode,s=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map(r=>this.createNode(r,this.rootNode,EC.TOP_LEVEL)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),s&&(s.childrenAfterFilter=i.childrenAfterFilter,s.childrenAfterGroup=i.childrenAfterGroup,s.childrenAfterAggFilter=i.childrenAfterAggFilter,s.childrenAfterSort=i.childrenAfterSort,s.childrenMapped=i.childrenMapped,s.allLeafChildren=i.allLeafChildren)}updateRowData(t,i){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);const s={remove:[],update:[],add:[]},r=[];return this.executeRemove(t,s,r),this.executeUpdate(t,s,r),this.executeAdd(t,s),this.updateSelection(r,"rowDataChanged"),i&&is.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),s}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(t){const i={type:X.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t!=null&&t.length?t[0]:null};this.eventService.dispatchEvent(i)}updateSelection(t,i){const s=t.length>0;if(s&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:i}),this.selectionService.updateGroupsFromChildrenSelections(i),s){const r={type:X.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(r)}}executeAdd(t,i){var s;const{add:r,addIndex:n}=t;if(is.missingOrEmpty(r))return;const o=r.map(a=>this.createNode(a,this.rootNode,EC.TOP_LEVEL));if(typeof n=="number"&&n>=0){const{allLeafChildren:a}=this.rootNode,l=a.length;let c=n;if(this.gos.get("treeData")&&n>0&&l>0){for(let p=0;p<l;p++)if(((s=a[p])==null?void 0:s.rowIndex)==n-1){c=p+1;break}}const h=a.slice(0,c),f=a.slice(c,a.length);this.rootNode.allLeafChildren=[...h,...o,...f]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...o];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=o}executeRemove(t,i,s){const{remove:r}=t;if(is.missingOrEmpty(r))return;const n={};r.forEach(o=>{const a=this.lookupRowNode(o);a&&(a.isSelected()&&s.push(a),a.clearRowTopAndRowIndex(),n[a.id]=!0,delete this.allNodesMap[a.id],i.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(o=>!n[o.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,i,s){const{update:r}=t;is.missingOrEmpty(r)||r.forEach(n=>{const o=this.lookupRowNode(n);o&&(o.updateData(n),!o.selectable&&o.isSelected()&&s.push(o),this.setMasterForRow(o,n,EC.TOP_LEVEL,!1),i.update.push(o))})}lookupRowNode(t){const i=this.gos.getCallback("getRowId");let s;if(i){const r=i({data:t,level:0});if(s=this.allNodesMap[r],!s)return console.error(`AG Grid: could not find row id=${r}, data item was not found for this id`),null}else if(s=this.rootNode.allLeafChildren.find(r=>r.data===t),!s)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return s||null}createNode(t,i,s){const r=new ts(this.beans);r.group=!1,this.setMasterForRow(r,t,s,!0);const n=this.gos.get("suppressParentsInRowNodes");return i&&!n&&(r.parent=i),r.level=s,r.setDataAndId(t,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn(`AG Grid: duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(t,i,s,r){if(this.gos.get("treeData"))t.setMaster(!1),r&&(t.expanded=!1);else{if(this.gos.get("masterDetail")){const a=this.gos.get("isRowMaster");a?t.setMaster(a(i)):t.setMaster(!0)}else t.setMaster(!1);if(r){const a=this.columnModel.getRowGroupColumns(),l=a?a.length:0,c=s+l;t.expanded=t.master?this.isExpanded(c):!1}}}isExpanded(t){const i=this.gos.get("groupDefaultExpanded");return i===-1?!0:t<i}};DN.TOP_LEVEL=0;DN.ROOT_NODE_ID="ROOT_NODE_ID";var oLe=DN,Pa=class extends Lt{constructor(){super(...arguments),this.onRowHeightChanged_debounced=is.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,X.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,X.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,X.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,X.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new ts(this.beans),this.nodeManager=new oLe(this.rootNode,this.gos,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),n=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...s,...s,...r,...n,...o,...a];this.addManagedPropertyListeners(l,c=>{var u;const h=(u=c.changeSet)==null?void 0:u.properties;if(!h)return;const f=p=>h.some(y=>p.has(y));if(f(e)){this.setRowData(this.rootNode.allLeafChildren.map(p=>p.data));return}if(f(t)){this.refreshModel({step:"group"});return}if(f(i)){this.refreshModel({step:"filter"});return}if(f(s)){this.refreshModel({step:"pivot"});return}if(f(r)){this.refreshModel({step:"aggregate"});return}if(f(n)){this.refreshModel({step:"sort"});return}if(f(o)){this.refreshModel({step:"filter_aggregates"});return}f(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,s){let r,n=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),c=Math.min(a,s);for(let u=l;u<=c;u++){const h=this.getRow(u);if(h.rowHeightEstimated){const f=this.gos.getRowHeightForNode(h);h.setRowHeight(f.height),r=!0,n=!0}}r&&this.setRowTopAndRowIndex()}while(r);return n}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,s=this.gos.isDomLayout("normal");for(let r=0;r<this.rowsToDisplay.length;r++){const n=this.rowsToDisplay[r];if(n.id!=null&&i.add(n.id),n.rowHeight==null){const o=this.gos.getRowHeightForNode(n,s,e);n.setRowHeight(o.height,o.estimated)}n.setRowTop(t),n.setRowIndex(r),t+=n.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),s=n=>{n&&n.id!=null&&!t.has(n.id)&&n.clearRowTopAndRowIndex()},r=n=>{if(s(n),s(n.detailNode),s(n.sibling),n.hasChildren()&&n.childrenAfterGroup){const o=n.level==-1;i&&!o&&!n.expanded||n.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const s=this.getRowIndexAtPixel(t),r=this.getRow(s),n=!this.gos.get("suppressAnimationFrame");return r===e[0]?!1:(e.forEach(o=>{is.removeFromArray(this.rootNode.allLeafChildren,o)}),e.forEach((o,a)=>{is.insertIntoArray(this.rootNode.allLeafChildren,o,Math.max(s+i,0)+a)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:n}),!0)}highlightRowAtPixel(e,t){const i=t!=null?this.getRowIndexAtPixel(t):null,s=i!=null?this.getRow(i):null;if(!s||!e||s===e||t==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}const r=this.getHighlightPosition(t,s);this.lastHighlightedRow&&this.lastHighlightedRow!==s&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),s.setHighlighted(r),this.lastHighlightedRow=s}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(t=this.getRow(r||0),!t)return 1}const{rowTop:i,rowHeight:s}=t;return e-i<s/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return t?t.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=this.rootNode.childrenAfterSort[e];if(this.gos.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(is.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gos.isAnimateRows(),s=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=is.missingOrEmpty(e),i=new qA(!1,this.rootNode);return(t||this.gos.get("treeData"))&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(s=>s.add!=null&&s.add.length>0||s.remove!=null&&s.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(is.exists(e)&&(t=i[e]),is.missing(t)){console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`);return}const s=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:s}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,s),this.isRefreshingModel=!1;const r={type:X.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(r)}isEmpty(){const e=is.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return is.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return is.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!t,s=!1;const r=[],n=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(o=>{if(s)return;if(i&&(o===t||o===e)&&(s=!0,o.group&&n)){r.push(...o.allLeafChildren);return}if(!i){if(o!==t&&o!==e)return;i=!0}if(!o.group||!n){r.push(o);return}}),r}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(is.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,n=-1;for(;;){const o=Math.floor((t+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(i=o-1),r===t&&n===i))return o;r=t,n=i}}isRowInPixel(e,t){const i=e.rowTop,s=e.rowTop+e.rowHeight;return i<=t&&s>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:s,includeFooterNodes:r}=e;let{index:n}=e;const o=a=>{var l;const c=(l=t[0])==null?void 0:l.parent;if(!c)return;const u=r&&this.gos.getGrandTotalRow(),h=this.gos.getGroupTotalRowCallback(),f=r&&h({node:c});if(c===this.rootNode){u===a&&(c.createFooter(),i(c.sibling,n++));return}f===a&&(c.createFooter(),i(c.sibling,n++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(i(l,n++),l.hasChildren()&&!l.footer){let c=null;switch(s){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(n=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:i,recursionType:s,index:n,includeFooterNodes:r}))}}return o("bottom"),n}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),s=o=>{o&&o.forEach(a=>{const l=()=>{a.expanded=e,s(a.childrenAfterGroup)};if(t){is.exists(a.childrenAfterGroup)&&l();return}if(i){!a.leafGroup&&l();return}a.group&&l()})};this.rootNode&&s(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});const r=e?"expandAll":"collapseAll",n={type:X.EVENT_EXPAND_COLLAPSE_ALL,source:r};this.eventService.dispatchEvent(n)}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,s){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:s}),this.gos.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)){const n={type:X.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(n)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:X.EVENT_ROW_COUNT_READY}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if(typeof e=="string"&&e.indexOf(ts.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(s=>{s.id===e&&(i=s)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){const e={type:X.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(s=>{const r=this.nodeManager.updateRowData(s.rowDataTransaction,void 0);t.push(r),s.callback&&e.push(s.callback.bind(null,r)),typeof s.rowDataTransaction.addIndex=="number"&&(i=!0)}),this.commonUpdateRowData(t,void 0,i),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0){const s={type:X.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t};this.eventService.dispatchEvent(s)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(e,t),s=typeof e.addIndex=="number";return this.commonUpdateRowData([i],t,s),i}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++){const s=this.rootNode.allLeafChildren[i];t[s.id]=i}return t}commonUpdateRowData(e,t,i){if(!this.hasStarted)return;const s=!this.gos.get("suppressAnimationFrame");i&&(t=this.createRowNodeOrder());const r={type:X.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(r),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:s})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};B([ce("columnModel")],Pa.prototype,"columnModel",2);B([ce("selectionService")],Pa.prototype,"selectionService",2);B([ce("valueCache")],Pa.prototype,"valueCache",2);B([ce("beans")],Pa.prototype,"beans",2);B([ce("filterStage")],Pa.prototype,"filterStage",2);B([ce("sortStage")],Pa.prototype,"sortStage",2);B([ce("flattenStage")],Pa.prototype,"flattenStage",2);B([ir("groupStage")],Pa.prototype,"groupStage",2);B([ir("aggregationStage")],Pa.prototype,"aggregationStage",2);B([ir("pivotStage")],Pa.prototype,"pivotStage",2);B([ir("filterAggregatesStage")],Pa.prototype,"filterAggregatesStage",2);B([It],Pa.prototype,"init",1);Pa=B([ri("rowModel")],Pa);var R_=class extends Lt{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};B([ce("filterService")],R_.prototype,"filterService",2);R_=B([ri("filterStage")],R_);var vw=class extends Lt{execute(e){const t=this.sortController.getSortOptions(),i=is.exists(t)&&t.length>0,s=i&&is.exists(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=t.some(n=>this.gos.isColumnsSortingCoupledToGroup()?n.column.isPrimary()&&n.column.isRowGroupActive():!!n.column.getColDef().showRowGroup);this.sortService.sort(t,i,s,e.rowNodeTransactions,e.changedPath,r)}};B([ce("sortService")],vw.prototype,"sortService",2);B([ce("sortController")],vw.prototype,"sortController",2);vw=B([ri("sortStage")],vw);var P_=class extends Lt{execute(e){const t=e.rowNode,i=[],s=this.beans.columnModel.isPivotMode(),r=s&&t.leafGroup,n=r?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,n,i,s,0);const a=i.length>0;if(!r&&a&&o.grandTotalRow){t.createFooter();const c=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,i,0,c)}return i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(e,t,i,s,r){if(!is.missingOrEmpty(t))for(let n=0;n<t.length;n++){const o=t[n],a=o.hasChildren(),l=s&&!a,c=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,u=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,h=s&&o.leafGroup,f=e.hideOpenParents&&o.expanded&&!o.master&&!h;if(!l&&!f&&!c&&!u&&this.addRowNodeToRowsToDisplay(e,o,i,r),!(s&&o.leafGroup)){if(a){const y=c||u;if(o.expanded||y){const v=e.groupTotalRow({node:o});v||o.destroyFooter();const C=y?r:r+1;v==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,C)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,i,s,C),v==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,C))}}else if(o.master&&o.expanded){const y=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,y,i,r)}}}}addRowNodeToRowsToDisplay(e,t,i,s,r){r?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:s)}createDetailNode(e){if(is.exists(e.detailNode))return e.detailNode;const t=new ts(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,is.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};B([ce("beans")],P_.prototype,"beans",2);P_=B([ri("flattenStage")],P_);var yw=class extends Lt{sort(e,t,i,s,r,n){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getAllGridColumns().some(f=>f.isRowGroupActive());let l={};i&&s&&(l=this.calculateDirtyNodes(s));const c=this.columnModel.isPivotMode(),u=this.gos.getCallback("postSortRows"),h=f=>{var p;this.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);const y=c&&f.leafGroup;if(o&&a&&!f.leafGroup&&!n){const C=(p=this.columnModel.getRowGroupColumns())==null?void 0:p[f.level+1],S=(C==null?void 0:C.getSort())===null,_=f.childrenAfterAggFilter.slice(0);if(f.childrenAfterSort&&!S){const x={};f.childrenAfterSort.forEach((A,R)=>{x[A.id]=R}),_.sort((A,R)=>{var O,k;return((O=x[A.id])!=null?O:0)-((k=x[R.id])!=null?k:0)})}f.childrenAfterSort=_}else!t||y?f.childrenAfterSort=f.childrenAfterAggFilter.slice(0):i?f.childrenAfterSort=this.doDeltaSort(f,l,r,e):f.childrenAfterSort=this.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,e);if(f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),this.updateChildIndexes(f),u){const C={nodes:f.childrenAfterSort};u(C)}};r&&r.forEachChangedNodeDepthFirst(h),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},i=s=>{s&&s.forEach(r=>t[r.id]=!0)};return e&&e.forEach(s=>{i(s.add),i(s.update),i(s.remove)}),t}doDeltaSort(e,t,i,s){const r=e.childrenAfterAggFilter,n=e.childrenAfterSort;if(!n)return this.rowNodeSorter.doFullSort(r,s);const o={},a=[];r.forEach(h=>{t[h.id]||!i.canSkip(h)?a.push(h):o[h.id]=!0});const l=n.filter(h=>o[h.id]),c=(h,f)=>({currentPos:f,rowNode:h}),u=a.map(c).sort((h,f)=>this.rowNodeSorter.compareRowNodes(s,h,f));return this.mergeSortedArrays(s,u,l.map(c)).map(({rowNode:h})=>h)}mergeSortedArrays(e,t,i){const s=[];let r=0,n=0;for(;r<t.length&&n<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[n])<0?s.push(t[r++]):s.push(i[n++]);for(;r<t.length;)s.push(t[r++]);for(;n<i.length;)s.push(i[n++]);return s}updateChildIndexes(e){if(is.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const s=t[i],r=i===0,n=i===e.childrenAfterSort.length-1;s.setFirstChild(r),s.setLastChild(n),s.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return is.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(s=>{s.hasChildren()&&t(s)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||is.missing(e)||e.forEach(i=>{this.columnModel.getGroupDisplayColumns().forEach(r=>{const n=r.getColDef().showRowGroup;if(typeof n!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const o=n,a=this.columnModel.getPrimaryColumn(o);if(a!==i.rowGroupColumn)if(t)i.setGroupValue(r.getId(),void 0);else{const c=i.getFirstChildOfFirstChild(a);c&&i.setGroupValue(r.getId(),c.key)}})})}};B([ce("columnModel")],yw.prototype,"columnModel",2);B([ce("rowNodeSorter")],yw.prototype,"rowNodeSorter",2);yw=B([ri("sortService")],yw);var F_=class extends Lt{filter(e){const t=this.filterManager.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(s,r)=>{s.hasChildren()&&e&&!r?s.childrenAfterFilter=s.childrenAfterGroup.filter(n=>{const o=n.childrenAfterFilter&&n.childrenAfterFilter.length>0,a=n.data&&this.filterManager.doesRowPassFilter({rowNode:n});return o||a}):s.childrenAfterFilter=s.childrenAfterGroup,s.sibling&&(s.sibling.childrenAfterFilter=s.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const s=(n,o)=>{if(n.childrenAfterGroup)for(let a=0;a<n.childrenAfterGroup.length;a++){const l=n.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?s(n.childrenAfterGroup[a],c):i(l,c)}i(n,o)},r=n=>s(n,!1);t.executeFromRootNode(r)}else{const s=r=>i(r,!1);t.forEachChangedNodeDepthFirst(s,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}};B([ce("filterManager")],F_.prototype,"filterManager",2);F_=B([ri("filterService")],F_);var Ng=class extends Lt{postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[i,s]=t;this.clientSideRowModel.updateRowData(i,s)}createTransactionForRowData(e){if(is.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}const t=this.gos.getCallback("getRowId");if(t==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}const i={remove:[],update:[],add:[]},s=this.clientSideRowModel.getCopyOfNodesMap(),n=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return is.exists(e)&&e.forEach((o,a)=>{const l=t({data:o,level:0}),c=s[l];n&&(n[l]=a),c?(c.data!==o&&i.update.push(o),s[l]=void 0):i.add.push(o)}),is.iterateObject(s,(o,a)=>{a&&i.remove.push(a.data)}),[i,n]}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}};B([ce("rowModel")],Ng.prototype,"rowModel",2);B([ce("rowRenderer")],Ng.prototype,"rowRenderer",2);B([ce("selectionService")],Ng.prototype,"selectionService",2);B([It],Ng.prototype,"postConstruct",1);Ng=B([ri("immutableService")],Ng);var aLe="31.3.4",lLe={version:aLe,moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[Pa,R_,vw,P_,yw,F_,Ng]},cLe=Object.defineProperty,uLe=Object.getOwnPropertyDescriptor,Ia=(e,t,i,s)=>{for(var r=s>1?void 0:s?uLe(t,i):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(r=(s?o(t,i,r):o(r))||r);return s&&r&&cLe(t,i,r),r},dLe=(e,t)=>(i,s)=>t(i,s,e),Cw=class extends _M{constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){is.exists(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(is.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((s,r)=>{this.startRow+r<i&&e(s,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const i=e-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new ts(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,s)=>{const r=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&r&&(this.rowNodes[s]=new ts(this.beans),this.rowNodes[s].setRowIndex(i.rowIndex),this.rowNodes[s].setRowTop(i.rowTop),this.rowNodes[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[s],r,this.startRow+s)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroyRowNodes(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()})}};Ia([ce("beans")],Cw.prototype,"beans",2);Ia([It],Cw.prototype,"postConstruct",1);Ia([Ma],Cw.prototype,"destroyRowNodes",1);var dy=class Gq extends Lt{constructor(t){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=t.initialRowCount,this.params=t}setBeans(t){this.logger=t.create("InfiniteCache")}getRow(t,i=!1){const s=Math.floor(t/this.params.blockSize);let r=this.blocks[s];if(!r){if(i)return;r=this.createBlock(s)}return r.getRow(t)}createBlock(t){const i=this.createBean(new Cw(t,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(i=>i.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroyAllBlocks(){this.getBlocksInOrder().forEach(t=>this.destroyBlock(t))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(t,i){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${t.getId()}, lastRow = ${i}`),this.checkRowCount(t,i),this.onCacheUpdated())}purgeBlocksIfNeeded(t){const i=this.getBlocksInOrder().filter(a=>a!=t),s=(a,l)=>l.getLastAccessed()-a.getLastAccessed();i.sort(s);const r=this.params.maxBlocksInCache>0,n=r?this.params.maxBlocksInCache-1:null,o=Gq.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((a,l)=>{const c=a.getState()===Cw.STATE_WAITING_TO_LOAD&&l>=o,u=r?l>=n:!1;if(c||u){if(this.isBlockCurrentlyDisplayed(a)||this.isBlockFocused(a))return;this.removeBlockFromCache(a)}})}isBlockFocused(t){const i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||i.rowPinned!=null)return!1;const s=t.getStartRow(),r=t.getEndRow();return i.rowIndex>=s&&i.rowIndex<r}isBlockCurrentlyDisplayed(t){const i=t.getStartRow(),s=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,s)}removeBlockFromCache(t){t&&this.destroyBlock(t)}checkRowCount(t,i){if(typeof i=="number"&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const r=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}}setRowCount(t,i){this.rowCount=t,is.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(t){const i=new b0;this.getBlocksInOrder().forEach(s=>s.forEachNode(t,i,this.rowCount))}getBlocksInOrder(){const t=(s,r)=>s.getId()-r.getId();return is.getAllValuesInObject(this.blocks).sort(t)}destroyBlock(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();const t={type:X.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}}destroyAllBlocksPastVirtualRowCount(){const t=[];this.getBlocksInOrder().forEach(i=>{i.getId()*this.params.blockSize>=this.rowCount&&t.push(i)}),t.length>0&&t.forEach(i=>this.destroyBlock(i))}purgeCache(){this.getBlocksInOrder().forEach(t=>this.removeBlockFromCache(t)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(t,i){const s=[];let r=-1,n=!1;const o=new b0;is.missing(t)&&(n=!0);let a=!1;return this.getBlocksInOrder().forEach(c=>{if(!a){if(n&&r+1!==c.getId()){a=!0;return}r=c.getId(),c.forEachNode(u=>{const h=u===t||u===i;(n||h)&&s.push(u),h&&(n=!n)},o,this.rowCount)}}),a||n?[]:s}};dy.MAX_EMPTY_BLOCKS_TO_KEEP=2;Ia([ce("rowRenderer")],dy.prototype,"rowRenderer",2);Ia([ce("focusService")],dy.prototype,"focusService",2);Ia([dLe(0,oc("loggerFactory"))],dy.prototype,"setBeans",1);Ia([Ma],dy.prototype,"destroyAllBlocks",1);var hLe=dy,qu=class extends Lt{getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(e,t,i,s){return!1}init(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&is.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,X.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,X.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,X.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!is.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;this.gos.getCallback("getRowId")!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}createModelUpdatedEvent(){return{type:X.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new b0},this.infiniteCache=this.createBean(new hLe(this.cacheParams)),this.eventService.dispatchEventOnce({type:X.EVENT_ROW_COUNT_READY});const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}updateRowHeights(){this.forEachNode(t=>{t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*t.rowIndex)});const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};Ia([ce("filterManager")],qu.prototype,"filterManager",2);Ia([ce("sortController")],qu.prototype,"sortController",2);Ia([ce("selectionService")],qu.prototype,"selectionService",2);Ia([ce("rowRenderer")],qu.prototype,"rowRenderer",2);Ia([ce("rowNodeBlockLoader")],qu.prototype,"rowNodeBlockLoader",2);Ia([It],qu.prototype,"init",1);Ia([Ma],qu.prototype,"destroyDatasource",1);qu=Ia([ri("rowModel")],qu);var fLe="31.3.4",pLe={version:fLe,moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[qu]},gLe=Object.defineProperty,mLe=Object.getOwnPropertyDescriptor,hl=(e,t,i,s)=>{for(var r=s>1?void 0:s?mLe(t,i):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(r=(s?o(t,i,r):o(r))||r);return s&&r&&gLe(t,i,r),r},vLe=class{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},yLe=class{constructor(e){this.groupColumns=[];const{columnModel:t,valueService:i,gos:s,processCellCallback:r,processHeaderCallback:n,processGroupHeaderCallback:o,processRowGroupCallback:a}=e;this.columnModel=t,this.valueService=i,this.gos=s,this.processCellCallback=r,this.processHeaderCallback=n,this.processGroupHeaderCallback=o,this.processRowGroupCallback=a}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){const t=this.getHeaderName(this.processHeaderCallback,e);return t??""}extractRowCellValue(e,t,i,s,r){const o=(!this.gos.get("groupHideOpenParents")||r.footer)&&this.shouldRenderGroupSummaryCell(r,e,t)?this.createValueForGroupNode(e,r):this.valueService.getValue(e,r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:e,value:o,processCellCallback:this.processCellCallback,type:s})}shouldRenderGroupSummaryCell(e,t,i){var s;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((s=e.groupData)==null?void 0:s[t.getId()])!=null||this.gos.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){const a=t.getColDef();return a==null||a.showRowGroup===!0||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const o=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return i===0&&o}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const i=this.gos.get("treeData"),s=this.gos.get("suppressGroupMaintainValueType"),r=l=>{var c,u;if(i||s)return l.key;const h=(c=l.groupData)==null?void 0:c[e.getId()];return!h||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?h:(u=this.valueService.formatValue(l.rowGroupColumn,l,h))!=null?u:h},n=t.footer,o=[r(t)];if(!this.gos.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,o.push(r(t));const a=o.reverse().join(" -> ");return n?`Total ${a}`:a}processCell(e){var t;const{accumulatedRowIndex:i,rowNode:s,column:r,value:n,processCellCallback:o,type:a}=e;return o?{value:(t=o(this.gos.addGridCommonParams({accumulatedRowIndex:i,column:r,node:s,value:n,type:a,parseValue:l=>this.valueService.parseValue(r,s,l,this.valueService.getValue(r,s)),formatValue:l=>{var c;return(c=this.valueService.formatValue(r,s,l))!=null?c:l}})))!=null?t:""}:r.getColDef().useValueFormatterForExport!==!1?{value:n??"",valueFormatted:this.valueService.formatValue(r,s,n)}:{value:n??""}}},CLe=class{static download(e,t){const i=document.defaultView||window;if(!i){console.warn("AG Grid: There is no `window` associated with the current `document`");return}const s=document.createElement("a"),r=i.URL.createObjectURL(t);s.setAttribute("href",r),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(s),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}},sW=`\r
`,bLe=class extends yLe{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,sW),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,s)=>{s!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,s){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(s)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){var s;t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes((s=r.valueFormatted)!=null?s:r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=sW),this.isFirstLine=!1}},Rf=class extends vLe{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),i=this.getData(t),s=new Blob(["\uFEFF",i],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;CLe.download(this.getFileName(r),s)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,valueService:i,gos:s}=this,{processCellCallback:r,processHeaderCallback:n,processGroupHeaderCallback:o,processRowGroupCallback:a,suppressQuotes:l,columnSeparator:c}=e;return new bLe({columnModel:t,valueService:i,gos:s,processCellCallback:r||void 0,processHeaderCallback:n||void 0,processGroupHeaderCallback:o||void 0,processRowGroupCallback:a||void 0,suppressQuotes:l||!1,columnSeparator:c||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};hl([ce("columnModel")],Rf.prototype,"columnModel",2);hl([ce("valueService")],Rf.prototype,"valueService",2);hl([ce("gridSerializer")],Rf.prototype,"gridSerializer",2);hl([ce("gridOptionsService")],Rf.prototype,"gos",2);hl([It],Rf.prototype,"postConstruct",1);Rf=hl([ri("csvCreator")],Rf);var Qu=class extends Lt{serialize(e,t={}){const{allColumns:i,columnKeys:s,skipRowGroups:r}=t,n=this.getColumnsToExport(i,r,s);return is.compose(this.prepareSession(n),this.prependContent(t),this.exportColumnGroups(t,n),this.exportHeaders(t,n),this.processPinnedTopRows(t,n),this.processRows(t,n),this.processPinnedBottomRows(t,n),this.appendContent(t))(e).parse()}processRow(e,t,i,s){const r=t.shouldRowBeSkipped||(()=>!1),n=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=t.rowPositions!=null||!!t.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,u=this.columnModel.isPivotMode()?s.leafGroup:!s.group,h=!!s.footer;t.skipRowGroups;const f=o&&s.leafGroup,p=s.allChildrenCount===1&&(n||f);if(!u&&!h&&(t.skipRowGroups||p||c)||t.onlySelected&&!s.isSelected()||t.skipPinnedTop&&s.rowPinned==="top"||t.skipPinnedBottom&&s.rowPinned==="bottom"||s.level===-1&&!u&&!h||r(this.gos.addGridCommonParams({node:s})))return;const C=e.onNewBodyRow(s);if(i.forEach((S,_)=>{C.onColumn(S,_,s)}),t.getCustomContentBelowRow){const S=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:s}));S&&e.addCustomContent(S)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const s=new PY,r=this.displayedGroupCreator.createDisplayedGroups(t,s,null);this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const s=i.onNewHeaderRow();t.forEach((r,n)=>{s.onColumn(r,n,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,n)=>r.rowIndex-n.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedTopRow(s),i}}processRows(e,t){return i=>{const s=this.rowModel,r=s.getType(),n=r==="clientSide",o=r==="serverSide",a=!n&&e.onlySelected,l=this.processRow.bind(this,i,e,t),{exportedRows:c="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(u=>u.rowPinned==null).sort((u,h)=>u.rowIndex-h.rowIndex).map(u=>s.getRow(u.rowIndex)).forEach(l);else if(this.columnModel.isPivotMode())n?s.forEachPivotNode(l,!0):o?s.forEachNodeAfterFilterAndSort(l,!0):s.forEachNode(l);else if(e.onlySelectedAllPages||a){const u=this.selectionService.getSelectedNodes();this.replicateSortedOrder(u),u.forEach(l)}else c==="all"?s.forEachNode(l):n||o?s.forEachNodeAfterFilterAndSort(l,!0):s.forEachNode(l);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(s,r)=>{var n,o,a,l;return s.rowIndex!=null&&r.rowIndex!=null?s.rowIndex-r.rowIndex:s.level===r.level?((n=s.parent)==null?void 0:n.id)===((o=r.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:s,currentPos:(a=s.rowIndex)!=null?a:-1},{rowNode:r,currentPos:(l=r.rowIndex)!=null?l:-1}):i(s.parent,r.parent):s.level>r.level?i(s.parent,r):i(s,r.parent)};e.sort(i)}processPinnedBottomRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,n)=>r.rowIndex-n.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedBottomRow(s),i}}getColumnsToExport(e=!1,t=!1,i){const s=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);const r=this.gos.get("treeData");let n=[];return e&&!s?n=this.columnModel.getAllGridColumns():n=this.columnModel.getAllDisplayedColumns(),t&&!r&&(n=n.filter(o=>o.getColId()!==m0)),n}recursivelyAddHeaderGroups(e,t,i){const s=[];e.forEach(r=>{const n=r;n.getChildren&&n.getChildren().forEach(o=>s.push(o))}),e.length>0&&e[0]instanceof ho&&this.doAddHeaderHeader(t,e,i),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,t,i)}doAddHeaderHeader(e,t,i){const s=e.onNewHeaderGroupingRow();let r=0;t.forEach(n=>{const o=n;let a;i?a=i(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnModel.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,u,h,f)=>{let p=is.last(c);return u.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[h],c.push(p)):p&&p[1]==null&&(p[1]=h-1),h===f.length-1&&p&&p[1]==null&&(p[1]=h),c},[]);s.onColumn(o,a||"",r++,o.getLeafColumns().length-1,l)})}};hl([ce("displayedGroupCreator")],Qu.prototype,"displayedGroupCreator",2);hl([ce("columnModel")],Qu.prototype,"columnModel",2);hl([ce("rowModel")],Qu.prototype,"rowModel",2);hl([ce("pinnedRowModel")],Qu.prototype,"pinnedRowModel",2);hl([ce("selectionService")],Qu.prototype,"selectionService",2);hl([ce("rowNodeSorter")],Qu.prototype,"rowNodeSorter",2);hl([ce("sortController")],Qu.prototype,"sortController",2);Qu=hl([ri("gridSerializer")],Qu);var wLe="31.3.4",SLe={version:wLe,moduleName:"@ag-grid-community/csv-export",beans:[Rf,Qu]},{utf8_encode:dKe}=is;Zs.__registerModules([lLe,pLe,SLe],!1,void 0);var xLe=Object.defineProperty,rW=Object.getOwnPropertySymbols,ELe=Object.prototype.hasOwnProperty,_Le=Object.prototype.propertyIsEnumerable,nW=(e,t,i)=>t in e?xLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,zp=(e,t)=>{for(var i in t||(t={}))ELe.call(t,i)&&nW(e,i,t[i]);if(rW)for(var i of rW(t))_Le.call(t,i)&&nW(e,i,t[i]);return e},TLe=e=>typeof e=="symbol",ALe=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})};new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(TLe));function fE(e){const t=e&&e.__v_raw;return t?fE(t):e}function KR(e){return Object.isExtensible(e)&&ALe(e,"__v_skip",!0),e}var kLe=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),DLe=e=>`on${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`,RLe=()=>{const e={};Oc.PUBLIC_EVENTS.map(o=>DLe(kLe(o))).forEach(o=>e[o]=void 0);const i={},s={modelValue:{handler(o,a){!this.gridCreated||!this.api||o!==a&&(o&&a&&o.length===a.length&&o.every((l,c)=>l===a[c])||Oc.processOnChange({rowData:o},this.api,!0))},deep:!0}};let r=null,n={};return Oc.ALL_PROPERTIES.filter(o=>o!="gridOptions").forEach(o=>{e[o]={default:Oc.VUE_OMITTED_PROPERTY},s[o]={handler(a,l){n[o]=a===Oc.VUE_OMITTED_PROPERTY?void 0:a,r==null&&(r=setTimeout(()=>{Oc.processOnChange(n,this.api,!0),r=null,n={}},0))},deep:!0}}),[e,i,s]},LM=class Hq{static getComponentDefinition(t,i){let s;return typeof t=="string"?s=this.searchForComponentInstance(i,t):s={extends:dt(zp({},t))},s||console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),s.extends?(s.extends.setup&&(s.setup=s.extends.setup),s.extends.props=this.addParamsToProps(s.extends.props)):s.props=this.addParamsToProps(s.props),s}static addParamsToProps(t){return!t||Array.isArray(t)&&t.indexOf("params")===-1?t=["params",...t||[]]:typeof t=="object"&&!t.params&&(t.params={type:Object}),t}static createAndMountComponent(t,i,s,r){const n=Hq.getComponentDefinition(t,s);if(!n)return;const{vNode:o,destroy:a,el:l}=this.mount(n,{params:Object.freeze(i)},s,r||{});return{componentInstance:o.component.proxy,element:l,destroy:a}}static mount(t,i,s,r){let n=wt(t,i);n.appContext=s.$.appContext,n.appContext.provides=zp(zp(zp({},r),n.appContext.provides?n.appContext.provides:{}),s.$parent.$options.provide?s.$parent.$options.provide:{});let o=document.createElement("div");return Uu(n,o),{vNode:n,destroy:()=>{o&&Uu(null,o),o=null,n=null},el:o}}static searchForComponentInstance(t,i,s=10,r=!1){let n=null,o=t.$parent,a=0;for(;!n&&o&&o.$options&&++a<s;){const l=o;l.$options&&l.$options.components&&l.$options.components[i]?n=l.$options.components[i]:l[i]&&(n=l[i]),o=o.$parent}if(!n){const l=t.$.appContext.components;l&&l[i]&&(n=l[i])}return!n&&!r?(console.error(`Could not find component with name of ${i}. Is it in Vue.components?`),null):n}},PLe=class pE extends nLe{constructor(t,i){super(),this.parent=t,pE.provides||(pE.provides=i)}createWrapper(t){const i=this;class s extends FLe{init(o){super.init(o)}hasMethod(o){const a=r.getFrameworkComponentInstance();return a[o]?!0:a.$.setupState[o]!=null}callMethod(o,a){var l;const c=this.getFrameworkComponentInstance(),u=r.getFrameworkComponentInstance();return u[o]?u[o].apply(c,a):(l=u.$.setupState[o])==null?void 0:l.apply(c,a)}addMethod(o,a){r[o]=a}overrideProcessing(o){return i.parent.autoParamsRefresh&&o==="refresh"}processMethod(o,a){return o==="refresh"&&(this.getFrameworkComponentInstance().params=a[0]),this.hasMethod(o)?this.callMethod(o,a):o==="refresh"}createComponent(o){return i.createComponent(t,o)}}const r=new s;return r}createComponent(t,i){return LM.createAndMountComponent(t,i,this.parent,pE.provides)}createMethodProxy(t,i,s){return function(){return t.overrideProcessing(i)?t.processMethod(i,arguments):t.hasMethod(i)?t.callMethod(i,arguments):(s&&console.warn("AG Grid: Framework component is missing the method "+i+"()"),null)}}destroy(){this.parent=null}},FLe=class{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&typeof this.getFrameworkComponentInstance().destroy=="function"&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(e){var t;const{componentInstance:i,element:s,destroy:r}=this.createComponent(e);this.componentInstance=i,this.unmount=r,this.element=(t=s.firstElementChild)!=null?t:s}},MLe=class extends Lq{constructor(e){super("vue"),this.parent=e}frameworkComponent(e,t){let i=LM.searchForComponentInstance(this.parent,e,10,!0)?e:null;if(!i&&t&&t[e]){const s=t[e];i=LM.searchForComponentInstance(this.parent,s,10,!0)?s:null}return i}isFrameworkComponent(e){return typeof e=="object"}},LLe=new Set(["rowDataUpdated","cellValueChanged","rowValueChanged"]),oW="onUpdate:modelValue",OLe="update:modelValue",[ILe,NLe,VLe]=RLe(),BLe=dt({render(){return ji("div")},props:zp({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},ILe),data(){return{api:void 0,gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}},computed:NLe,watch:VLe,methods:{globalEventListenerFactory(e){return(t,i)=>{if(this.isDestroyed)return;t==="gridReady"&&(this.gridReadyFired=!0);const s=XC.has(t);s&&!e||!s&&e||this.updateModelIfUsed(t)}},processChanges(e,t,i){if(this.gridCreated){if(this.skipChange(e,t,i))return;const s={[e]:e==="rowData"?Object.isFrozen(t)?t:KR(fE(t)):t};Oc.processOnChange(s,this.api)}},checkForBindingConflicts(){const e=this;(e.rowData&&e.rowData!=="AG-VUE-OMITTED-PROPERTY"||this.gridOptions.rowData)&&e.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){var e;const t=[];return(e=this.api)==null||e.forEachNode(i=>{t.push(i.data)}),t},updateModelIfUsed(e){this.gridReadyFired&&this.$attrs[oW]&&LLe.has(e)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const e=this,t=e.modelValue;return t||(e.rowData?e.rowData:e.gridOptions.rowData)},getProvides(){let e=Di(),t={};for(;e;)e&&e.provides&&(t=zp(zp({},t),e.provides)),e=e.parent;return t},skipChange(e,t,i){if(this.gridReadyFired&&e==="rowData"&&this.$attrs[oW]){if(t===i)return!0;if(t&&i){const s=t,r=i;if(s.length===r.length){for(let n=0;n<s.length;n++)if(s[n]!==r[n])return!1;return!0}}}return!1},debounce(e,t){let i;return()=>{const s=function(){e()};window.clearTimeout(i),i=window.setTimeout(s,t)}}},mounted(){this.emitRowModel=this.debounce(()=>{this.$emit(OLe,Object.freeze(this.getRowData()))},20);const e=this.getProvides(),t=new PLe(this,e),i=KR(Oc.combineAttributesAndGridOptions(fE(this.gridOptions),this));this.checkForBindingConflicts();const s=this.getRowDataBasedOnBindings();s!==Oc.VUE_OMITTED_PROPERTY&&(i.rowData=s&&(Object.isFrozen(s)?s:KR(fE(s))));const r={globalEventListener:this.globalEventListenerFactory().bind(this),globalSyncEventListener:this.globalEventListenerFactory(!0).bind(this),frameworkOverrides:new MLe(this),providedBeanInstances:{frameworkComponentWrapper:t},modules:this.modules};this.api=iLe(this.$el,i,r),this.gridCreated=!0},unmounted(){var e;this.gridCreated&&((e=this.api)==null||e.destroy(),this.isDestroyed=!0)}});/*! Bundled license information:

@vue/shared/dist/shared.esm-bundler.js:
  (**
  * @vue/shared v3.4.21
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)

@vue/reactivity/dist/reactivity.esm-bundler.js:
  (**
  * @vue/reactivity v3.4.21
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)
*/const GLe={ru:{table:{headerRow:"",id:"id",page:"C",name:"",namePage:" c",shortName:" ",structure:"",comment:"K",change:"",graphicName:" ",startTime:" ",endTime:" ",comment:"",startingDay:" ",startingTime:" ",endingDay:" ",endingTime:" ",login:"",phone:"",userName:".. ",parameters:"",graphictimes:" ",interval:"",min:"",max:"",value:"",input:"",output:"",user:"",OrderNumber:" ",numberpage:" ",want:" ",be:" ",operator:"O"},menu:{home:" ",dashboard:" ",factory:"",structure:"",blogs:"",units:" ",graphics:"",graphictimes:" ",paramgraphics:" ",paramtypes:" ",servers:"C",params:"",sources:"",changes:"",vparams:" ",users:"",logout:"",timer:"",edit:"",lists:"C",pages:"",formula:"",document:"",term:"",create_document:" o",operator_count:" ",groups:"",static:" "},buttons:{save:"",cancel:""},modals:{addUnitTitle:"  ",addFormula:"  ",addPageTitle:" c",addPageGroup:"Yangi guruh yaratish",viewPage:" ",addStructureTitle:"  ",addBlogTitle:"  ",addGraphicTitle:"  ",addGraphicTimesTitle:"  ",addParamTypesTitle:"  ",addParamsTitle:" ",addParamsGrafTitle:"  ",addSourceTitle:" ",addChangeTitle:" ",addUserTitle:"  ",editFactory:" ",editSectionInfo:"",apply:"",title:" ",restart:"   ",startTime:" ",endTime:" ",message:" ,     ?      .",messageRestart:"       zzzz1111*?",cancel:"",ordernumber:" "},form:{name:"  ",nameRus:"  ",shortName:"   ",shortNameRus:"   ",comment:"",structureName:" ",selectGraphic:" ",selectChange:" ",startTime:" ",endTime:" ",requiredField:" ",userName:".. ",userPhone:" ",login:"",tabel:" ",password:"",wincc:"WinCC",numberpage:" "},validation:{requiredField:",   "},login:{titlePage:' ""',plantName:"3-  ",title:"",submitButton:"",errorMessage:"   ",successMessage:" !"},vuestic:{reset:"",toggleDropdown:"",select:"",noOptions:"",switchView:"",nextPeriod:"",previousPeriod:"",cancel:"",step:"",close:"",selectedTime:"",resetTime:""},language:{uz:"O'zbek",ru:"Russian"}},uz:{table:{id:"id",page:"Sahifa",namePage:"Sahifa nomlanishi",headerRow:"",name:"Nomlanishi",shortName:"Qisqa nomi",structure:"Sex",comment:"Izoh",graphicName:"Grafik Nomi",startTime:"Boshlanish vaqti",endTime:"Tugash vaqti",startingDay:"Boshlanish kuni",startingTime:"Boshlanish soati",endingDay:"Tugash kuni",endingTime:"Tugash soati",change:"Smena",login:"Login",phone:"Telefon raqami",userName:"Foydalanuvchi F.I.Sh",serialNumber:"T/r",gtId:"GTid",shift:"Smena",parameters:"Parametrlar",graphictimes:"Grafik vaqti",interval:"Oraliq",min:"Min",max:"Max",value:"Qiymat",input:"Kiritlgan",output:"Qolgan",user:"Foydalanuvchi",OrderNumber:"Tartib raqami",numberpage:"Tartib raqami",want:"Umumiy soni",be:"Kiritilgan",operator:"Operator"},menu:{home:"Bosh sahifa",dashboard:"Boshqaruv paneli",factory:"Zavod",structure:"Sexlar",blogs:"Uchastkalar",units:"O'lchov birliklari",graphics:"Grafiklar",graphictimes:"Grafik vaqtlari",paramgraphics:"Parametrlar grafiklari",paramtypes:"Parametr turlari",servers:"Serverlar",params:"Parametrlar",sources:"Manbalar",changes:"Smena",vparams:"Parametr qiymatlari vertical",vparamsHorizontal:"Parametr qiymatlari gorizontal",users:"Foydalanuvchilar",logout:"Chiqish",timer:"Vaqt",edit:"Tahrirlash",lists:"Ma'lumotnomalar",pages:"Sahifalar",formula:"Formula",document:"Hisobot",term:"Muddatlar",create_document:"Hisobot yaratish",operator_count:"Operator hisoboti",groups:"Guruhlar",static:"Static parametrlar"},buttons:{save:"Saqlash",cancel:"Bekor qilish"},modals:{addUnitTitle:"O'lchov birliklarini kiritish",addFormula:"Yangi formula yaratish",addPageTitle:"Yangi sahifa yaratish",addPageGroup:"Yangi guruh yaratish",viewPage:"Korish",addStructureTitle:"Yangi sex yaratish",addBlogTitle:"Yangi bo'linma yaratish",addGraphicTitle:"Grafik vaqtini yaratish",addGraphicTimesTitle:"Grafik vaqtlarini kiritish",addParamsTitle:"Parametr yaratish",addParamsGrafTitle:"Parametr grafikini yaratish",addSourceTitle:"Manba yaratish",addChangeTitle:"Smena yaratish",addUserTitle:"Yangi foydalanuvchi yaratish",editFactory:"Ma`lumotni tahrirlash",apply:"Tasdiqlash",title:"Ma'lumotni o'chirish",restart:"Login va parolni yangilash",message:"Bu ma'lumotni o'chirishni xohlaysizmi? Ushbu ma`lumotlarni tiklab bo'lmaydi.",messageRestart:"Foydalanuvchi login va parolini zzzz1111* ga o'zgartirishni amalga ochirmoqchimisiz?",cancel:"Bekor qilish",startTime:"Joriy etish vaqti",endTime:"Bekor qilish vaqti",ordernumber:"Tartib raqami"},form:{name:"Nomlanishi Ozbek tilida",nameRus:"Nomlanishi Rus tilida",shortName:"Qisqa nomi Ozbek tilida",shortNameRus:"Qisqa nomi Rus tilida",comment:"Izoh",structureName:"Sex",selectGraphic:"Grafik",selectChange:"Smena",startTime:"Boshlanish vaqti",endTime:"Tugash vaqti",requiredField:"To'ldirish majburiy bo'lgan maydon",userName:"Foydalanuvchi F.I.Sh",userPhone:"Foydalanuvchi telefon raqami",login:"Login",tabel:"Tabel raqami",password:"Parol",wincc:"WinCC",numberpage:"Sahifa raqami"},validation:{requiredField:"To'ldirish majburiy bo'lgan maydon"},login:{titlePage:'"NKMK" AJ',plantName:"3-Gidrometallurgiya zavodi",title:"Kirish",submitButton:"Kirish",errorMessage:"Login yoki parol xato",successMessage:"Muvafaqiyatli bajarildi!"},vuestic:{reset:"",toggleDropdown:"",select:"",noOptions:"",switchView:"",nextPeriod:"",previousPeriod:"",cancel:"",step:"",close:"",selectedTime:"",resetTime:""},language:{uz:"O'zbek",ru:""}}};var hKe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $q(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function HLe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var i=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(i,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),i}var YR,aW;function $Le(){return aW||(aW=1,YR=function(e){function t(s){if(i[s])return i[s].exports;var r=i[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(s,r,n){t.o(s,r)||Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return t.d(r,"a",r),r},t.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},t.p="dist/",t(t.s=0)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var s=i(1),r=function(n){return n&&n.__esModule?n:{default:n}}(s);t.default=r.default},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var s=i(3),r=i.n(s),n=i(5),o=i(6),a=i(7),l=i.n(a),c={name:"input-mask",props:{mask:{type:String,required:!0},value:{type:String,default:null},maskChar:{type:String,default:void 0},formatChars:{type:Object,default:null},defaultValue:{type:[String,Number],default:""},alwaysShowMask:{type:Boolean,default:!1}},computed:{config:function(){return{mask:this.mask,maskChar:this.maskChar,formatChars:this.formatChars,defaultValue:this.defaultValue,alwaysShowMask:this.alwaysShowMask}}},watch:{value:function(C,S){if(C!==S){var _=Object(o.formatValue)(this.maskOptions,C||"");this.getInputValue()!==_&&(this.setInputValue(_),this.$emit("input",Object(o.isEmpty)(this.maskOptions,this.elValue)?"":_))}},config:{deep:!0,handler:function(C,S){if(this.hasValue=this.value!=null,this.maskOptions=r()(C.mask,C.maskChar,C.formatChars),!this.maskOptions.mask)return this.backspaceOrDeleteRemoval=null,void(this.lastCursorPos=null);var _=this.maskOptions.mask&&this.maskOptions.mask!==S.mask,x=C.alwaysShowMask||this.isFocused(),A=this.hasValue?this.getStringValue(this.value):this.value;if(S.mask||this.hasValue||(A=this.getInputDOMNode().value),(_||this.maskOptions.mask&&(A||x))&&(A=Object(o.formatValue)(this.maskOptions,A),_)){var R=this.lastCursorPos,O=Object(o.getFilledLength)(this.maskOptions,A);(R===null||O<R)&&(R=Object(o.isFilled)(this.maskOptions,A)?O:this.getRightEditablePos(O),this.setCursorPos(R))}!this.maskOptions.mask||!Object(o.isEmpty)(this.maskOptions,A)||x||this.hasValue&&this.value||(A=""),this.elValue=A,this.elValue!==this.value&&this.$emit("input",this.elValue)}}},data:function(){return{isAndroidBrowser:Object(n.isAndroidBrowser)(),isWindowsPhoneBrowser:Object(n.isWindowsPhoneBrowser)(),isAndroidFirefox:Object(n.isAndroidFirefox)(),lastCursorPos:null,backspaceOrDeleteRemoval:null,focused:!1,maskOptions:null,hasValue:!0,elValue:this.value,changeTriggered:!1}},created:function(){this.hasValue=this.elValue!=null,this.maskOptions=r()(this.mask,this.maskChar,this.formatChars),this.defaultValue==null&&(this.defaultValue=""),this.elValue==null&&(this.elValue=this.defaultValue),this.elValue=this.getStringValue(this.elValue),this.maskOptions.mask&&(this.alwaysShowMask||this.elValue)&&(this.elValue=Object(o.formatValue)(this.maskOptions,this.elValue),this.value!==this.elValue&&this.$emit("input",this.elValue))},mounted:function(){this.updateValue()},beforeUpdate:function(){this.updateValue()},methods:{updateValue:function(){this.maskOptions.mask&&this.getInputValue()!==this.elValue&&this.setInputValue(this.elValue)},getInputDOMNode:function(){return this.$refs.input},getInputValue:function(){var C=this.getInputDOMNode();return C?C.value:null},setInputValue:function(C){var S=this.getInputDOMNode();S&&(this.elValue=C,S.value=C)},getLeftEditablePos:function(C){for(var S=C;S>=0;--S)if(!Object(o.isPermanentChar)(this.maskOptions,S))return S;return null},getRightEditablePos:function(C){for(var S=this.maskOptions.mask,_=C;_<S.length;++_)if(!Object(o.isPermanentChar)(this.maskOptions,_))return _;return null},setCursorToEnd:function(){var C=Object(o.getFilledLength)(this.maskOptions,this.elValue),S=this.getRightEditablePos(C);S!==null&&this.setCursorPos(S)},setSelection:function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=this.getInputDOMNode();if(_){var x=C+S;if("selectionStart"in _&&"selectionEnd"in _)_.selectionStart=C,_.selectionEnd=x;else{var A=_.createTextRange();A.collapse(!0),A.moveStart("character",C),A.moveEnd("character",x-C),A.select()}}},getSelection:function(){var C=this.getInputDOMNode(),S=0,_=0;if("selectionStart"in C&&"selectionEnd"in C)S=C.selectionStart,_=C.selectionEnd;else{var x=document.selection.createRange();x.parentElement()===C&&(S=-x.moveStart("character",-C.value.length),_=-x.moveEnd("character",-C.value.length))}return{start:S,end:_,length:_-S}},getCursorPos:function(){return this.getSelection().start},setCursorPos:function(C){var S=this;this.setSelection(C,0),l()(function(){S.setSelection(C,0)}),this.lastCursorPos=C},isFocused:function(){return this.focused},getStringValue:function(C){return C||C===0?C+"":""},onKeyDown:function(C){this.backspaceOrDeleteRemoval=null,this.$emit("keydown",C);var S=C.key,_=C.ctrlKey,x=C.metaKey,A=C.defaultPrevented;if(!(_||x||A||S!=="Backspace"&&S!=="Delete")){var R=this.getSelection();if(!(S==="Backspace"&&R.end>0||S==="Delete"&&this.elValue.length>R.start))return;this.backspaceOrDeleteRemoval={key:S,selection:this.getSelection()}}},onChange:function(C){var S=this,_=this.beforePasteState,x=this.maskOptions,A=x.mask,R=x.maskChar,O=x.lastEditablePos,k=x.prefix,F=this.getInputValue(),N=this.changeTriggered;if(this.changeTriggered=!0,_)return this.beforePasteState=null,void this.pasteText(_.value,F,_.selection,C);var j=this.elValue,ee=this.getInputDOMNode();try{typeof ee.matches=="function"&&ee.matches(":-webkit-autofill")}catch{}var K,Q,be=this.getSelection(),te=be.end,ne=A.length,H=F.length,ie=j.length;if(ie===0&&H>0&&!N)return this.setInputValue(Object(o.formatValue)(this.maskOptions,F||"")),void this.$emit("input",F);if(this.backspaceOrDeleteRemoval){var ue=this.backspaceOrDeleteRemoval.key==="Delete";if(F=this.elValue,be=this.backspaceOrDeleteRemoval.selection,te=be.start,this.backspaceOrDeleteRemoval=null,be.length)F=Object(o.clearRange)(this.maskOptions,F,be.start,be.length);else if(be.start<k.length||!ue&&be.start===k.length)te=k.length;else{var Te=ue?this.getRightEditablePos(te):this.getLeftEditablePos(te-1);Te!==null&&(R||(F=F.substr(0,Object(o.getFilledLength)(this.maskOptions,F))),F=Object(o.clearRange)(this.maskOptions,F,Te,1),te=Te)}}else if(H>ie){var Ie=H-ie,he=be.end-Ie;Q=F.substr(he,Ie),te=he<O&&(Ie!==1||Q!==A[he])?this.getRightEditablePos(he):he,F=F.substr(0,he)+F.substr(he+Ie),K=Object(o.clearRange)(this.maskOptions,F,he,ne-he),K=Object(o.insertString)(this.maskOptions,K,Q,te),F=Object(o.insertString)(this.maskOptions,j,Q,te),Ie!==1||te>=k.length&&te<O?(te=Math.max(Object(o.getFilledLength)(this.maskOptions,K),te))<O&&(te=this.getRightEditablePos(te)):te<O&&te++}else if(H<ie){var Ee=ne-H;Q=F.substr(0,be.end);var Y=Q===j.substr(0,be.end);K=Object(o.clearRange)(this.maskOptions,j,be.end,Ee),R&&(F=Object(o.insertString)(this.maskOptions,K,Q,0)),K=Object(o.clearRange)(this.maskOptions,K,be.end,ne-be.end),K=Object(o.insertString)(this.maskOptions,K,Q,0),Y?te<k.length&&(te=k.length):(te=Math.max(Object(o.getFilledLength)(this.maskOptions,K),te))<O&&(te=this.getRightEditablePos(te))}F=Object(o.formatValue)(this.maskOptions,F),this.setInputValue(F),this.$emit("input",F),this.isWindowsPhoneBrowser?l()(function(){S.setSelection(te,0)}):this.setCursorPos(te)},onFocus:function(C){if(this.focused=!0,this.maskOptions.mask)if(this.elValue)Object(o.getFilledLength)(this.maskOptions,this.elValue)<this.maskOptions.mask.length&&this.setCursorToEnd();else{var S=this.maskOptions.prefix,_=Object(o.formatValue)(this.maskOptions,S),x=Object(o.formatValue)(this.maskOptions,_),A=x!==C.target.value;A&&(C.target.value=x),this.elValue=x,A&&this.$emit("input",_),this.setCursorToEnd()}this.$emit("focus",C)},onBlur:function(C){this.focused=!1,this.maskOptions.mask&&!this.alwaysShowMask&&Object(o.isEmpty)(this.maskOptions,this.elValue)&&this.getInputValue()!==""&&(this.setInputValue(""),this.$emit("input","")),this.$emit("blur",C)},onPaste:function(C){this.$emit("paste",C),C.defaultPrevented||(this.beforePasteState={value:this.getInputValue(),selection:this.getSelection()},this.setInputValue(""))},pasteText:function(C,S,_,x){var A=_.start;_.length&&(C=Object(o.clearRange)(this.maskOptions,C,A,_.length));var R=Object(o.getInsertStringLength)(this.maskOptions,C,S,A);C=Object(o.insertString)(this.maskOptions,C,S,A),A+=R,A=this.getRightEditablePos(A)||A,this.setInputValue(C),x&&this.$emit("input",C),this.setCursorPos(A)}}},u=function(){var C=this,S=C.$createElement;return(C._self._c||S)("input",{ref:"input",on:{focus:C.onFocus,blur:C.onBlur,paste:C.onPaste,keydown:C.onKeyDown,input:function(_){if(!("button"in _)&&C._k(_.keyCode,"lazy",void 0,_.key))return null;C.onChange(_)}}})},h=[],f={render:u,staticRenderFns:h},p=f,y=i(2),v=y(c,p,!1,null,null,null);t.default=v.exports},function(e,t){e.exports=function(i,s,r,n,o,a){var l,c=i=i||{},u=typeof i.default;u!=="object"&&u!=="function"||(l=i,c=i.default);var h=typeof c=="function"?c.options:c;s&&(h.render=s.render,h.staticRenderFns=s.staticRenderFns,h._compiled=!0),r&&(h.functional=!0),o&&(h._scopeId=o);var f;if(a?(f=function(v){v=v||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,v||typeof __VUE_SSR_CONTEXT__>"u"||(v=__VUE_SSR_CONTEXT__),n&&n.call(this,v),v&&v._registeredComponents&&v._registeredComponents.add(a)},h._ssrRegister=f):n&&(f=n),f){var p=h.functional,y=p?h.render:h.beforeCreate;p?(h._injectStyles=f,h.render=function(v,C){return f.call(C),y(v,C)}):h.beforeCreate=y?[].concat(y,f):[f]}return{esModule:l,exports:c,options:h}}},function(e,t,i){function s(n,o,a){if(o===void 0&&(o=r.defaultMaskChar),a==null&&(a=r.defaultCharsRules),!n||typeof n!="string")return{maskChar:o,charsRules:a,mask:null,prefix:null,lastEditablePos:null,permanents:[]};var l="",c="",u=[],h=!1,f=null;return n.split("").forEach(function(p){h||p!=="\\"?(h||!a[p]?(u.push(l.length),l.length===u.length-1&&(c+=p)):f=l.length+1,l+=p,h=!1):h=!0}),{maskChar:o,charsRules:a,prefix:c,mask:l,lastEditablePos:f,permanents:u}}t.__esModule=!0,t.default=s;var r=i(4);e.exports=t.default},function(e,t,i){t.__esModule=!0,t.defaultMaskChar=t.defaultCharsRules=void 0;var s={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};t.defaultCharsRules=s,t.defaultMaskChar="_"},function(e,t,i){function s(){var a=new RegExp("windows","i"),l=new RegExp("firefox","i"),c=new RegExp("android","i"),u=navigator.userAgent;return!a.test(u)&&!l.test(u)&&c.test(u)}function r(){var a=new RegExp("windows","i"),l=new RegExp("phone","i"),c=navigator.userAgent;return a.test(c)&&l.test(c)}function n(){var a=new RegExp("windows","i"),l=new RegExp("firefox","i"),c=new RegExp("android","i"),u=navigator.userAgent;return!a.test(u)&&l.test(u)&&c.test(u)}function o(){var a=new RegExp("windows","i"),l=new RegExp("(ipod|iphone|ipad)","i"),c=navigator.userAgent;return!a.test(c)&&l.test(c)}t.__esModule=!0,t.isAndroidBrowser=s,t.isWindowsPhoneBrowser=r,t.isAndroidFirefox=n,t.isIOS=o},function(e,t,i){function s(f,p){return f.permanents.indexOf(p)!==-1}function r(f,p,y){var v=f.mask,C=f.charsRules;if(!y)return!1;if(s(f,p))return v[p]===y;var S=v[p],_=C[S];return new RegExp(_).test(y)}function n(f,p){return p.split("").every(function(y,v){return s(f,v)||!r(f,v,y)})}function o(f,p){var y=f.maskChar,v=f.prefix;if(!y){for(;p.length>v.length&&s(f,p.length-1);)p=p.slice(0,p.length-1);return p.length}for(var C=v.length,S=p.length;S>=v.length;S--){var _=p[S];if(!s(f,S)&&r(f,S,_)){C=S+1;break}}return C}function a(f,p){return o(f,p)===f.mask.length}function l(f,p){var y=f.maskChar,v=f.mask,C=f.prefix;if(!y){for(p=u(f,"",p,0),p.length<C.length&&(p=C);p.length<v.length&&s(f,p.length);)p+=v[p.length];return p}if(p)return u(f,l(f,""),p,0);for(var S=0;S<v.length;S++)s(f,S)?p+=v[S]:p+=y;return p}function c(f,p,y,v){var C=y+v,S=f.maskChar,_=f.mask,x=f.prefix,A=p.split("");if(!S){for(var R=C;R<A.length;R++)s(f,R)&&(A[R]="");return y=Math.max(x.length,y),A.splice(y,C-y),p=A.join(""),l(f,p)}return A.map(function(O,k){return k<y||k>=C?O:s(f,k)?_[k]:S}).join("")}function u(f,p,y,v){var C=f.mask,S=f.maskChar,_=f.prefix,x=y.split(""),A=a(f,p),R=function(k,F){return!s(f,k)||F===C[k]},O=function(k,F){return!S||!s(f,F)||k!==S};return!S&&v>p.length&&(p+=C.slice(p.length,v)),x.every(function(k){for(;!R(v,k);){if(v>=p.length&&(p+=C[v]),!O(k,v))return!0;if(++v>=C.length)return!1}return!r(f,v,k)&&k!==S||(v<p.length?S||A||v<_.length?p=p.slice(0,v)+k+p.slice(v+1):(p=p.slice(0,v)+k+p.slice(v),p=l(f,p)):S||(p+=k),++v<C.length)}),p}function h(f,p,y,v){var C=f.mask,S=f.maskChar,_=y.split(""),x=v,A=function(R,O){return!s(f,R)||O===C[R]};return _.every(function(R){for(;!A(v,R);)if(++v>=C.length)return!1;return(r(f,v,R)||R===S)&&v++,v<C.length}),v-x}t.__esModule=!0,t.isPermanentChar=s,t.isAllowedChar=r,t.isEmpty=n,t.getFilledLength=o,t.isFilled=a,t.formatValue=l,t.clearRange=c,t.insertString=u,t.getInsertStringLength=h},function(e,t,i){function s(r){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(){return setTimeout(r,0)})(r)}t.__esModule=!0,t.default=s,e.exports=t.default}])),YR}var WLe=$Le();const ULe=$q(WLe);var XR={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var lW;function zLe(){return lW||(lW=1,function(e,t){(function(s,r){e.exports=r()})(window,function(){return function(i){var s={};function r(n){if(s[n])return s[n].exports;var o=s[n]={i:n,l:!1,exports:{}};return i[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=i,r.c=s,r.d=function(n,o,a){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:a})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(o&1&&(n=r(n)),o&8||o&4&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),o&2&&typeof n!="string")for(var l in n)r.d(a,l,(function(c){return n[c]}).bind(null,l));return a},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=2)}([function(i,s,r){var n=this&&this.__extends||function(){var v=function(C,S){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var A in x)x.hasOwnProperty(A)&&(_[A]=x[A])},v(C,S)};return function(C,S){v(C,S);function _(){this.constructor=C}C.prototype=S===null?Object.create(S):(_.prototype=S.prototype,new _)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=256,a=function(){function v(C){C===void 0&&(C="="),this._paddingCharacter=C}return v.prototype.encodedLength=function(C){return this._paddingCharacter?(C+2)/3*4|0:(C*8+5)/6|0},v.prototype.encode=function(C){for(var S="",_=0;_<C.length-2;_+=3){var x=C[_]<<16|C[_+1]<<8|C[_+2];S+=this._encodeByte(x>>>18&63),S+=this._encodeByte(x>>>12&63),S+=this._encodeByte(x>>>6&63),S+=this._encodeByte(x>>>0&63)}var A=C.length-_;if(A>0){var x=C[_]<<16|(A===2?C[_+1]<<8:0);S+=this._encodeByte(x>>>18&63),S+=this._encodeByte(x>>>12&63),A===2?S+=this._encodeByte(x>>>6&63):S+=this._paddingCharacter||"",S+=this._paddingCharacter||""}return S},v.prototype.maxDecodedLength=function(C){return this._paddingCharacter?C/4*3|0:(C*6+7)/8|0},v.prototype.decodedLength=function(C){return this.maxDecodedLength(C.length-this._getPaddingLength(C))},v.prototype.decode=function(C){if(C.length===0)return new Uint8Array(0);for(var S=this._getPaddingLength(C),_=C.length-S,x=new Uint8Array(this.maxDecodedLength(_)),A=0,R=0,O=0,k=0,F=0,N=0,j=0;R<_-4;R+=4)k=this._decodeChar(C.charCodeAt(R+0)),F=this._decodeChar(C.charCodeAt(R+1)),N=this._decodeChar(C.charCodeAt(R+2)),j=this._decodeChar(C.charCodeAt(R+3)),x[A++]=k<<2|F>>>4,x[A++]=F<<4|N>>>2,x[A++]=N<<6|j,O|=k&o,O|=F&o,O|=N&o,O|=j&o;if(R<_-1&&(k=this._decodeChar(C.charCodeAt(R)),F=this._decodeChar(C.charCodeAt(R+1)),x[A++]=k<<2|F>>>4,O|=k&o,O|=F&o),R<_-2&&(N=this._decodeChar(C.charCodeAt(R+2)),x[A++]=F<<4|N>>>2,O|=N&o),R<_-3&&(j=this._decodeChar(C.charCodeAt(R+3)),x[A++]=N<<6|j,O|=j&o),O!==0)throw new Error("Base64Coder: incorrect characters for decoding");return x},v.prototype._encodeByte=function(C){var S=C;return S+=65,S+=25-C>>>8&6,S+=51-C>>>8&-75,S+=61-C>>>8&-15,S+=62-C>>>8&3,String.fromCharCode(S)},v.prototype._decodeChar=function(C){var S=o;return S+=(42-C&C-44)>>>8&-o+C-43+62,S+=(46-C&C-48)>>>8&-o+C-47+63,S+=(47-C&C-58)>>>8&-o+C-48+52,S+=(64-C&C-91)>>>8&-o+C-65+0,S+=(96-C&C-123)>>>8&-o+C-97+26,S},v.prototype._getPaddingLength=function(C){var S=0;if(this._paddingCharacter){for(var _=C.length-1;_>=0&&C[_]===this._paddingCharacter;_--)S++;if(C.length<4||S>2)throw new Error("Base64Coder: incorrect padding")}return S},v}();s.Coder=a;var l=new a;function c(v){return l.encode(v)}s.encode=c;function u(v){return l.decode(v)}s.decode=u;var h=function(v){n(C,v);function C(){return v!==null&&v.apply(this,arguments)||this}return C.prototype._encodeByte=function(S){var _=S;return _+=65,_+=25-S>>>8&6,_+=51-S>>>8&-75,_+=61-S>>>8&-13,_+=62-S>>>8&49,String.fromCharCode(_)},C.prototype._decodeChar=function(S){var _=o;return _+=(44-S&S-46)>>>8&-o+S-45+62,_+=(94-S&S-96)>>>8&-o+S-95+63,_+=(47-S&S-58)>>>8&-o+S-48+52,_+=(64-S&S-91)>>>8&-o+S-65+0,_+=(96-S&S-123)>>>8&-o+S-97+26,_},C}(a);s.URLSafeCoder=h;var f=new h;function p(v){return f.encode(v)}s.encodeURLSafe=p;function y(v){return f.decode(v)}s.decodeURLSafe=y,s.encodedLength=function(v){return l.encodedLength(v)},s.maxDecodedLength=function(v){return l.maxDecodedLength(v)},s.decodedLength=function(v){return l.decodedLength(v)}},function(i,s,r){Object.defineProperty(s,"__esModule",{value:!0});var n="utf8: invalid string",o="utf8: invalid source encoding";function a(u){for(var h=new Uint8Array(l(u)),f=0,p=0;p<u.length;p++){var y=u.charCodeAt(p);y<128?h[f++]=y:y<2048?(h[f++]=192|y>>6,h[f++]=128|y&63):y<55296?(h[f++]=224|y>>12,h[f++]=128|y>>6&63,h[f++]=128|y&63):(p++,y=(y&1023)<<10,y|=u.charCodeAt(p)&1023,y+=65536,h[f++]=240|y>>18,h[f++]=128|y>>12&63,h[f++]=128|y>>6&63,h[f++]=128|y&63)}return h}s.encode=a;function l(u){for(var h=0,f=0;f<u.length;f++){var p=u.charCodeAt(f);if(p<128)h+=1;else if(p<2048)h+=2;else if(p<55296)h+=3;else if(p<=57343){if(f>=u.length-1)throw new Error(n);f++,h+=4}else throw new Error(n)}return h}s.encodedLength=l;function c(u){for(var h=[],f=0;f<u.length;f++){var p=u[f];if(p&128){var y=void 0;if(p<224){if(f>=u.length)throw new Error(o);var v=u[++f];if((v&192)!==128)throw new Error(o);p=(p&31)<<6|v&63,y=128}else if(p<240){if(f>=u.length-1)throw new Error(o);var v=u[++f],C=u[++f];if((v&192)!==128||(C&192)!==128)throw new Error(o);p=(p&15)<<12|(v&63)<<6|C&63,y=2048}else if(p<248){if(f>=u.length-2)throw new Error(o);var v=u[++f],C=u[++f],S=u[++f];if((v&192)!==128||(C&192)!==128||(S&192)!==128)throw new Error(o);p=(p&15)<<18|(v&63)<<12|(C&63)<<6|S&63,y=65536}else throw new Error(o);if(p<y||p>=55296&&p<=57343)throw new Error(o);if(p>=65536){if(p>1114111)throw new Error(o);p-=65536,h.push(String.fromCharCode(55296|p>>10)),p=56320|p&1023}}h.push(String.fromCharCode(p))}return h.join("")}s.decode=c},function(i,s,r){i.exports=r(3).default},function(i,s,r){r.r(s);class n{constructor(W,se){this.lastId=0,this.prefix=W,this.name=se}create(W){this.lastId++;var se=this.lastId,Pe=this.prefix+se,ze=this.name+"["+se+"]",Pt=!1,qt=function(){Pt||(W.apply(null,arguments),Pt=!0)};return this[se]=qt,{number:se,id:Pe,name:ze,callback:qt}}remove(W){delete this[W.number]}}var o=new n("_pusher_script_","Pusher.ScriptReceivers"),a={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},l=a;class c{constructor(W){this.options=W,this.receivers=W.receivers||o,this.loading={}}load(W,se,Pe){var ze=this;if(ze.loading[W]&&ze.loading[W].length>0)ze.loading[W].push(Pe);else{ze.loading[W]=[Pe];var Pt=Yi.createScriptRequest(ze.getPath(W,se)),qt=ze.receivers.create(function(Ci){if(ze.receivers.remove(qt),ze.loading[W]){var qi=ze.loading[W];delete ze.loading[W];for(var Bs=function(hn){hn||Pt.cleanup()},sr=0;sr<qi.length;sr++)qi[sr](Ci,Bs)}});Pt.send(qt)}}getRoot(W){var se,Pe=Yi.getDocument().location.protocol;return W&&W.useTLS||Pe==="https:"?se=this.options.cdn_https:se=this.options.cdn_http,se.replace(/\/*$/,"")+"/"+this.options.version}getPath(W,se){return this.getRoot(se)+"/"+W+this.options.suffix+".js"}}var u=new n("_pusher_dependencies","Pusher.DependenciesReceivers"),h=new c({cdn_http:l.cdn_http,cdn_https:l.cdn_https,version:l.VERSION,suffix:l.dependency_suffix,receivers:u});const f={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var y={buildLogSuffix:function(re){const W="See:",se=f.urls[re];if(!se)return"";let Pe;return se.fullUrl?Pe=se.fullUrl:se.path&&(Pe=f.baseUrl+se.path),Pe?`${W} ${Pe}`:""}},v;(function(re){re.UserAuthentication="user-authentication",re.ChannelAuthorization="channel-authorization"})(v||(v={}));class C extends Error{constructor(W){super(W),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(W){super(W),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(W){super(W),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(W){super(W),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(W){super(W),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(W){super(W),Object.setPrototypeOf(this,new.target.prototype)}}class O extends Error{constructor(W){super(W),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(W){super(W),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(W,se){super(se),this.status=W,Object.setPrototypeOf(this,new.target.prototype)}}var j=function(re,W,se,Pe,ze){const Pt=Yi.createXHR();Pt.open("POST",se.endpoint,!0),Pt.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var qt in se.headers)Pt.setRequestHeader(qt,se.headers[qt]);if(se.headersProvider!=null){let Ci=se.headersProvider();for(var qt in Ci)Pt.setRequestHeader(qt,Ci[qt])}return Pt.onreadystatechange=function(){if(Pt.readyState===4)if(Pt.status===200){let Ci,qi=!1;try{Ci=JSON.parse(Pt.responseText),qi=!0}catch{ze(new F(200,`JSON returned from ${Pe.toString()} endpoint was invalid, yet status code was 200. Data was: ${Pt.responseText}`),null)}qi&&ze(null,Ci)}else{let Ci="";switch(Pe){case v.UserAuthentication:Ci=y.buildLogSuffix("authenticationEndpoint");break;case v.ChannelAuthorization:Ci=`Clients must be authorized to join private or presence channels. ${y.buildLogSuffix("authorizationEndpoint")}`;break}ze(new F(Pt.status,`Unable to retrieve auth string from ${Pe.toString()} endpoint - received status: ${Pt.status} from ${se.endpoint}. ${Ci}`),null)}},Pt.send(W),Pt};function ee(re){return H(te(re))}var K=String.fromCharCode,Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",be=function(re){var W=re.charCodeAt(0);return W<128?re:W<2048?K(192|W>>>6)+K(128|W&63):K(224|W>>>12&15)+K(128|W>>>6&63)+K(128|W&63)},te=function(re){return re.replace(/[^\x00-\x7F]/g,be)},ne=function(re){var W=[0,2,1][re.length%3],se=re.charCodeAt(0)<<16|(re.length>1?re.charCodeAt(1):0)<<8|(re.length>2?re.charCodeAt(2):0),Pe=[Q.charAt(se>>>18),Q.charAt(se>>>12&63),W>=2?"=":Q.charAt(se>>>6&63),W>=1?"=":Q.charAt(se&63)];return Pe.join("")},H=window.btoa||function(re){return re.replace(/[\s\S]{1,3}/g,ne)};class ie{constructor(W,se,Pe,ze){this.clear=se,this.timer=W(()=>{this.timer&&(this.timer=ze(this.timer))},Pe)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var ue=ie;function Te(re){window.clearTimeout(re)}function Ie(re){window.clearInterval(re)}class he extends ue{constructor(W,se){super(setTimeout,Te,W,function(Pe){return se(),null})}}class Ee extends ue{constructor(W,se){super(setInterval,Ie,W,function(Pe){return se(),Pe})}}var Y={now(){return Date.now?Date.now():new Date().valueOf()},defer(re){return new he(0,re)},method(re,...W){var se=Array.prototype.slice.call(arguments,1);return function(Pe){return Pe[re].apply(Pe,se.concat(arguments))}}},Z=Y;function Se(re,...W){for(var se=0;se<W.length;se++){var Pe=W[se];for(var ze in Pe)Pe[ze]&&Pe[ze].constructor&&Pe[ze].constructor===Object?re[ze]=Se(re[ze]||{},Pe[ze]):re[ze]=Pe[ze]}return re}function ye(){for(var re=["Pusher"],W=0;W<arguments.length;W++)typeof arguments[W]=="string"?re.push(arguments[W]):re.push(yt(arguments[W]));return re.join(" : ")}function ke(re,W){var se=Array.prototype.indexOf;if(re===null)return-1;if(se&&re.indexOf===se)return re.indexOf(W);for(var Pe=0,ze=re.length;Pe<ze;Pe++)if(re[Pe]===W)return Pe;return-1}function Oe(re,W){for(var se in re)Object.prototype.hasOwnProperty.call(re,se)&&W(re[se],se,re)}function He(re){var W=[];return Oe(re,function(se,Pe){W.push(Pe)}),W}function mt(re){var W=[];return Oe(re,function(se){W.push(se)}),W}function we(re,W,se){for(var Pe=0;Pe<re.length;Pe++)W.call(se||window,re[Pe],Pe,re)}function de(re,W){for(var se=[],Pe=0;Pe<re.length;Pe++)se.push(W(re[Pe],Pe,re,se));return se}function pe(re,W){var se={};return Oe(re,function(Pe,ze){se[ze]=W(Pe)}),se}function Ve(re,W){W=W||function(ze){return!!ze};for(var se=[],Pe=0;Pe<re.length;Pe++)W(re[Pe],Pe,re,se)&&se.push(re[Pe]);return se}function Qe(re,W){var se={};return Oe(re,function(Pe,ze){(W&&W(Pe,ze,re,se)||Pe)&&(se[ze]=Pe)}),se}function Ge(re){var W=[];return Oe(re,function(se,Pe){W.push([Pe,se])}),W}function Ze(re,W){for(var se=0;se<re.length;se++)if(W(re[se],se,re))return!0;return!1}function ot(re,W){for(var se=0;se<re.length;se++)if(!W(re[se],se,re))return!1;return!0}function xe(re){return pe(re,function(W){return typeof W=="object"&&(W=yt(W)),encodeURIComponent(ee(W.toString()))})}function Ae(re){var W=Qe(re,function(Pe){return Pe!==void 0}),se=de(Ge(xe(W)),Z.method("join","=")).join("&");return se}function Ke(re){var W=[],se=[];return function Pe(ze,Pt){var qt,Ci,qi;switch(typeof ze){case"object":if(!ze)return null;for(qt=0;qt<W.length;qt+=1)if(W[qt]===ze)return{$ref:se[qt]};if(W.push(ze),se.push(Pt),Object.prototype.toString.apply(ze)==="[object Array]")for(qi=[],qt=0;qt<ze.length;qt+=1)qi[qt]=Pe(ze[qt],Pt+"["+qt+"]");else{qi={};for(Ci in ze)Object.prototype.hasOwnProperty.call(ze,Ci)&&(qi[Ci]=Pe(ze[Ci],Pt+"["+JSON.stringify(Ci)+"]"))}return qi;case"number":case"string":case"boolean":return ze}}(re,"$")}function yt(re){try{return JSON.stringify(re)}catch{return JSON.stringify(Ke(re))}}class Ct{constructor(){this.globalLog=W=>{window.console&&window.console.log&&window.console.log(W)}}debug(...W){this.log(this.globalLog,W)}warn(...W){this.log(this.globalLogWarn,W)}error(...W){this.log(this.globalLogError,W)}globalLogWarn(W){window.console&&window.console.warn?window.console.warn(W):this.globalLog(W)}globalLogError(W){window.console&&window.console.error?window.console.error(W):this.globalLogWarn(W)}log(W,...se){var Pe=ye.apply(this,arguments);op.log?op.log(Pe):op.logToConsole&&W.bind(this)(Pe)}}var ft=new Ct,Je=function(re,W,se,Pe,ze){(se.headers!==void 0||se.headersProvider!=null)&&ft.warn(`To send headers with the ${Pe.toString()} request, you must use AJAX, rather than JSONP.`);var Pt=re.nextAuthCallbackID.toString();re.nextAuthCallbackID++;var qt=re.getDocument(),Ci=qt.createElement("script");re.auth_callbacks[Pt]=function(sr){ze(null,sr)};var qi="Pusher.auth_callbacks['"+Pt+"']";Ci.src=se.endpoint+"?callback="+encodeURIComponent(qi)+"&"+W;var Bs=qt.getElementsByTagName("head")[0]||qt.documentElement;Bs.insertBefore(Ci,Bs.firstChild)},ht=Je;class Yt{constructor(W){this.src=W}send(W){var se=this,Pe="Error loading "+se.src;se.script=document.createElement("script"),se.script.id=W.id,se.script.src=se.src,se.script.type="text/javascript",se.script.charset="UTF-8",se.script.addEventListener?(se.script.onerror=function(){W.callback(Pe)},se.script.onload=function(){W.callback(null)}):se.script.onreadystatechange=function(){(se.script.readyState==="loaded"||se.script.readyState==="complete")&&W.callback(null)},se.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(se.errorScript=document.createElement("script"),se.errorScript.id=W.id+"_error",se.errorScript.text=W.name+"('"+Pe+"');",se.script.async=se.errorScript.async=!1):se.script.async=!0;var ze=document.getElementsByTagName("head")[0];ze.insertBefore(se.script,ze.firstChild),se.errorScript&&ze.insertBefore(se.errorScript,se.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class $e{constructor(W,se){this.url=W,this.data=se}send(W){if(!this.request){var se=Ae(this.data),Pe=this.url+"/"+W.number+"?"+se;this.request=Yi.createScriptRequest(Pe),this.request.send(W)}}cleanup(){this.request&&this.request.cleanup()}}var Me=function(re,W){return function(se,Pe){var ze="http"+(W?"s":"")+"://",Pt=ze+(re.host||re.options.host)+re.options.path,qt=Yi.createJSONPRequest(Pt,se),Ci=Yi.ScriptReceivers.create(function(qi,Bs){o.remove(Ci),qt.cleanup(),Bs&&Bs.host&&(re.host=Bs.host),Pe&&Pe(qi,Bs)});qt.send(Ci)}},qe={name:"jsonp",getAgent:Me},pt=qe;function vt(re,W,se){var Pe=re+(W.useTLS?"s":""),ze=W.useTLS?W.hostTLS:W.hostNonTLS;return Pe+"://"+ze+se}function _i(re,W){var se="/app/"+re,Pe="?protocol="+l.PROTOCOL+"&client=js&version="+l.VERSION+(W?"&"+W:"");return se+Pe}var dr={getInitial:function(re,W){var se=(W.httpPath||"")+_i(re,"flash=false");return vt("ws",W,se)}},gt={getInitial:function(re,W){var se=(W.httpPath||"/pusher")+_i(re);return vt("http",W,se)}},Xt={getInitial:function(re,W){return vt("http",W,W.httpPath||"/pusher")},getPath:function(re,W){return _i(re)}};class Xi{constructor(){this._callbacks={}}get(W){return this._callbacks[$s(W)]}add(W,se,Pe){var ze=$s(W);this._callbacks[ze]=this._callbacks[ze]||[],this._callbacks[ze].push({fn:se,context:Pe})}remove(W,se,Pe){if(!W&&!se&&!Pe){this._callbacks={};return}var ze=W?[$s(W)]:He(this._callbacks);se||Pe?this.removeCallback(ze,se,Pe):this.removeAllCallbacks(ze)}removeCallback(W,se,Pe){we(W,function(ze){this._callbacks[ze]=Ve(this._callbacks[ze]||[],function(Pt){return se&&se!==Pt.fn||Pe&&Pe!==Pt.context}),this._callbacks[ze].length===0&&delete this._callbacks[ze]},this)}removeAllCallbacks(W){we(W,function(se){delete this._callbacks[se]},this)}}function $s(re){return"_"+re}class Ls{constructor(W){this.callbacks=new Xi,this.global_callbacks=[],this.failThrough=W}bind(W,se,Pe){return this.callbacks.add(W,se,Pe),this}bind_global(W){return this.global_callbacks.push(W),this}unbind(W,se,Pe){return this.callbacks.remove(W,se,Pe),this}unbind_global(W){return W?(this.global_callbacks=Ve(this.global_callbacks||[],se=>se!==W),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(W,se,Pe){for(var ze=0;ze<this.global_callbacks.length;ze++)this.global_callbacks[ze](W,se);var Pt=this.callbacks.get(W),qt=[];if(Pe?qt.push(se,Pe):se&&qt.push(se),Pt&&Pt.length>0)for(var ze=0;ze<Pt.length;ze++)Pt[ze].fn.apply(Pt[ze].context||window,qt);else this.failThrough&&this.failThrough(W,se);return this}}class yi extends Ls{constructor(W,se,Pe,ze,Pt){super(),this.initialize=Yi.transportConnectionInitializer,this.hooks=W,this.name=se,this.priority=Pe,this.key=ze,this.options=Pt,this.state="new",this.timeline=Pt.timeline,this.activityTimeout=Pt.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var W=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(W,this.options)}catch(se){return Z.defer(()=>{this.onError(se),this.changeState("closed")}),!1}return this.bindListeners(),ft.debug("Connecting",{transport:this.name,url:W}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(W){return this.state==="open"?(Z.defer(()=>{this.socket&&this.socket.send(W)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(W){this.emit("error",{type:"WebSocketError",error:W}),this.timeline.error(this.buildTimelineMessage({error:W.toString()}))}onClose(W){W?this.changeState("closed",{code:W.code,reason:W.reason,wasClean:W.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(W){this.emit("message",W)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=W=>{this.onError(W)},this.socket.onclose=W=>{this.onClose(W)},this.socket.onmessage=W=>{this.onMessage(W)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(W,se){this.state=W,this.timeline.info(this.buildTimelineMessage({state:W,params:se})),this.emit(W,se)}buildTimelineMessage(W){return Se({cid:this.id},W)}}class Hr{constructor(W){this.hooks=W}isSupported(W){return this.hooks.isSupported(W)}createConnection(W,se,Pe,ze){return new yi(this.hooks,W,se,Pe,ze)}}var bi=new Hr({urls:dr,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Yi.getWebSocketAPI()},isSupported:function(){return!!Yi.getWebSocketAPI()},getSocket:function(re){return Yi.createWebSocket(re)}}),ou={urls:gt,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Pr=Se({getSocket:function(re){return Yi.HTTPFactory.createStreamingSocket(re)}},ou),ad=Se({getSocket:function(re){return Yi.HTTPFactory.createPollingSocket(re)}},ou),ld={isSupported:function(){return Yi.isXHRSupported()}},cd=new Hr(Se({},Pr,ld)),hr=new Hr(Se({},ad,ld)),vh={ws:bi,xhr_streaming:cd,xhr_polling:hr},au=vh,fl=new Hr({file:"sockjs",urls:Xt,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(re,W){return new window.SockJS(re,null,{js_path:h.getPath("sockjs",{useTLS:W.useTLS}),ignore_null_origin:W.ignoreNullOrigin})},beforeOpen:function(re,W){re.send(JSON.stringify({path:W}))}}),lu={isSupported:function(re){var W=Yi.isXDRSupported(re.useTLS);return W}},Fn=new Hr(Se({},Pr,lu)),Bt=new Hr(Se({},ad,lu));au.xdr_streaming=Fn,au.xdr_polling=Bt,au.sockjs=fl;var fe=au;class De extends Ls{constructor(){super();var W=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){W.emit("online")},!1),window.addEventListener("offline",function(){W.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var _e=new De;class Re{constructor(W,se,Pe){this.manager=W,this.transport=se,this.minPingDelay=Pe.minPingDelay,this.maxPingDelay=Pe.maxPingDelay,this.pingDelay=void 0}createConnection(W,se,Pe,ze){ze=Se({},ze,{activityTimeout:this.pingDelay});var Pt=this.transport.createConnection(W,se,Pe,ze),qt=null,Ci=function(){Pt.unbind("open",Ci),Pt.bind("closed",qi),qt=Z.now()},qi=Bs=>{if(Pt.unbind("closed",qi),Bs.code===1002||Bs.code===1003)this.manager.reportDeath();else if(!Bs.wasClean&&qt){var sr=Z.now()-qt;sr<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(sr/2,this.minPingDelay))}};return Pt.bind("open",Ci),Pt}isSupported(W){return this.manager.isAlive()&&this.transport.isSupported(W)}}const Ne={decodeMessage:function(re){try{var W=JSON.parse(re.data),se=W.data;if(typeof se=="string")try{se=JSON.parse(W.data)}catch{}var Pe={event:W.event,channel:W.channel,data:se};return W.user_id&&(Pe.user_id=W.user_id),Pe}catch(ze){throw{type:"MessageParseError",error:ze,data:re.data}}},encodeMessage:function(re){return JSON.stringify(re)},processHandshake:function(re){var W=Ne.decodeMessage(re);if(W.event==="pusher:connection_established"){if(!W.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:W.data.socket_id,activityTimeout:W.data.activity_timeout*1e3}}else{if(W.event==="pusher:error")return{action:this.getCloseAction(W.data),error:this.getCloseError(W.data)};throw"Invalid handshake"}},getCloseAction:function(re){return re.code<4e3?re.code>=1002&&re.code<=1004?"backoff":null:re.code===4e3?"tls_only":re.code<4100?"refused":re.code<4200?"backoff":re.code<4300?"retry":"refused"},getCloseError:function(re){return re.code!==1e3&&re.code!==1001?{type:"PusherError",data:{code:re.code,message:re.reason||re.message}}:null}};var Be=Ne;class lt extends Ls{constructor(W,se){super(),this.id=W,this.transport=se,this.activityTimeout=se.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(W){return this.transport.send(W)}send_event(W,se,Pe){var ze={event:W,data:se};return Pe&&(ze.channel=Pe),ft.debug("Event sent",ze),this.send(Be.encodeMessage(ze))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var W={message:Pe=>{var ze;try{ze=Be.decodeMessage(Pe)}catch(Pt){this.emit("error",{type:"MessageParseError",error:Pt,data:Pe.data})}if(ze!==void 0){switch(ft.debug("Event recd",ze),ze.event){case"pusher:error":this.emit("error",{type:"PusherError",data:ze.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",ze)}},activity:()=>{this.emit("activity")},error:Pe=>{this.emit("error",Pe)},closed:Pe=>{se(),Pe&&Pe.code&&this.handleCloseEvent(Pe),this.transport=null,this.emit("closed")}},se=()=>{Oe(W,(Pe,ze)=>{this.transport.unbind(ze,Pe)})};Oe(W,(Pe,ze)=>{this.transport.bind(ze,Pe)})}handleCloseEvent(W){var se=Be.getCloseAction(W),Pe=Be.getCloseError(W);Pe&&this.emit("error",Pe),se&&this.emit(se,{action:se,error:Pe})}}class Tt{constructor(W,se){this.transport=W,this.callback=se,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=W=>{this.unbindListeners();var se;try{se=Be.processHandshake(W)}catch(Pe){this.finish("error",{error:Pe}),this.transport.close();return}se.action==="connected"?this.finish("connected",{connection:new lt(se.id,this.transport),activityTimeout:se.activityTimeout}):(this.finish(se.action,{error:se.error}),this.transport.close())},this.onClosed=W=>{this.unbindListeners();var se=Be.getCloseAction(W)||"backoff",Pe=Be.getCloseError(W);this.finish(se,{error:Pe})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(W,se){this.callback(Se({transport:this.transport,action:W},se))}}class at{constructor(W,se){this.timeline=W,this.options=se||{}}send(W,se){this.timeline.isEmpty()||this.timeline.send(Yi.TimelineTransport.getAgent(this,W),se)}}class st extends Ls{constructor(W,se){super(function(Pe,ze){ft.debug("No callbacks on "+W+" for "+Pe)}),this.name=W,this.pusher=se,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(W,se){return se(null,{auth:""})}trigger(W,se){if(W.indexOf("client-")!==0)throw new C("Event '"+W+"' does not start with 'client-'");if(!this.subscribed){var Pe=y.buildLogSuffix("triggeringClientEvents");ft.warn(`Client event triggered before channel 'subscription_succeeded' event . ${Pe}`)}return this.pusher.send_event(W,se,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(W){var se=W.event,Pe=W.data;if(se==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(W);else if(se==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(W);else if(se.indexOf("pusher_internal:")!==0){var ze={};this.emit(se,Pe,ze)}}handleSubscriptionSucceededEvent(W){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",W.data)}handleSubscriptionCountEvent(W){W.data.subscription_count&&(this.subscriptionCount=W.data.subscription_count),this.emit("pusher:subscription_count",W.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(W,se)=>{W?(this.subscriptionPending=!1,ft.error(W.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:W.message},W instanceof F?{status:W.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:se.auth,channel_data:se.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class ct extends st{authorize(W,se){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:W},se)}}class Ut{constructor(){this.reset()}get(W){return Object.prototype.hasOwnProperty.call(this.members,W)?{id:W,info:this.members[W]}:null}each(W){Oe(this.members,(se,Pe)=>{W(this.get(Pe))})}setMyID(W){this.myID=W}onSubscription(W){this.members=W.presence.hash,this.count=W.presence.count,this.me=this.get(this.myID)}addMember(W){return this.get(W.user_id)===null&&this.count++,this.members[W.user_id]=W.user_info,this.get(W.user_id)}removeMember(W){var se=this.get(W.user_id);return se&&(delete this.members[W.user_id],this.count--),se}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var ei=function(re,W,se,Pe){function ze(Pt){return Pt instanceof se?Pt:new se(function(qt){qt(Pt)})}return new(se||(se=Promise))(function(Pt,qt){function Ci(sr){try{Bs(Pe.next(sr))}catch(hn){qt(hn)}}function qi(sr){try{Bs(Pe.throw(sr))}catch(hn){qt(hn)}}function Bs(sr){sr.done?Pt(sr.value):ze(sr.value).then(Ci,qi)}Bs((Pe=Pe.apply(re,W||[])).next())})};class ui extends ct{constructor(W,se){super(W,se),this.members=new Ut}authorize(W,se){super.authorize(W,(Pe,ze)=>ei(this,void 0,void 0,function*(){if(!Pe)if(ze=ze,ze.channel_data!=null){var Pt=JSON.parse(ze.channel_data);this.members.setMyID(Pt.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let qt=y.buildLogSuffix("authorizationEndpoint");ft.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${qt}, or the user should be signed in.`),se("Invalid auth response");return}se(Pe,ze)}))}handleEvent(W){var se=W.event;if(se.indexOf("pusher_internal:")===0)this.handleInternalEvent(W);else{var Pe=W.data,ze={};W.user_id&&(ze.user_id=W.user_id),this.emit(se,Pe,ze)}}handleInternalEvent(W){var se=W.event,Pe=W.data;switch(se){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(W);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(W);break;case"pusher_internal:member_added":var ze=this.members.addMember(Pe);this.emit("pusher:member_added",ze);break;case"pusher_internal:member_removed":var Pt=this.members.removeMember(Pe);Pt&&this.emit("pusher:member_removed",Pt);break}}handleSubscriptionSucceededEvent(W){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(W.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Kt=r(1),ni=r(0);class zi extends ct{constructor(W,se,Pe){super(W,se),this.key=null,this.nacl=Pe}authorize(W,se){super.authorize(W,(Pe,ze)=>{if(Pe){se(Pe,ze);return}let Pt=ze.shared_secret;if(!Pt){se(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(ni.decode)(Pt),delete ze.shared_secret,se(null,ze)})}trigger(W,se){throw new R("Client events are not currently supported for encrypted channels")}handleEvent(W){var se=W.event,Pe=W.data;if(se.indexOf("pusher_internal:")===0||se.indexOf("pusher:")===0){super.handleEvent(W);return}this.handleEncryptedEvent(se,Pe)}handleEncryptedEvent(W,se){if(!this.key){ft.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!se.ciphertext||!se.nonce){ft.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+se);return}let Pe=Object(ni.decode)(se.ciphertext);if(Pe.length<this.nacl.secretbox.overheadLength){ft.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${Pe.length}`);return}let ze=Object(ni.decode)(se.nonce);if(ze.length<this.nacl.secretbox.nonceLength){ft.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${ze.length}`);return}let Pt=this.nacl.secretbox.open(Pe,ze,this.key);if(Pt===null){ft.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(qt,Ci)=>{if(qt){ft.error(`Failed to make a request to the authEndpoint: ${Ci}. Unable to fetch new key, so dropping encrypted event`);return}if(Pt=this.nacl.secretbox.open(Pe,ze,this.key),Pt===null){ft.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(W,this.getDataToEmit(Pt))});return}this.emit(W,this.getDataToEmit(Pt))}getDataToEmit(W){let se=Object(Kt.decode)(W);try{return JSON.parse(se)}catch{return se}}}class Er extends Ls{constructor(W,se){super(),this.state="initialized",this.connection=null,this.key=W,this.options=se,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var Pe=Yi.getNetwork();Pe.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),Pe.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(W){return this.connection?this.connection.send(W):!1}send_event(W,se,Pe){return this.connection?this.connection.send_event(W,se,Pe):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var W=(se,Pe)=>{se?this.runner=this.strategy.connect(0,W):Pe.action==="error"?(this.emit("error",{type:"HandshakeError",error:Pe.error}),this.timeline.error({handshakeError:Pe.error})):(this.abortConnecting(),this.handshakeCallbacks[Pe.action](Pe))};this.runner=this.strategy.connect(0,W)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var W=this.abandonConnection();W.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(W){this.timeline.info({action:"retry",delay:W}),W>0&&this.emit("connecting_in",Math.round(W/1e3)),this.retryTimer=new he(W||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new he(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new he(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new he(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(W){return Se({},W,{message:se=>{this.resetActivityCheck(),this.emit("message",se)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:se=>{this.emit("error",se)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(W){return Se({},W,{connected:se=>{this.activityTimeout=Math.min(this.options.activityTimeout,se.activityTimeout,se.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(se.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let W=se=>Pe=>{Pe.error&&this.emit("error",{type:"WebSocketError",error:Pe.error}),se(Pe)};return{tls_only:W(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:W(()=>{this.disconnect()}),backoff:W(()=>{this.retryIn(1e3)}),retry:W(()=>{this.retryIn(0)})}}setConnection(W){this.connection=W;for(var se in this.connectionCallbacks)this.connection.bind(se,this.connectionCallbacks[se]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var W in this.connectionCallbacks)this.connection.unbind(W,this.connectionCallbacks[W]);var se=this.connection;return this.connection=null,se}}updateState(W,se){var Pe=this.state;if(this.state=W,Pe!==W){var ze=W;ze==="connected"&&(ze+=" with new socket ID "+se.socket_id),ft.debug("State changed",Pe+" -> "+ze),this.timeline.info({state:W,params:se}),this.emit("state_change",{previous:Pe,current:W}),this.emit(W,se)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class _r{constructor(){this.channels={}}add(W,se){return this.channels[W]||(this.channels[W]=zn(W,se)),this.channels[W]}all(){return mt(this.channels)}find(W){return this.channels[W]}remove(W){var se=this.channels[W];return delete this.channels[W],se}disconnect(){Oe(this.channels,function(W){W.disconnect()})}}function zn(re,W){if(re.indexOf("private-encrypted-")===0){if(W.config.nacl)return jn.createEncryptedChannel(re,W,W.config.nacl);let se="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",Pe=y.buildLogSuffix("encryptedChannelSupport");throw new R(`${se}. ${Pe}`)}else{if(re.indexOf("private-")===0)return jn.createPrivateChannel(re,W);if(re.indexOf("presence-")===0)return jn.createPresenceChannel(re,W);if(re.indexOf("#")===0)throw new S('Cannot create a channel with name "'+re+'".');return jn.createChannel(re,W)}}var Sc={createChannels(){return new _r},createConnectionManager(re,W){return new Er(re,W)},createChannel(re,W){return new st(re,W)},createPrivateChannel(re,W){return new ct(re,W)},createPresenceChannel(re,W){return new ui(re,W)},createEncryptedChannel(re,W,se){return new zi(re,W,se)},createTimelineSender(re,W){return new at(re,W)},createHandshake(re,W){return new Tt(re,W)},createAssistantToTheTransportManager(re,W,se){return new Re(re,W,se)}},jn=Sc;class cu{constructor(W){this.options=W||{},this.livesLeft=this.options.lives||1/0}getAssistant(W){return jn.createAssistantToTheTransportManager(this,W,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class ds{constructor(W,se){this.strategies=W,this.loop=!!se.loop,this.failFast=!!se.failFast,this.timeout=se.timeout,this.timeoutLimit=se.timeoutLimit}isSupported(){return Ze(this.strategies,Z.method("isSupported"))}connect(W,se){var Pe=this.strategies,ze=0,Pt=this.timeout,qt=null,Ci=(qi,Bs)=>{Bs?se(null,Bs):(ze=ze+1,this.loop&&(ze=ze%Pe.length),ze<Pe.length?(Pt&&(Pt=Pt*2,this.timeoutLimit&&(Pt=Math.min(Pt,this.timeoutLimit))),qt=this.tryStrategy(Pe[ze],W,{timeout:Pt,failFast:this.failFast},Ci)):se(!0))};return qt=this.tryStrategy(Pe[ze],W,{timeout:Pt,failFast:this.failFast},Ci),{abort:function(){qt.abort()},forceMinPriority:function(qi){W=qi,qt&&qt.forceMinPriority(qi)}}}tryStrategy(W,se,Pe,ze){var Pt=null,qt=null;return Pe.timeout>0&&(Pt=new he(Pe.timeout,function(){qt.abort(),ze(!0)})),qt=W.connect(se,function(Ci,qi){Ci&&Pt&&Pt.isRunning()&&!Pe.failFast||(Pt&&Pt.ensureAborted(),ze(Ci,qi))}),{abort:function(){Pt&&Pt.ensureAborted(),qt.abort()},forceMinPriority:function(Ci){qt.forceMinPriority(Ci)}}}}class uu{constructor(W){this.strategies=W}isSupported(){return Ze(this.strategies,Z.method("isSupported"))}connect(W,se){return Na(this.strategies,W,function(Pe,ze){return function(Pt,qt){if(ze[Pe].error=Pt,Pt){dk(ze)&&se(!0);return}we(ze,function(Ci){Ci.forceMinPriority(qt.transport.priority)}),se(null,qt)}})}}function Na(re,W,se){var Pe=de(re,function(ze,Pt,qt,Ci){return ze.connect(W,se(Pt,Ci))});return{abort:function(){we(Pe,hk)},forceMinPriority:function(ze){we(Pe,function(Pt){Pt.forceMinPriority(ze)})}}}function dk(re){return ot(re,function(W){return!!W.error})}function hk(re){!re.error&&!re.aborted&&(re.abort(),re.aborted=!0)}class fk{constructor(W,se,Pe){this.strategy=W,this.transports=se,this.ttl=Pe.ttl||1800*1e3,this.usingTLS=Pe.useTLS,this.timeline=Pe.timeline}isSupported(){return this.strategy.isSupported()}connect(W,se){var Pe=this.usingTLS,ze=OS(Pe),Pt=ze&&ze.cacheSkipCount?ze.cacheSkipCount:0,qt=[this.strategy];if(ze&&ze.timestamp+this.ttl>=Z.now()){var Ci=this.transports[ze.transport];Ci&&(["ws","wss"].includes(ze.transport)||Pt>3?(this.timeline.info({cached:!0,transport:ze.transport,latency:ze.latency}),qt.push(new ds([Ci],{timeout:ze.latency*2+1e3,failFast:!0}))):Pt++)}var qi=Z.now(),Bs=qt.pop().connect(W,function sr(hn,_c){hn?(IS(Pe),qt.length>0?(qi=Z.now(),Bs=qt.pop().connect(W,sr)):se(hn)):(pk(Pe,_c.transport.name,Z.now()-qi,Pt),se(null,_c))});return{abort:function(){Bs.abort()},forceMinPriority:function(sr){W=sr,Bs&&Bs.forceMinPriority(sr)}}}}function my(re){return"pusherTransport"+(re?"TLS":"NonTLS")}function OS(re){var W=Yi.getLocalStorage();if(W)try{var se=W[my(re)];if(se)return JSON.parse(se)}catch{IS(re)}return null}function pk(re,W,se,Pe){var ze=Yi.getLocalStorage();if(ze)try{ze[my(re)]=yt({timestamp:Z.now(),transport:W,latency:se,cacheSkipCount:Pe})}catch{}}function IS(re){var W=Yi.getLocalStorage();if(W)try{delete W[my(re)]}catch{}}class Pm{constructor(W,{delay:se}){this.strategy=W,this.options={delay:se}}isSupported(){return this.strategy.isSupported()}connect(W,se){var Pe=this.strategy,ze,Pt=new he(this.options.delay,function(){ze=Pe.connect(W,se)});return{abort:function(){Pt.ensureAborted(),ze&&ze.abort()},forceMinPriority:function(qt){W=qt,ze&&ze.forceMinPriority(qt)}}}}class ep{constructor(W,se,Pe){this.test=W,this.trueBranch=se,this.falseBranch=Pe}isSupported(){var W=this.test()?this.trueBranch:this.falseBranch;return W.isSupported()}connect(W,se){var Pe=this.test()?this.trueBranch:this.falseBranch;return Pe.connect(W,se)}}class Fm{constructor(W){this.strategy=W}isSupported(){return this.strategy.isSupported()}connect(W,se){var Pe=this.strategy.connect(W,function(ze,Pt){Pt&&Pe.abort(),se(ze,Pt)});return Pe}}function yh(re){return function(){return re.isSupported()}}var NS=function(re,W,se){var Pe={};function ze(ZS,dd,Mk,Sh,lp){var ex=se(re,ZS,dd,Mk,Sh,lp);return Pe[ZS]=ex,ex}var Pt=Object.assign({},W,{hostNonTLS:re.wsHost+":"+re.wsPort,hostTLS:re.wsHost+":"+re.wssPort,httpPath:re.wsPath}),qt=Object.assign({},Pt,{useTLS:!0}),Ci=Object.assign({},W,{hostNonTLS:re.httpHost+":"+re.httpPort,hostTLS:re.httpHost+":"+re.httpsPort,httpPath:re.httpPath}),qi={loop:!0,timeout:15e3,timeoutLimit:6e4},Bs=new cu({minPingDelay:1e4,maxPingDelay:re.activityTimeout}),sr=new cu({lives:2,minPingDelay:1e4,maxPingDelay:re.activityTimeout}),hn=ze("ws","ws",3,Pt,Bs),_c=ze("wss","ws",3,qt,Bs),qS=ze("sockjs","sockjs",1,Ci),Ey=ze("xhr_streaming","xhr_streaming",1,Ci,sr),Pk=ze("xdr_streaming","xdr_streaming",1,Ci,sr),QS=ze("xhr_polling","xhr_polling",1,Ci),Fk=ze("xdr_polling","xdr_polling",1,Ci),Gm=new ds([hn],qi),_y=new ds([_c],qi),Hm=new ds([qS],qi),ap=new ds([new ep(yh(Ey),Ey,Pk)],qi),JS=new ds([new ep(yh(QS),QS,Fk)],qi),Ty=new ds([new ep(yh(ap),new uu([ap,new Pm(JS,{delay:4e3})]),JS)],qi),wh=new ep(yh(Ty),Ty,Hm),Tc;return W.useTLS?Tc=new uu([Gm,new Pm(wh,{delay:2e3})]):Tc=new uu([Gm,new Pm(_y,{delay:2e3}),new Pm(wh,{delay:5e3})]),new fk(new Fm(new ep(yh(hn),Tc,wh)),Pe,{ttl:18e5,timeline:W.timeline,useTLS:W.useTLS})},Mm=NS,VS=function(){var re=this;re.timeline.info(re.buildTimelineMessage({transport:re.name+(re.options.useTLS?"s":"")})),re.hooks.isInitialized()?re.changeState("initialized"):re.hooks.file?(re.changeState("initializing"),h.load(re.hooks.file,{useTLS:re.options.useTLS},function(W,se){re.hooks.isInitialized()?(re.changeState("initialized"),se(!0)):(W&&re.onError(W),re.onClose(),se(!1))})):re.onClose()},Va={getRequest:function(re){var W=new window.XDomainRequest;return W.ontimeout=function(){re.emit("error",new _),re.close()},W.onerror=function(se){re.emit("error",se),re.close()},W.onprogress=function(){W.responseText&&W.responseText.length>0&&re.onChunk(200,W.responseText)},W.onload=function(){W.responseText&&W.responseText.length>0&&re.onChunk(200,W.responseText),re.emit("finished",200),re.close()},W},abortRequest:function(re){re.ontimeout=re.onerror=re.onprogress=re.onload=null,re.abort()}},tp=Va;const gk=256*1024;class mk extends Ls{constructor(W,se,Pe){super(),this.hooks=W,this.method=se,this.url=Pe}start(W){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},Yi.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(W)}close(){this.unloader&&(Yi.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(W,se){for(;;){var Pe=this.advanceBuffer(se);if(Pe)this.emit("chunk",{status:W,data:Pe});else break}this.isBufferTooLong(se)&&this.emit("buffer_too_long")}advanceBuffer(W){var se=W.slice(this.position),Pe=se.indexOf(`
`);return Pe!==-1?(this.position+=Pe+1,se.slice(0,Pe)):null}isBufferTooLong(W){return this.position===W.length&&W.length>gk}}var vy;(function(re){re[re.CONNECTING=0]="CONNECTING",re[re.OPEN=1]="OPEN",re[re.CLOSED=3]="CLOSED"})(vy||(vy={}));var xc=vy,Lm=1;class vk{constructor(W,se){this.hooks=W,this.session=GS(1e3)+"/"+Om(8),this.location=yk(se),this.readyState=xc.CONNECTING,this.openStream()}send(W){return this.sendRaw(JSON.stringify([W]))}ping(){this.hooks.sendHeartbeat(this)}close(W,se){this.onClose(W,se,!0)}sendRaw(W){if(this.readyState===xc.OPEN)try{return Yi.createSocketRequest("POST",yy(BS(this.location,this.session))).start(W),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(W,se,Pe){this.closeStream(),this.readyState=xc.CLOSED,this.onclose&&this.onclose({code:W,reason:se,wasClean:Pe})}onChunk(W){if(W.status===200){this.readyState===xc.OPEN&&this.onActivity();var se,Pe=W.data.slice(0,1);switch(Pe){case"o":se=JSON.parse(W.data.slice(1)||"{}"),this.onOpen(se);break;case"a":se=JSON.parse(W.data.slice(1)||"[]");for(var ze=0;ze<se.length;ze++)this.onEvent(se[ze]);break;case"m":se=JSON.parse(W.data.slice(1)||"null"),this.onEvent(se);break;case"h":this.hooks.onHeartbeat(this);break;case"c":se=JSON.parse(W.data.slice(1)||"[]"),this.onClose(se[0],se[1],!0);break}}}onOpen(W){this.readyState===xc.CONNECTING?(W&&W.hostname&&(this.location.base=Ch(this.location.base,W.hostname)),this.readyState=xc.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(W){this.readyState===xc.OPEN&&this.onmessage&&this.onmessage({data:W})}onActivity(){this.onactivity&&this.onactivity()}onError(W){this.onerror&&this.onerror(W)}openStream(){this.stream=Yi.createSocketRequest("POST",yy(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",W=>{this.onChunk(W)}),this.stream.bind("finished",W=>{this.hooks.onFinished(this,W)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(W){Z.defer(()=>{this.onError(W),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function yk(re){var W=/([^\?]*)\/*(\??.*)/.exec(re);return{base:W[1],queryString:W[2]}}function BS(re,W){return re.base+"/"+W+"/xhr_send"}function yy(re){var W=re.indexOf("?")===-1?"?":"&";return re+W+"t="+ +new Date+"&n="+Lm++}function Ch(re,W){var se=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(re);return se[1]+W+se[3]}function GS(re){return Yi.randomInt(re)}function Om(re){for(var W=[],se=0;se<re;se++)W.push(GS(32).toString(32));return W.join("")}var Ck=vk,bk={getReceiveURL:function(re,W){return re.base+"/"+W+"/xhr_streaming"+re.queryString},onHeartbeat:function(re){re.sendRaw("[]")},sendHeartbeat:function(re){re.sendRaw("[]")},onFinished:function(re,W){re.onClose(1006,"Connection interrupted ("+W+")",!1)}},wk=bk,Cy={getReceiveURL:function(re,W){return re.base+"/"+W+"/xhr"+re.queryString},onHeartbeat:function(){},sendHeartbeat:function(re){re.sendRaw("[]")},onFinished:function(re,W){W===200?re.reconnect():re.onClose(1006,"Connection interrupted ("+W+")",!1)}},Sk=Cy,Im={getRequest:function(re){var W=Yi.getXHRAPI(),se=new W;return se.onreadystatechange=se.onprogress=function(){switch(se.readyState){case 3:se.responseText&&se.responseText.length>0&&re.onChunk(se.status,se.responseText);break;case 4:se.responseText&&se.responseText.length>0&&re.onChunk(se.status,se.responseText),re.emit("finished",se.status),re.close();break}},se},abortRequest:function(re){re.onreadystatechange=null,re.abort()}},HS=Im,Gl={createStreamingSocket(re){return this.createSocket(wk,re)},createPollingSocket(re){return this.createSocket(Sk,re)},createSocket(re,W){return new Ck(re,W)},createXHR(re,W){return this.createRequest(HS,re,W)},createRequest(re,W,se){return new mk(re,W,se)}},$S=Gl;$S.createXDR=function(re,W){return this.createRequest(tp,re,W)};var ip=$S,by={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:u,getDefaultStrategy:Mm,Transports:fe,transportConnectionInitializer:VS,HTTPFactory:ip,TimelineTransport:pt,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(re){window.Pusher=re;var W=()=>{this.onDocumentBody(re.ready)};window.JSON?W():h.load("json2",{},W)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:j,jsonp:ht}},onDocumentBody(re){document.body?re():setTimeout(()=>{this.onDocumentBody(re)},0)},createJSONPRequest(re,W){return new $e(re,W)},createScriptRequest(re){return new Yt(re)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var re=this.getXHRAPI();return new re},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return _e},createWebSocket(re){var W=this.getWebSocketAPI();return new W(re)},createSocketRequest(re,W){if(this.isXHRSupported())return this.HTTPFactory.createXHR(re,W);if(this.isXDRSupported(W.indexOf("https:")===0))return this.HTTPFactory.createXDR(re,W);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var re=this.getXHRAPI();return!!re&&new re().withCredentials!==void 0},isXDRSupported(re){var W=re?"https:":"http:",se=this.getProtocol();return!!window.XDomainRequest&&se===W},addUnloadListener(re){window.addEventListener!==void 0?window.addEventListener("unload",re,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",re)},removeUnloadListener(re){window.addEventListener!==void 0?window.removeEventListener("unload",re,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",re)},randomInt(re){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*re)}},Yi=by,Nm;(function(re){re[re.ERROR=3]="ERROR",re[re.INFO=6]="INFO",re[re.DEBUG=7]="DEBUG"})(Nm||(Nm={}));var sp=Nm;class xk{constructor(W,se,Pe){this.key=W,this.session=se,this.events=[],this.options=Pe||{},this.sent=0,this.uniqueID=0}log(W,se){W<=this.options.level&&(this.events.push(Se({},se,{timestamp:Z.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(W){this.log(sp.ERROR,W)}info(W){this.log(sp.INFO,W)}debug(W){this.log(sp.DEBUG,W)}isEmpty(){return this.events.length===0}send(W,se){var Pe=Se({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],W(Pe,(ze,Pt)=>{ze||this.sent++,se&&se(ze,Pt)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Ek{constructor(W,se,Pe,ze){this.name=W,this.priority=se,this.transport=Pe,this.options=ze||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(W,se){if(this.isSupported()){if(this.priority<W)return wy(new x,se)}else return wy(new k,se);var Pe=!1,ze=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Pt=null,qt=function(){ze.unbind("initialized",qt),ze.connect()},Ci=function(){Pt=jn.createHandshake(ze,function(hn){Pe=!0,sr(),se(null,hn)})},qi=function(hn){sr(),se(hn)},Bs=function(){sr();var hn;hn=yt(ze),se(new A(hn))},sr=function(){ze.unbind("initialized",qt),ze.unbind("open",Ci),ze.unbind("error",qi),ze.unbind("closed",Bs)};return ze.bind("initialized",qt),ze.bind("open",Ci),ze.bind("error",qi),ze.bind("closed",Bs),ze.initialize(),{abort:()=>{Pe||(sr(),Pt?Pt.close():ze.close())},forceMinPriority:hn=>{Pe||this.priority<hn&&(Pt?Pt.close():ze.close())}}}}function wy(re,W){return Z.defer(function(){W(re)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Sy}=Yi;var bh=function(re,W,se,Pe,ze,Pt){var qt=Sy[se];if(!qt)throw new O(se);var Ci=(!re.enabledTransports||ke(re.enabledTransports,W)!==-1)&&(!re.disabledTransports||ke(re.disabledTransports,W)===-1),qi;return Ci?(ze=Object.assign({ignoreNullOrigin:re.ignoreNullOrigin},ze),qi=new Ek(W,Pe,Pt?Pt.getAssistant(qt):qt,ze)):qi=Ec,qi},Ec={isSupported:function(){return!1},connect:function(re,W){var se=Z.defer(function(){W(new k)});return{abort:function(){se.ensureAborted()},forceMinPriority:function(){}}}};function Vm(re){if(re==null)throw"You must pass an options object";if(re.cluster==null)throw"Options object must provide a cluster";"disableStats"in re&&ft.warn("The disableStats option is deprecated in favor of enableStats")}const _k=(re,W)=>{var se="socket_id="+encodeURIComponent(re.socketId);for(var Pe in W.params)se+="&"+encodeURIComponent(Pe)+"="+encodeURIComponent(W.params[Pe]);if(W.paramsProvider!=null){let ze=W.paramsProvider();for(var Pe in ze)se+="&"+encodeURIComponent(Pe)+"="+encodeURIComponent(ze[Pe])}return se};var Tk=re=>{if(typeof Yi.getAuthorizers()[re.transport]>"u")throw`'${re.transport}' is not a recognized auth transport`;return(W,se)=>{const Pe=_k(W,re);Yi.getAuthorizers()[re.transport](Yi,Pe,re,v.UserAuthentication,se)}};const WS=(re,W)=>{var se="socket_id="+encodeURIComponent(re.socketId);se+="&channel_name="+encodeURIComponent(re.channelName);for(var Pe in W.params)se+="&"+encodeURIComponent(Pe)+"="+encodeURIComponent(W.params[Pe]);if(W.paramsProvider!=null){let ze=W.paramsProvider();for(var Pe in ze)se+="&"+encodeURIComponent(Pe)+"="+encodeURIComponent(ze[Pe])}return se};var Hl=re=>{if(typeof Yi.getAuthorizers()[re.transport]>"u")throw`'${re.transport}' is not a recognized auth transport`;return(W,se)=>{const Pe=WS(W,re);Yi.getAuthorizers()[re.transport](Yi,Pe,re,v.ChannelAuthorization,se)}};const US=(re,W,se)=>{const Pe={authTransport:W.transport,authEndpoint:W.endpoint,auth:{params:W.params,headers:W.headers}};return(ze,Pt)=>{const qt=re.channel(ze.channelName);se(qt,Pe).authorize(ze.socketId,Pt)}};function Ak(re,W){let se={activityTimeout:re.activityTimeout||l.activityTimeout,cluster:re.cluster,httpPath:re.httpPath||l.httpPath,httpPort:re.httpPort||l.httpPort,httpsPort:re.httpsPort||l.httpsPort,pongTimeout:re.pongTimeout||l.pongTimeout,statsHost:re.statsHost||l.stats_host,unavailableTimeout:re.unavailableTimeout||l.unavailableTimeout,wsPath:re.wsPath||l.wsPath,wsPort:re.wsPort||l.wsPort,wssPort:re.wssPort||l.wssPort,enableStats:jS(re),httpHost:zS(re),useTLS:Bm(re),wsHost:rp(re),userAuthenticator:ud(re),channelAuthorizer:Dk(re,W)};return"disabledTransports"in re&&(se.disabledTransports=re.disabledTransports),"enabledTransports"in re&&(se.enabledTransports=re.enabledTransports),"ignoreNullOrigin"in re&&(se.ignoreNullOrigin=re.ignoreNullOrigin),"timelineParams"in re&&(se.timelineParams=re.timelineParams),"nacl"in re&&(se.nacl=re.nacl),se}function zS(re){return re.httpHost?re.httpHost:re.cluster?`sockjs-${re.cluster}.pusher.com`:l.httpHost}function rp(re){return re.wsHost?re.wsHost:kk(re.cluster)}function kk(re){return`ws-${re}.pusher.com`}function Bm(re){return Yi.getProtocol()==="https:"?!0:re.forceTLS!==!1}function jS(re){return"enableStats"in re?re.enableStats:"disableStats"in re?!re.disableStats:!1}function ud(re){const W=Object.assign(Object.assign({},l.userAuthentication),re.userAuthentication);return"customHandler"in W&&W.customHandler!=null?W.customHandler:Tk(W)}function KS(re,W){let se;return"channelAuthorization"in re?se=Object.assign(Object.assign({},l.channelAuthorization),re.channelAuthorization):(se={transport:re.authTransport||l.authTransport,endpoint:re.authEndpoint||l.authEndpoint},"auth"in re&&("params"in re.auth&&(se.params=re.auth.params),"headers"in re.auth&&(se.headers=re.auth.headers)),"authorizer"in re&&(se.customHandler=US(W,se,re.authorizer))),se}function Dk(re,W){const se=KS(re,W);return"customHandler"in se&&se.customHandler!=null?se.customHandler:Hl(se)}class np extends Ls{constructor(W){super(function(se,Pe){ft.debug(`No callbacks on watchlist events for ${se}`)}),this.pusher=W,this.bindWatchlistInternalEvent()}handleEvent(W){W.data.events.forEach(se=>{this.emit(se.name,se)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",W=>{var se=W.event;se==="pusher_internal:watchlist_events"&&this.handleEvent(W)})}}function YS(){let re,W;return{promise:new Promise((Pe,ze)=>{re=Pe,W=ze}),resolve:re,reject:W}}var XS=YS;class xy extends Ls{constructor(W){super(function(se,Pe){ft.debug("No callbacks on user for "+se)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(se,Pe)=>{if(se){ft.warn(`Error during signin: ${se}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:Pe.auth,user_data:Pe.user_data})},this.pusher=W,this.pusher.connection.bind("state_change",({previous:se,current:Pe})=>{se!=="connected"&&Pe==="connected"&&this._signin(),se==="connected"&&Pe!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new np(W),this.pusher.connection.bind("message",se=>{var Pe=se.event;Pe==="pusher:signin_success"&&this._onSigninSuccess(se.data),this.serverToUserChannel&&this.serverToUserChannel.name===se.channel&&this.serverToUserChannel.handleEvent(se)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(W){try{this.user_data=JSON.parse(W.user_data)}catch{ft.error(`Failed parsing user data after signin: ${W.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){ft.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const W=se=>{se.subscriptionPending&&se.subscriptionCancelled?se.reinstateSubscription():!se.subscriptionPending&&this.pusher.connection.state==="connected"&&se.subscribe()};this.serverToUserChannel=new st(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((se,Pe)=>{se.indexOf("pusher_internal:")===0||se.indexOf("pusher:")===0||this.emit(se,Pe)}),W(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:W,resolve:se}=XS();W.done=!1;const Pe=()=>{W.done=!0};W.then(Pe).catch(Pe),this.signinDonePromise=W,this._signinDoneResolve=se}}class Yn{static ready(){Yn.isReady=!0;for(var W=0,se=Yn.instances.length;W<se;W++)Yn.instances[W].connect()}static getClientFeatures(){return He(Qe({ws:Yi.Transports.ws},function(W){return W.isSupported({})}))}constructor(W,se){Rk(W),Vm(se),this.key=W,this.config=Ak(se,this),this.channels=jn.createChannels(),this.global_emitter=new Ls,this.sessionID=Yi.randomInt(1e9),this.timeline=new xk(this.key,this.sessionID,{cluster:this.config.cluster,features:Yn.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:sp.INFO,version:l.VERSION}),this.config.enableStats&&(this.timelineSender=jn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Yi.TimelineTransport.name}));var Pe=ze=>Yi.getDefaultStrategy(this.config,ze,bh);this.connection=jn.createConnectionManager(this.key,{getStrategy:Pe,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",ze=>{var Pt=ze.event,qt=Pt.indexOf("pusher_internal:")===0;if(ze.channel){var Ci=this.channel(ze.channel);Ci&&Ci.handleEvent(ze)}qt||this.global_emitter.emit(ze.event,ze.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",ze=>{ft.warn(ze)}),Yn.instances.push(this),this.timeline.info({instances:Yn.instances.length}),this.user=new xy(this),Yn.isReady&&this.connect()}channel(W){return this.channels.find(W)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var W=this.connection.isUsingTLS(),se=this.timelineSender;this.timelineSenderTimer=new Ee(6e4,function(){se.send(W)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(W,se,Pe){return this.global_emitter.bind(W,se,Pe),this}unbind(W,se,Pe){return this.global_emitter.unbind(W,se,Pe),this}bind_global(W){return this.global_emitter.bind_global(W),this}unbind_global(W){return this.global_emitter.unbind_global(W),this}unbind_all(W){return this.global_emitter.unbind_all(),this}subscribeAll(){var W;for(W in this.channels.channels)this.channels.channels.hasOwnProperty(W)&&this.subscribe(W)}subscribe(W){var se=this.channels.add(W,this);return se.subscriptionPending&&se.subscriptionCancelled?se.reinstateSubscription():!se.subscriptionPending&&this.connection.state==="connected"&&se.subscribe(),se}unsubscribe(W){var se=this.channels.find(W);se&&se.subscriptionPending?se.cancelSubscription():(se=this.channels.remove(W),se&&se.subscribed&&se.unsubscribe())}send_event(W,se,Pe){return this.connection.send_event(W,se,Pe)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Yn.instances=[],Yn.isReady=!1,Yn.logToConsole=!1,Yn.Runtime=Yi,Yn.ScriptReceivers=Yi.ScriptReceivers,Yn.DependenciesReceivers=Yi.DependenciesReceivers,Yn.auth_callbacks=Yi.auth_callbacks;var op=s.default=Yn;function Rk(re){if(re==null)throw"You must pass your app key when you instantiate Pusher."}Yi.setup(Yn)}])})}(XR)),XR.exports}zLe();const jLe={props:{modelValue:{type:String,default:""},interactive:{type:Boolean,default:!1},colspan:{type:[String,Number],default:1},class:{type:[String,Object],default:null},style:{type:[String,Object],default:null}},data(){return{uid:"",table:null,cell:null,row:null,colPos:0,rect:null}},computed:{listeners(){return{...this.$attrs,input:this.onInput}},err(){return this.validate?this.validate(this.modelValue):""},filterRowTop(){return{}}},watch:{modelValue(e){e!==this.$el.textContent&&(this.$refs.cell.textContent=e)}},mounted(){this.uid="uid"+this._uid,this.cell=this.$refs.cell,this.cell.textContent=this.modelValue,this.row=this.cell.parentNode,this.thead=this.row.parentNode,this.colPos=Array.from(this.row.children).indexOf(this.cell)-1,this.colLabel=this.thead.children[0].children[this.colPos+1]},methods:{updateValue(e){const t=e.target.textContent;this.modelValue!==t&&this.$emit("update:modelValue",t)},onInput(e){this.interactive&&this.updateValue(e)},onFocus(){setTimeout(()=>{this.colLabel.classList.add("focus"),this.selectAll(this.cell),this.$parent.currentColPos=this.colPos,this.$parent.currentRowPos=-1,this.$parent.labelTr.children[this.$parent.currentColPos+1].classList.add("focus")},0)},selectAll(e){const t=window.getSelection();if(t){const i=document.createRange();i.selectNodeContents(e),t.removeAllRanges(),t.addRange(i)}},onBlur(e){this.updateValue(e),this.colLabel.classList.remove("focus"),e.target.classList.remove("edit")},keyWest(e){const t=document.getSelection();if(e.target.textContent===t.toString()||t.focusOffset===0){let i=e.target.previousElementSibling;for(;i&&i.style&&i.style.display==="none";)i=i.previousElementSibling;return i&&(i.focus&&i.focus(),i)}return e.target},keyEast(e){const t=document.getSelection();if(e.target.textContent===t.toString()||t.focusOffset>=e.target.textContent.length){let i=e.target.nextElementSibling;for(;i&&i.style&&i.style.display==="none";)i=i.nextElementSibling;return i&&(i.focus&&i.focus(),i)}return e.target},keyEnter(e){e.preventDefault(),this.selectAll(this.cell),this.updateValue(e)},keyDelete(e){e.target.textContent===""&&setTimeout(this.updateValue(e),0)},mouseMove(e){this.cell.style.cursor=this.cell.offsetWidth-e.offsetX<15?"pointer":"text"},mouseDown(e){e.button===0&&this.cell.offsetWidth-e.offsetX<15&&(e.preventDefault(),setTimeout(()=>{this.$parent.$refs.panelFilter.showPanel(this)},0))}}},KLe=["id","colspan"];function YLe(e,t,i,s,r,n){return q(),ve("td",ut({id:r.uid,ref:"cell",contenteditable:"",ondragenter:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'",ondragover:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'",class:["cell column-filter",i.class],style:[{},i.style],autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"-1"},Ta(n.listeners,!0),{colspan:i.colspan,onFocus:t[0]||(t[0]=(...o)=>n.onFocus&&n.onFocus(...o)),onBlur:t[1]||(t[1]=(...o)=>n.onBlur&&n.onBlur(...o)),onKeydown:[t[2]||(t[2]=xt(Dt((...o)=>n.keyWest&&n.keyWest(...o),["exact"]),["left"])),t[3]||(t[3]=xt(Dt((...o)=>n.keyEast&&n.keyEast(...o),["exact"]),["right"])),t[4]||(t[4]=xt(Dt((...o)=>n.keyEnter&&n.keyEnter(...o),["exact"]),["enter"]))],onKeyup:t[5]||(t[5]=xt(Dt((...o)=>n.keyDelete&&n.keyDelete(...o),["exact"]),["delete"])),onMousemove:t[6]||(t[6]=(...o)=>n.mouseMove&&n.mouseMove(...o)),onMousedown:t[7]||(t[7]=(...o)=>n.mouseDown&&n.mouseDown(...o))}),null,16,KLe)}const XLe=lm(jLe,[["render",YLe],["__scopeId","data-v-04bd87f6"]]),qLe={props:{nFilterCount:{type:Number,default:1e3},localizedLabel:{type:Object,default(){return{sortingAndFiltering:"Sorting And Filtering",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",near:" Near",exactMatch:"= Exact Match",notMatch:" Not Match",greaterThan:"&gt; Greater Than",greaterThanOrEqualTo:" Greater Than or Equal To",lessThan:"&lt; Less Than",lessThanOrEqualTo:" Less Than Or Equal To",regularExpression:"~ Regular Expression",customFilter:"Custom Filter",listFirstNValuesOnly:e=>`List first ${e} values only`,apply:"Apply"}}}},data(){return{show:!1,showDropdown:!1,processing:!1,columnFilterRef:null,inputFilter:"",inputFilterCondition:"",sortedUniqueValueList:[]}},computed:{filteredSortedUniqueValueList(){const e=this.inputFilter.toUpperCase();return this.sortedUniqueValueList.filter(t=>t.toUpperCase().startsWith(e))},symbol(){switch(this.inputFilterCondition){case"":return"";case"<=":return"";case">=":return"";case"<>":return"";default:return this.inputFilterCondition}}},methods:{clickOutside(e){e.target.id==="panelModal"&&this.hidePanel()},sort(e){this.hidePanel(),this.$parent.sort(e,this.columnFilterRef.colPos)},setFilterCondition(e){this.showDropdown=!1,this.inputFilterCondition=e,this.$refs.inputFilter.focus()},freezePanelSizeAfterShown(){const e=this.$refs.panelList,t=e.getBoundingClientRect();e.setAttribute("style",`width:${t.width}px; height:${t.height}px;`)},removePanelSizeAfterHide(){this.$refs.panelList.removeAttribute("style")},doInputFilter(){window.delay&&clearTimeout(window.delay),window.delay=setTimeout(()=>{this.inputFilter=this.$refs.inputFilter.value},200)},doFilter(){const e=this.inputFilterCondition+this.$refs.inputFilter.value;this.columnFilterRef.$el.textContent=e,this.columnFilterRef.$emit("update:modelValue",e),this.hidePanel()},filterPanelSelect(e){this.columnFilterRef.$el.textContent="="+e,this.columnFilterRef.$emit("update:modelValue","="+e),this.hidePanel()},showPanel(e){this.columnFilterRef=e,this.inputFilter="",this.inputFilterCondition="",this.sortedUniqueValueList=[],this.$refs.inputFilter.value="",this.columnFilterRef.$el.textContent!=""&&(this.columnFilterRef.$el.textContent="",this.columnFilterRef.$emit("update:modelValue",""),this.$parent.calTable()),setTimeout(()=>{this.show=!0,setTimeout(()=>this.$refs.inputFilter.focus());const t={},i=this.$parent.fields[e.colPos].name;this.$parent.table.forEach(r=>t[r[i]]=!0);const s=Object.keys(t);s.sort(),s.length>0&&s[0]===""&&(s[0]=" "),this.sortedUniqueValueList=s,setTimeout(()=>this.freezePanelSizeAfterShown())})},hidePanel(){this.show=!1,this.removePanelSizeAfterHide(),setTimeout(()=>{this.sortedUniqueValueList=[]},0)}}},QLe={ref:"panelFilter",class:"panel-body"},JLe={class:"panel-title"},ZLe=["innerHTML"],eOe={class:"panel-content"},tOe={class:"panel-action"},iOe=["innerHTML"],sOe=["innerHTML"],rOe={class:"panel-action"},nOe=["innerHTML"],oOe=["innerHTML"],aOe=["innerHTML"],lOe=["innerHTML"],cOe=["innerHTML"],uOe=["innerHTML"],dOe=["innerHTML"],hOe=["innerHTML"],fOe={class:"panel-input-b"},pOe=["placeholder"],gOe={ref:"panelList",class:"panel-list"},mOe=["onClick"],vOe={key:0,class:"normal-text",style:{float:"right"}},yOe=["innerHTML"],COe={class:"panel-footer"},bOe=["innerHTML"];function wOe(e,t,i,s,r,n){return Ss((q(),ve("div",{id:"panelModal",class:"panel-modal",onClick:t[14]||(t[14]=(...o)=>n.clickOutside&&n.clickOutside(...o)),onKeydown:t[15]||(t[15]=xt(Dt((...o)=>n.hidePanel&&n.hidePanel(...o),["exact"]),["esc"]))},[me("div",QLe,[me("div",JLe,[t[16]||(t[16]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-amount-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-sort-amount-down fa-w-16 fa-1x"},[me("path",{fill:"currentColor",d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",class:""})],-1)),me("span",{innerHTML:i.localizedLabel.sortingAndFiltering},null,8,ZLe)]),me("div",eOe,[me("div",tOe,[me("button",{class:"panel-button float-left",onClick:t[0]||(t[0]=o=>n.sort(1))},[t[17]||(t[17]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-alpha-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-sort-alpha-down fa-w-14"},[me("path",{fill:"currentColor",d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z",class:""})],-1)),me("span",{innerHTML:i.localizedLabel.sortAscending},null,8,iOe)]),me("button",{class:"panel-button float-right",onClick:t[1]||(t[1]=o=>n.sort(-1))},[t[18]||(t[18]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-alpha-up-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-sort-alpha-up-alt fa-w-14"},[me("path",{fill:"currentColor",d:"M16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160zm272 64h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 65.63V48a16 16 0 0 0-16-16H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 190.37V208a16 16 0 0 0 16 16zm159.06 234.62l-59.27-160A16 16 0 0 0 372.72 288h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 480h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 480H432a16 16 0 0 0 15.06-21.38zM335.61 400L352 352l16.39 48z",class:""})],-1)),me("span",{innerHTML:i.localizedLabel.sortDescending},null,8,sOe)])]),me("div",rOe,[me("div",null,[me("button",{class:"panel-input-button",onClick:t[2]||(t[2]=o=>r.showDropdown=!r.showDropdown)},Mt(n.symbol),1),me("div",{class:Et([{show:r.showDropdown},"panel-dropdown"])},[me("div",{class:"panel-dropdown-item",onClick:t[3]||(t[3]=Dt(o=>n.setFilterCondition(""),["prevent"]))},[me("span",{innerHTML:i.localizedLabel.near},null,8,nOe)]),me("div",{class:"panel-dropdown-item",onClick:t[4]||(t[4]=Dt(o=>n.setFilterCondition("="),["prevent"]))},[me("span",{innerHTML:i.localizedLabel.exactMatch},null,8,oOe)]),me("div",{class:"panel-dropdown-item",onClick:t[5]||(t[5]=Dt(o=>n.setFilterCondition("<>"),["prevent"]))},[me("span",{innerHTML:i.localizedLabel.notMatch},null,8,aOe)]),me("div",{class:"panel-dropdown-item",onClick:t[6]||(t[6]=Dt(o=>n.setFilterCondition(">"),["prevent"]))},[me("span",{innerHTML:i.localizedLabel.greaterThan},null,8,lOe)]),me("div",{class:"panel-dropdown-item",onClick:t[7]||(t[7]=Dt(o=>n.setFilterCondition(">="),["prevent"]))},[me("span",{innerHTML:i.localizedLabel.greaterThanOrEqualTo},null,8,cOe)]),me("div",{class:"panel-dropdown-item",onClick:t[8]||(t[8]=Dt(o=>n.setFilterCondition("<"),["prevent"]))},[me("span",{innerHTML:i.localizedLabel.lessThan},null,8,uOe)]),me("div",{class:"panel-dropdown-item",onClick:t[9]||(t[9]=Dt(o=>n.setFilterCondition("<="),["prevent"]))},[me("span",{innerHTML:i.localizedLabel.lessThanOrEqualTo},null,8,dOe)]),me("div",{class:"panel-dropdown-item",onClick:t[10]||(t[10]=Dt(o=>n.setFilterCondition("~"),["prevent"]))},[me("span",{innerHTML:i.localizedLabel.regularExpression},null,8,hOe)])],2),me("span",fOe,[me("input",{type:"text",ref:"inputFilter",class:"panel-input",placeholder:i.localizedLabel.customFilter,trim:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",onKeyup:t[11]||(t[11]=(...o)=>n.doInputFilter&&n.doInputFilter(...o)),onKeydown:t[12]||(t[12]=xt(Dt((...o)=>n.doFilter&&n.doFilter(...o),["exact"]),["enter"]))},null,40,pOe)])])]),me("div",null,[me("div",gOe,[(q(!0),ve(kt,null,si(n.filteredSortedUniqueValueList.slice(0,i.nFilterCount),(o,a)=>(q(),ve("div",{key:a,class:"panel-list-item",onClick:Dt(l=>n.filterPanelSelect(o),["prevent"])},[t[19]||(t[19]=me("input",{type:"checkbox",class:"panel-checkbox"},null,-1)),me("span",null,Mt(o),1)],8,mOe))),128))],512),n.filteredSortedUniqueValueList.length>i.nFilterCount?(q(),ve("div",vOe,[me("span",{innerHTML:i.localizedLabel.listFirstNValuesOnly(i.nFilterCount)},null,8,yOe)])):Le("",!0)])]),me("div",COe,[me("button",{class:"panel-button",onClick:t[13]||(t[13]=(...o)=>n.doFilter&&n.doFilter(...o))},[t[20]||(t[20]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sign-in-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-sign-in-alt fa-w-16 fa-fw fa-sm"},[me("path",{fill:"currentColor",d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z",class:""})],-1)),me("span",{innerHTML:i.localizedLabel.apply},null,8,bOe)])])],512)],544)),[[or,r.show]])}const SOe=lm(qLe,[["render",wOe],["__scopeId","data-v-f33bd485"]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function cW(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,s)}return i}function Ju(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?cW(Object(i),!0).forEach(function(s){xOe(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):cW(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function gE(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gE=function(t){return typeof t}:gE=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gE(e)}function xOe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Qd(){return Qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Qd.apply(this,arguments)}function EOe(e,t){if(e==null)return{};var i={},s=Object.keys(e),r,n;for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&(i[r]=e[r]);return i}function _Oe(e,t){if(e==null)return{};var i=EOe(e,t),s,r;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)s=n[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var TOe="1.14.0";function Wd(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var fh=Wd(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),_S=Wd(/Edge/i),uW=Wd(/firefox/i),JC=Wd(/safari/i)&&!Wd(/chrome/i)&&!Wd(/android/i),Wq=Wd(/iP(ad|od|hone)/i),AOe=Wd(/chrome/i)&&Wd(/android/i),Uq={capture:!1,passive:!1};function nr(e,t,i){e.addEventListener(t,i,!fh&&Uq)}function Ws(e,t,i){e.removeEventListener(t,i,!fh&&Uq)}function M_(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function kOe(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Tu(e,t,i,s){if(e){i=i||document;do{if(t!=null&&(t[0]===">"?e.parentNode===i&&M_(e,t):M_(e,t))||s&&e===i)return e;if(e===i)break}while(e=kOe(e))}return null}var dW=/\s+/g;function vl(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var s=(" "+e.className+" ").replace(dW," ").replace(" "+t+" "," ");e.className=(s+(i?" "+t:"")).replace(dW," ")}}function Hi(e,t,i){var s=e&&e.style;if(s){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),t===void 0?i:i[t];!(t in s)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),s[t]=i+(typeof i=="string"?"":"px")}}function Hv(e,t){var i="";if(typeof e=="string")i=e;else do{var s=Hi(e,"transform");s&&s!=="none"&&(i=s+" "+i)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function zq(e,t,i){if(e){var s=e.getElementsByTagName(t),r=0,n=s.length;if(i)for(;r<n;r++)i(s[r],r);return s}return[]}function Hu(){var e=document.scrollingElement;return e||document.documentElement}function uo(e,t,i,s,r){if(!(!e.getBoundingClientRect&&e!==window)){var n,o,a,l,c,u,h;if(e!==window&&e.parentNode&&e!==Hu()?(n=e.getBoundingClientRect(),o=n.top,a=n.left,l=n.bottom,c=n.right,u=n.height,h=n.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||i)&&e!==window&&(r=r||e.parentNode,!fh))do if(r&&r.getBoundingClientRect&&(Hi(r,"transform")!=="none"||i&&Hi(r,"position")!=="static")){var f=r.getBoundingClientRect();o-=f.top+parseInt(Hi(r,"border-top-width")),a-=f.left+parseInt(Hi(r,"border-left-width")),l=o+n.height,c=a+n.width;break}while(r=r.parentNode);if(s&&e!==window){var p=Hv(r||e),y=p&&p.a,v=p&&p.d;p&&(o/=v,a/=y,h/=y,u/=v,l=o+u,c=a+h)}return{top:o,left:a,bottom:l,right:c,width:h,height:u}}}function hW(e,t,i){for(var s=nf(e,!0),r=uo(e)[t];s;){var n=uo(s)[i],o=void 0;if(o=r>=n,!o)return s;if(s===Hu())break;s=nf(s,!1)}return!1}function R0(e,t,i,s){for(var r=0,n=0,o=e.children;n<o.length;){if(o[n].style.display!=="none"&&o[n]!==$i.ghost&&(s||o[n]!==$i.dragged)&&Tu(o[n],i.draggable,e,!1)){if(r===t)return o[n];r++}n++}return null}function RN(e,t){for(var i=e.lastElementChild;i&&(i===$i.ghost||Hi(i,"display")==="none"||t&&!M_(i,t));)i=i.previousElementSibling;return i||null}function Jl(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==$i.clone&&(!t||M_(e,t))&&i++;return i}function fW(e){var t=0,i=0,s=Hu();if(e)do{var r=Hv(e),n=r.a,o=r.d;t+=e.scrollLeft*n,i+=e.scrollTop*o}while(e!==s&&(e=e.parentNode));return[t,i]}function DOe(e,t){for(var i in e)if(e.hasOwnProperty(i)){for(var s in t)if(t.hasOwnProperty(s)&&t[s]===e[i][s])return Number(i)}return-1}function nf(e,t){if(!e||!e.getBoundingClientRect)return Hu();var i=e,s=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=Hi(i);if(i.clientWidth<i.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return Hu();if(s||t)return i;s=!0}}while(i=i.parentNode);return Hu()}function ROe(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function qR(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ZC;function jq(e,t){return function(){if(!ZC){var i=arguments,s=this;i.length===1?e.call(s,i[0]):e.apply(s,i),ZC=setTimeout(function(){ZC=void 0},t)}}}function POe(){clearTimeout(ZC),ZC=void 0}function Kq(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function Yq(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}var El="Sortable"+new Date().getTime();function FOe(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(r){if(!(Hi(r,"display")==="none"||r===$i.ghost)){e.push({target:r,rect:uo(r)});var n=Ju({},e[e.length-1].rect);if(r.thisAnimationDuration){var o=Hv(r,!0);o&&(n.top-=o.f,n.left-=o.e)}r.fromRect=n}})}},addAnimationState:function(s){e.push(s)},removeAnimationState:function(s){e.splice(DOe(e,{target:s}),1)},animateAll:function(s){var r=this;if(!this.options.animation){clearTimeout(t),typeof s=="function"&&s();return}var n=!1,o=0;e.forEach(function(a){var l=0,c=a.target,u=c.fromRect,h=uo(c),f=c.prevFromRect,p=c.prevToRect,y=a.rect,v=Hv(c,!0);v&&(h.top-=v.f,h.left-=v.e),c.toRect=h,c.thisAnimationDuration&&qR(f,h)&&!qR(u,h)&&(y.top-h.top)/(y.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(l=LOe(y,f,p,r.options)),qR(h,u)||(c.prevFromRect=u,c.prevToRect=h,l||(l=r.options.animation),r.animate(c,y,h,l)),l&&(n=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),n?t=setTimeout(function(){typeof s=="function"&&s()},o):typeof s=="function"&&s(),e=[]},animate:function(s,r,n,o){if(o){Hi(s,"transition",""),Hi(s,"transform","");var a=Hv(this.el),l=a&&a.a,c=a&&a.d,u=(r.left-n.left)/(l||1),h=(r.top-n.top)/(c||1);s.animatingX=!!u,s.animatingY=!!h,Hi(s,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=MOe(s),Hi(s,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Hi(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Hi(s,"transition",""),Hi(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},o)}}}}function MOe(e){return e.offsetWidth}function LOe(e,t,i,s){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*s.animation}var ov=[],QR={initializeByDefault:!0},TS={mount:function(t){for(var i in QR)QR.hasOwnProperty(i)&&!(i in t)&&(t[i]=QR[i]);ov.forEach(function(s){if(s.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),ov.push(t)},pluginEvent:function(t,i,s){var r=this;this.eventCanceled=!1,s.cancel=function(){r.eventCanceled=!0};var n=t+"Global";ov.forEach(function(o){i[o.pluginName]&&(i[o.pluginName][n]&&i[o.pluginName][n](Ju({sortable:i},s)),i.options[o.pluginName]&&i[o.pluginName][t]&&i[o.pluginName][t](Ju({sortable:i},s)))})},initializePlugins:function(t,i,s,r){ov.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,i,t.options);c.sortable=t,c.options=t.options,t[l]=c,Qd(s,c.defaults)}});for(var n in t.options)if(t.options.hasOwnProperty(n)){var o=this.modifyOption(t,n,t.options[n]);typeof o<"u"&&(t.options[n]=o)}},getEventProperties:function(t,i){var s={};return ov.forEach(function(r){typeof r.eventProperties=="function"&&Qd(s,r.eventProperties.call(i[r.pluginName],t))}),s},modifyOption:function(t,i,s){var r;return ov.forEach(function(n){t[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[i]=="function"&&(r=n.optionListeners[i].call(t[n.pluginName],s))}),r}};function OOe(e){var t=e.sortable,i=e.rootEl,s=e.name,r=e.targetEl,n=e.cloneEl,o=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,h=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,y=e.extraEventProperties;if(t=t||i&&i[El],!!t){var v,C=t.options,S="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!fh&&!_S?v=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(s,!0,!0)),v.to=o||i,v.from=a||i,v.item=r||i,v.clone=n,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=h,v.originalEvent=f,v.pullMode=p?p.lastPutMode:void 0;var _=Ju(Ju({},y),TS.getEventProperties(s,t));for(var x in _)v[x]=_[x];i&&i.dispatchEvent(v),C[S]&&C[S].call(t,v)}}var IOe=["evt"],Ha=function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=s.evt,n=_Oe(s,IOe);TS.pluginEvent.bind($i)(t,i,Ju({dragEl:ii,parentEl:bn,ghostEl:as,rootEl:tn,nextEl:Op,lastDownEl:mE,cloneEl:wn,cloneHidden:Zh,dragStarted:_C,putSortable:Mo,activeSortable:$i.active,originalEvent:r,oldIndex:kv,oldDraggableIndex:eb,newIndex:yl,newDraggableIndex:Qh,hideGhostForTarget:Jq,unhideGhostForTarget:Zq,cloneNowHidden:function(){Zh=!0},cloneNowShown:function(){Zh=!1},dispatchSortableEvent:function(a){ya({sortable:i,name:a,originalEvent:r})}},n))};function ya(e){OOe(Ju({putSortable:Mo,cloneEl:wn,targetEl:ii,rootEl:tn,oldIndex:kv,oldDraggableIndex:eb,newIndex:yl,newDraggableIndex:Qh},e))}var ii,bn,as,tn,Op,mE,wn,Zh,kv,yl,eb,Qh,b1,Mo,Sv=!1,L_=!1,O_=[],_p,Pc,JR,ZR,pW,gW,_C,av,tb,ib=!1,w1=!1,vE,zo,eP=[],OM=!1,I_=[],ZA=typeof document<"u",S1=Wq,mW=_S||fh?"cssFloat":"float",NOe=ZA&&!AOe&&!Wq&&"draggable"in document.createElement("div"),Xq=function(){if(ZA){if(fh)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),qq=function(t,i){var s=Hi(t),r=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),n=R0(t,0,i),o=R0(t,1,i),a=n&&Hi(n),l=o&&Hi(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+uo(n).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+uo(o).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return n&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=r&&s[mW]==="none"||o&&s[mW]==="none"&&c+u>r)?"vertical":"horizontal"},VOe=function(t,i,s){var r=s?t.left:t.top,n=s?t.right:t.bottom,o=s?t.width:t.height,a=s?i.left:i.top,l=s?i.right:i.bottom,c=s?i.width:i.height;return r===a||n===l||r+o/2===a+c/2},BOe=function(t,i){var s;return O_.some(function(r){var n=r[El].options.emptyInsertThreshold;if(!(!n||RN(r))){var o=uo(r),a=t>=o.left-n&&t<=o.right+n,l=i>=o.top-n&&i<=o.bottom+n;if(a&&l)return s=r}}),s},Qq=function(t){function i(n,o){return function(a,l,c,u){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(n==null&&(o||h))return!0;if(n==null||n===!1)return!1;if(o&&n==="clone")return n;if(typeof n=="function")return i(n(a,l,c,u),o)(a,l,c,u);var f=(o?a:l).options.group.name;return n===!0||typeof n=="string"&&n===f||n.join&&n.indexOf(f)>-1}}var s={},r=t.group;(!r||gE(r)!="object")&&(r={name:r}),s.name=r.name,s.checkPull=i(r.pull,!0),s.checkPut=i(r.put),s.revertClone=r.revertClone,t.group=s},Jq=function(){!Xq&&as&&Hi(as,"display","none")},Zq=function(){!Xq&&as&&Hi(as,"display","")};ZA&&document.addEventListener("click",function(e){if(L_)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),L_=!1,!1},!0);var Tp=function(t){if(ii){t=t.touches?t.touches[0]:t;var i=BOe(t.clientX,t.clientY);if(i){var s={};for(var r in t)t.hasOwnProperty(r)&&(s[r]=t[r]);s.target=s.rootEl=i,s.preventDefault=void 0,s.stopPropagation=void 0,i[El]._onDragOver(s)}}},GOe=function(t){ii&&ii.parentNode[El]._isOutsideThisEl(t.target)};function $i(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Qd({},t),e[El]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qq(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:$i.supportPointer!==!1&&"PointerEvent"in window&&!JC,emptyInsertThreshold:5};TS.initializePlugins(this,e,i);for(var s in i)!(s in t)&&(t[s]=i[s]);Qq(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:NOe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?nr(e,"pointerdown",this._onTapStart):(nr(e,"mousedown",this._onTapStart),nr(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(nr(e,"dragover",this),nr(e,"dragenter",this)),O_.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Qd(this,FOe())}$i.prototype={constructor:$i,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(av=null)},_getDirection:function(t,i){return typeof this.options.direction=="function"?this.options.direction.call(this,t,i,ii):this.options.direction},_onTapStart:function(t){if(t.cancelable){var i=this,s=this.el,r=this.options,n=r.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=r.filter;if(YOe(s),!ii&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&JC&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Tu(l,r.draggable,s,!1),!(l&&l.animated)&&mE!==l)){if(kv=Jl(l),eb=Jl(l,r.draggable),typeof u=="function"){if(u.call(this,t,l,this)){ya({sortable:i,rootEl:c,name:"filter",targetEl:l,toEl:s,fromEl:s}),Ha("filter",i,{evt:t}),n&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=Tu(c,h.trim(),s,!1),h)return ya({sortable:i,rootEl:h,name:"filter",targetEl:l,fromEl:s,toEl:s}),Ha("filter",i,{evt:t}),!0}),u)){n&&t.cancelable&&t.preventDefault();return}r.handle&&!Tu(c,r.handle,s,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,i,s){var r=this,n=r.el,o=r.options,a=n.ownerDocument,l;if(s&&!ii&&s.parentNode===n){var c=uo(s);if(tn=n,ii=s,bn=ii.parentNode,Op=ii.nextSibling,mE=s,b1=o.group,$i.dragged=ii,_p={target:ii,clientX:(i||t).clientX,clientY:(i||t).clientY},pW=_p.clientX-c.left,gW=_p.clientY-c.top,this._lastX=(i||t).clientX,this._lastY=(i||t).clientY,ii.style["will-change"]="all",l=function(){if(Ha("delayEnded",r,{evt:t}),$i.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!uW&&r.nativeDraggable&&(ii.draggable=!0),r._triggerDragStart(t,i),ya({sortable:r,name:"choose",originalEvent:t}),vl(ii,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){zq(ii,u.trim(),tP)}),nr(a,"dragover",Tp),nr(a,"mousemove",Tp),nr(a,"touchmove",Tp),nr(a,"mouseup",r._onDrop),nr(a,"touchend",r._onDrop),nr(a,"touchcancel",r._onDrop),uW&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ii.draggable=!0),Ha("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(_S||fh))){if($i.eventCanceled){this._onDrop();return}nr(a,"mouseup",r._disableDelayedDrag),nr(a,"touchend",r._disableDelayedDrag),nr(a,"touchcancel",r._disableDelayedDrag),nr(a,"mousemove",r._delayedDragTouchMoveHandler),nr(a,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&nr(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var i=t.touches?t.touches[0]:t;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ii&&tP(ii),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Ws(t,"mouseup",this._disableDelayedDrag),Ws(t,"touchend",this._disableDelayedDrag),Ws(t,"touchcancel",this._disableDelayedDrag),Ws(t,"mousemove",this._delayedDragTouchMoveHandler),Ws(t,"touchmove",this._delayedDragTouchMoveHandler),Ws(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||t.pointerType=="touch"&&t,!this.nativeDraggable||i?this.options.supportPointer?nr(document,"pointermove",this._onTouchMove):i?nr(document,"touchmove",this._onTouchMove):nr(document,"mousemove",this._onTouchMove):(nr(ii,"dragend",this),nr(tn,"dragstart",this._onDragStart));try{document.selection?yE(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,i){if(Sv=!1,tn&&ii){Ha("dragStarted",this,{evt:i}),this.nativeDraggable&&nr(document,"dragover",GOe);var s=this.options;!t&&vl(ii,s.dragClass,!1),vl(ii,s.ghostClass,!0),$i.active=this,t&&this._appendGhost(),ya({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(Pc){this._lastX=Pc.clientX,this._lastY=Pc.clientY,Jq();for(var t=document.elementFromPoint(Pc.clientX,Pc.clientY),i=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Pc.clientX,Pc.clientY),t!==i);)i=t;if(ii.parentNode[El]._isOutsideThisEl(t),i)do{if(i[El]){var s=void 0;if(s=i[El]._onDragOver({clientX:Pc.clientX,clientY:Pc.clientY,target:t,rootEl:i}),s&&!this.options.dragoverBubble)break}t=i}while(i=i.parentNode);Zq()}},_onTouchMove:function(t){if(_p){var i=this.options,s=i.fallbackTolerance,r=i.fallbackOffset,n=t.touches?t.touches[0]:t,o=as&&Hv(as,!0),a=as&&o&&o.a,l=as&&o&&o.d,c=S1&&zo&&fW(zo),u=(n.clientX-_p.clientX+r.x)/(a||1)+(c?c[0]-eP[0]:0)/(a||1),h=(n.clientY-_p.clientY+r.y)/(l||1)+(c?c[1]-eP[1]:0)/(l||1);if(!$i.active&&!Sv){if(s&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<s)return;this._onDragStart(t,!0)}if(as){o?(o.e+=u-(JR||0),o.f+=h-(ZR||0)):o={a:1,b:0,c:0,d:1,e:u,f:h};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Hi(as,"webkitTransform",f),Hi(as,"mozTransform",f),Hi(as,"msTransform",f),Hi(as,"transform",f),JR=u,ZR=h,Pc=n}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!as){var t=this.options.fallbackOnBody?document.body:tn,i=uo(ii,!0,S1,!0,t),s=this.options;if(S1){for(zo=t;Hi(zo,"position")==="static"&&Hi(zo,"transform")==="none"&&zo!==document;)zo=zo.parentNode;zo!==document.body&&zo!==document.documentElement?(zo===document&&(zo=Hu()),i.top+=zo.scrollTop,i.left+=zo.scrollLeft):zo=Hu(),eP=fW(zo)}as=ii.cloneNode(!0),vl(as,s.ghostClass,!1),vl(as,s.fallbackClass,!0),vl(as,s.dragClass,!0),Hi(as,"transition",""),Hi(as,"transform",""),Hi(as,"box-sizing","border-box"),Hi(as,"margin",0),Hi(as,"top",i.top),Hi(as,"left",i.left),Hi(as,"width",i.width),Hi(as,"height",i.height),Hi(as,"opacity","0.8"),Hi(as,"position",S1?"absolute":"fixed"),Hi(as,"zIndex","100000"),Hi(as,"pointerEvents","none"),$i.ghost=as,t.appendChild(as),Hi(as,"transform-origin",pW/parseInt(as.style.width)*100+"% "+gW/parseInt(as.style.height)*100+"%")}},_onDragStart:function(t,i){var s=this,r=t.dataTransfer,n=s.options;if(Ha("dragStart",this,{evt:t}),$i.eventCanceled){this._onDrop();return}Ha("setupClone",this),$i.eventCanceled||(wn=Yq(ii),wn.draggable=!1,wn.style["will-change"]="",this._hideClone(),vl(wn,this.options.chosenClass,!1),$i.clone=wn),s.cloneId=yE(function(){Ha("clone",s),!$i.eventCanceled&&(s.options.removeCloneOnHide||tn.insertBefore(wn,ii),s._hideClone(),ya({sortable:s,name:"clone"}))}),!i&&vl(ii,n.dragClass,!0),i?(L_=!0,s._loopId=setInterval(s._emulateDragOver,50)):(Ws(document,"mouseup",s._onDrop),Ws(document,"touchend",s._onDrop),Ws(document,"touchcancel",s._onDrop),r&&(r.effectAllowed="move",n.setData&&n.setData.call(s,r,ii)),nr(document,"drop",s),Hi(ii,"transform","translateZ(0)")),Sv=!0,s._dragStartId=yE(s._dragStarted.bind(s,i,t)),nr(document,"selectstart",s),_C=!0,JC&&Hi(document.body,"user-select","none")},_onDragOver:function(t){var i=this.el,s=t.target,r,n,o,a=this.options,l=a.group,c=$i.active,u=b1===l,h=a.sort,f=Mo||c,p,y=this,v=!1;if(OM)return;function C(ie,ue){Ha(ie,y,Ju({evt:t,isOwner:u,axis:p?"vertical":"horizontal",revert:o,dragRect:r,targetRect:n,canSort:h,fromSortable:f,target:s,completed:_,onMove:function(Ie,he){return x1(tn,i,ii,r,Ie,uo(Ie),t,he)},changed:x},ue))}function S(){C("dragOverAnimationCapture"),y.captureAnimationState(),y!==f&&f.captureAnimationState()}function _(ie){return C("dragOverCompleted",{insertion:ie}),ie&&(u?c._hideClone():c._showClone(y),y!==f&&(vl(ii,Mo?Mo.options.ghostClass:c.options.ghostClass,!1),vl(ii,a.ghostClass,!0)),Mo!==y&&y!==$i.active?Mo=y:y===$i.active&&Mo&&(Mo=null),f===y&&(y._ignoreWhileAnimating=s),y.animateAll(function(){C("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===ii&&!ii.animated||s===i&&!s.animated)&&(av=null),!a.dragoverBubble&&!t.rootEl&&s!==document&&(ii.parentNode[El]._isOutsideThisEl(t.target),!ie&&Tp(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function x(){yl=Jl(ii),Qh=Jl(ii,a.draggable),ya({sortable:y,name:"change",toEl:i,newIndex:yl,newDraggableIndex:Qh,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),s=Tu(s,a.draggable,i,!0),C("dragOver"),$i.eventCanceled)return v;if(ii.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||y._ignoreWhileAnimating===s)return _(!1);if(L_=!1,c&&!a.disabled&&(u?h||(o=bn!==tn):Mo===this||(this.lastPutMode=b1.checkPull(this,c,ii,t))&&l.checkPut(this,c,ii,t))){if(p=this._getDirection(t,s)==="vertical",r=uo(ii),C("dragOverValid"),$i.eventCanceled)return v;if(o)return bn=tn,S(),this._hideClone(),C("revert"),$i.eventCanceled||(Op?tn.insertBefore(ii,Op):tn.appendChild(ii)),_(!0);var A=RN(i,a.draggable);if(!A||UOe(t,p,this)&&!A.animated){if(A===ii)return _(!1);if(A&&i===t.target&&(s=A),s&&(n=uo(s)),x1(tn,i,ii,r,s,n,t,!!s)!==!1)return S(),i.appendChild(ii),bn=i,x(),_(!0)}else if(A&&WOe(t,p,this)){var R=R0(i,0,a,!0);if(R===ii)return _(!1);if(s=R,n=uo(s),x1(tn,i,ii,r,s,n,t,!1)!==!1)return S(),i.insertBefore(ii,R),bn=i,x(),_(!0)}else if(s.parentNode===i){n=uo(s);var O=0,k,F=ii.parentNode!==i,N=!VOe(ii.animated&&ii.toRect||r,s.animated&&s.toRect||n,p),j=p?"top":"left",ee=hW(s,"top","top")||hW(ii,"top","top"),K=ee?ee.scrollTop:void 0;av!==s&&(k=n[j],ib=!1,w1=!N&&a.invertSwap||F),O=zOe(t,s,n,p,N?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,w1,av===s);var Q;if(O!==0){var be=Jl(ii);do be-=O,Q=bn.children[be];while(Q&&(Hi(Q,"display")==="none"||Q===as))}if(O===0||Q===s)return _(!1);av=s,tb=O;var te=s.nextElementSibling,ne=!1;ne=O===1;var H=x1(tn,i,ii,r,s,n,t,ne);if(H!==!1)return(H===1||H===-1)&&(ne=H===1),OM=!0,setTimeout($Oe,30),S(),ne&&!te?i.appendChild(ii):s.parentNode.insertBefore(ii,ne?te:s),ee&&Kq(ee,0,K-ee.scrollTop),bn=ii.parentNode,k!==void 0&&!w1&&(vE=Math.abs(k-uo(s)[j])),x(),_(!0)}if(i.contains(ii))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ws(document,"mousemove",this._onTouchMove),Ws(document,"touchmove",this._onTouchMove),Ws(document,"pointermove",this._onTouchMove),Ws(document,"dragover",Tp),Ws(document,"mousemove",Tp),Ws(document,"touchmove",Tp)},_offUpEvents:function(){var t=this.el.ownerDocument;Ws(t,"mouseup",this._onDrop),Ws(t,"touchend",this._onDrop),Ws(t,"pointerup",this._onDrop),Ws(t,"touchcancel",this._onDrop),Ws(document,"selectstart",this)},_onDrop:function(t){var i=this.el,s=this.options;if(yl=Jl(ii),Qh=Jl(ii,s.draggable),Ha("drop",this,{evt:t}),bn=ii&&ii.parentNode,yl=Jl(ii),Qh=Jl(ii,s.draggable),$i.eventCanceled){this._nulling();return}Sv=!1,w1=!1,ib=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),IM(this.cloneId),IM(this._dragStartId),this.nativeDraggable&&(Ws(document,"drop",this),Ws(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),JC&&Hi(document.body,"user-select",""),Hi(ii,"transform",""),t&&(_C&&(t.cancelable&&t.preventDefault(),!s.dropBubble&&t.stopPropagation()),as&&as.parentNode&&as.parentNode.removeChild(as),(tn===bn||Mo&&Mo.lastPutMode!=="clone")&&wn&&wn.parentNode&&wn.parentNode.removeChild(wn),ii&&(this.nativeDraggable&&Ws(ii,"dragend",this),tP(ii),ii.style["will-change"]="",_C&&!Sv&&vl(ii,Mo?Mo.options.ghostClass:this.options.ghostClass,!1),vl(ii,this.options.chosenClass,!1),ya({sortable:this,name:"unchoose",toEl:bn,newIndex:null,newDraggableIndex:null,originalEvent:t}),tn!==bn?(yl>=0&&(ya({rootEl:bn,name:"add",toEl:bn,fromEl:tn,originalEvent:t}),ya({sortable:this,name:"remove",toEl:bn,originalEvent:t}),ya({rootEl:bn,name:"sort",toEl:bn,fromEl:tn,originalEvent:t}),ya({sortable:this,name:"sort",toEl:bn,originalEvent:t})),Mo&&Mo.save()):yl!==kv&&yl>=0&&(ya({sortable:this,name:"update",toEl:bn,originalEvent:t}),ya({sortable:this,name:"sort",toEl:bn,originalEvent:t})),$i.active&&((yl==null||yl===-1)&&(yl=kv,Qh=eb),ya({sortable:this,name:"end",toEl:bn,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ha("nulling",this),tn=ii=bn=as=Op=wn=mE=Zh=_p=Pc=_C=yl=Qh=kv=eb=av=tb=Mo=b1=$i.dragged=$i.ghost=$i.clone=$i.active=null,I_.forEach(function(t){t.checked=!0}),I_.length=JR=ZR=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ii&&(this._onDragOver(t),HOe(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],i,s=this.el.children,r=0,n=s.length,o=this.options;r<n;r++)i=s[r],Tu(i,o.draggable,this.el,!1)&&t.push(i.getAttribute(o.dataIdAttr)||KOe(i));return t},sort:function(t,i){var s={},r=this.el;this.toArray().forEach(function(n,o){var a=r.children[o];Tu(a,this.options.draggable,r,!1)&&(s[n]=a)},this),i&&this.captureAnimationState(),t.forEach(function(n){s[n]&&(r.removeChild(s[n]),r.appendChild(s[n]))}),i&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,i){return Tu(t,i||this.options.draggable,this.el,!1)},option:function(t,i){var s=this.options;if(i===void 0)return s[t];var r=TS.modifyOption(this,t,i);typeof r<"u"?s[t]=r:s[t]=i,t==="group"&&Qq(s)},destroy:function(){Ha("destroy",this);var t=this.el;t[El]=null,Ws(t,"mousedown",this._onTapStart),Ws(t,"touchstart",this._onTapStart),Ws(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ws(t,"dragover",this),Ws(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),O_.splice(O_.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Zh){if(Ha("hideClone",this),$i.eventCanceled)return;Hi(wn,"display","none"),this.options.removeCloneOnHide&&wn.parentNode&&wn.parentNode.removeChild(wn),Zh=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Zh){if(Ha("showClone",this),$i.eventCanceled)return;ii.parentNode==tn&&!this.options.group.revertClone?tn.insertBefore(wn,ii):Op?tn.insertBefore(wn,Op):tn.appendChild(wn),this.options.group.revertClone&&this.animate(ii,wn),Hi(wn,"display",""),Zh=!1}}};function HOe(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function x1(e,t,i,s,r,n,o,a){var l,c=e[El],u=c.options.onMove,h;return window.CustomEvent&&!fh&&!_S?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=i,l.draggedRect=s,l.related=r||t,l.relatedRect=n||uo(t),l.willInsertAfter=a,l.originalEvent=o,e.dispatchEvent(l),u&&(h=u.call(c,l,o)),h}function tP(e){e.draggable=!1}function $Oe(){OM=!1}function WOe(e,t,i){var s=uo(R0(i.el,0,i.options,!0)),r=10;return t?e.clientX<s.left-r||e.clientY<s.top&&e.clientX<s.right:e.clientY<s.top-r||e.clientY<s.bottom&&e.clientX<s.left}function UOe(e,t,i){var s=uo(RN(i.el,i.options.draggable)),r=10;return t?e.clientX>s.right+r||e.clientX<=s.right&&e.clientY>s.bottom&&e.clientX>=s.left:e.clientX>s.right&&e.clientY>s.top||e.clientX<=s.right&&e.clientY>s.bottom+r}function zOe(e,t,i,s,r,n,o,a){var l=s?e.clientY:e.clientX,c=s?i.height:i.width,u=s?i.top:i.left,h=s?i.bottom:i.right,f=!1;if(!o){if(a&&vE<c*r){if(!ib&&(tb===1?l>u+c*n/2:l<h-c*n/2)&&(ib=!0),ib)f=!0;else if(tb===1?l<u+vE:l>h-vE)return-tb}else if(l>u+c*(1-r)/2&&l<h-c*(1-r)/2)return jOe(t)}return f=f||o,f&&(l<u+c*n/2||l>h-c*n/2)?l>u+c/2?1:-1:0}function jOe(e){return Jl(ii)<Jl(e)?1:-1}function KOe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,s=0;i--;)s+=t.charCodeAt(i);return s.toString(36)}function YOe(e){I_.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var s=t[i];s.checked&&I_.push(s)}}function yE(e){return setTimeout(e,0)}function IM(e){return clearTimeout(e)}ZA&&nr(document,"touchmove",function(e){($i.active||Sv)&&e.cancelable&&e.preventDefault()});$i.utils={on:nr,off:Ws,css:Hi,find:zq,is:function(t,i){return!!Tu(t,i,t,!1)},extend:ROe,throttle:jq,closest:Tu,toggleClass:vl,clone:Yq,index:Jl,nextTick:yE,cancelNextTick:IM,detectDirection:qq,getChild:R0};$i.get=function(e){return e[El]};$i.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&($i.utils=Ju(Ju({},$i.utils),s.utils)),TS.mount(s)})};$i.create=function(e,t){return new $i(e,t)};$i.version=TOe;var Qn=[],TC,NM,VM=!1,iP,sP,N_,AC;function XOe(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(i){var s=i.originalEvent;this.sortable.nativeDraggable?nr(document,"dragover",this._handleAutoScroll):this.options.supportPointer?nr(document,"pointermove",this._handleFallbackAutoScroll):s.touches?nr(document,"touchmove",this._handleFallbackAutoScroll):nr(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var s=i.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?Ws(document,"dragover",this._handleAutoScroll):(Ws(document,"pointermove",this._handleFallbackAutoScroll),Ws(document,"touchmove",this._handleFallbackAutoScroll),Ws(document,"mousemove",this._handleFallbackAutoScroll)),vW(),CE(),POe()},nulling:function(){N_=NM=TC=VM=AC=iP=sP=null,Qn.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,s){var r=this,n=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(n,o);if(N_=i,s||this.options.forceAutoScrollFallback||_S||fh||JC){rP(i,this.options,a,s);var l=nf(a,!0);VM&&(!AC||n!==iP||o!==sP)&&(AC&&vW(),AC=setInterval(function(){var c=nf(document.elementFromPoint(n,o),!0);c!==l&&(l=c,CE()),rP(i,r.options,c,s)},10),iP=n,sP=o)}else{if(!this.options.bubbleScroll||nf(a,!0)===Hu()){CE();return}rP(i,this.options,nf(a,!1),!1)}}},Qd(e,{pluginName:"scroll",initializeByDefault:!0})}function CE(){Qn.forEach(function(e){clearInterval(e.pid)}),Qn=[]}function vW(){clearInterval(AC)}var rP=jq(function(e,t,i,s){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,a=t.scrollSpeed,l=Hu(),c=!1,u;NM!==i&&(NM=i,CE(),TC=t.scroll,u=t.scrollFn,TC===!0&&(TC=nf(i,!0)));var h=0,f=TC;do{var p=f,y=uo(p),v=y.top,C=y.bottom,S=y.left,_=y.right,x=y.width,A=y.height,R=void 0,O=void 0,k=p.scrollWidth,F=p.scrollHeight,N=Hi(p),j=p.scrollLeft,ee=p.scrollTop;p===l?(R=x<k&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),O=A<F&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(R=x<k&&(N.overflowX==="auto"||N.overflowX==="scroll"),O=A<F&&(N.overflowY==="auto"||N.overflowY==="scroll"));var K=R&&(Math.abs(_-r)<=o&&j+x<k)-(Math.abs(S-r)<=o&&!!j),Q=O&&(Math.abs(C-n)<=o&&ee+A<F)-(Math.abs(v-n)<=o&&!!ee);if(!Qn[h])for(var be=0;be<=h;be++)Qn[be]||(Qn[be]={});(Qn[h].vx!=K||Qn[h].vy!=Q||Qn[h].el!==p)&&(Qn[h].el=p,Qn[h].vx=K,Qn[h].vy=Q,clearInterval(Qn[h].pid),(K!=0||Q!=0)&&(c=!0,Qn[h].pid=setInterval((function(){s&&this.layer===0&&$i.active._onTouchMove(N_);var te=Qn[this.layer].vy?Qn[this.layer].vy*a:0,ne=Qn[this.layer].vx?Qn[this.layer].vx*a:0;typeof u=="function"&&u.call($i.dragged.parentNode[El],ne,te,e,N_,Qn[this.layer].el)!=="continue"||Kq(Qn[this.layer].el,ne,te)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&f!==l&&(f=nf(f,!1)));VM=c}},30),eQ=function(t){var i=t.originalEvent,s=t.putSortable,r=t.dragEl,n=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(i){var c=s||n;a();var u=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,h=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(h)&&(o("spill"),this.onSpill({dragEl:r,putSortable:s}))}};function PN(){}PN.prototype={startIndex:null,dragStart:function(t){var i=t.oldDraggableIndex;this.startIndex=i},onSpill:function(t){var i=t.dragEl,s=t.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var r=R0(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(i,r):this.sortable.el.appendChild(i),this.sortable.animateAll(),s&&s.animateAll()},drop:eQ};Qd(PN,{pluginName:"revertOnSpill"});function FN(){}FN.prototype={onSpill:function(t){var i=t.dragEl,s=t.putSortable,r=s||this.sortable;r.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),r.animateAll()},drop:eQ};Qd(FN,{pluginName:"removeOnSpill"});$i.mount(new XOe);$i.mount(FN,PN);function nP(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function yW(e,t,i){const s=i===0?e.children[0]:e.children[i-1].nextSibling;e.insertBefore(t,s)}function qOe(){return typeof window<"u"?window.console:global.console}const QOe=qOe();function JOe(e){const t=Object.create(null);return function(s){return t[s]||(t[s]=e(s))}}const ZOe=/-(\w)/g,eIe=JOe(e=>e.replace(ZOe,(t,i)=>i.toUpperCase())),tQ=["Start","Add","Remove","Update","End"],iQ=["Choose","Unchoose","Sort","Filter","Clone"],sQ=["Move"],tIe=[sQ,tQ,iQ].flatMap(e=>e).map(e=>`on${e}`),BM={manage:sQ,manageAndEmit:tQ,emit:iQ};function iIe(e){return tIe.indexOf(e)!==-1}const sIe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function rIe(e){return sIe.includes(e)}function nIe(e){return["transition-group","TransitionGroup"].includes(e)}function rQ(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function nQ(e){return e.reduce((t,[i,s])=>(t[i]=s,t),{})}function oIe({$attrs:e,componentData:t={}}){return{...nQ(Object.entries(e).filter(([s,r])=>rQ(s))),...t}}function aIe({$attrs:e,callBackBuilder:t}){const i=nQ(oQ(e));Object.entries(t).forEach(([r,n])=>{BM[r].forEach(o=>{i[`on${o}`]=n(o)})});const s=`[data-draggable]${i.draggable||""}`;return{...i,draggable:s}}function oQ(e){return Object.entries(e).filter(([t,i])=>!rQ(t)).map(([t,i])=>[eIe(t),i]).filter(([t,i])=>!iIe(t))}const CW=({el:e})=>e,lIe=(e,t)=>e.__draggable_context=t,bW=e=>e.__draggable_context;class cIe{constructor({nodes:{header:t,default:i,footer:s},root:r,realList:n}){this.defaultNodes=i,this.children=[...t,...i,...s],this.externalComponent=r.externalComponent,this.rootTransition=r.transition,this.tag=r.tag,this.realList=n}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(t,i){const{tag:s,children:r,_isRootComponent:n}=this;return t(s,i,n?{default:()=>r}:r)}updated(){const{defaultNodes:t,realList:i}=this;t.forEach((s,r)=>{lIe(CW(s),{element:i[r],index:r})})}getUnderlyingVm(t){return bW(t)}getVmIndexFromDomIndex(t,i){const{defaultNodes:s}=this,{length:r}=s,n=i.children,o=n.item(t);if(o===null)return r;const a=bW(o);if(a)return a.index;if(r===0)return 0;const l=CW(s[0]),c=[...n].findIndex(u=>u===l);return t<c?0:r}}function uIe(e,t){const i=e[t];return i?i():[]}function dIe({$slots:e,realList:t,getKey:i}){const s=t||[],[r,n]=["header","footer"].map(l=>uIe(e,l)),{item:o}=e;if(!o)throw new Error("draggable element must have an item slot");const a=s.flatMap((l,c)=>o({element:l,index:c}).map(u=>(u.key=i(l),u.props={...u.props||{},"data-draggable":!0},u)));if(a.length!==s.length)throw new Error("Item slot must have only one child");return{header:r,footer:n,default:a}}function hIe(e){const t=nIe(e),i=!rIe(e)&&!t;return{transition:t,externalComponent:i,tag:i?xn(e):t?kT:e}}function fIe({$slots:e,tag:t,realList:i,getKey:s}){const r=dIe({$slots:e,realList:i,getKey:s}),n=hIe(t);return new cIe({nodes:r,root:n,realList:i})}function aQ(e,t){rs(()=>this.$emit(e.toLowerCase(),t))}function lQ(e){return(t,i)=>{if(this.realList!==null)return this[`onDrag${e}`](t,i)}}function pIe(e){const t=lQ.call(this,e);return(i,s)=>{t.call(this,i,s),aQ.call(this,e,i)}}let oP=null;const gIe={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},mIe=["update:modelValue","change",...[...BM.manageAndEmit,...BM.emit].map(e=>e.toLowerCase())],vIe=dt({name:"draggable",inheritAttrs:!1,props:gIe,emits:mIe,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:e,$attrs:t,tag:i,componentData:s,realList:r,getKey:n}=this,o=fIe({$slots:e,tag:i,realList:r,getKey:n});this.componentStructure=o;const a=oIe({$attrs:t,componentData:s});return o.render(ji,a)}catch(e){return this.error=!0,ji("pre",{style:{color:"red"}},e.stack)}},created(){this.list!==null&&this.modelValue!==null&&QOe.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:e,$el:t,componentStructure:i}=this;i.updated();const s=aIe({$attrs:e,callBackBuilder:{manageAndEmit:n=>pIe.call(this,n),emit:n=>aQ.bind(this,n),manage:n=>lQ.call(this,n)}}),r=t.nodeType===1?t:t.parentElement;this._sortable=new $i(r,s),this.targetDomElement=r,r.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:e}=this;return e||this.modelValue},getKey(){const{itemKey:e}=this;return typeof e=="function"?e:t=>t[e]}},watch:{$attrs:{handler(e){const{_sortable:t}=this;t&&oQ(e).forEach(([i,s])=>{t.option(i,s)})},deep:!0}},methods:{getUnderlyingVm(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent(e){return e.__draggable_component__},emitChanges(e){rs(()=>this.$emit("change",e))},alterList(e){if(this.list){e(this.list);return}const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=t=>t.splice(...arguments);this.alterList(e)},updatePosition(e,t){const i=s=>s.splice(t,0,s.splice(e,1)[0]);this.alterList(i)},getRelatedContextFromMoveEvent({to:e,related:t}){const i=this.getUnderlyingPotencialDraggableComponent(e);if(!i)return{component:i};const s=i.realList,r={list:s,component:i};return e!==t&&s?{...i.getUnderlyingVm(t)||{},...r}:r},getVmIndexFromDomIndex(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),oP=e.item},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;nP(e.item);const i=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(i,0,t);const s={element:t,newIndex:i};this.emitChanges({added:s})},onDragRemove(e){if(yW(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){nP(e.clone);return}const{index:t,element:i}=this.context;this.spliceList(t,1);const s={element:i,oldIndex:t};this.emitChanges({removed:s})},onDragUpdate(e){nP(e.item),yW(e.from,e.item,e.oldIndex);const t=this.context.index,i=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,i);const s={element:this.context.element,oldIndex:t,newIndex:i};this.emitChanges({moved:s})},computeFutureIndex(e,t){if(!e.element)return 0;const i=[...t.to.children].filter(o=>o.style.display!=="none"),s=i.indexOf(t.related),r=e.component.getVmIndexFromDomIndex(s);return i.indexOf(oP)!==-1||!t.willInsertAfter?r:r+1},onDragMove(e,t){const{move:i,realList:s}=this;if(!i||!s)return!0;const r=this.getRelatedContextFromMoveEvent(e),n=this.computeFutureIndex(r,e),o={...this.context,futureIndex:n},a={...e,relatedContext:r,draggedContext:o};return i(a,t)},onDragEnd(){oP=null}}}),yIe={components:{draggable:vIe},props:{modelValue:Array,localizedLabel:{type:Object,default(){return{tableSetting:"Table Setting",exportExcel:"Export Excel",importExcel:"Import Excel",back:"Back",reset:"Default"}}}},data(){return{show:!1,processing:!1}},computed:{fields:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e)}}},methods:{reset(){this.$parent.resetColumn(),this.hidePanel()},clickOutside(e){e.target.id==="panelModal"&&this.hidePanel()},columnLabelClick(e,t){t.invisible=!t.invisible,setTimeout(this.$parent.calStickyLeft)},freezePanelSizeAfterShown(){const e=this.$refs.panelList,t=e.getBoundingClientRect();e.setAttribute("style",`width:${t.width}px; height:${t.height}px;`)},removePanelSizeAfterHide(){this.$refs.panelList.removeAttribute("style")},exportTable(e){this.hidePanel(),this.$parent.exportTable(e)},importTable(){this.hidePanel(),this.$parent.importTable()},showPanel(){this.show=!0,setTimeout(()=>this.$refs.button.focus()),setTimeout(()=>this.freezePanelSizeAfterShown())},hidePanel(){this.show=!1,this.removePanelSizeAfterHide()}}},CIe={ref:"panelSetting",class:"panel-body"},bIe={class:"panel-title"},wIe=["innerHTML"],SIe={class:"panel-content"},xIe={class:"panel-action"},EIe=["innerHTML"],_Ie=["innerHTML"],TIe={ref:"panelList",class:"panel-list"},AIe=["onClick"],kIe=["onUpdate:modelValue"],DIe={class:"panel-footer"},RIe=["innerHTML"],PIe=["innerHTML"];function FIe(e,t,i,s,r,n){const o=xn("draggable");return Ss((q(),ve("div",{id:"panelModal",class:"panel-modal",onClick:t[5]||(t[5]=(...a)=>n.clickOutside&&n.clickOutside(...a)),onKeydown:t[6]||(t[6]=xt(Dt((...a)=>n.hidePanel&&n.hidePanel(...a),["exact"]),["esc"]))},[me("div",CIe,[me("div",bIe,[t[7]||(t[7]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"bars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-bars fa-w-14 fa-1x"},[me("path",{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z",class:""})],-1)),me("span",{innerHTML:i.localizedLabel.tableSetting},null,8,wIe)]),me("div",SIe,[me("div",xIe,[me("button",{class:"panel-button float-left no-margin",onClick:t[0]||(t[0]=a=>n.exportTable("excel"))},[t[8]||(t[8]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"file-excel",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-file-excel fa-w-12"},[me("path",{fill:"currentColor",d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z",class:""})],-1)),me("span",{innerHTML:i.localizedLabel.exportExcel},null,8,EIe)]),me("button",{class:"panel-button float-right no-margin",onClick:t[1]||(t[1]=(...a)=>n.importTable&&n.importTable(...a))},[t[9]||(t[9]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"file-csv",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-file-csv fa-w-12"},[me("path",{fill:"currentColor",d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-96 144c0 4.42-3.58 8-8 8h-8c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h8c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-8c-26.51 0-48-21.49-48-48v-32c0-26.51 21.49-48 48-48h8c4.42 0 8 3.58 8 8v16zm44.27 104H160c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h12.27c5.95 0 10.41-3.5 10.41-6.62 0-1.3-.75-2.66-2.12-3.84l-21.89-18.77c-8.47-7.22-13.33-17.48-13.33-28.14 0-21.3 19.02-38.62 42.41-38.62H200c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-12.27c-5.95 0-10.41 3.5-10.41 6.62 0 1.3.75 2.66 2.12 3.84l21.89 18.77c8.47 7.22 13.33 17.48 13.33 28.14.01 21.29-19 38.62-42.39 38.62zM256 264v20.8c0 20.27 5.7 40.17 16 56.88 10.3-16.7 16-36.61 16-56.88V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v20.8c0 35.48-12.88 68.89-36.28 94.09-3.02 3.25-7.27 5.11-11.72 5.11s-8.7-1.86-11.72-5.11c-23.4-25.2-36.28-58.61-36.28-94.09V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8zm121-159L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z",class:""})],-1)),me("span",{innerHTML:i.localizedLabel.importExcel},null,8,_Ie)])]),me("div",null,[me("div",TIe,[wt(o,{modelValue:n.fields,"onUpdate:modelValue":t[2]||(t[2]=a=>n.fields=a),draggable:".panel-list-item","item-key":"fields"},{item:tt(({element:a})=>[me("div",{class:"panel-list-item",onClick:Dt(l=>n.columnLabelClick(l,a),["prevent"])},[Ss(me("input",{type:"checkbox","onUpdate:modelValue":l=>a.invisible=l,class:"panel-checkbox","true-value":!1,"false-value":!0},null,8,kIe),[[Gw,a.invisible]]),me("span",null,Mt(a.label),1)],8,AIe)]),_:1},8,["modelValue"])],512)])]),me("div",DIe,[me("button",{ref:"button",class:"panel-button",onClick:t[3]||(t[3]=(...a)=>n.reset&&n.reset(...a))},[t[10]||(t[10]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"save",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-save fa-w-14 fa-fw fa-sm"},[me("path",{fill:"currentColor",d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",class:""})],-1)),me("span",{innerHTML:i.localizedLabel.reset},null,8,RIe)],512),me("button",{ref:"button",class:"panel-button",onClick:t[4]||(t[4]=(...a)=>n.hidePanel&&n.hidePanel(...a))},[t[11]||(t[11]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sign-in-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-sign-in-alt fa-w-16 fa-fw fa-sm"},[me("path",{fill:"currentColor",d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z",class:""})],-1)),me("span",{innerHTML:i.localizedLabel.back},null,8,PIe)],512)])],512)],544)),[[or,r.show]])}const MIe=lm(yIe,[["render",FIe],["__scopeId","data-v-2b08b7d2"]]),LIe={props:{localizedLabel:{type:Object,default(){return{}}}},data(){return{show:!1,processing:!1,inputFind:""}},methods:{clickOutside(e){e.target.id==="panelModal"&&this.hidePanel()},doFind(e,t){t&&t.preventDefault(),this.hidePanel(),this.$parent.doFind(this.inputFind)},showPanel(){this.show=!0,setTimeout(()=>this.$refs.inputFind.focus())},hidePanel(){this.show=!1}}},OIe={ref:"panelFind",class:"panel-body"},IIe={class:"panel-input-b"};function NIe(e,t,i,s,r,n){return Ss((q(),ve("div",{id:"panelModal",class:"panel-modal",onClick:t[3]||(t[3]=(...o)=>n.clickOutside&&n.clickOutside(...o)),onKeydown:t[4]||(t[4]=xt(Dt((...o)=>n.hidePanel&&n.hidePanel(...o),["exact"]),["esc"]))},[me("div",OIe,[me("div",null,[me("span",IIe,[Ss(me("input",{type:"text",ref:"inputFind","onUpdate:modelValue":t[0]||(t[0]=o=>r.inputFind=o),class:"panel-input",trim:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",onKeydown:t[1]||(t[1]=xt(Dt(o=>n.doFind(r.inputFind,o),["exact"]),["enter"]))},null,544),[[yf,r.inputFind]])]),me("button",{class:"panel-input-button",onClick:t[2]||(t[2]=o=>n.doFind(r.inputFind))},t[5]||(t[5]=[me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-search fa-w-16 fa-sm"},[me("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",class:""})],-1)]))])],512)],544)),[[or,r.show]])}const VIe=lm(LIe,[["render",NIe],["__scopeId","data-v-c6af5a9e"]]);function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function Ui(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Pi(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ki(e){Pi(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||mc(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function pf(e,t){Pi(2,arguments);var i=Ki(e),s=Ui(t);return isNaN(s)?new Date(NaN):(s&&i.setDate(i.getDate()+s),i)}function Mu(e,t){Pi(2,arguments);var i=Ki(e),s=Ui(t);if(isNaN(s))return new Date(NaN);if(!s)return i;var r=i.getDate(),n=new Date(i.getTime());n.setMonth(i.getMonth()+s+1,0);var o=n.getDate();return r>=o?n:(i.setFullYear(n.getFullYear(),n.getMonth(),r),i)}function cQ(e,t){if(Pi(2,arguments),!t||mc(t)!=="object")return new Date(NaN);var i=t.years?Ui(t.years):0,s=t.months?Ui(t.months):0,r=t.weeks?Ui(t.weeks):0,n=t.days?Ui(t.days):0,o=t.hours?Ui(t.hours):0,a=t.minutes?Ui(t.minutes):0,l=t.seconds?Ui(t.seconds):0,c=Ki(e),u=s||i?Mu(c,s+i*12):c,h=n||r?pf(u,n+r*7):u,f=a+o*60,p=l+f*60,y=p*1e3,v=new Date(h.getTime()+y);return v}function BIe(e,t){Pi(2,arguments);var i=Ki(e).getTime(),s=Ui(t);return new Date(i+s)}var GIe={};function Yf(){return GIe}function GM(e,t){var i,s,r,n,o,a,l,c;Pi(1,arguments);var u=Yf(),h=Ui((i=(s=(r=(n=t==null?void 0:t.weekStartsOn)!==null&&n!==void 0?n:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ki(e),p=f.getDay(),y=(p<h?7:0)+p-h;return f.setDate(f.getDate()-y),f.setHours(0,0,0,0),f}function V_(e){return Pi(1,arguments),GM(e,{weekStartsOn:1})}function HIe(e){Pi(1,arguments);var t=Ki(e),i=t.getFullYear(),s=new Date(0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);var r=V_(s),n=new Date(0);n.setFullYear(i,0,4),n.setHours(0,0,0,0);var o=V_(n);return t.getTime()>=r.getTime()?i+1:t.getTime()>=o.getTime()?i:i-1}function $Ie(e){Pi(1,arguments);var t=HIe(e),i=new Date(0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);var s=V_(i);return s}function B_(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function wW(e){Pi(1,arguments);var t=Ki(e);return t.setHours(0,0,0,0),t}var WIe=864e5;function UIe(e,t){Pi(2,arguments);var i=wW(e),s=wW(t),r=i.getTime()-B_(i),n=s.getTime()-B_(s);return Math.round((r-n)/WIe)}function uQ(e,t){Pi(2,arguments);var i=Ui(t);return Mu(e,i*12)}var MN=6e4,LN=36e5,zIe=1e3;function dQ(e){return Pi(1,arguments),e instanceof Date||mc(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function sb(e){if(Pi(1,arguments),!dQ(e)&&typeof e!="number")return!1;var t=Ki(e);return!isNaN(Number(t))}function SW(e,t){var i;Pi(1,arguments);var s=e||{},r=Ki(s.start),n=Ki(s.end),o=n.getTime();if(!(r.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=r;l.setHours(0,0,0,0);var c=Number((i=void 0)!==null&&i!==void 0?i:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Ki(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return a}function jIe(e,t){var i,s,r,n,o,a,l,c;Pi(1,arguments);var u=Yf(),h=Ui((i=(s=(r=(n=t==null?void 0:t.weekStartsOn)!==null&&n!==void 0?n:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ki(e),p=f.getDay(),y=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+y),f.setHours(23,59,59,999),f}function hQ(e,t){Pi(2,arguments);var i=Ui(t);return BIe(e,-i)}var KIe=864e5;function YIe(e){Pi(1,arguments);var t=Ki(e),i=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),r=i-s;return Math.floor(r/KIe)+1}function P0(e){Pi(1,arguments);var t=1,i=Ki(e),s=i.getUTCDay(),r=(s<t?7:0)+s-t;return i.setUTCDate(i.getUTCDate()-r),i.setUTCHours(0,0,0,0),i}function fQ(e){Pi(1,arguments);var t=Ki(e),i=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(i+1,0,4),s.setUTCHours(0,0,0,0);var r=P0(s),n=new Date(0);n.setUTCFullYear(i,0,4),n.setUTCHours(0,0,0,0);var o=P0(n);return t.getTime()>=r.getTime()?i+1:t.getTime()>=o.getTime()?i:i-1}function XIe(e){Pi(1,arguments);var t=fQ(e),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var s=P0(i);return s}var qIe=6048e5;function pQ(e){Pi(1,arguments);var t=Ki(e),i=P0(t).getTime()-XIe(t).getTime();return Math.round(i/qIe)+1}function Vg(e,t){var i,s,r,n,o,a,l,c;Pi(1,arguments);var u=Yf(),h=Ui((i=(s=(r=(n=t==null?void 0:t.weekStartsOn)!==null&&n!==void 0?n:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ki(e),p=f.getUTCDay(),y=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-y),f.setUTCHours(0,0,0,0),f}function ON(e,t){var i,s,r,n,o,a,l,c;Pi(1,arguments);var u=Ki(e),h=u.getUTCFullYear(),f=Yf(),p=Ui((i=(s=(r=(n=t==null?void 0:t.firstWeekContainsDate)!==null&&n!==void 0?n:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:f.firstWeekContainsDate)!==null&&s!==void 0?s:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(h+1,0,p),y.setUTCHours(0,0,0,0);var v=Vg(y,t),C=new Date(0);C.setUTCFullYear(h,0,p),C.setUTCHours(0,0,0,0);var S=Vg(C,t);return u.getTime()>=v.getTime()?h+1:u.getTime()>=S.getTime()?h:h-1}function QIe(e,t){var i,s,r,n,o,a,l,c;Pi(1,arguments);var u=Yf(),h=Ui((i=(s=(r=(n=t==null?void 0:t.firstWeekContainsDate)!==null&&n!==void 0?n:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:1),f=ON(e,t),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var y=Vg(p,t);return y}var JIe=6048e5;function gQ(e,t){Pi(1,arguments);var i=Ki(e),s=Vg(i,t).getTime()-QIe(i,t).getTime();return Math.round(s/JIe)+1}function yr(e,t){for(var i=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return i+s}var Hh={y:function(t,i){var s=t.getUTCFullYear(),r=s>0?s:1-s;return yr(i==="yy"?r%100:r,i.length)},M:function(t,i){var s=t.getUTCMonth();return i==="M"?String(s+1):yr(s+1,2)},d:function(t,i){return yr(t.getUTCDate(),i.length)},a:function(t,i){var s=t.getUTCHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(t,i){return yr(t.getUTCHours()%12||12,i.length)},H:function(t,i){return yr(t.getUTCHours(),i.length)},m:function(t,i){return yr(t.getUTCMinutes(),i.length)},s:function(t,i){return yr(t.getUTCSeconds(),i.length)},S:function(t,i){var s=i.length,r=t.getUTCMilliseconds(),n=Math.floor(r*Math.pow(10,s-3));return yr(n,i.length)}},lv={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZIe={G:function(t,i,s){var r=t.getUTCFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(t,i,s){if(i==="yo"){var r=t.getUTCFullYear(),n=r>0?r:1-r;return s.ordinalNumber(n,{unit:"year"})}return Hh.y(t,i)},Y:function(t,i,s,r){var n=ON(t,r),o=n>0?n:1-n;if(i==="YY"){var a=o%100;return yr(a,2)}return i==="Yo"?s.ordinalNumber(o,{unit:"year"}):yr(o,i.length)},R:function(t,i){var s=fQ(t);return yr(s,i.length)},u:function(t,i){var s=t.getUTCFullYear();return yr(s,i.length)},Q:function(t,i,s){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(i){case"Q":return String(r);case"QQ":return yr(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,i,s){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(i){case"q":return String(r);case"qq":return yr(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,i,s){var r=t.getUTCMonth();switch(i){case"M":case"MM":return Hh.M(t,i);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(t,i,s){var r=t.getUTCMonth();switch(i){case"L":return String(r+1);case"LL":return yr(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(t,i,s,r){var n=gQ(t,r);return i==="wo"?s.ordinalNumber(n,{unit:"week"}):yr(n,i.length)},I:function(t,i,s){var r=pQ(t);return i==="Io"?s.ordinalNumber(r,{unit:"week"}):yr(r,i.length)},d:function(t,i,s){return i==="do"?s.ordinalNumber(t.getUTCDate(),{unit:"date"}):Hh.d(t,i)},D:function(t,i,s){var r=YIe(t);return i==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):yr(r,i.length)},E:function(t,i,s){var r=t.getUTCDay();switch(i){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(t,i,s,r){var n=t.getUTCDay(),o=(n-r.weekStartsOn+8)%7||7;switch(i){case"e":return String(o);case"ee":return yr(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(t,i,s,r){var n=t.getUTCDay(),o=(n-r.weekStartsOn+8)%7||7;switch(i){case"c":return String(o);case"cc":return yr(o,i.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(t,i,s){var r=t.getUTCDay(),n=r===0?7:r;switch(i){case"i":return String(n);case"ii":return yr(n,i.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(t,i,s){var r=t.getUTCHours(),n=r/12>=1?"pm":"am";switch(i){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,i,s){var r=t.getUTCHours(),n;switch(r===12?n=lv.noon:r===0?n=lv.midnight:n=r/12>=1?"pm":"am",i){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,i,s){var r=t.getUTCHours(),n;switch(r>=17?n=lv.evening:r>=12?n=lv.afternoon:r>=4?n=lv.morning:n=lv.night,i){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,i,s){if(i==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return Hh.h(t,i)},H:function(t,i,s){return i==="Ho"?s.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Hh.H(t,i)},K:function(t,i,s){var r=t.getUTCHours()%12;return i==="Ko"?s.ordinalNumber(r,{unit:"hour"}):yr(r,i.length)},k:function(t,i,s){var r=t.getUTCHours();return r===0&&(r=24),i==="ko"?s.ordinalNumber(r,{unit:"hour"}):yr(r,i.length)},m:function(t,i,s){return i==="mo"?s.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Hh.m(t,i)},s:function(t,i,s){return i==="so"?s.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Hh.s(t,i)},S:function(t,i){return Hh.S(t,i)},X:function(t,i,s,r){var n=r._originalDate||t,o=n.getTimezoneOffset();if(o===0)return"Z";switch(i){case"X":return EW(o);case"XXXX":case"XX":return Ip(o);case"XXXXX":case"XXX":default:return Ip(o,":")}},x:function(t,i,s,r){var n=r._originalDate||t,o=n.getTimezoneOffset();switch(i){case"x":return EW(o);case"xxxx":case"xx":return Ip(o);case"xxxxx":case"xxx":default:return Ip(o,":")}},O:function(t,i,s,r){var n=r._originalDate||t,o=n.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+xW(o,":");case"OOOO":default:return"GMT"+Ip(o,":")}},z:function(t,i,s,r){var n=r._originalDate||t,o=n.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+xW(o,":");case"zzzz":default:return"GMT"+Ip(o,":")}},t:function(t,i,s,r){var n=r._originalDate||t,o=Math.floor(n.getTime()/1e3);return yr(o,i.length)},T:function(t,i,s,r){var n=r._originalDate||t,o=n.getTime();return yr(o,i.length)}};function xW(e,t){var i=e>0?"-":"+",s=Math.abs(e),r=Math.floor(s/60),n=s%60;if(n===0)return i+String(r);var o=t;return i+String(r)+o+yr(n,2)}function EW(e,t){if(e%60===0){var i=e>0?"-":"+";return i+yr(Math.abs(e)/60,2)}return Ip(e,t)}function Ip(e,t){var i=t||"",s=e>0?"-":"+",r=Math.abs(e),n=yr(Math.floor(r/60),2),o=yr(r%60,2);return s+n+i+o}var _W=function(t,i){switch(t){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},mQ=function(t,i){switch(t){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},eNe=function(t,i){var s=t.match(/(P+)(p+)?/)||[],r=s[1],n=s[2];if(!n)return _W(t,i);var o;switch(r){case"P":o=i.dateTime({width:"short"});break;case"PP":o=i.dateTime({width:"medium"});break;case"PPP":o=i.dateTime({width:"long"});break;case"PPPP":default:o=i.dateTime({width:"full"});break}return o.replace("{{date}}",_W(r,i)).replace("{{time}}",mQ(n,i))},HM={p:mQ,P:eNe},tNe=["D","DD"],iNe=["YY","YYYY"];function vQ(e){return tNe.indexOf(e)!==-1}function yQ(e){return iNe.indexOf(e)!==-1}function G_(e,t,i){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var sNe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rNe=function(t,i,s){var r,n=sNe[t];return typeof n=="string"?r=n:i===1?r=n.one:r=n.other.replace("{{count}}",i.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function aP(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.width?String(t.width):e.defaultWidth,s=e.formats[i]||e.formats[e.defaultWidth];return s}}var nNe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oNe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aNe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lNe={date:aP({formats:nNe,defaultWidth:"full"}),time:aP({formats:oNe,defaultWidth:"full"}),dateTime:aP({formats:aNe,defaultWidth:"full"})},cNe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uNe=function(t,i,s,r){return cNe[t]};function rC(e){return function(t,i){var s=i!=null&&i.context?String(i.context):"standalone",r;if(s==="formatting"&&e.formattingValues){var n=e.defaultFormattingWidth||e.defaultWidth,o=i!=null&&i.width?String(i.width):n;r=e.formattingValues[o]||e.formattingValues[n]}else{var a=e.defaultWidth,l=i!=null&&i.width?String(i.width):e.defaultWidth;r=e.values[l]||e.values[a]}var c=e.argumentCallback?e.argumentCallback(t):t;return r[c]}}var dNe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hNe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fNe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pNe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vNe=function(t,i){var s=Number(t),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},yNe={ordinalNumber:vNe,era:rC({values:dNe,defaultWidth:"wide"}),quarter:rC({values:hNe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:rC({values:fNe,defaultWidth:"wide"}),day:rC({values:pNe,defaultWidth:"wide"}),dayPeriod:rC({values:gNe,defaultWidth:"wide",formattingValues:mNe,defaultFormattingWidth:"wide"})};function nC(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.width,r=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],n=t.match(r);if(!n)return null;var o=n[0],a=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?bNe(a,function(h){return h.test(o)}):CNe(a,function(h){return h.test(o)}),c;c=e.valueCallback?e.valueCallback(l):l,c=i.valueCallback?i.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}function CNe(e,t){for(var i in e)if(e.hasOwnProperty(i)&&t(e[i]))return i}function bNe(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i}function wNe(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var r=s[0],n=t.match(e.parsePattern);if(!n)return null;var o=e.valueCallback?e.valueCallback(n[0]):n[0];o=i.valueCallback?i.valueCallback(o):o;var a=t.slice(r.length);return{value:o,rest:a}}}var SNe=/^(\d+)(th|st|nd|rd)?/i,xNe=/\d+/i,ENe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_Ne={any:[/^b/i,/^(a|c)/i]},TNe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ANe={any:[/1/i,/2/i,/3/i,/4/i]},kNe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DNe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RNe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PNe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FNe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MNe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LNe={ordinalNumber:wNe({matchPattern:SNe,parsePattern:xNe,valueCallback:function(t){return parseInt(t,10)}}),era:nC({matchPatterns:ENe,defaultMatchWidth:"wide",parsePatterns:_Ne,defaultParseWidth:"any"}),quarter:nC({matchPatterns:TNe,defaultMatchWidth:"wide",parsePatterns:ANe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:nC({matchPatterns:kNe,defaultMatchWidth:"wide",parsePatterns:DNe,defaultParseWidth:"any"}),day:nC({matchPatterns:RNe,defaultMatchWidth:"wide",parsePatterns:PNe,defaultParseWidth:"any"}),dayPeriod:nC({matchPatterns:FNe,defaultMatchWidth:"any",parsePatterns:MNe,defaultParseWidth:"any"})},CQ={code:"en-US",formatDistance:rNe,formatLong:lNe,formatRelative:uNe,localize:yNe,match:LNe,options:{weekStartsOn:0,firstWeekContainsDate:1}},ONe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,INe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NNe=/^'([^]*?)'?$/,VNe=/''/g,BNe=/[a-zA-Z]/;function rb(e,t,i){var s,r,n,o,a,l,c,u,h,f,p,y,v,C,S,_,x,A;Pi(2,arguments);var R=String(t),O=Yf(),k=(s=(r=i==null?void 0:i.locale)!==null&&r!==void 0?r:O.locale)!==null&&s!==void 0?s:CQ,F=Ui((n=(o=(a=(l=i==null?void 0:i.firstWeekContainsDate)!==null&&l!==void 0?l:i==null||(c=i.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:O.firstWeekContainsDate)!==null&&o!==void 0?o:(h=O.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Ui((p=(y=(v=(C=i==null?void 0:i.weekStartsOn)!==null&&C!==void 0?C:i==null||(S=i.locale)===null||S===void 0||(_=S.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:O.weekStartsOn)!==null&&y!==void 0?y:(x=O.locale)===null||x===void 0||(A=x.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&p!==void 0?p:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var j=Ki(e);if(!sb(j))throw new RangeError("Invalid time value");var ee=B_(j),K=hQ(j,ee),Q={firstWeekContainsDate:F,weekStartsOn:N,locale:k,_originalDate:j},be=R.match(INe).map(function(te){var ne=te[0];if(ne==="p"||ne==="P"){var H=HM[ne];return H(te,k.formatLong)}return te}).join("").match(ONe).map(function(te){if(te==="''")return"'";var ne=te[0];if(ne==="'")return GNe(te);var H=ZIe[ne];if(H)return!(i!=null&&i.useAdditionalWeekYearTokens)&&yQ(te)&&G_(te,t,String(e)),!(i!=null&&i.useAdditionalDayOfYearTokens)&&vQ(te)&&G_(te,t,String(e)),H(K,te,k.localize,Q);if(ne.match(BNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ne+"`");return te}).join("");return be}function GNe(e){var t=e.match(NNe);return t?t[1].replace(VNe,"'"):e}function HNe(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function $Ne(e){Pi(1,arguments);var t=Ki(e),i=t.getDay();return i}function WNe(e){Pi(1,arguments);var t=Ki(e),i=t.getFullYear(),s=t.getMonth(),r=new Date(0);return r.setFullYear(i,s+1,0),r.setHours(0,0,0,0),r.getDate()}function Md(e){Pi(1,arguments);var t=Ki(e),i=t.getHours();return i}var UNe=6048e5;function zNe(e){Pi(1,arguments);var t=Ki(e),i=V_(t).getTime()-$Ie(t).getTime();return Math.round(i/UNe)+1}function Ld(e){Pi(1,arguments);var t=Ki(e),i=t.getMinutes();return i}function Wr(e){Pi(1,arguments);var t=Ki(e),i=t.getMonth();return i}function F0(e){Pi(1,arguments);var t=Ki(e),i=t.getSeconds();return i}function Ur(e){return Pi(1,arguments),Ki(e).getFullYear()}function IN(e,t){Pi(2,arguments);var i=Ki(e),s=Ki(t);return i.getTime()>s.getTime()}function NN(e,t){Pi(2,arguments);var i=Ki(e),s=Ki(t);return i.getTime()<s.getTime()}function bQ(e,t){Pi(2,arguments);var i=Ki(e),s=Ki(t);return i.getTime()===s.getTime()}function TW(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,s=Array(t);i<t;i++)s[i]=e[i];return s}function jNe(e,t){if(e){if(typeof e=="string")return TW(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?TW(e,t):void 0}}function AW(e,t){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=jNe(e))||t){i&&(e=i);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,o=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var c=i.next();return o=c.done,c},e:function(c){a=!0,n=c},f:function(){try{o||i.return==null||i.return()}finally{if(a)throw n}}}}function pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $M(e,t){return $M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},$M(e,t)}function Ys(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$M(e,t)}function H_(e){return H_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H_(e)}function wQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wQ=function(){return!!e})()}function KNe(e,t){if(t&&(mc(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pi(e)}function Xs(e){var t=wQ();return function(){var i,s=H_(e);if(t){var r=H_(this).constructor;i=Reflect.construct(s,arguments,r)}else i=s.apply(this,arguments);return KNe(this,i)}}function Ns(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YNe(e,t){if(mc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var s=i.call(e,t);if(mc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SQ(e){var t=YNe(e,"string");return mc(t)=="symbol"?t:t+""}function XNe(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,SQ(s.key),s)}}function Vs(e,t,i){return t&&XNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function di(e,t,i){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var qNe=10,xQ=function(){function e(){Ns(this,e),di(this,"priority",void 0),di(this,"subPriority",0)}return Vs(e,[{key:"validate",value:function(i,s){return!0}}]),e}(),QNe=function(e){Ys(i,e);var t=Xs(i);function i(s,r,n,o,a){var l;return Ns(this,i),l=t.call(this),l.value=s,l.validateValue=r,l.setValue=n,l.priority=o,a&&(l.subPriority=a),l}return Vs(i,[{key:"validate",value:function(r,n){return this.validateValue(r,this.value,n)}},{key:"set",value:function(r,n,o){return this.setValue(r,n,this.value,o)}}]),i}(xQ),JNe=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",qNe),di(pi(s),"subPriority",-1),s}return Vs(i,[{key:"set",value:function(r,n){if(n.timestampIsSet)return r;var o=new Date(0);return o.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),o.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),o}}]),i}(xQ),ur=function(){function e(){Ns(this,e),di(this,"incompatibleTokens",void 0),di(this,"priority",void 0),di(this,"subPriority",void 0)}return Vs(e,[{key:"run",value:function(i,s,r,n){var o=this.parse(i,s,r,n);return o?{setter:new QNe(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(i,s,r){return!0}}]),e}(),ZNe=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",140),di(pi(s),"incompatibleTokens",["R","u","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}},{key:"set",value:function(r,n,o){return n.era=o,r.setUTCFullYear(o,0,1),r.setUTCHours(0,0,0,0),r}}]),i}(ur),Gn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ku={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hn(e,t){return e&&{value:t(e.value),rest:e.rest}}function pn(e,t){var i=t.match(e);return i?{value:parseInt(i[0],10),rest:t.slice(i[0].length)}:null}function Du(e,t){var i=t.match(e);if(!i)return null;if(i[0]==="Z")return{value:0,rest:t.slice(1)};var s=i[1]==="+"?1:-1,r=i[2]?parseInt(i[2],10):0,n=i[3]?parseInt(i[3],10):0,o=i[5]?parseInt(i[5],10):0;return{value:s*(r*LN+n*MN+o*zIe),rest:t.slice(i[0].length)}}function EQ(e){return pn(Gn.anyDigitsSigned,e)}function Rn(e,t){switch(e){case 1:return pn(Gn.singleDigit,t);case 2:return pn(Gn.twoDigits,t);case 3:return pn(Gn.threeDigits,t);case 4:return pn(Gn.fourDigits,t);default:return pn(new RegExp("^\\d{1,"+e+"}"),t)}}function $_(e,t){switch(e){case 1:return pn(Gn.singleDigitSigned,t);case 2:return pn(Gn.twoDigitsSigned,t);case 3:return pn(Gn.threeDigitsSigned,t);case 4:return pn(Gn.fourDigitsSigned,t);default:return pn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function VN(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function _Q(e,t){var i=t>0,s=i?t:1-t,r;if(s<=50)r=e||100;else{var n=s+50,o=Math.floor(n/100)*100,a=e>=n%100;r=e+o-(a?100:0)}return i?r:1-r}function TQ(e){return e%400===0||e%4===0&&e%100!==0}var e2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",130),di(pi(s),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){var a=function(c){return{year:c,isTwoDigitYear:n==="yy"}};switch(n){case"y":return Hn(Rn(4,r),a);case"yo":return Hn(o.ordinalNumber(r,{unit:"year"}),a);default:return Hn(Rn(n.length,r),a)}}},{key:"validate",value:function(r,n){return n.isTwoDigitYear||n.year>0}},{key:"set",value:function(r,n,o){var a=r.getUTCFullYear();if(o.isTwoDigitYear){var l=_Q(o.year,a);return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}var c=!("era"in n)||n.era===1?o.year:1-o.year;return r.setUTCFullYear(c,0,1),r.setUTCHours(0,0,0,0),r}}]),i}(ur),t2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",130),di(pi(s),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){var a=function(c){return{year:c,isTwoDigitYear:n==="YY"}};switch(n){case"Y":return Hn(Rn(4,r),a);case"Yo":return Hn(o.ordinalNumber(r,{unit:"year"}),a);default:return Hn(Rn(n.length,r),a)}}},{key:"validate",value:function(r,n){return n.isTwoDigitYear||n.year>0}},{key:"set",value:function(r,n,o,a){var l=ON(r,a);if(o.isTwoDigitYear){var c=_Q(o.year,l);return r.setUTCFullYear(c,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Vg(r,a)}var u=!("era"in n)||n.era===1?o.year:1-o.year;return r.setUTCFullYear(u,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Vg(r,a)}}]),i}(ur),i2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",130),di(pi(s),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n){return $_(n==="R"?4:n.length,r)}},{key:"set",value:function(r,n,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),P0(a)}}]),i}(ur),s2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",130),di(pi(s),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n){return $_(n==="u"?4:n.length,r)}},{key:"set",value:function(r,n,o){return r.setUTCFullYear(o,0,1),r.setUTCHours(0,0,0,0),r}}]),i}(ur),r2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",120),di(pi(s),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"Q":case"QQ":return Rn(n.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,n){return n>=1&&n<=4}},{key:"set",value:function(r,n,o){return r.setUTCMonth((o-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),i}(ur),n2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",120),di(pi(s),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"q":case"qq":return Rn(n.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,n){return n>=1&&n<=4}},{key:"set",value:function(r,n,o){return r.setUTCMonth((o-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),i}(ur),o2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),di(pi(s),"priority",110),s}return Vs(i,[{key:"parse",value:function(r,n,o){var a=function(c){return c-1};switch(n){case"M":return Hn(pn(Gn.month,r),a);case"MM":return Hn(Rn(2,r),a);case"Mo":return Hn(o.ordinalNumber(r,{unit:"month"}),a);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,n){return n>=0&&n<=11}},{key:"set",value:function(r,n,o){return r.setUTCMonth(o,1),r.setUTCHours(0,0,0,0),r}}]),i}(ur),a2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",110),di(pi(s),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){var a=function(c){return c-1};switch(n){case"L":return Hn(pn(Gn.month,r),a);case"LL":return Hn(Rn(2,r),a);case"Lo":return Hn(o.ordinalNumber(r,{unit:"month"}),a);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,n){return n>=0&&n<=11}},{key:"set",value:function(r,n,o){return r.setUTCMonth(o,1),r.setUTCHours(0,0,0,0),r}}]),i}(ur);function l2e(e,t,i){Pi(2,arguments);var s=Ki(e),r=Ui(t),n=gQ(s,i)-r;return s.setUTCDate(s.getUTCDate()-n*7),s}var c2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",100),di(pi(s),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"w":return pn(Gn.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){return n>=1&&n<=53}},{key:"set",value:function(r,n,o,a){return Vg(l2e(r,o,a),a)}}]),i}(ur);function u2e(e,t){Pi(2,arguments);var i=Ki(e),s=Ui(t),r=pQ(i)-s;return i.setUTCDate(i.getUTCDate()-r*7),i}var d2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",100),di(pi(s),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"I":return pn(Gn.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){return n>=1&&n<=53}},{key:"set",value:function(r,n,o){return P0(u2e(r,o))}}]),i}(ur),h2e=[31,28,31,30,31,30,31,31,30,31,30,31],f2e=[31,29,31,30,31,30,31,31,30,31,30,31],p2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",90),di(pi(s),"subPriority",1),di(pi(s),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"d":return pn(Gn.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){var o=r.getUTCFullYear(),a=TQ(o),l=r.getUTCMonth();return a?n>=1&&n<=f2e[l]:n>=1&&n<=h2e[l]}},{key:"set",value:function(r,n,o){return r.setUTCDate(o),r.setUTCHours(0,0,0,0),r}}]),i}(ur),g2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",90),di(pi(s),"subpriority",1),di(pi(s),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"D":case"DD":return pn(Gn.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){var o=r.getUTCFullYear(),a=TQ(o);return a?n>=1&&n<=366:n>=1&&n<=365}},{key:"set",value:function(r,n,o){return r.setUTCMonth(0,o),r.setUTCHours(0,0,0,0),r}}]),i}(ur);function BN(e,t,i){var s,r,n,o,a,l,c,u;Pi(2,arguments);var h=Yf(),f=Ui((s=(r=(n=(o=i==null?void 0:i.weekStartsOn)!==null&&o!==void 0?o:i==null||(a=i.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ki(e),y=Ui(t),v=p.getUTCDay(),C=y%7,S=(C+7)%7,_=(S<f?7:0)+y-v;return p.setUTCDate(p.getUTCDate()+_),p}var m2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",90),di(pi(s),"incompatibleTokens",["D","i","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,n){return n>=0&&n<=6}},{key:"set",value:function(r,n,o,a){return r=BN(r,o,a),r.setUTCHours(0,0,0,0),r}}]),i}(ur),v2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",90),di(pi(s),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o,a){var l=function(u){var h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(n){case"e":case"ee":return Hn(Rn(n.length,r),l);case"eo":return Hn(o.ordinalNumber(r,{unit:"day"}),l);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,n){return n>=0&&n<=6}},{key:"set",value:function(r,n,o,a){return r=BN(r,o,a),r.setUTCHours(0,0,0,0),r}}]),i}(ur),y2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",90),di(pi(s),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o,a){var l=function(u){var h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(n){case"c":case"cc":return Hn(Rn(n.length,r),l);case"co":return Hn(o.ordinalNumber(r,{unit:"day"}),l);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,n){return n>=0&&n<=6}},{key:"set",value:function(r,n,o,a){return r=BN(r,o,a),r.setUTCHours(0,0,0,0),r}}]),i}(ur);function C2e(e,t){Pi(2,arguments);var i=Ui(t);i%7===0&&(i=i-7);var s=1,r=Ki(e),n=r.getUTCDay(),o=i%7,a=(o+7)%7,l=(a<s?7:0)+i-n;return r.setUTCDate(r.getUTCDate()+l),r}var b2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",90),di(pi(s),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){var a=function(c){return c===0?7:c};switch(n){case"i":case"ii":return Rn(n.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return Hn(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return Hn(o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Hn(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Hn(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(r,n){return n>=1&&n<=7}},{key:"set",value:function(r,n,o){return r=C2e(r,o),r.setUTCHours(0,0,0,0),r}}]),i}(ur),w2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",80),di(pi(s),"incompatibleTokens",["b","B","H","k","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,n,o){return r.setUTCHours(VN(o),0,0,0),r}}]),i}(ur),S2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",80),di(pi(s),"incompatibleTokens",["a","B","H","k","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,n,o){return r.setUTCHours(VN(o),0,0,0),r}}]),i}(ur),x2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",80),di(pi(s),"incompatibleTokens",["a","b","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,n,o){return r.setUTCHours(VN(o),0,0,0),r}}]),i}(ur),E2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",70),di(pi(s),"incompatibleTokens",["H","K","k","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"h":return pn(Gn.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){return n>=1&&n<=12}},{key:"set",value:function(r,n,o){var a=r.getUTCHours()>=12;return a&&o<12?r.setUTCHours(o+12,0,0,0):!a&&o===12?r.setUTCHours(0,0,0,0):r.setUTCHours(o,0,0,0),r}}]),i}(ur),_2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",70),di(pi(s),"incompatibleTokens",["a","b","h","K","k","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"H":return pn(Gn.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){return n>=0&&n<=23}},{key:"set",value:function(r,n,o){return r.setUTCHours(o,0,0,0),r}}]),i}(ur),T2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",70),di(pi(s),"incompatibleTokens",["h","H","k","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"K":return pn(Gn.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){return n>=0&&n<=11}},{key:"set",value:function(r,n,o){var a=r.getUTCHours()>=12;return a&&o<12?r.setUTCHours(o+12,0,0,0):r.setUTCHours(o,0,0,0),r}}]),i}(ur),A2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",70),di(pi(s),"incompatibleTokens",["a","b","h","H","K","t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"k":return pn(Gn.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){return n>=1&&n<=24}},{key:"set",value:function(r,n,o){var a=o<=24?o%24:o;return r.setUTCHours(a,0,0,0),r}}]),i}(ur),k2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",60),di(pi(s),"incompatibleTokens",["t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"m":return pn(Gn.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){return n>=0&&n<=59}},{key:"set",value:function(r,n,o){return r.setUTCMinutes(o,0,0),r}}]),i}(ur),D2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",50),di(pi(s),"incompatibleTokens",["t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n,o){switch(n){case"s":return pn(Gn.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return Rn(n.length,r)}}},{key:"validate",value:function(r,n){return n>=0&&n<=59}},{key:"set",value:function(r,n,o){return r.setUTCSeconds(o,0),r}}]),i}(ur),R2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",30),di(pi(s),"incompatibleTokens",["t","T"]),s}return Vs(i,[{key:"parse",value:function(r,n){var o=function(l){return Math.floor(l*Math.pow(10,-n.length+3))};return Hn(Rn(n.length,r),o)}},{key:"set",value:function(r,n,o){return r.setUTCMilliseconds(o),r}}]),i}(ur),P2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",10),di(pi(s),"incompatibleTokens",["t","T","x"]),s}return Vs(i,[{key:"parse",value:function(r,n){switch(n){case"X":return Du(ku.basicOptionalMinutes,r);case"XX":return Du(ku.basic,r);case"XXXX":return Du(ku.basicOptionalSeconds,r);case"XXXXX":return Du(ku.extendedOptionalSeconds,r);case"XXX":default:return Du(ku.extended,r)}}},{key:"set",value:function(r,n,o){return n.timestampIsSet?r:new Date(r.getTime()-o)}}]),i}(ur),F2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",10),di(pi(s),"incompatibleTokens",["t","T","X"]),s}return Vs(i,[{key:"parse",value:function(r,n){switch(n){case"x":return Du(ku.basicOptionalMinutes,r);case"xx":return Du(ku.basic,r);case"xxxx":return Du(ku.basicOptionalSeconds,r);case"xxxxx":return Du(ku.extendedOptionalSeconds,r);case"xxx":default:return Du(ku.extended,r)}}},{key:"set",value:function(r,n,o){return n.timestampIsSet?r:new Date(r.getTime()-o)}}]),i}(ur),M2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",40),di(pi(s),"incompatibleTokens","*"),s}return Vs(i,[{key:"parse",value:function(r){return EQ(r)}},{key:"set",value:function(r,n,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),i}(ur),L2e=function(e){Ys(i,e);var t=Xs(i);function i(){var s;Ns(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n)),di(pi(s),"priority",20),di(pi(s),"incompatibleTokens","*"),s}return Vs(i,[{key:"parse",value:function(r){return EQ(r)}},{key:"set",value:function(r,n,o){return[new Date(o),{timestampIsSet:!0}]}}]),i}(ur),O2e={G:new ZNe,y:new e2e,Y:new t2e,R:new i2e,u:new s2e,Q:new r2e,q:new n2e,M:new o2e,L:new a2e,w:new c2e,I:new d2e,d:new p2e,D:new g2e,E:new m2e,e:new v2e,c:new y2e,i:new b2e,a:new w2e,b:new S2e,B:new x2e,h:new E2e,H:new _2e,K:new T2e,k:new A2e,m:new k2e,s:new D2e,S:new R2e,X:new P2e,x:new F2e,t:new M2e,T:new L2e},I2e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N2e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,V2e=/^'([^]*?)'?$/,B2e=/''/g,G2e=/\S/,H2e=/[a-zA-Z]/;function WM(e,t,i,s){var r,n,o,a,l,c,u,h,f,p,y,v,C,S;Pi(3,arguments);var _=String(e),x=String(t),A=Yf(),R=(r=(n=void 0)!==null&&n!==void 0?n:A.locale)!==null&&r!==void 0?r:CQ;if(!R.match)throw new RangeError("locale must contain match property");var O=Ui((o=(a=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:A.firstWeekContainsDate)!==null&&a!==void 0?a:(u=A.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Ui((f=(p=(y=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&y!==void 0?y:A.weekStartsOn)!==null&&p!==void 0?p:(C=A.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&f!==void 0?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(x==="")return _===""?Ki(i):new Date(NaN);var F={firstWeekContainsDate:O,weekStartsOn:k,locale:R},N=[new JNe],j=x.match(N2e).map(function(Y){var Z=Y[0];if(Z in HM){var Se=HM[Z];return Se(Y,R.formatLong)}return Y}).join("").match(I2e),ee=[],K=AW(j),Q;try{var be=function(){var Z=Q.value;!(s!=null&&s.useAdditionalWeekYearTokens)&&yQ(Z)&&G_(Z,x,e),!(s!=null&&s.useAdditionalDayOfYearTokens)&&vQ(Z)&&G_(Z,x,e);var Se=Z[0],ye=O2e[Se];if(ye){var ke=ye.incompatibleTokens;if(Array.isArray(ke)){var Oe=ee.find(function(mt){return ke.includes(mt.token)||mt.token===Se});if(Oe)throw new RangeError("The format string mustn't contain `".concat(Oe.fullToken,"` and `").concat(Z,"` at the same time"))}else if(ye.incompatibleTokens==="*"&&ee.length>0)throw new RangeError("The format string mustn't contain `".concat(Z,"` and any other token at the same time"));ee.push({token:Se,fullToken:Z});var He=ye.run(_,Z,R.match,F);if(!He)return{v:new Date(NaN)};N.push(He.setter),_=He.rest}else{if(Se.match(H2e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Se+"`");if(Z==="''"?Z="'":Se==="'"&&(Z=$2e(Z)),_.indexOf(Z)===0)_=_.slice(Z.length);else return{v:new Date(NaN)}}};for(K.s();!(Q=K.n()).done;){var te=be();if(mc(te)==="object")return te.v}}catch(Y){K.e(Y)}finally{K.f()}if(_.length>0&&G2e.test(_))return new Date(NaN);var ne=N.map(function(Y){return Y.priority}).sort(function(Y,Z){return Z-Y}).filter(function(Y,Z,Se){return Se.indexOf(Y)===Z}).map(function(Y){return N.filter(function(Z){return Z.priority===Y}).sort(function(Z,Se){return Se.subPriority-Z.subPriority})}).map(function(Y){return Y[0]}),H=Ki(i);if(isNaN(H.getTime()))return new Date(NaN);var ie=hQ(H,B_(H)),ue={},Te=AW(ne),Ie;try{for(Te.s();!(Ie=Te.n()).done;){var he=Ie.value;if(!he.validate(ie,F))return new Date(NaN);var Ee=he.set(ie,ue,F);Array.isArray(Ee)?(ie=Ee[0],HNe(ue,Ee[1])):ie=Ee}}catch(Y){Te.e(Y)}finally{Te.f()}return ie}function $2e(e){return e.match(V2e)[1].replace(B2e,"'")}function W2e(e,t){Pi(2,arguments);var i=Ui(t);return pf(e,-i)}function U2e(e,t){var i;Pi(1,arguments);var s=Ui((i=void 0)!==null&&i!==void 0?i:2);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=Y2e(e),n;if(r.date){var o=X2e(r.date,s);n=q2e(o.restDateString,o.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);var a=n.getTime(),l=0,c;if(r.time&&(l=Q2e(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(c=J2e(r.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+l+c)}var E1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},z2e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,j2e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,K2e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Y2e(e){var t={},i=e.split(E1.dateTimeDelimiter),s;if(i.length>2)return t;if(/:/.test(i[0])?s=i[0]:(t.date=i[0],s=i[1],E1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(E1.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){var r=E1.timezone.exec(s);r?(t.time=s.replace(r[1],""),t.timezone=r[1]):t.time=s}return t}function X2e(e,t){var i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(i);if(!s)return{year:NaN,restDateString:""};var r=s[1]?parseInt(s[1]):null,n=s[2]?parseInt(s[2]):null;return{year:n===null?r:n*100,restDateString:e.slice((s[1]||s[2]).length)}}function q2e(e,t){if(t===null)return new Date(NaN);var i=e.match(z2e);if(!i)return new Date(NaN);var s=!!i[4],r=oC(i[1]),n=oC(i[2])-1,o=oC(i[3]),a=oC(i[4]),l=oC(i[5])-1;if(s)return sVe(t,a,l)?Z2e(t,a,l):new Date(NaN);var c=new Date(0);return!tVe(t,n,o)||!iVe(t,r)?new Date(NaN):(c.setUTCFullYear(t,n,Math.max(r,o)),c)}function oC(e){return e?parseInt(e):1}function Q2e(e){var t=e.match(j2e);if(!t)return NaN;var i=lP(t[1]),s=lP(t[2]),r=lP(t[3]);return rVe(i,s,r)?i*LN+s*MN+r*1e3:NaN}function lP(e){return e&&parseFloat(e.replace(",","."))||0}function J2e(e){if(e==="Z")return 0;var t=e.match(K2e);if(!t)return 0;var i=t[1]==="+"?-1:1,s=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return nVe(s,r)?i*(s*LN+r*MN):NaN}function Z2e(e,t,i){var s=new Date(0);s.setUTCFullYear(e,0,4);var r=s.getUTCDay()||7,n=(t-1)*7+i+1-r;return s.setUTCDate(s.getUTCDate()+n),s}var eVe=[31,null,31,30,31,30,31,31,30,31,30,31];function AQ(e){return e%400===0||e%4===0&&e%100!==0}function tVe(e,t,i){return t>=0&&t<=11&&i>=1&&i<=(eVe[t]||(AQ(e)?29:28))}function iVe(e,t){return t>=1&&t<=(AQ(e)?366:365)}function sVe(e,t,i){return t>=1&&t<=53&&i>=0&&i<=6}function rVe(e,t,i){return e===24?t===0&&i===0:i>=0&&i<60&&t>=0&&t<60&&e>=0&&e<25}function nVe(e,t){return t>=0&&t<=59}function nb(e,t){Pi(2,arguments);var i=Ki(e),s=Ui(t),r=i.getFullYear(),n=i.getDate(),o=new Date(0);o.setFullYear(r,s,15),o.setHours(0,0,0,0);var a=WNe(o);return i.setMonth(s,Math.min(n,a)),i}function Ea(e,t){if(Pi(2,arguments),mc(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var i=Ki(e);return isNaN(i.getTime())?new Date(NaN):(t.year!=null&&i.setFullYear(t.year),t.month!=null&&(i=nb(i,t.month)),t.date!=null&&i.setDate(Ui(t.date)),t.hours!=null&&i.setHours(Ui(t.hours)),t.minutes!=null&&i.setMinutes(Ui(t.minutes)),t.seconds!=null&&i.setSeconds(Ui(t.seconds)),t.milliseconds!=null&&i.setMilliseconds(Ui(t.milliseconds)),i)}function kQ(e,t){Pi(2,arguments);var i=Ki(e),s=Ui(t);return i.setHours(s),i}function GN(e,t){Pi(2,arguments);var i=Ki(e),s=Ui(t);return i.setMilliseconds(s),i}function DQ(e,t){Pi(2,arguments);var i=Ki(e),s=Ui(t);return i.setMinutes(s),i}function RQ(e,t){Pi(2,arguments);var i=Ki(e),s=Ui(t);return i.setSeconds(s),i}function cg(e,t){Pi(2,arguments);var i=Ki(e),s=Ui(t);return isNaN(i.getTime())?new Date(NaN):(i.setFullYear(s),i)}function $v(e,t){Pi(2,arguments);var i=Ui(t);return Mu(e,-i)}function oVe(e,t){if(Pi(2,arguments),!t||mc(t)!=="object")return new Date(NaN);var i=t.years?Ui(t.years):0,s=t.months?Ui(t.months):0,r=t.weeks?Ui(t.weeks):0,n=t.days?Ui(t.days):0,o=t.hours?Ui(t.hours):0,a=t.minutes?Ui(t.minutes):0,l=t.seconds?Ui(t.seconds):0,c=$v(e,s+i*12),u=W2e(c,n+r*7),h=a+o*60,f=l+h*60,p=f*1e3,y=new Date(u.getTime()-p);return y}function aVe(e,t){Pi(2,arguments);var i=Ui(t);return uQ(e,-i)}const Em=(e,t)=>{const i=e.__vccOpts||e;for(const[s,r]of t)i[s]=r;return i},lVe={},cVe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},uVe=me("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),dVe=me("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),hVe=me("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),fVe=me("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1),pVe=[uVe,dVe,hVe,fVe];function gVe(e,t){return q(),ve("svg",cVe,pVe)}const ek=Em(lVe,[["render",gVe]]),mVe={},vVe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},yVe=me("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),CVe=me("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),bVe=[yVe,CVe];function wVe(e,t){return q(),ve("svg",vVe,bVe)}const SVe=Em(mVe,[["render",wVe]]),xVe={},EVe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},_Ve=me("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),TVe=[_Ve];function AVe(e,t){return q(),ve("svg",EVe,TVe)}const kW=Em(xVe,[["render",AVe]]),kVe={},DVe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},RVe=me("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1),PVe=[RVe];function FVe(e,t){return q(),ve("svg",DVe,PVe)}const DW=Em(kVe,[["render",FVe]]),MVe={},LVe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},OVe=me("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),IVe=me("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),NVe=[OVe,IVe];function VVe(e,t){return q(),ve("svg",LVe,NVe)}const PQ=Em(MVe,[["render",VVe]]),BVe={},GVe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},HVe=me("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),$Ve=[HVe];function WVe(e,t){return q(),ve("svg",GVe,$Ve)}const FQ=Em(BVe,[["render",WVe]]),UVe={},zVe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},jVe=me("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),KVe=[jVe];function YVe(e,t){return q(),ve("svg",zVe,KVe)}const MQ=Em(UVe,[["render",YVe]]),RW=(e,t)=>{const i=WM(e,t.slice(0,e.length),new Date);return sb(i)&&dQ(i)?i:null},XVe=(e,t)=>{if(typeof t=="string")return RW(e,t);if(Array.isArray(t)){let i=null;for(const s of t)if(i=RW(e,s),i)break;return i}return typeof t=="function"?t(e):null},$t=e=>e?new Date(e):new Date,qVe=(e,t)=>{if(t){const s=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),n=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return`${e.getFullYear()}-${s}-${r}T${n}:${o}:00.000Z`}const i=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(i).toISOString()},Zu=e=>{let t=$t(JSON.parse(JSON.stringify(e)));return t=kQ(t,0),t=DQ(t,0),t=RQ(t,0),t=GN(t,0),t},Zl=(e,t,i,s)=>{let r=e?$t(e):$t();return(t||t===0)&&(r=kQ(r,+t)),(i||i===0)&&(r=DQ(r,+i)),(s||s===0)&&(r=RQ(r,+s)),GN(r,0)},ra=(e,t)=>!e||!t?!1:NN(Zu(e),Zu(t)),rn=(e,t)=>!e||!t?!1:bQ(Zu(e),Zu(t)),ka=(e,t)=>!e||!t?!1:IN(Zu(e),Zu(t)),LQ=(e,t,i)=>e&&e[0]&&e[1]?ka(i,e[0])&&ra(i,e[1]):e&&e[0]&&t?ka(i,e[0])&&ra(i,t)||ra(i,e[0])&&ka(i,t):!1,aC=Nn({menuFocused:!1,shiftKeyInMenu:!1}),OQ=()=>{const e=i=>{aC.menuFocused=i},t=i=>{aC.shiftKeyInMenu!==i&&(aC.shiftKeyInMenu=i)};return{control:V(()=>({shiftKeyInMenu:aC.shiftKeyInMenu,menuFocused:aC.menuFocused})),setMenuFocused:e,setShiftKey:t}};function HN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W_={},QVe={get exports(){return W_},set exports(e){W_=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function i(s){if(s===null||s===!0||s===!1)return NaN;var r=Number(s);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}e.exports=t.default})(QVe,W_);const JVe=HN(W_);var U_={},ZVe={get exports(){return U_},set exports(e){U_=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function i(s){var r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),s.getTime()-r.getTime()}e.exports=t.default})(ZVe,U_);const PW=HN(U_);function eBe(e,t){var i=rBe(t);return i.formatToParts?iBe(i,e):sBe(i,e)}var tBe={year:0,month:1,day:2,hour:3,minute:4,second:5};function iBe(e,t){try{for(var i=e.formatToParts(t),s=[],r=0;r<i.length;r++){var n=tBe[i[r].type];n>=0&&(s[n]=parseInt(i[r].value,10))}return s}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function sBe(e,t){var i=e.format(t).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i);return[s[3],s[1],s[2],s[4],s[5],s[6]]}var cP={};function rBe(e){if(!cP[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),i=t==="06/25/2014, 00:00:00"||t==="06/25/2014 00:00:00";cP[e]=i?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return cP[e]}function $N(e,t,i,s,r,n,o){var a=new Date(0);return a.setUTCFullYear(e,t,i),a.setUTCHours(s,r,n,o),a}var FW=36e5,nBe=6e4,uP={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function WN(e,t,i){var s,r;if(!e||(s=uP.timezoneZ.exec(e),s))return 0;var n;if(s=uP.timezoneHH.exec(e),s)return n=parseInt(s[1],10),MW(n)?-(n*FW):NaN;if(s=uP.timezoneHHMM.exec(e),s){n=parseInt(s[1],10);var o=parseInt(s[2],10);return MW(n,o)?(r=Math.abs(n)*FW+o*nBe,n>0?-r:r):NaN}if(lBe(e)){t=new Date(t||Date.now());var a=i?t:oBe(t),l=UM(a,e),c=i?l:aBe(t,l,e);return-c}return NaN}function oBe(e){return $N(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function UM(e,t){var i=eBe(e,t),s=$N(i[0],i[1]-1,i[2],i[3]%24,i[4],i[5],0).getTime(),r=e.getTime(),n=r%1e3;return r-=n>=0?n:1e3+n,s-r}function aBe(e,t,i){var s=e.getTime(),r=s-t,n=UM(new Date(r),i);if(t===n)return t;r-=n-t;var o=UM(new Date(r),i);return n===o?n:Math.max(n,o)}function MW(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var LW={};function lBe(e){if(LW[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),LW[e]=!0,!0}catch{return!1}}var cBe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const IQ=cBe;var dP=36e5,OW=6e4,uBe=2,_a={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:IQ};function zM(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var i=t||{},s=i.additionalDigits==null?uBe:JVe(i.additionalDigits);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=dBe(e),n=hBe(r.date,s),o=n.year,a=n.restDateString,l=fBe(a,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),u=0,h;if(r.time&&(u=pBe(r.time),isNaN(u)))return new Date(NaN);if(r.timeZone||i.timeZone){if(h=WN(r.timeZone||i.timeZone,new Date(c+u)),isNaN(h))return new Date(NaN)}else h=PW(new Date(c+u)),h=PW(new Date(c+u+h));return new Date(c+u+h)}else return new Date(NaN)}function dBe(e){var t={},i=_a.dateTimePattern.exec(e),s;if(i?(t.date=i[1],s=i[3]):(i=_a.datePattern.exec(e),i?(t.date=i[1],s=i[2]):(t.date=null,s=e)),s){var r=_a.timeZone.exec(s);r?(t.time=s.replace(r[1],""),t.timeZone=r[1].trim()):t.time=s}return t}function hBe(e,t){var i=_a.YYY[t],s=_a.YYYYY[t],r;if(r=_a.YYYY.exec(e)||s.exec(e),r){var n=r[1];return{year:parseInt(n,10),restDateString:e.slice(n.length)}}if(r=_a.YY.exec(e)||i.exec(e),r){var o=r[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function fBe(e,t){if(t===null)return null;var i,s,r,n;if(e.length===0)return s=new Date(0),s.setUTCFullYear(t),s;if(i=_a.MM.exec(e),i)return s=new Date(0),r=parseInt(i[1],10)-1,NW(t,r)?(s.setUTCFullYear(t,r),s):new Date(NaN);if(i=_a.DDD.exec(e),i){s=new Date(0);var o=parseInt(i[1],10);return vBe(t,o)?(s.setUTCFullYear(t,0,o),s):new Date(NaN)}if(i=_a.MMDD.exec(e),i){s=new Date(0),r=parseInt(i[1],10)-1;var a=parseInt(i[2],10);return NW(t,r,a)?(s.setUTCFullYear(t,r,a),s):new Date(NaN)}if(i=_a.Www.exec(e),i)return n=parseInt(i[1],10)-1,VW(t,n)?IW(t,n):new Date(NaN);if(i=_a.WwwD.exec(e),i){n=parseInt(i[1],10)-1;var l=parseInt(i[2],10)-1;return VW(t,n,l)?IW(t,n,l):new Date(NaN)}return null}function pBe(e){var t,i,s;if(t=_a.HH.exec(e),t)return i=parseFloat(t[1].replace(",",".")),hP(i)?i%24*dP:NaN;if(t=_a.HHMM.exec(e),t)return i=parseInt(t[1],10),s=parseFloat(t[2].replace(",",".")),hP(i,s)?i%24*dP+s*OW:NaN;if(t=_a.HHMMSS.exec(e),t){i=parseInt(t[1],10),s=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return hP(i,s,r)?i%24*dP+s*OW+r*1e3:NaN}return null}function IW(e,t,i){t=t||0,i=i||0;var s=new Date(0);s.setUTCFullYear(e,0,4);var r=s.getUTCDay()||7,n=t*7+i+1-r;return s.setUTCDate(s.getUTCDate()+n),s}var gBe=[31,28,31,30,31,30,31,31,30,31,30,31],mBe=[31,29,31,30,31,30,31,31,30,31,30,31];function NQ(e){return e%400===0||e%4===0&&e%100!==0}function NW(e,t,i){if(t<0||t>11)return!1;if(i!=null){if(i<1)return!1;var s=NQ(e);if(s&&i>mBe[t]||!s&&i>gBe[t])return!1}return!0}function vBe(e,t){if(t<1)return!1;var i=NQ(e);return!(i&&t>366||!i&&t>365)}function VW(e,t,i){return!(t<0||t>52||i!=null&&(i<0||i>6))}function hP(e,t,i){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||i!=null&&(i<0||i>=60))}var z_={},yBe={get exports(){return z_},set exports(e){z_=e}},j_={},CBe={get exports(){return j_},set exports(e){j_=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function i(s,r){if(s==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n]);return s}e.exports=t.default})(CBe,j_);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=s(j_);function s(n){return n&&n.__esModule?n:{default:n}}function r(n){return(0,i.default)({},n)}e.exports=t.default})(yBe,z_);const bBe=HN(z_);function wBe(e,t,i){var s=zM(e,i),r=WN(t,s,!0),n=new Date(s.getTime()-r),o=new Date(0);return o.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),o.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),o}function SBe(e,t,i){if(typeof e=="string"&&!e.match(IQ)){var s=bBe(i);return s.timeZone=t,zM(e,s)}var r=zM(e,i),n=$N(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()).getTime(),o=WN(t,new Date(n));return new Date(n+o)}const xBe=(e,t=3)=>{const i=[];for(let s=0;s<e.length;s+=t)i.push([e[s],e[s+1],e[s+2]]);return i},EBe=(e,t)=>{const i=[1,2,3,4,5,6,7].map(n=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)),s=i.slice(0,t),r=i.slice(t+1,i.length);return[i[t]].concat(...r).concat(...s)},_Be=e=>{const t=[];for(let i=+e[0];i<=+e[1];i++)t.push({value:+i,text:`${i}`});return t},TBe=(e,t)=>{const i=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const r=s<10?`0${s}`:s;return new Date(`2017-${r}-01T00:00:00+00:00`)}).map((s,r)=>({text:i.format(s),value:r}))},ABe=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],po=e=>{const t=P(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},kBe=e=>Object.assign({type:"dot"},e),VQ=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,K_={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ko=e=>e,BW=e=>e===0?e:!e||isNaN(+e)?null:+e,GW=e=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),DBe=e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},e),RBe=e=>e===null?0:typeof e=="boolean"?e?2:0:+e>=2?+e:2,PBe=(e,t,i)=>e||(typeof i=="string"?i:t),FBe=e=>typeof e=="boolean"?e?GW({}):!1:GW(e),MBe=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),LBe=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),Bl=e=>{const t=()=>{if(e.partialRange)return null;throw new Error(K_.prop("partial-range"))},i=V(()=>({ariaLabels:DBe(e.ariaLabels),textInputOptions:Object.assign(MBe(),e.textInputOptions),multiCalendars:RBe(e.multiCalendars),previewFormat:PBe(e.previewFormat,e.format,n()),filters:LBe(e.filters),transitions:FBe(e.transitions),startTime:f()})),s=H=>{if(e.range)return H();throw new Error(K_.prop("range"))},r=()=>{const H=e.enableSeconds?":ss":"";return e.is24?`HH:mm${H}`:`hh:mm${H} aa`},n=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?r():e.weekPicker?"MM/dd/yyyy":e.yearPicker?"yyyy":e.enableTimePicker?`MM/dd/yyyy, ${r()}`:"MM/dd/yyyy",o=(H,ie)=>{if(typeof e.format=="function")return e.format(H);const ue=ie||n(),Te=e.formatLocale?{locale:e.formatLocale}:void 0;return Array.isArray(H)?`${rb(H[0],ue,Te)} ${e.modelAuto&&!H[1]?"":i.value.textInputOptions.rangeSeparator||"-"} ${H[1]?rb(H[1],ue,Te):""}`:rb(H,ue,Te)},a=H=>e.timezone?wBe(H,e.timezone):H,l=H=>e.timezone?SBe(H,e.timezone):H,c=V(()=>H=>{var ie;return(ie=e.hideNavigation)==null?void 0:ie.includes(H)}),u=H=>{const ie=e.maxDate?ka(a(H),a($t(e.maxDate))):!1,ue=e.minDate?ra(a(H),a($t(e.minDate))):!1,Te=S(H,e.disabledDates),Ie=i.value.filters.months.map(Se=>+Se).includes(Wr(H)),he=e.disabledWeekDays.length?e.disabledWeekDays.some(Se=>+Se===$Ne(H)):!1,Ee=e.allowedDates.length?!e.allowedDates.some(Se=>rn(a($t(Se)),a(H))):!1,Y=Ur(H),Z=Y<+e.yearRange[0]||Y>+e.yearRange[1];return!(ie||ue||Te||Ie||Z||he||Ee)},h=H=>{const ie={hours:Md($t()),minutes:Ld($t()),seconds:F0($t())};return Object.assign(ie,H)},f=()=>e.range?e.startTime&&Array.isArray(e.startTime)?[h(e.startTime[0]),h(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?h(e.startTime):null,p=H=>!u(H),y=H=>Array.isArray(H)?sb(H[0])&&(H[1]?sb(H[1]):!0):H?sb(H):!1,v=H=>H instanceof Date?H:U2e(H),C=H=>{const ie=GM(a(H),{weekStartsOn:+e.weekStart}),ue=jIe(a(H),{weekStartsOn:+e.weekStart});return[ie,ue]},S=(H,ie)=>Array.isArray(ie)?ie.some(ue=>rn(a($t(ue)),a(H))):ie(H),_=(H,ie,ue)=>{let Te=H?$t(H):$t();return(ie||ie===0)&&(Te=nb(Te,ie)),ue&&(Te=cg(Te,ue)),Te},x=H=>Ea($t(),{hours:Md(H),minutes:Ld(H),seconds:F0(H)}),A=H=>Ea($t(),{hours:+H.hours||0,minutes:+H.minutes||0,seconds:+H.seconds||0}),R=(H,ie,ue,Te)=>{if(!H)return!0;if(Te){const Ie=ue==="max"?NN(H,ie):IN(H,ie),he={seconds:0,milliseconds:0};return Ie||bQ(Ea(H,he),Ea(ie,he))}return ue==="max"?H.getTime()<=ie.getTime():H.getTime()>=ie.getTime()},O=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,k=H=>Array.isArray(H)?[H[0]?x(H[0]):null,H[1]?x(H[1]):null]:x(H),F=H=>{const ie=e.maxTime?A(e.maxTime):$t(e.maxDate);return Array.isArray(H)?R(H[0],ie,"max",!!e.maxDate)&&R(H[1],ie,"max",!!e.maxDate):R(H,ie,"max",!!e.maxDate)},N=(H,ie)=>{const ue=e.minTime?A(e.minTime):$t(e.minDate);return Array.isArray(H)?R(H[0],ue,"min",!!e.minDate)&&R(H[1],ue,"min",!!e.minDate)&&ie:R(H,ue,"min",!!e.minDate)&&ie},j=H=>{let ie=!0;if(!H||O())return!0;const ue=!e.minDate&&!e.maxDate?k(H):H;return(e.maxTime||e.maxDate)&&(ie=F(Ko(ue))),(e.minTime||e.minDate)&&(ie=N(Ko(ue),ie)),ie},ee=(H,ie)=>{const ue=$t(JSON.parse(JSON.stringify(H))),Te=[];for(let Ie=0;Ie<7;Ie++){const he=pf(ue,Ie),Ee=Wr(he)!==ie;Te.push({text:e.hideOffsetDates&&Ee?"":he.getDate(),value:he,current:!Ee,classData:{}})}return Te},K=(H,ie)=>{const ue=[],Te=$t(a(new Date(ie,H))),Ie=$t(a(new Date(ie,H+1,0))),he=GM(Te,{weekStartsOn:e.weekStart}),Ee=Y=>{const Z=ee(Y,H);if(ue.push({days:Z}),!ue[ue.length-1].days.some(Se=>rn(Zu(Se.value),Zu(Ie)))){const Se=pf(Y,7);Ee(Se)}};if(Ee(he),e.sixWeeks&&ue.length<6){const Y=6-ue.length;for(let Z=1;Z<=Y;Z++){const Se=ue[ue.length-1],ye=Se.days[Se.days.length-1],ke=ee(pf(ye.value,1),Wr(Te));ue.push({days:ke})}}return ue},Q=(H,ie,ue)=>[Ea($t(H),{date:1}),Ea($t(),{month:ie,year:ue,date:1})],be=(H,ie)=>ra(...Q(e.minDate,H,ie))||rn(...Q(e.minDate,H,ie)),te=(H,ie)=>ka(...Q(e.maxDate,H,ie))||rn(...Q(e.maxDate,H,ie)),ne=(H,ie,ue)=>{let Te=!1;return e.maxDate&&ue&&te(H,ie)&&(Te=!0),e.minDate&&!ue&&be(H,ie)&&(Te=!0),Te};return{checkPartialRangeValue:t,checkRangeEnabled:s,getZonedDate:a,getZonedToUtc:l,formatDate:o,getDefaultPattern:n,validateDate:u,getDefaultStartTime:f,isDisabled:p,isValidDate:y,sanitizeDate:v,getWeekFromDate:C,matchDate:S,setDateMonthOrYear:_,isValidTime:j,getCalendarDays:K,validateMonthYearInRange:(H,ie,ue,Te)=>{let Ie=!1;return Te?e.minDate&&e.maxDate?Ie=ne(H,ie,ue):(e.minDate&&be(H,ie)||e.maxDate&&te(H,ie))&&(Ie=!0):Ie=!0,Ie},validateMaxDate:te,validateMinDate:be,defaults:i,hideNavigationButtons:c}},$r=Nn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),fP=We(null),_1=We(!1),pP=We(!1),gP=We(!1),mP=We(!1),ma=We(0),Fo=We(0),Xf=()=>{const e=V(()=>_1.value?[...$r.selectionGrid,$r.actionRow].filter(h=>h.length):pP.value?[...$r.timePicker[0],...$r.timePicker[1],mP.value?[]:[fP.value],$r.actionRow].filter(h=>h.length):gP.value?[...$r.monthPicker,$r.actionRow]:[$r.monthYear,...$r.calendar,$r.time,$r.actionRow].filter(h=>h.length)),t=h=>{ma.value=h?ma.value+1:ma.value-1;let f=null;e.value[Fo.value]&&(f=e.value[Fo.value][ma.value]),f||(ma.value=h?ma.value-1:ma.value+1)},i=h=>{Fo.value===0&&!h||Fo.value===e.value.length&&h||(Fo.value=h?Fo.value+1:Fo.value-1,e.value[Fo.value]?e.value[Fo.value]&&!e.value[Fo.value][ma.value]&&ma.value!==0&&(ma.value=e.value[Fo.value].length-1):Fo.value=h?Fo.value-1:Fo.value+1)},s=h=>{let f=null;e.value[Fo.value]&&(f=e.value[Fo.value][ma.value]),f?f.focus({preventScroll:!_1.value}):ma.value=h?ma.value-1:ma.value+1},r=()=>{t(!0),s(!0)},n=()=>{t(!1),s(!1)},o=()=>{i(!1),s(!0)},a=()=>{i(!0),s(!0)},l=(h,f)=>{$r[f]=h},c=(h,f)=>{$r[f]=h},u=()=>{ma.value=0,Fo.value=0};return{buildMatrix:l,buildMultiLevelMatrix:c,setTimePickerBackRef:h=>{fP.value=h},setSelectionGrid:h=>{_1.value=h,u(),h||($r.selectionGrid=[])},setTimePicker:(h,f=!1)=>{pP.value=h,mP.value=f,u(),h||($r.timePicker[0]=[],$r.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{$r.timePicker[f]=h},arrowRight:r,arrowLeft:n,arrowUp:o,arrowDown:a,clearArrowNav:()=>{$r.monthYear=[],$r.calendar=[],$r.time=[],$r.actionRow=[],$r.selectionGrid=[],$r.timePicker[0]=[],$r.timePicker[1]=[],_1.value=!1,pP.value=!1,mP.value=!1,gP.value=!1,u(),fP.value=null},setMonthPicker:h=>{gP.value=h,u()},refSets:$r}},HW=e=>Array.isArray(e),Ap=e=>Array.isArray(e),$W=e=>Array.isArray(e)&&e.length===2,OBe=(e,t,i,s,r)=>{const{getDefaultStartTime:n,isDisabled:o,sanitizeDate:a,getWeekFromDate:l,setDateMonthOrYear:c,validateMonthYearInRange:u,defaults:h}=Bl(e),f=V({get:()=>e.internalModelValue,set:$e=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",$e)}}),p=We([]);Ot(f,()=>{e.multiCalendars||R()});const y=We([{month:Wr($t()),year:Ur($t())}]),v=Nn({hours:e.range?[Md($t()),Md($t())]:Md($t()),minutes:e.range?[Ld($t()),Ld($t())]:Ld($t()),seconds:e.range?[0,0]:0}),C=V(()=>$e=>y.value[$e]?y.value[$e].month:0),S=V(()=>$e=>y.value[$e]?y.value[$e].year:0),_=V(()=>e.flow&&e.flow.length?r.value===e.flow.length:!0),x=($e,Me,qe)=>{var pt,vt;y.value[$e]||(y.value[$e]={month:0,year:0}),y.value[$e].month=Me===null?(pt=y.value[$e])==null?void 0:pt.month:Me,y.value[$e].year=qe===null?(vt=y.value[$e])==null?void 0:vt.year:qe},A=($e,Me)=>{v[$e]=Me};Ri(()=>{f.value||(e.startDate&&(x(0,Wr($t(e.startDate)),Ur($t(e.startDate))),h.value.multiCalendars&&Ze(0)),h.value.startTime&&te()),R(!0)});const R=($e=!1)=>{if(f.value)return Array.isArray(f.value)?(p.value=f.value,j($e)):k(f.value);if(e.timePicker)return ee();if(e.monthPicker&&!e.range)return K();if(e.yearPicker&&!e.range)return Q();if(h.value.multiCalendars&&$e&&!e.startDate)return O($t(),$e)},O=($e,Me=!1)=>{if((!h.value.multiCalendars||!e.multiStatic||Me)&&x(0,Wr($e),Ur($e)),h.value.multiCalendars)for(let qe=1;qe<h.value.multiCalendars;qe++){const pt=Ea($t(),{month:C.value(qe-1),year:S.value(qe-1)}),vt=cQ(pt,{months:1});y.value[qe]={month:Wr(vt),year:Ur(vt)}}},k=$e=>{O($e),A("hours",Md($e)),A("minutes",Ld($e)),A("seconds",F0($e))},F=($e,Me)=>{O($e[0],Me);const qe=(pt,vt)=>[pt($e[0]),$e[1]?pt($e[1]):v[vt][1]];A("hours",qe(Md,"hours")),A("minutes",qe(Ld,"minutes")),A("seconds",qe(F0,"seconds"))},N=($e,Me)=>{if((e.range||e.weekPicker)&&!e.multiDates)return F($e,Me);if(e.multiDates){const qe=$e[$e.length-1];return k(qe)}},j=$e=>{const Me=f.value;N(Me,$e),h.value.multiCalendars&&e.multiCalendarsSolo&&H()},ee=()=>{if(te(),!e.range)f.value=Zl($t(),v.hours,v.minutes,be());else{const $e=v.hours,Me=v.minutes;f.value=[Zl($t(),$e[0],Me[0],be()),Zl($t(),$e[1],Me[1],be(!1))]}},K=()=>{f.value=c($t(),C.value(0),S.value(0))},Q=()=>{f.value=$t()},be=($e=!0)=>e.enableSeconds?Array.isArray(v.seconds)?$e?v.seconds[0]:v.seconds[1]:v.seconds:0,te=()=>{const $e=n();if($e){const Me=Array.isArray($e),qe=Me?[+$e[0].hours,+$e[1].hours]:+$e.hours,pt=Me?[+$e[0].minutes,+$e[1].minutes]:+$e.minutes,vt=Me?[+$e[0].seconds,+$e[1].seconds]:+$e.seconds;A("hours",qe),A("minutes",pt),e.enableSeconds&&A("seconds",vt)}},ne=()=>Array.isArray(f.value)&&f.value.length?f.value[f.value.length-1]:null,H=()=>{if(Array.isArray(f.value)&&f.value.length===2){const $e=$t($t(f.value[1]?f.value[1]:Mu(f.value[0],1))),[Me,qe]=[Wr(f.value[0]),Ur(f.value[0])],[pt,vt]=[Wr(f.value[1]),Ur(f.value[1])];(Me!==pt||Me===pt&&qe!==vt)&&e.multiCalendarsSolo&&x(1,Wr($e),Ur($e))}},ie=$e=>{const Me=Mu($e,1);return{month:Wr(Me),year:Ur(Me)}},ue=$e=>{const Me=Wr($t($e)),qe=Ur($t($e));if(x(0,Me,qe),h.value.multiCalendars>0)for(let pt=1;pt<h.value.multiCalendars;pt++){const vt=ie(Ea($t($e),{year:C.value(pt-1),month:S.value(pt-1)}));x(pt,vt.month,vt.year)}},Te=$e=>{if(f.value&&Array.isArray(f.value))if(f.value.some(Me=>rn($e,Me))){const Me=f.value.filter(qe=>!rn(qe,$e));f.value=Me.length?Me:null}else(e.multiDatesLimit&&+e.multiDatesLimit>f.value.length||!e.multiDatesLimit)&&f.value.push($e);else f.value=[$e]},Ie=($e,Me)=>{const qe=ka($e,Me)?Me:$e,pt=ka(Me,$e)?Me:$e;return SW({start:qe,end:pt})},he=$e=>{if(Array.isArray(f.value)&&f.value[0]){const Me=UIe($e,f.value[0]),qe=Ie(f.value[0],$e),pt=qe.length===1?0:qe.filter(_i=>o(_i)).length,vt=Math.abs(Me)-pt;if(e.minRange&&e.maxRange)return vt>=+e.minRange&&vt<=+e.maxRange;if(e.minRange)return vt>=+e.minRange;if(e.maxRange)return vt<=+e.maxRange}return!0},Ee=$e=>Array.isArray(f.value)&&f.value.length===2?e.fixedStart&&(ka($e,f.value[0])||rn($e,f.value[0]))?[f.value[0],$e]:e.fixedEnd&&(ra($e,f.value[1])||rn($e,f.value[1]))?[$e,f.value[1]]:(t("invalid-fixed-range",$e),f.value):[],Y=()=>{e.autoApply&&_.value&&t("auto-apply")},Z=()=>{e.autoApply&&t("select-date")},Se=$e=>!SW({start:$e[0],end:$e[1]}).some(Me=>o(Me)),ye=$e=>(f.value=l($t($e.value)),Y()),ke=$e=>{const Me=Zl($t($e.value),v.hours,v.minutes,be());e.multiDates?Te(Me):f.value=Me,i(),Y()},Oe=()=>{p.value=f.value?f.value.slice():[],p.value.length===2&&!(e.fixedStart||e.fixedEnd)&&(p.value=[])},He=($e,Me)=>{const qe=[$t($e.value),pf($t($e.value),+e.autoRange)];Se(qe)&&(Me&&ue($e.value),p.value=qe)},mt=$e=>{we($e.value)||(p.value=Ee($t($e.value)))},we=$e=>e.noDisabledRange?Ie(p.value[0],$e).some(Me=>o(Me)):!1,de=($e,Me)=>{if(Oe(),e.autoRange)return He($e,Me);if(e.fixedStart||e.fixedEnd)return mt($e);p.value[0]?he($t($e.value))&&!we($e.value)&&(ra($t($e.value),$t(p.value[0]))?p.value.unshift($t($e.value)):p.value[1]=$t($e.value)):p.value[0]=$t($e.value)},pe=$e=>{p.value[$e]=Zl(p.value[$e],v.hours[$e],v.minutes[$e],be($e!==1))},Ve=()=>{p.value.length&&(p.value[0]&&!p.value[1]?pe(0):(pe(0),pe(1),i()),f.value=p.value.slice(),p.value[0]&&p.value[1]&&e.autoApply&&t("auto-apply"),p.value[0]&&!p.value[1]&&e.modelAuto&&e.autoApply&&t("auto-apply"))},Qe=($e,Me=!1)=>{if(!(o($e.value)||!$e.current&&e.hideOffsetDates)){if(e.weekPicker)return ye($e);if(!e.range)return ke($e);Ap(v.hours)&&Ap(v.minutes)&&!e.multiDates&&(de($e,Me),Ve())}},Ge=$e=>{const Me=$e.find(qe=>qe.current);return Me?zNe(Me.value):""},Ze=$e=>{for(let Me=$e-1;Me>=0;Me--){const qe=$v(Ea($t(),{month:C.value(Me+1),year:S.value(Me+1)}),1);x(Me,Wr(qe),Ur(qe))}for(let Me=$e+1;Me<=h.value.multiCalendars-1;Me++){const qe=Mu(Ea($t(),{month:C.value(Me-1),year:S.value(Me-1)}),1);x(Me,Wr(qe),Ur(qe))}},ot=$e=>c($t(),C.value($e),S.value($e)),xe=$e=>Zl($e,v.hours,v.minutes,be()),Ae=($e,Me)=>{const qe=e.monthPicker?C.value($e)!==Me.month||!Me.fromNav:S.value($e)!==Me.year;if(x($e,Me.month,Me.year),h.value.multiCalendars&&!e.multiCalendarsSolo&&Ze($e),e.monthPicker||e.yearPicker)if(e.range){if(qe){let pt=f.value?f.value.slice():[];pt.length===2&&pt[1]!==null&&(pt=[]),pt.length?ra(ot($e),pt[0])?pt.unshift(ot($e)):pt[1]=ot($e):pt=[ot($e)],f.value=pt}}else f.value=ot($e);t("update-month-year",{instance:$e,month:Me.month,year:Me.year}),s(e.multiCalendarsSolo?$e:void 0)},Ke=async($e=!1)=>{if(e.autoApply&&(e.monthPicker||e.yearPicker)){await rs();const Me=e.monthPicker?$e:!1;e.range?t("auto-apply",Me||!f.value||f.value.length===1):t("auto-apply",Me)}i()},yt=($e,Me)=>{const qe=Ea($t(),{month:C.value(Me),year:S.value(Me)}),pt=$e<0?Mu(qe,1):$v(qe,1);u(Wr(pt),Ur(pt),$e<0,e.preventMinMaxNavigation)&&(x(Me,Wr(pt),Ur(pt)),h.value.multiCalendars&&!e.multiCalendarsSolo&&Ze(Me),t("update-month-year",{instance:Me,month:Wr(pt),year:Ur(pt)}),s())},Ct=$e=>{HW($e)&&HW(f.value)&&Ap(v.hours)&&Ap(v.minutes)?($e[0]&&f.value[0]&&(f.value[0]=Zl($e[0],v.hours[0],v.minutes[0],be())),$e[1]&&f.value[1]&&(f.value[1]=Zl($e[1],v.hours[1],v.minutes[1],be(!1)))):e.multiDates&&Array.isArray(f.value)?f.value[f.value.length-1]=xe($e):!e.range&&!$W($e)&&(f.value=xe($e)),t("time-update")},ft=($e,Me=!0,qe=!1)=>{const pt=Me?$e:v.hours,vt=!Me&&!qe?$e:v.minutes,_i=qe?$e:v.seconds;if(e.range&&$W(f.value)&&Ap(pt)&&Ap(vt)&&Ap(_i)&&!e.disableTimeRangeValidation){const dr=Xt=>Zl(f.value[Xt],pt[Xt],vt[Xt],_i[Xt]),gt=Xt=>GN(f.value[Xt],0);if(rn(f.value[0],f.value[1])&&(IN(dr(0),gt(1))||NN(dr(1),gt(0))))return}if(A("hours",pt),A("minutes",vt),A("seconds",_i),f.value)if(e.multiDates){const dr=ne();dr&&Ct(dr)}else Ct(f.value);else e.timePicker&&Ct(e.range?[$t(),$t()]:$t());i()},Je=($e,Me)=>{e.monthChangeOnScroll&&yt(e.monthChangeOnScroll!=="inverse"?-$e.deltaY:$e.deltaY,Me)},ht=($e,Me,qe=!1)=>{e.monthChangeOnArrows&&e.vertical===qe&&Yt($e,Me)},Yt=($e,Me)=>{yt($e==="right"?-1:1,Me)};return{time:v,month:C,year:S,modelValue:f,calendars:y,monthYearSelect:Ke,isDisabled:o,updateTime:ft,getWeekNum:Ge,selectDate:Qe,updateMonthYear:Ae,handleScroll:Je,getMarker:$e=>e.markers.find(Me=>rn(a($e.value),a(Me.date))),handleArrow:ht,handleSwipe:Yt,selectCurrentDate:()=>{e.range?f.value&&Array.isArray(f.value)&&f.value[0]?f.value=ra($t(),f.value[0])?[$t(),f.value[0]]:[f.value[0],$t()]:f.value=[$t()]:f.value=$t(),Z()},presetDateRange:($e,Me)=>{Me||$e.length&&$e.length<=2&&e.range&&(f.value=$e.map(qe=>$t(qe)),Z(),e.multiCalendars&&rs().then(()=>R(!0)))}}},IBe=(e,t,i)=>{const s=We(),{getZonedToUtc:r,getZonedDate:n,formatDate:o,getDefaultPattern:a,checkRangeEnabled:l,checkPartialRangeValue:c,isValidDate:u,setDateMonthOrYear:h,defaults:f}=Bl(t),p=We(""),y=Dn(t,"format");Ot(s,()=>{e("internal-model-change",s.value)}),Ot(y,()=>{ie()});const v=Y=>{const Z=Y||$t();return t.modelType?Te(Z):{hours:Md(Z),minutes:Ld(Z),seconds:t.enableSeconds?F0(Z):0}},C=Y=>t.modelType?Te(Y):{month:Wr(Y),year:Ur(Y)},S=Y=>Array.isArray(Y)?l(()=>[cg($t(),Y[0]),Y[1]?cg($t(),Y[1]):c()]):cg($t(),+Y),_=(Y,Z)=>(typeof Y=="string"||typeof Y=="number")&&t.modelType?ue(Y):Z,x=Y=>Array.isArray(Y)?[_(Y[0],Zl(null,+Y[0].hours,+Y[0].minutes,Y[0].seconds)),_(Y[1],Zl(null,+Y[1].hours,+Y[1].minutes,Y[1].seconds))]:_(Y,Zl(null,Y.hours,Y.minutes,Y.seconds)),A=Y=>Array.isArray(Y)?l(()=>[_(Y[0],h(null,+Y[0].month,+Y[0].year)),_(Y[1],Y[1]?h(null,+Y[1].month,+Y[1].year):c())]):_(Y,h(null,+Y.month,+Y.year)),R=Y=>{if(Array.isArray(Y))return Y.map(Z=>ue(Z));throw new Error(K_.dateArr("multi-dates"))},O=Y=>{if(Array.isArray(Y))return[$t(Y[0]),$t(Y[1])];throw new Error(K_.dateArr("week-picker"))},k=Y=>t.modelAuto?Array.isArray(Y)?[ue(Y[0]),ue(Y[1])]:t.autoApply?[ue(Y)]:[ue(Y),null]:Array.isArray(Y)?l(()=>[ue(Y[0]),Y[1]?ue(Y[1]):c()]):ue(Y),F=()=>{Array.isArray(s.value)&&t.range&&s.value.length===1&&s.value.push(c())},N=()=>{const Y=s.value;return[Te(Y[0]),Y[1]?Te(Y[1]):c()]},j=()=>s.value[1]?N():Te(Ko(s.value[0])),ee=()=>(s.value||[]).map(Y=>Te(Y)),K=()=>(F(),t.modelAuto?j():t.multiDates?ee():Array.isArray(s.value)?l(()=>N()):Te(Ko(s.value))),Q=Y=>Y?t.timePicker?x(Ko(Y)):t.monthPicker?A(Ko(Y)):t.yearPicker?S(Ko(Y)):t.multiDates?R(Ko(Y)):t.weekPicker?O(Ko(Y)):k(Ko(Y)):null,be=Y=>{const Z=Q(Y);u(Ko(Z))?(s.value=Ko(Z),ie()):(s.value=null,p.value="")},te=()=>{var Y;const Z=Se=>{var ye;return rb(Se,(ye=f.value.textInputOptions)==null?void 0:ye.format)};return`${Z(s.value[0])} ${(Y=f.value.textInputOptions)==null?void 0:Y.rangeSeparator} ${s.value[1]?Z(s.value[1]):""}`},ne=()=>{var Y;return i.value&&s.value?Array.isArray(s.value)?te():rb(s.value,(Y=f.value.textInputOptions)==null?void 0:Y.format):o(s.value)},H=()=>{var Y;return s.value?t.multiDates?s.value.map(Z=>o(Z)).join("; "):t.textInput&&typeof((Y=f.value.textInputOptions)==null?void 0:Y.format)=="string"?ne():o(s.value):""},ie=()=>{!t.format||typeof t.format=="string"?p.value=H():p.value=t.format(s.value)},ue=Y=>{if(t.utc){const Z=new Date(Y);return t.utc==="preserve"?new Date(Z.getTime()+Z.getTimezoneOffset()*6e4):Z}return t.modelType?t.modelType==="date"||t.modelType==="timestamp"?n(new Date(Y)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?WM(Y,a(),new Date):n(WM(Y,t.modelType,new Date)):n(new Date(Y))},Te=Y=>t.utc?qVe(Y,t.utc==="preserve"):t.modelType?t.modelType==="timestamp"?+r(Y):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?o(r(Y)):o(r(Y),t.modelType):r(Y),Ie=Y=>{e("update:model-value",Y)},he=Y=>Array.isArray(s.value)?[Y(s.value[0]),s.value[1]?Y(s.value[1]):c()]:Y(Ko(s.value)),Ee=Y=>Ie(Ko(he(Y)));return{inputValue:p,internalModelValue:s,checkBeforeEmit:()=>s.value?t.range?t.partialRange?s.value.length>=1:s.value.length===2:!!s.value:!1,parseExternalModelValue:be,formatInputValue:ie,emitModelValue:()=>(ie(),t.monthPicker?Ee(C):t.timePicker?Ee(v):t.yearPicker?Ee(Ur):t.weekPicker?Ie(s.value):Ie(K()))}},NBe=(e,t)=>{const{validateMonthYearInRange:i,validateMaxDate:s,validateMinDate:r,defaults:n}=Bl(e),o=(h,f)=>{let p=h;return n.value.filters.months.includes(Wr(p))?(p=f?Mu(h,1):$v(h,1),o(p,f)):p},a=(h,f)=>{let p=h;return n.value.filters.years.includes(Ur(p))?(p=f?uQ(h,1):aVe(h,1),a(p,f)):p},l=h=>{const f=Ea(new Date,{month:e.month,year:e.year});let p=h?Mu(f,1):$v(f,1),y=Wr(p),v=Ur(p);n.value.filters.months.includes(y)&&(p=o(p,h),y=Wr(p),v=Ur(p)),n.value.filters.years.includes(v)&&(p=a(p,h),v=Ur(p)),i(y,v,h,e.preventMinMaxNavigation)&&c(y,v)},c=(h,f)=>{t("update-month-year",{month:h,year:f})},u=V(()=>h=>{if(!e.preventMinMaxNavigation||h&&!e.maxDate||!h&&!e.minDate)return!1;const f=Ea(new Date,{month:e.month,year:e.year}),p=h?Mu(f,1):$v(f,1),y=[Wr(p),Ur(p)];return h?!s(...y):!r(...y)});return{handleMonthYearChange:l,isDisabled:u,updateMonthYear:c}};var bE=(e=>(e.center="center",e.left="left",e.right="right",e))(bE||{});const VBe=(e,t,i,s)=>{const r=We({top:"0",left:"0",transform:"none"}),n=We(!1),o=Dn(s,"teleportCenter");Ot(o,()=>{C()});const a=k=>{const F=k.getBoundingClientRect();return{left:F.left+window.scrollX,top:F.top+window.scrollY}},l=k=>{const F=k.getBoundingClientRect();let N=0,j=0;for(;k&&!isNaN(k.offsetLeft)&&!isNaN(k.offsetTop);)N+=k.offsetLeft-k.scrollLeft,j=F.top+k.scrollTop,k=k.offsetParent;return{top:j,left:N}},c=(k,F)=>{r.value.left=`${k+F}px`,r.value.transform="translateX(-100%)"},u=k=>{r.value.left=`${k}px`,r.value.transform="translateX(0)"},h=(k,F,N=!1)=>{s.position===bE.left&&u(k),s.position===bE.right&&c(k,F),s.position===bE.center&&(r.value.left=`${k+F/2}px`,r.value.transform=N?"translate(-50%, -50%)":"translateX(-50%)")},f=k=>{const{width:F,height:N}=k.getBoundingClientRect(),{top:j,left:ee}=s.altPosition?l(k):a(k);return{top:j,left:ee,width:F,height:N}},p=()=>{const k=po(t);if(k){const{top:F,left:N,width:j,height:ee}=f(k);r.value.top=`${F+ee/2}px`,r.value.transform="translateY(-50%)",h(N,j,!0)}},y=()=>{r.value.left="50%",r.value.top="50%",r.value.transform="translate(-50%, -50%)",r.value.position="fixed"},v=()=>{const k=po(t);r.value=s.altPosition(k)},C=(k=!0)=>{if(!s.inline)return o.value?y():s.altPosition&&typeof s.altPosition!="boolean"?v():(k&&i("recalculate-position"),O())},S=({inputEl:k,menuEl:F,left:N,width:j})=>{window.screen.width>768&&h(N,j),A(k,F)},_=(k,F)=>{const{top:N,left:j,height:ee,width:K}=f(k);r.value.top=`${ee+N+ +s.offset}px`,S({inputEl:k,menuEl:F,left:j,width:K}),n.value=!1},x=(k,F)=>{const{top:N,left:j,width:ee}=f(k),{height:K}=F.getBoundingClientRect();r.value.top=`${N-K-+s.offset}px`,S({inputEl:k,menuEl:F,left:j,width:ee}),n.value=!0},A=(k,F)=>{if(s.autoPosition){const{left:N,width:j}=f(k),{left:ee,right:K}=F.getBoundingClientRect();if(ee<0)return u(N);if(K>document.documentElement.clientWidth)return c(N,j)}},R=(k,F)=>{const{height:N}=F.getBoundingClientRect(),{top:j,height:ee}=k.getBoundingClientRect(),K=window.innerHeight-j-ee,Q=j;return N<=K?_(k,F):N>K&&N<=Q?x(k,F):K>=Q?_(k,F):x(k,F)},O=()=>{const k=po(t),F=po(e);if(k&&F)return s.autoPosition?R(k,F):_(k,F)};return{openOnTop:n,menuPosition:r,setMenuPosition:C,setInitialPosition:p}},cv=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],BBe=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],GBe={all:()=>cv,monthYear:()=>cv.filter(e=>e.use.includes("month-year")),input:()=>BBe,timePicker:()=>cv.filter(e=>e.use.includes("time")),action:()=>cv.filter(e=>e.use.includes("action")),calendar:()=>cv.filter(e=>e.use.includes("calendar")),menu:()=>cv.filter(e=>e.use.includes("menu"))},jp=(e,t,i)=>{const s=[];return GBe[t]().forEach(r=>{e[r.name]&&s.push(r.name)}),i&&i.length&&i.forEach(r=>{r.slot&&s.push(r.slot)}),s},tk=e=>({transitionName:V(()=>t=>e&&typeof e!="boolean"?t?e.open:e.close:""),showTransition:!!e}),qf={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},HBe=["aria-label","aria-disabled","aria-readonly"],$Be={key:1,class:"dp__input_wrap"},WBe=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],UBe={key:2,class:"dp__input_icon"},zBe={key:4,class:"dp__clear_icon"},jBe=dt({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...qf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(e,{expose:t,emit:i}){const s=e,{getDefaultPattern:r,isValidDate:n,defaults:o}=Bl(s),a=We(),l=We(null),c=We(!1),u=V(()=>({dp__pointer:!s.disabled&&!s.readonly&&!s.textInput,dp__disabled:s.disabled,dp__input_readonly:!s.textInput,dp__input:!0,dp__input_icon_pad:!s.hideInputIcon,dp__input_valid:s.state,dp__input_invalid:s.state===!1,dp__input_focus:c.value||s.isMenuOpen,dp__input_reg:!s.textInput,[s.inputClassName]:!!s.inputClassName})),h=()=>{i("set-input-date",null),s.autoApply&&(i("set-empty-date"),a.value=null)},f=k=>{var F;return XVe(k,((F=o.value.textInputOptions)==null?void 0:F.format)||r())},p=k=>{const{rangeSeparator:F}=o.value.textInputOptions,[N,j]=k.split(`${F}`);if(N){const ee=f(N.trim()),K=j?f(j.trim()):null,Q=ee&&K?[ee,K]:[ee];a.value=ee?Q:null}},y=k=>{if(s.range)p(k);else if(s.multiDates){const F=k.split(";");a.value=F.map(N=>f(N.trim())).filter(N=>N)}else a.value=f(k)},v=k=>{var F;const{value:N}=k.target;N!==""?((F=o.value.textInputOptions)!=null&&F.openMenu&&!s.isMenuOpen&&i("open"),y(N),i("set-input-date",a.value)):h(),i("update:input-value",N)},C=()=>{var k,F;(k=o.value.textInputOptions)!=null&&k.enterSubmit&&n(a.value)&&s.inputValue!==""?(i("set-input-date",a.value,!0),a.value=null):(F=o.value.textInputOptions)!=null&&F.enterSubmit&&s.inputValue===""&&(a.value=null,i("clear"))},S=()=>{var k,F;(k=o.value.textInputOptions)!=null&&k.tabSubmit&&n(a.value)&&s.inputValue!==""?(i("set-input-date",a.value,!0),a.value=null):(F=o.value.textInputOptions)!=null&&F.tabSubmit&&s.inputValue===""&&(a.value=null,i("clear"))},_=()=>{c.value=!0,i("focus")},x=k=>{var F;k.preventDefault(),k.stopImmediatePropagation(),k.stopPropagation(),s.textInput&&(F=o.value.textInputOptions)!=null&&F.openMenu&&!s.inlineWithInput?s.isMenuOpen?o.value.textInputOptions.enterSubmit&&i("select-date"):i("open"):s.textInput||i("toggle")},A=()=>{c.value=!1,s.isMenuOpen||i("blur"),s.autoApply&&s.textInput&&a.value&&(i("set-input-date",a.value),i("select-date"),a.value=null)},R=()=>{i("clear")},O=k=>{s.textInput||k.preventDefault()};return t({focusInput:()=>{l.value&&l.value.focus({preventScroll:!0})}}),(k,F)=>{var N;return q(),ve("div",{onClick:x,"aria-label":(N=P(o).ariaLabels)==null?void 0:N.input,role:"textbox","aria-multiline":"false","aria-disabled":k.disabled,"aria-readonly":k.readonly},[k.$slots.trigger&&!k.$slots["dp-input"]&&!k.inline?Fe(k.$slots,"trigger",{key:0}):Le("",!0),!k.$slots.trigger&&(!k.inline||k.inlineWithInput)?(q(),ve("div",$Be,[k.$slots["dp-input"]&&!k.$slots.trigger&&!k.inline?Fe(k.$slots,"dp-input",{key:0,value:e.inputValue,onInput:v,onEnter:C,onTab:S,onClear:R}):Le("",!0),k.$slots["dp-input"]?Le("",!0):(q(),ve("input",{key:1,ref_key:"inputRef",ref:l,id:k.uid?`dp-input-${k.uid}`:void 0,name:k.name,class:Et(P(u)),inputmode:k.textInput?"text":"none",placeholder:k.placeholder,disabled:k.disabled,readonly:k.readonly,required:k.required,value:e.inputValue,autocomplete:k.autocomplete,onInput:v,onKeydown:[xt(x,["enter"]),xt(S,["tab"])],onBlur:A,onFocus:_,onKeypress:O},null,42,WBe)),k.$slots["input-icon"]&&!k.hideInputIcon?(q(),ve("span",UBe,[Fe(k.$slots,"input-icon")])):Le("",!0),!k.$slots["input-icon"]&&!k.hideInputIcon&&!k.$slots["dp-input"]?(q(),nt(P(ek),{key:3,class:"dp__input_icon dp__input_icons"})):Le("",!0),k.$slots["clear-icon"]&&e.inputValue&&k.clearable&&!k.disabled&&!k.readonly?(q(),ve("span",zBe,[Fe(k.$slots,"clear-icon",{clear:R})])):Le("",!0),k.clearable&&!k.$slots["clear-icon"]&&e.inputValue&&!k.disabled&&!k.readonly?(q(),nt(P(SVe),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:Dt(R,["stop","prevent"])},null,8,["onClick"])):Le("",!0)])):Le("",!0)],8,HBe)}}}),KBe={class:"dp__selection_preview"},YBe={class:"dp__action_buttons"},XBe=["onKeydown"],qBe=dt({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...qf},emits:["close-picker","select-date","invalid-select"],setup(e,{emit:t}){const i=e,{formatDate:s,isValidTime:r,defaults:n}=Bl(i),{buildMatrix:o}=Xf(),a=We(null),l=We(null);Ri(()=>{i.arrowNavigation&&o([po(a),po(l)],"actionRow")});const c=V(()=>i.range&&!i.partialRange&&i.internalModelValue?i.internalModelValue.length===2:!0),u=V(()=>!f.value||!p.value||!c.value),h=V(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:u.value})),f=V(()=>!i.enableTimePicker||i.ignoreTimeValidation?!0:r(i.internalModelValue)),p=V(()=>i.monthPicker?S(i.internalModelValue):!0),y=()=>{const x=n.value.previewFormat;return i.timePicker||i.monthPicker,x(Ko(i.internalModelValue))},v=()=>{const x=i.internalModelValue;return n.value.multiCalendars>0?`${s(x[0])} - ${s(x[1])}`:[s(x[0]),s(x[1])]},C=V(()=>!i.internalModelValue||!i.menuMount?"":typeof n.value.previewFormat=="string"?Array.isArray(i.internalModelValue)?i.internalModelValue.length===2&&i.internalModelValue[1]?v():i.multiDates?i.internalModelValue.map(x=>`${s(x)}`):i.modelAuto?`${s(i.internalModelValue[0])}`:`${s(i.internalModelValue[0])} -`:s(i.internalModelValue):y()),S=x=>{if(!i.monthPicker)return!0;let A=!0;return i.minDate&&i.maxDate?ka($t(x),$t(i.minDate))&&ra($t(x),$t(i.maxDate)):(i.minDate&&(A=ka($t(x),$t(i.minDate))),i.maxDate&&(A=ra($t(x),$t(i.maxDate))),A)},_=()=>{f.value&&p.value&&c.value?t("select-date"):t("invalid-select")};return(x,A)=>(q(),ve("div",{class:"dp__action_row",style:St(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[x.$slots["action-row"]?Fe(x.$slots,"action-row",Ft(ut({key:0},{internalModelValue:e.internalModelValue,disabled:P(u),selectDate:()=>x.$emit("select-date"),closePicker:()=>x.$emit("close-picker")}))):(q(),ve(kt,{key:1},[me("div",KBe,[x.$slots["action-preview"]?Fe(x.$slots,"action-preview",{key:0,value:e.internalModelValue}):Le("",!0),x.$slots["action-preview"]?Le("",!0):(q(),ve(kt,{key:1},[Array.isArray(P(C))?Le("",!0):(q(),ve(kt,{key:0},[oi(Mt(P(C)),1)],64)),Array.isArray(P(C))?(q(!0),ve(kt,{key:1},si(P(C),(R,O)=>(q(),ve("div",{key:O},Mt(R),1))),128)):Le("",!0)],64))]),me("div",YBe,[x.$slots["action-select"]?Fe(x.$slots,"action-select",{key:0,value:e.internalModelValue}):Le("",!0),x.$slots["action-select"]?Le("",!0):(q(),ve(kt,{key:1},[x.inline?Le("",!0):(q(),ve("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:a,tabindex:"0",onClick:A[0]||(A[0]=R=>x.$emit("close-picker")),onKeydown:[A[1]||(A[1]=xt(R=>x.$emit("close-picker"),["enter"])),A[2]||(A[2]=xt(R=>x.$emit("close-picker"),["space"]))]},Mt(x.cancelText),545)),me("span",{class:Et(P(h)),tabindex:"0",onKeydown:[xt(_,["enter"]),xt(_,["space"])],onClick:_,"data-test":"select-button",ref_key:"selectButtonRef",ref:l},Mt(x.selectText),43,XBe)],64))])],64))],4))}}),QBe=["aria-label"],JBe={class:"dp__calendar_header",role:"row"},ZBe={key:0,class:"dp__calendar_header_item",role:"gridcell"},eGe=me("div",{class:"dp__calendar_header_separator"},null,-1),tGe=["aria-label"],iGe={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},sGe={class:"dp__cell_inner"},rGe=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],nGe=me("div",{class:"dp__arrow_bottom_tp"},null,-1),oGe=dt({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...qf},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:i}){const s=e,{buildMultiLevelMatrix:r}=Xf(),{setDateMonthOrYear:n,defaults:o}=Bl(s),a=We(null),l=We({bottom:"",left:"",transform:""}),c=We([]),u=We(null),h=We(!0),f=We(""),p=We({startX:0,endX:0,startY:0,endY:0}),y=V(()=>s.dayNames?Array.isArray(s.dayNames)?s.dayNames:s.dayNames(s.locale,+s.weekStart):EBe(s.locale,+s.weekStart));Ri(()=>{i("mount",{cmp:"calendar",refs:c}),s.noSwipe||u.value&&(u.value.addEventListener("touchstart",N,{passive:!1}),u.value.addEventListener("touchend",j,{passive:!1}),u.value.addEventListener("touchmove",ee,{passive:!1})),s.monthChangeOnScroll&&u.value&&u.value.addEventListener("wheel",be,{passive:!1})});const v=te=>te?s.vertical?"vNext":"next":s.vertical?"vPrevious":"previous",C=(te,ne)=>{if(s.transitions){const H=Zu(n($t(),s.month,s.year));f.value=ka(Zu(n($t(),te,ne)),H)?o.value.transitions[v(!0)]:o.value.transitions[v(!1)],h.value=!1,rs(()=>{h.value=!0})}},S=V(()=>({dp__calendar_wrap:!0,[s.calendarClassName]:!!s.calendarClassName})),_=V(()=>te=>{const ne=kBe(te);return{dp__marker_dot:ne.type==="dot",dp__marker_line:ne.type==="line"}}),x=V(()=>te=>rn(te,a.value)),A=V(()=>({dp__calendar:!0,dp__calendar_next:o.value.multiCalendars>0&&s.instance!==0})),R=V(()=>te=>s.hideOffsetDates?te.current:!0),O=V(()=>s.specificMode?{height:`${s.modeHeight}px`}:void 0),k=(te,ne,H)=>{var ie,ue;if(i("set-hover-date",te),(ue=(ie=te.marker)==null?void 0:ie.tooltip)!=null&&ue.length){const Te=po(c.value[ne][H]);if(Te){const{width:Ie,height:he}=Te.getBoundingClientRect();l.value={bottom:`${he}px`,left:`${Ie/2}px`,transform:"translateX(-50%)"},a.value=te.value,i("tooltip-open",te.value)}}},F=te=>{a.value&&(a.value=null,i("tooltip-close",te.value))},N=te=>{p.value.startX=te.changedTouches[0].screenX,p.value.startY=te.changedTouches[0].screenY},j=te=>{p.value.endX=te.changedTouches[0].screenX,p.value.endY=te.changedTouches[0].screenY,K()},ee=te=>{s.vertical&&!s.inline&&te.preventDefault()},K=()=>{const te=s.vertical?"Y":"X";Math.abs(p.value[`start${te}`]-p.value[`end${te}`])>10&&i("handle-swipe",p.value[`start${te}`]>p.value[`end${te}`]?"right":"left")},Q=(te,ne,H)=>{te&&(Array.isArray(c.value[ne])?c.value[ne][H]=te:c.value[ne]=[te]),s.arrowNavigation&&r(c.value,"calendar")},be=te=>{s.monthChangeOnScroll&&(te.preventDefault(),i("handle-scroll",te))};return t({triggerTransition:C}),(te,ne)=>{var H;return q(),ve("div",{class:Et(P(A))},[me("div",{style:St(P(O))},[e.specificMode?Le("",!0):(q(),ve("div",{key:0,ref_key:"calendarWrapRef",ref:u,class:Et(P(S)),role:"grid","aria-label":(H=P(o).ariaLabels)==null?void 0:H.calendarWrap},[me("div",JBe,[te.weekNumbers?(q(),ve("div",ZBe,Mt(te.weekNumName),1)):Le("",!0),(q(!0),ve(kt,null,si(P(y),(ie,ue)=>(q(),ve("div",{class:"dp__calendar_header_item",role:"gridcell",key:ue,"data-test":"calendar-header"},[te.$slots["calendar-header"]?Fe(te.$slots,"calendar-header",{key:0,day:ie,index:ue}):Le("",!0),te.$slots["calendar-header"]?Le("",!0):(q(),ve(kt,{key:1},[oi(Mt(ie),1)],64))]))),128))]),eGe,wt(yc,{name:f.value,css:!!te.transitions},{default:tt(()=>{var ie;return[h.value?(q(),ve("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(ie=P(o).ariaLabels)==null?void 0:ie.calendarDays},[(q(!0),ve(kt,null,si(e.mappedDates,(ue,Te)=>(q(),ve("div",{class:"dp__calendar_row",role:"row",key:Te},[te.weekNumbers?(q(),ve("div",iGe,[me("div",sGe,Mt(e.getWeekNum(ue.days)),1)])):Le("",!0),(q(!0),ve(kt,null,si(ue.days,(Ie,he)=>{var Ee,Y,Z;return q(),ve("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:Se=>Q(Se,Te,he),key:he+Te,"aria-selected":Ie.classData.dp__active_date||Ie.classData.dp__range_start||Ie.classData.dp__range_start,"aria-disabled":Ie.classData.dp__cell_disabled,"aria-label":(Y=(Ee=P(o).ariaLabels)==null?void 0:Ee.day)==null?void 0:Y.call(Ee,Ie),tabindex:"0","data-test":Ie.value,onClick:Dt(Se=>te.$emit("select-date",Ie),["stop","prevent"]),onKeydown:[xt(Se=>te.$emit("select-date",Ie),["enter"]),xt(Se=>te.$emit("handle-space",Ie),["space"])],onMouseenter:Se=>k(Ie,Te,he),onMouseleave:Se=>F(Ie)},[me("div",{class:Et(["dp__cell_inner",Ie.classData])},[te.$slots.day&&P(R)(Ie)?Fe(te.$slots,"day",{key:0,day:+Ie.text,date:Ie.value}):Le("",!0),te.$slots.day?Le("",!0):(q(),ve(kt,{key:1},[oi(Mt(Ie.text),1)],64)),Ie.marker&&P(R)(Ie)?(q(),ve("div",{key:2,class:Et(P(_)(Ie.marker)),style:St(Ie.marker.color?{backgroundColor:Ie.marker.color}:{})},null,6)):Le("",!0),P(x)(Ie.value)?(q(),ve("div",{key:3,class:"dp__marker_tooltip",style:St(l.value)},[(Z=Ie.marker)!=null&&Z.tooltip?(q(),ve("div",{key:0,class:"dp__tooltip_content",onClick:ne[0]||(ne[0]=Dt(()=>{},["stop"]))},[(q(!0),ve(kt,null,si(Ie.marker.tooltip,(Se,ye)=>(q(),ve("div",{key:ye,class:"dp__tooltip_text"},[te.$slots["marker-tooltip"]?Fe(te.$slots,"marker-tooltip",{key:0,tooltip:Se,day:Ie.value}):Le("",!0),te.$slots["marker-tooltip"]?Le("",!0):(q(),ve(kt,{key:1},[me("div",{class:"dp__tooltip_mark",style:St(Se.color?{backgroundColor:Se.color}:{})},null,4),me("div",null,Mt(Se.text),1)],64))]))),128)),nGe])):Le("",!0)],4)):Le("",!0)],2)],40,rGe)}),128))]))),128))],8,tGe)):Le("",!0)]}),_:3},8,["name","css"])],10,QBe))],4)],2)}}}),aGe=["aria-label","aria-disabled"],vP=dt({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(e,{emit:t}){const i=We(null);return Ri(()=>t("set-ref",i)),(s,r)=>(q(),ve("div",{class:"dp__month_year_col_nav",onClick:r[0]||(r[0]=n=>s.$emit("activate")),onKeydown:[r[1]||(r[1]=xt(n=>s.$emit("activate"),["enter"])),r[2]||(r[2]=xt(n=>s.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":e.ariaLabel,"aria-disabled":e.disabled,ref_key:"elRef",ref:i},[me("div",{class:Et(["dp__inner_nav",{dp__inner_nav_disabled:e.disabled}])},[Fe(s.$slots,"default")],2)],40,aGe))}}),lGe=["onKeydown"],cGe={class:"dp__selection_grid_header"},uGe=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],dGe=["aria-label","onKeydown"],ob=dt({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(e,{expose:t,emit:i}){const s=e,{setSelectionGrid:r,buildMultiLevelMatrix:n,setMonthPicker:o}=Xf(),{hideNavigationButtons:a}=Bl(s),l=We(!1),c=We(null),u=We(null),h=We([]),f=We(),p=We(null),y=We(0),v=We(null);Xg(()=>{c.value=null}),Ri(()=>{rs().then(()=>N()),S(),C(!0)}),ed(()=>C(!1));const C=ne=>{var H;s.arrowNavigation&&((H=s.headerRefs)!=null&&H.length?o(ne):r(ne))},S=()=>{const ne=po(u);ne&&(s.textInput||ne.focus({preventScroll:!0}),l.value=ne.clientHeight<ne.scrollHeight)},_=V(()=>({dp__overlay:!0})),x=V(()=>({dp__overlay_col:!0})),A=ne=>s.skipActive?!1:ne.value===s.modelValue,R=V(()=>s.items.map(ne=>ne.filter(H=>H).map(H=>{var ie,ue,Te;const Ie=s.disabledValues.some(Ee=>Ee===H.value)||F(H.value),he=(ie=s.multiModelValue)!=null&&ie.length?(ue=s.multiModelValue)==null?void 0:ue.some(Ee=>rn(Ee,cg(s.monthPicker?nb(new Date,H.value):new Date,s.monthPicker?s.year:H.value))):A(H);return{...H,className:{dp__overlay_cell_active:he,dp__overlay_cell:!he,dp__overlay_cell_disabled:Ie,dp__overlay_cell_active_disabled:Ie&&he,dp__overlay_cell_pad:!0,dp__cell_in_between:(Te=s.multiModelValue)!=null&&Te.length?ee(H.value):!1}}}))),O=V(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:l.value,dp__button_bottom:s.autoApply})),k=V(()=>{var ne,H;return{dp__overlay_container:!0,dp__container_flex:((ne=s.items)==null?void 0:ne.length)<=6,dp__container_block:((H=s.items)==null?void 0:H.length)>6}}),F=ne=>{const H=s.maxValue||s.maxValue===0,ie=s.minValue||s.minValue===0;return!H&&!ie?!1:H&&ie?+ne>+s.maxValue||+ne<+s.minValue:H?+ne>+s.maxValue:ie?+ne<+s.minValue:!1},N=()=>{const ne=po(c),H=po(u),ie=po(p),ue=po(v),Te=ie?ie.getBoundingClientRect().height:0;H&&(y.value=H.getBoundingClientRect().height-Te),ne&&ue&&(ue.scrollTop=ne.offsetTop-ue.offsetTop-(y.value/2-ne.getBoundingClientRect().height)-Te)},j=ne=>{!s.disabledValues.some(H=>H===ne)&&!F(ne)&&(i("update:model-value",ne),i("selected"))},ee=ne=>{const H=s.monthPicker?s.year:ne;return LQ(s.multiModelValue,cg(s.monthPicker?nb(new Date,f.value||0):new Date,s.monthPicker?H:f.value||H),cg(s.monthPicker?nb(new Date,ne):new Date,H))},K=()=>{i("toggle"),i("reset-flow")},Q=()=>{s.escClose&&K()},be=(ne,H,ie,ue)=>{ne&&(H.value===+s.modelValue&&!s.disabledValues.includes(H.value)&&(c.value=ne),s.arrowNavigation&&(Array.isArray(h.value[ie])?h.value[ie][ue]=ne:h.value[ie]=[ne],te()))},te=()=>{var ne,H;const ie=(ne=s.headerRefs)!=null&&ne.length?[s.headerRefs].concat(h.value):h.value.concat([s.skipButtonRef?[]:[p.value]]);n(Ko(ie),(H=s.headerRefs)!=null&&H.length?"monthPicker":"selectionGrid")};return t({focusGrid:S}),(ne,H)=>{var ie;return q(),ve("div",{ref_key:"gridWrapRef",ref:u,class:Et(P(_)),role:"dialog",tabindex:"0",onKeydown:xt(Q,["esc"])},[me("div",{class:Et(P(k)),ref_key:"containerRef",ref:v,role:"grid",style:St({height:`${y.value}px`})},[me("div",cGe,[Fe(ne.$slots,"header")]),ne.$slots.overlay?Fe(ne.$slots,"overlay",{key:0}):(q(!0),ve(kt,{key:1},si(P(R),(ue,Te)=>(q(),ve("div",{class:"dp__overlay_row",key:Te,role:"row"},[(q(!0),ve(kt,null,si(ue,(Ie,he)=>(q(),ve("div",{role:"gridcell",class:Et(P(x)),key:Ie.value,"aria-selected":Ie.value===e.modelValue&&!e.disabledValues.includes(Ie.value),"aria-disabled":Ie.className.dp__overlay_cell_disabled,ref_for:!0,ref:Ee=>be(Ee,Ie,Te,he),tabindex:"0","data-test":Ie.text,onClick:Ee=>j(Ie.value),onKeydown:[xt(Ee=>j(Ie.value),["enter"]),xt(Ee=>j(Ie.value),["space"])],onMouseover:Ee=>f.value=Ie.value},[me("div",{class:Et(Ie.className)},[ne.$slots.item?Fe(ne.$slots,"item",{key:0,item:Ie}):Le("",!0),ne.$slots.item?Le("",!0):(q(),ve(kt,{key:1},[oi(Mt(Ie.text),1)],64))],2)],42,uGe))),128))]))),128))],6),ne.$slots["button-icon"]?Ss((q(),ve("div",{key:0,role:"button","aria-label":(ie=e.ariaLabels)==null?void 0:ie.toggleOverlay,class:Et(P(O)),tabindex:"0",ref_key:"toggleButton",ref:p,onClick:K,onKeydown:xt(K,["enter"])},[Fe(ne.$slots,"button-icon")],42,dGe)),[[or,!P(a)(e.type)]]):Le("",!0)],42,lGe)}}}),hGe=["aria-label"],WW=dt({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(e,{emit:t}){const i=e,{transitionName:s,showTransition:r}=tk(i.transitions),n=We(null);return Ri(()=>t("set-ref",n)),(o,a)=>(q(),ve(kt,null,[me("div",{class:"dp__month_year_select",onClick:a[0]||(a[0]=l=>o.$emit("toggle")),onKeydown:[a[1]||(a[1]=xt(l=>o.$emit("toggle"),["enter"])),a[2]||(a[2]=xt(l=>o.$emit("toggle"),["space"]))],role:"button","aria-label":e.ariaLabel,tabindex:"0",ref_key:"elRef",ref:n},[Fe(o.$slots,"default")],40,hGe),wt(yc,{name:P(s)(e.showSelectionGrid),css:P(r)},{default:tt(()=>[e.showSelectionGrid?(q(),nt(ob,ut({key:0},{modelValue:e.modelValue,items:e.items,disabledValues:e.disabledValues,minValue:e.minValue,maxValue:e.maxValue,escClose:e.escClose,type:e.type,arrowNavigation:e.arrowNavigation,textInput:e.textInput,autoApply:e.autoApply,ariaLabels:e.ariaLabels,hideNavigation:e.hideNavigation},{"header-refs":[],"onUpdate:modelValue":a[3]||(a[3]=l=>o.$emit("update:model-value",l)),onToggle:a[4]||(a[4]=l=>o.$emit("toggle"))}),zs({"button-icon":tt(()=>[o.$slots["calendar-icon"]?Fe(o.$slots,"calendar-icon",{key:0}):Le("",!0),o.$slots["calendar-icon"]?Le("",!0):(q(),nt(P(ek),{key:1}))]),_:2},[o.$slots[e.slotName]?{name:"item",fn:tt(({item:l})=>[Fe(o.$slots,e.slotName,{item:l})]),key:"0"}:void 0,o.$slots[e.overlaySlot]?{name:"overlay",fn:tt(()=>[Fe(o.$slots,e.overlaySlot)]),key:"1"}:void 0,o.$slots[`${e.overlaySlot}-header`]?{name:"header",fn:tt(()=>[Fe(o.$slots,`${e.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):Le("",!0)]),_:3},8,["name","css"])],64))}}),fGe={class:"dp__month_year_row"},pGe={class:"dp__month_year_wrap"},gGe={class:"dp__month_picker_header"},mGe=["aria-label"],vGe=["aria-label"],yGe=["aria-label"],CGe=dt({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...qf},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:i}){const s=e,{defaults:r}=Bl(s),{transitionName:n,showTransition:o}=tk(r.value.transitions),{buildMatrix:a}=Xf(),{handleMonthYearChange:l,isDisabled:c,updateMonthYear:u}=NBe(s,i),h=We(!1),f=We(!1),p=We([null,null,null,null]),y=We(null),v=We(null),C=We(null);Ri(()=>{i("mount")});const S=Z=>({get:()=>s[Z],set:Se=>{const ye=Z==="month"?"year":"month";i("update-month-year",{[Z]:Se,[ye]:s[ye]}),i("month-year-select",Z==="year"),Z==="month"?Te(!0):Ie(!0)}}),_=V(S("month")),x=V(S("year")),A=Z=>{const Se=Ur($t(Z));return s.year===Se},R=V(()=>s.monthPicker?Array.isArray(s.disabledDates)?s.disabledDates.map(Z=>$t(Z)).filter(Z=>A(Z)).map(Z=>Wr(Z)):[]:[]),O=V(()=>Z=>{const Se=Z==="month";return{showSelectionGrid:(Se?h:f).value,items:(Se?ne:H).value,disabledValues:r.value.filters[Se?"months":"years"].concat(R.value),minValue:(Se?j:F).value,maxValue:(Se?ee:N).value,headerRefs:Se&&s.monthPicker?[y.value,v.value,C.value]:[],escClose:s.escClose,transitions:r.value.transitions,ariaLabels:r.value.ariaLabels,textInput:s.textInput,autoApply:s.autoApply,arrowNavigation:s.arrowNavigation,hideNavigation:s.hideNavigation}}),k=V(()=>Z=>({month:s.month,year:s.year,items:Z==="month"?s.months:s.years,instance:s.instance,updateMonthYear:u,toggle:Z==="month"?Te:Ie})),F=V(()=>s.minDate?Ur($t(s.minDate)):null),N=V(()=>s.maxDate?Ur($t(s.maxDate)):null),j=V(()=>{if(s.minDate&&F.value){if(F.value>s.year)return 12;if(F.value===s.year)return Wr($t(s.minDate))}return null}),ee=V(()=>s.maxDate&&N.value?N.value<s.year?-1:N.value===s.year?Wr($t(s.maxDate)):null:null),K=V(()=>s.range&&s.internalModelValue&&(s.monthPicker||s.yearPicker)?s.internalModelValue:[]),Q=Z=>Z.reverse(),be=(Z,Se=!1)=>{const ye=[],ke=Oe=>Se?Q(Oe):Oe;for(let Oe=0;Oe<Z.length;Oe+=3){const He=[Z[Oe],Z[Oe+1],Z[Oe+2]];ye.push(ke(He))}return Se?ye.reverse():ye},te=V(()=>s.months.find(Se=>Se.value===s.month)||{text:"",value:0}),ne=V(()=>be(s.months)),H=V(()=>be(s.years,s.reverseYears)),ie=V(()=>r.value.multiCalendars?s.multiCalendarsSolo?!0:s.instance===0:!0),ue=V(()=>r.value.multiCalendars?s.multiCalendarsSolo?!0:s.instance===r.value.multiCalendars-1:!0),Te=(Z=!1)=>{he(Z),h.value=!h.value,h.value||i("overlay-closed")},Ie=(Z=!1)=>{he(Z),f.value=!f.value,f.value||i("overlay-closed")},he=Z=>{Z||i("reset-flow")},Ee=(Z=!1)=>{c.value(Z)||i("update-month-year",{year:Z?s.year+1:s.year-1,month:s.month,fromNav:!0})},Y=(Z,Se)=>{s.arrowNavigation&&(p.value[Se]=po(Z),a(p.value,"monthYear"))};return t({toggleMonthPicker:Te,toggleYearPicker:Ie}),(Z,Se)=>{var ye,ke,Oe,He,mt;return q(),ve("div",fGe,[Z.$slots["month-year"]?Fe(Z.$slots,"month-year",Ft(ut({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:P(u),handleMonthYearChange:P(l),instance:e.instance}))):(q(),ve(kt,{key:1},[!Z.monthPicker&&!Z.yearPicker?(q(),ve(kt,{key:0},[P(ie)&&!Z.vertical?(q(),nt(vP,{key:0,"aria-label":(ye=P(r).ariaLabels)==null?void 0:ye.prevMonth,disabled:P(c)(!1),onActivate:Se[0]||(Se[0]=we=>P(l)(!1)),onSetRef:Se[1]||(Se[1]=we=>Y(we,0))},{default:tt(()=>[Z.$slots["arrow-left"]?Fe(Z.$slots,"arrow-left",{key:0}):Le("",!0),Z.$slots["arrow-left"]?Le("",!0):(q(),nt(P(kW),{key:1}))]),_:3},8,["aria-label","disabled"])):Le("",!0),me("div",pGe,[wt(WW,ut({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(ke=P(r).ariaLabels)==null?void 0:ke.openMonthsOverlay,modelValue:P(_),"onUpdate:modelValue":Se[2]||(Se[2]=we=>cs(_)?_.value=we:null)},P(O)("month"),{onToggle:Te,onSetRef:Se[3]||(Se[3]=we=>Y(we,1))}),zs({default:tt(()=>[Z.$slots.month?Fe(Z.$slots,"month",Ft(ut({key:0},P(te)))):Le("",!0),Z.$slots.month?Le("",!0):(q(),ve(kt,{key:1},[oi(Mt(P(te).text),1)],64))]),_:2},[Z.$slots["calendar-icon"]?{name:"calendar-icon",fn:tt(()=>[Fe(Z.$slots,"calendar-icon")]),key:"0"}:void 0,Z.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:tt(({item:we})=>[Fe(Z.$slots,"month-overlay-value",{text:we.text,value:we.value})]),key:"1"}:void 0,Z.$slots["month-overlay"]?{name:"overlay-month",fn:tt(()=>[Fe(Z.$slots,"month-overlay",Ft(Wt(P(k)("month"))))]),key:"2"}:void 0,Z.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:tt(()=>[Fe(Z.$slots,"month-overlay-header",{toggle:Te})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),wt(WW,ut({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(Oe=P(r).ariaLabels)==null?void 0:Oe.openYearsOverlay,modelValue:P(x),"onUpdate:modelValue":Se[4]||(Se[4]=we=>cs(x)?x.value=we:null)},P(O)("year"),{onToggle:Ie,onSetRef:Se[5]||(Se[5]=we=>Y(we,2))}),zs({default:tt(()=>[Z.$slots.year?Fe(Z.$slots,"year",{key:0,year:e.year}):Le("",!0),Z.$slots.year?Le("",!0):(q(),ve(kt,{key:1},[oi(Mt(e.year),1)],64))]),_:2},[Z.$slots["calendar-icon"]?{name:"calendar-icon",fn:tt(()=>[Fe(Z.$slots,"calendar-icon")]),key:"0"}:void 0,Z.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:tt(({item:we})=>[Fe(Z.$slots,"year-overlay-value",{text:we.text,value:we.value})]),key:"1"}:void 0,Z.$slots["year-overlay"]?{name:"overlay-year",fn:tt(()=>[Fe(Z.$slots,"year-overlay",Ft(Wt(P(k)("year"))))]),key:"2"}:void 0,Z.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:tt(()=>[Fe(Z.$slots,"year-overlay-header",{toggle:Ie})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),P(ie)&&Z.vertical?(q(),nt(vP,{key:1,"aria-label":(He=P(r).ariaLabels)==null?void 0:He.prevMonth,disabled:P(c)(!1),onActivate:Se[6]||(Se[6]=we=>P(l)(!1))},{default:tt(()=>[Z.$slots["arrow-up"]?Fe(Z.$slots,"arrow-up",{key:0}):Le("",!0),Z.$slots["arrow-up"]?Le("",!0):(q(),nt(P(FQ),{key:1}))]),_:3},8,["aria-label","disabled"])):Le("",!0),P(ue)?(q(),nt(vP,{key:2,ref:"rightIcon",disabled:P(c)(!0),"aria-label":(mt=P(r).ariaLabels)==null?void 0:mt.nextMonth,onActivate:Se[7]||(Se[7]=we=>P(l)(!0)),onSetRef:Se[8]||(Se[8]=we=>Y(we,3))},{default:tt(()=>[Z.$slots[Z.vertical?"arrow-down":"arrow-right"]?Fe(Z.$slots,Z.vertical?"arrow-down":"arrow-right",{key:0}):Le("",!0),Z.$slots[Z.vertical?"arrow-down":"arrow-right"]?Le("",!0):(q(),nt(io(Z.vertical?P(MQ):P(DW)),{key:1}))]),_:3},8,["disabled","aria-label"])):Le("",!0)],64)):Le("",!0),Z.monthPicker?(q(),nt(ob,ut({key:1},P(O)("month"),{"skip-active":Z.range,year:e.year,"multi-model-value":P(K),"month-picker":"",modelValue:P(_),"onUpdate:modelValue":Se[17]||(Se[17]=we=>cs(_)?_.value=we:null),onToggle:Te,onSelected:Se[18]||(Se[18]=we=>Z.$emit("overlay-closed"))}),zs({header:tt(()=>{var we,de,pe;return[me("div",gGe,[me("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:y,onClick:Se[9]||(Se[9]=Ve=>Ee(!1)),onKeydown:Se[10]||(Se[10]=xt(Ve=>Ee(!1),["enter"]))},[me("div",{class:Et(["dp__inner_nav",{dp__inner_nav_disabled:P(c)(!1)}]),role:"button","aria-label":(we=P(r).ariaLabels)==null?void 0:we.prevMonth},[Z.$slots["arrow-left"]?Fe(Z.$slots,"arrow-left",{key:0}):Le("",!0),Z.$slots["arrow-left"]?Le("",!0):(q(),nt(P(kW),{key:1}))],10,mGe)],544),me("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:v,"aria-label":(de=P(r).ariaLabels)==null?void 0:de.openYearsOverlay,tabindex:"0",onClick:Se[11]||(Se[11]=()=>Ie(!1)),onKeydown:Se[12]||(Se[12]=xt(()=>Ie(!1),["enter"]))},[Z.$slots.year?Fe(Z.$slots,"year",{key:0,year:e.year}):Le("",!0),Z.$slots.year?Le("",!0):(q(),ve(kt,{key:1},[oi(Mt(e.year),1)],64))],40,vGe),me("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:C,onClick:Se[13]||(Se[13]=Ve=>Ee(!0)),onKeydown:Se[14]||(Se[14]=xt(Ve=>Ee(!0),["enter"]))},[me("div",{class:Et(["dp__inner_nav",{dp__inner_nav_disabled:P(c)(!0)}]),role:"button","aria-label":(pe=P(r).ariaLabels)==null?void 0:pe.nextMonth},[Z.$slots["arrow-right"]?Fe(Z.$slots,"arrow-right",{key:0}):Le("",!0),Z.$slots["arrow-right"]?Le("",!0):(q(),nt(P(DW),{key:1}))],10,yGe)],544)]),wt(yc,{name:P(n)(f.value),css:P(o)},{default:tt(()=>[f.value?(q(),nt(ob,ut({key:0},P(O)("year"),{modelValue:P(x),"onUpdate:modelValue":Se[15]||(Se[15]=Ve=>cs(x)?x.value=Ve:null),onToggle:Ie,onSelected:Se[16]||(Se[16]=Ve=>Z.$emit("overlay-closed"))}),zs({"button-icon":tt(()=>[Z.$slots["calendar-icon"]?Fe(Z.$slots,"calendar-icon",{key:0}):Le("",!0),Z.$slots["calendar-icon"]?Le("",!0):(q(),nt(P(ek),{key:1}))]),_:2},[Z.$slots["year-overlay-value"]?{name:"item",fn:tt(({item:Ve})=>[Fe(Z.$slots,"year-overlay-value",{text:Ve.text,value:Ve.value})]),key:"0"}:void 0]),1040,["modelValue"])):Le("",!0)]),_:3},8,["name","css"])]}),_:2},[Z.$slots["month-overlay-value"]?{name:"item",fn:tt(({item:we})=>[Fe(Z.$slots,"month-overlay-value",{text:we.text,value:we.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):Le("",!0),Z.yearPicker?(q(),nt(ob,ut({key:2},P(O)("year"),{modelValue:P(x),"onUpdate:modelValue":Se[19]||(Se[19]=we=>cs(x)?x.value=we:null),"multi-model-value":P(K),"skip-active":Z.range,"skip-button-ref":"","year-picker":"",onToggle:Ie,onSelected:Se[20]||(Se[20]=we=>Z.$emit("overlay-closed"))}),zs({_:2},[Z.$slots["year-overlay-value"]?{name:"item",fn:tt(({item:we})=>[Fe(Z.$slots,"year-overlay-value",{text:we.text,value:we.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):Le("",!0)],64))])}}}),bGe={key:0,class:"dp__time_input"},wGe=["aria-label","onKeydown","onClick"],SGe=["aria-label","data-test","onKeydown","onClick"],xGe=["aria-label","onKeydown","onClick"],EGe={key:0},_Ge=["aria-label","onKeydown"],TGe=dt({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...qf},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(e,{expose:t,emit:i}){const s=e,{setTimePickerElements:r,setTimePickerBackRef:n}=Xf(),{defaults:o}=Bl(s),{transitionName:a,showTransition:l}=tk(o.value.transitions),c=Nn({hours:!1,minutes:!1,seconds:!1}),u=We("AM"),h=We(null),f=We([]);Ri(()=>{i("mounted")});const p=V(()=>H=>!!(s.maxTime&&s.maxTime[H]&&s.maxTime[H]<s[H]+ +s[`${H}Increment`])),y=V(()=>H=>!!(s.minTime&&s.minTime[H]&&s.minTime[H]>s[H]-+s[`${H}Increment`])),v=(H,ie)=>cQ(Ea($t(),H),ie),C=(H,ie)=>oVe(Ea($t(),H),ie),S=V(()=>({dp__time_col:!0,dp__time_col_reg:!s.enableSeconds&&s.is24,dp__time_col_reg_with_button:!s.enableSeconds&&!s.is24,dp__time_col_sec:s.enableSeconds&&s.is24,dp__time_col_sec_with_button:s.enableSeconds&&!s.is24})),_=V(()=>{const H=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return s.enableSeconds?H.concat([{type:"",separator:!0},{type:"seconds"}]):H}),x=V(()=>_.value.filter(H=>!H.separator)),A=V(()=>H=>{if(H==="hours"){const ie=K(s.hours);return{text:ie<10?`0${ie}`:`${ie}`,value:ie}}return{text:s[H]<10?`0${s[H]}`:`${s[H]}`,value:s[H]}}),R=H=>{const ie=s.is24?24:12,ue=H==="hours"?ie:60,Te=+s[`${H}GridIncrement`],Ie=H==="hours"&&!s.is24?Te:0,he=[];for(let Ee=Ie;Ee<ue;Ee+=Te)he.push({value:Ee,text:Ee<10?`0${Ee}`:`${Ee}`});return H==="hours"&&!s.is24&&he.push({value:0,text:"12"}),xBe(he)},O=(H,ie)=>{const ue=s.minTime&&s.minTime[ie],Te=s.maxTime&&s.maxTime[ie];return ue&&Te?H<ue||H>Te:ue?H<ue:Te?H>Te:!1},k=V(()=>H=>R(H).flat().map(ie=>ie.value).filter(ie=>O(ie,H))),F=H=>s[`no${H[0].toUpperCase()+H.slice(1)}Overlay`],N=H=>{F(H)||(c[H]=!c[H],c[H]||i("overlay-closed"))},j=H=>H==="hours"?Md:H==="minutes"?Ld:F0,ee=(H,ie=!0)=>{const ue=ie?v:C;(ie?p.value(H):y.value(H))||i(`update:${H}`,j(H)(ue({[H]:+s[H]},{[H]:+s[`${H}Increment`]})))},K=H=>s.is24?H:(H>=12?u.value="PM":u.value="AM",ABe(H)),Q=()=>{u.value==="PM"?(u.value="AM",i("update:hours",s.hours-12)):(u.value="PM",i("update:hours",s.hours+12))},be=H=>{c[H]=!0},te=(H,ie,ue)=>{if(H&&s.arrowNavigation){Array.isArray(f.value[ie])?f.value[ie][ue]=H:f.value[ie]=[H];const Te=f.value.reduce((Ie,he)=>he.map((Ee,Y)=>[...Ie[Y]||[],he[Y]]),[]);n(s.closeTimePickerBtn),h.value&&(Te[1]=Te[1].concat(h.value)),r(Te,s.order)}},ne=(H,ie)=>H==="hours"&&!s.is24?i(`update:${H}`,u.value==="PM"?ie+12:ie):i(`update:${H}`,ie);return t({openChildCmp:be}),(H,ie)=>{var ue;return H.disabled?Le("",!0):(q(),ve("div",bGe,[(q(!0),ve(kt,null,si(P(_),(Te,Ie)=>{var he,Ee,Y;return q(),ve("div",{key:Ie,class:Et(P(S))},[Te.separator?(q(),ve(kt,{key:0},[oi(" : ")],64)):(q(),ve(kt,{key:1},[me("div",{class:Et({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:P(p)(Te.type)}),role:"button","data-test":"time-inc-btn","aria-label":(he=P(o).ariaLabels)==null?void 0:he.incrementValue(Te.type),tabindex:"0",onKeydown:[xt(Z=>ee(Te.type),["enter"]),xt(Z=>ee(Te.type),["space"])],onClick:Z=>ee(Te.type),ref_for:!0,ref:Z=>te(Z,Ie,0)},[H.$slots["arrow-up"]?Fe(H.$slots,"arrow-up",{key:0}):Le("",!0),H.$slots["arrow-up"]?Le("",!0):(q(),nt(P(FQ),{key:1}))],42,wGe),me("div",{role:"button","aria-label":(Ee=P(o).ariaLabels)==null?void 0:Ee.openTpOverlay(Te.type),class:Et(F(Te.type)?"":"dp__time_display"),tabindex:"0","data-test":`${Te.type}-toggle-overlay-btn`,onKeydown:[xt(Z=>N(Te.type),["enter"]),xt(Z=>N(Te.type),["space"])],onClick:Z=>N(Te.type),ref_for:!0,ref:Z=>te(Z,Ie,1)},[H.$slots[Te.type]?Fe(H.$slots,Te.type,{key:0,text:P(A)(Te.type).text,value:P(A)(Te.type).value}):Le("",!0),H.$slots[Te.type]?Le("",!0):(q(),ve(kt,{key:1},[oi(Mt(P(A)(Te.type).text),1)],64))],42,SGe),me("div",{class:Et({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:P(y)(Te.type)}),role:"button","data-test":"time-dec-btn","aria-label":(Y=P(o).ariaLabels)==null?void 0:Y.decrementValue(Te.type),tabindex:"0",onKeydown:[xt(Z=>ee(Te.type,!1),["enter"]),xt(Z=>ee(Te.type,!1),["space"])],onClick:Z=>ee(Te.type,!1),ref_for:!0,ref:Z=>te(Z,Ie,2)},[H.$slots["arrow-down"]?Fe(H.$slots,"arrow-down",{key:0}):Le("",!0),H.$slots["arrow-down"]?Le("",!0):(q(),nt(P(MQ),{key:1}))],42,xGe)],64))],2)}),128)),H.is24?Le("",!0):(q(),ve("div",EGe,[H.$slots["am-pm-button"]?Fe(H.$slots,"am-pm-button",{key:0,toggle:Q,value:u.value}):Le("",!0),H.$slots["am-pm-button"]?Le("",!0):(q(),ve("button",{key:1,ref_key:"amPmButton",ref:h,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ue=P(o).ariaLabels)==null?void 0:ue.amPmButton,tabindex:"0",onClick:Q,onKeydown:[xt(Dt(Q,["prevent"]),["enter"]),xt(Dt(Q,["prevent"]),["space"])]},Mt(u.value),41,_Ge))])),(q(!0),ve(kt,null,si(P(x),(Te,Ie)=>(q(),nt(yc,{key:Ie,name:P(a)(c[Te.type]),css:P(l)},{default:tt(()=>[c[Te.type]?(q(),nt(ob,{key:0,items:R(Te.type),"disabled-values":P(o).filters.times[Te.type].concat(P(k)(Te.type)),"esc-close":H.escClose,"aria-labels":P(o).ariaLabels,"hide-navigation":H.hideNavigation,"onUpdate:modelValue":he=>ne(Te.type,he),onSelected:he=>N(Te.type),onToggle:he=>N(Te.type),onResetFlow:ie[0]||(ie[0]=he=>H.$emit("reset-flow")),type:Te.type},zs({"button-icon":tt(()=>[H.$slots["clock-icon"]?Fe(H.$slots,"clock-icon",{key:0}):Le("",!0),H.$slots["clock-icon"]?Le("",!0):(q(),nt(P(PQ),{key:1}))]),_:2},[H.$slots[`${Te.type}-overlay-value`]?{name:"item",fn:tt(({item:he})=>[Fe(H.$slots,`${Te.type}-overlay-value`,{text:he.text,value:he.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):Le("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),AGe=["aria-label"],kGe={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},DGe={key:1,class:"dp__overlay_row"},RGe=["aria-label"],PGe=dt({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...qf},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:i}){const s=e,{buildMatrix:r,setTimePicker:n}=Xf(),o=so(),{hideNavigationButtons:a,defaults:l}=Bl(s),{transitionName:c,showTransition:u}=tk(l.value.transitions),h=We(null),f=We(null),p=We([]),y=We(null);Ri(()=>{i("mount"),!s.timePicker&&s.arrowNavigation?r([po(h.value)],"time"):n(!0,s.timePicker)});const v=V(()=>s.range&&s.modelAuto?VQ(s.internalModelValue):!0),C=We(!1),S=ee=>({hours:Array.isArray(s.hours)?s.hours[ee]:s.hours,minutes:Array.isArray(s.minutes)?s.minutes[ee]:s.minutes,seconds:Array.isArray(s.seconds)?s.seconds[ee]:s.seconds}),_=V(()=>{const ee=[];if(s.range)for(let K=0;K<2;K++)ee.push(S(K));else ee.push(S(0));return ee}),x=(ee,K=!1,Q="")=>{K||i("reset-flow"),C.value=ee,s.arrowNavigation&&(n(ee),ee||i("overlay-closed")),rs(()=>{Q!==""&&p.value[0]&&p.value[0].openChildCmp(Q)})},A=V(()=>({dp__button:!0,dp__button_bottom:s.autoApply})),R=jp(o,"timePicker"),O=(ee,K,Q)=>s.range?K===0?[ee,_.value[1][Q]]:[_.value[0][Q],ee]:ee,k=ee=>{i("update:hours",ee)},F=ee=>{i("update:minutes",ee)},N=ee=>{i("update:seconds",ee)},j=()=>{y.value&&s.arrowNavigation&&y.value.focus({preventScroll:!0})};return t({toggleTimePicker:x}),(ee,K)=>{var Q;return q(),ve("div",null,[ee.timePicker?Le("",!0):Ss((q(),ve("div",{key:0,class:Et(P(A)),role:"button","aria-label":(Q=P(l).ariaLabels)==null?void 0:Q.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:h,onKeydown:[K[0]||(K[0]=xt(be=>x(!0),["enter"])),K[1]||(K[1]=xt(be=>x(!0),["space"]))],onClick:K[2]||(K[2]=be=>x(!0))},[ee.$slots["clock-icon"]?Fe(ee.$slots,"clock-icon",{key:0}):Le("",!0),ee.$slots["clock-icon"]?Le("",!0):(q(),nt(P(PQ),{key:1}))],42,AGe)),[[or,!P(a)("time")]]),wt(yc,{name:P(c)(C.value),css:P(u)},{default:tt(()=>{var be;return[C.value||ee.timePicker?(q(),ve("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:y,tabindex:"0"},[me("div",kGe,[ee.$slots["time-picker-overlay"]?Fe(ee.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:k,setMinutes:F,setSeconds:N}):Le("",!0),ee.$slots["time-picker-overlay"]?Le("",!0):(q(),ve("div",DGe,[(q(!0),ve(kt,null,si(P(_),(te,ne)=>Ss((q(),nt(TGe,ut({key:ne},{...ee.$props,order:ne,hours:te.hours,minutes:te.minutes,seconds:te.seconds,closeTimePickerBtn:f.value,disabled:ne===0?ee.fixedStart:ee.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:p,"onUpdate:hours":H=>k(O(H,ne,"hours")),"onUpdate:minutes":H=>F(O(H,ne,"minutes")),"onUpdate:seconds":H=>N(O(H,ne,"seconds")),onMounted:j,onOverlayClosed:j}),zs({_:2},[si(P(R),(H,ie)=>({name:H,fn:tt(ue=>[Fe(ee.$slots,H,Ft(Wt(ue)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[or,ne===0?!0:P(v)]])),128))])),ee.timePicker?Le("",!0):Ss((q(),ve("div",{key:2,ref_key:"closeTimePickerBtn",ref:f,class:Et(P(A)),role:"button","aria-label":(be=P(l).ariaLabels)==null?void 0:be.closeTimePicker,tabindex:"0",onKeydown:[K[3]||(K[3]=xt(te=>x(!1),["enter"])),K[4]||(K[4]=xt(te=>x(!1),["space"]))],onClick:K[5]||(K[5]=te=>x(!1))},[ee.$slots["calendar-icon"]?Fe(ee.$slots,"calendar-icon",{key:0}):Le("",!0),ee.$slots["calendar-icon"]?Le("",!0):(q(),nt(P(ek),{key:1}))],42,RGe)),[[or,!P(a)("time")]])])],512)):Le("",!0)]}),_:3},8,["name","css"])])}}}),FGe=(e,t)=>{const{isDisabled:i,matchDate:s,getWeekFromDate:r}=Bl(t),n=We(null),o=We($t()),a=H=>{!H.current&&t.hideOffsetDates||(n.value=H.value)},l=()=>{n.value=null},c=H=>Array.isArray(e.value)&&t.range&&e.value[0]&&n.value?H?ka(n.value,e.value[0]):ra(n.value,e.value[0]):!0,u=(H,ie)=>{const ue=()=>e.value?ie?e.value[0]||null:e.value[1]:null,Te=e.value&&Array.isArray(e.value)?ue():null;return rn($t(H.value),Te)},h=H=>{const ie=Array.isArray(e.value)?e.value[0]:null;return H?!ra(n.value||null,ie):!0},f=(H,ie=!0)=>(t.range||t.weekPicker)&&Array.isArray(e.value)?t.hideOffsetDates&&!H.current?!1:rn($t(H.value),e.value[ie?0:1]):t.range?u(H,ie)&&h(ie)||rn(H.value,Array.isArray(e.value)?e.value[0]:null)&&c(ie):!1,p=(H,ie,ue)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?H?!1:ue?ka(e.value[0],ie.value):ra(e.value[0],ie.value):!1,y=H=>!e.value||t.hideOffsetDates&&!H.current?!1:t.range?t.modelAuto&&Array.isArray(e.value)?rn(H.value,e.value[0]?e.value[0]:o.value):!1:t.multiDates&&Array.isArray(e.value)?e.value.some(ie=>rn(ie,H.value)):rn(H.value,e.value?e.value:o.value),v=H=>{if(t.autoRange||t.weekPicker){if(n.value){if(t.hideOffsetDates&&!H.current)return!1;const ie=pf(n.value,+t.autoRange),ue=r($t(n.value));return t.weekPicker?rn(ue[1],$t(H.value)):rn(ie,$t(H.value))}return!1}return!1},C=H=>{if(t.autoRange||t.weekPicker){if(n.value){const ie=pf(n.value,+t.autoRange);if(t.hideOffsetDates&&!H.current)return!1;const ue=r($t(n.value));return t.weekPicker?ka(H.value,ue[0])&&ra(H.value,ue[1]):ka(H.value,n.value)&&ra(H.value,ie)}return!1}return!1},S=H=>{if(t.autoRange||t.weekPicker){if(n.value){if(t.hideOffsetDates&&!H.current)return!1;const ie=r($t(n.value));return t.weekPicker?rn(ie[0],H.value):rn(n.value,H.value)}return!1}return!1},_=H=>LQ(e.value,n.value,H.value),x=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,A=()=>t.modelAuto?VQ(t.internalModelValue):!0,R=H=>{if(Array.isArray(e.value)&&e.value.length||t.weekPicker)return!1;const ie=t.range?!f(H)&&!f(H,!1):!0;return!i(H.value)&&!y(H)&&!(!H.current&&t.hideOffsetDates)&&ie},O=H=>t.range?t.modelAuto?x()&&y(H):!1:y(H),k=H=>t.highlight?s(H.value,t.highlight):!1,F=H=>i(H.value)&&t.highlightDisabledDays===!1,N=H=>t.highlightWeekDays&&t.highlightWeekDays.includes(H.value.getDay()),j=H=>(t.range||t.weekPicker)&&(!(t.multiCalendars>0)||H.current)&&A()&&!(!H.current&&t.hideOffsetDates)&&!y(H)?_(H):!1,ee=H=>({dp__cell_offset:!H.current,dp__pointer:!t.disabled&&!(!H.current&&t.hideOffsetDates)&&!i(H.value),dp__cell_disabled:i(H.value),dp__cell_highlight:!F(H)&&(k(H)||N(H))&&!O(H),dp__cell_highlight_active:!F(H)&&(k(H)||N(H))&&O(H),dp__today:!t.noToday&&rn(H.value,o.value)&&H.current}),K=H=>({dp__active_date:O(H),dp__date_hover:R(H)}),Q=H=>({...be(H),...te(H),dp__range_between_week:j(H)&&t.weekPicker}),be=H=>({dp__range_start:t.multiCalendars>0?H.current&&f(H)&&A():f(H)&&A(),dp__range_end:t.multiCalendars>0?H.current&&f(H,!1)&&A():f(H,!1)&&A(),dp__range_between:j(H)&&!t.weekPicker,dp__date_hover_start:p(R(H),H,!0),dp__date_hover_end:p(R(H),H,!1)}),te=H=>({...be(H),dp__cell_auto_range:C(H),dp__cell_auto_range_start:S(H),dp__cell_auto_range_end:v(H)}),ne=H=>t.range?t.autoRange?te(H):t.modelAuto?{...K(H),...be(H)}:be(H):t.weekPicker?Q(H):K(H);return{setHoverDate:a,clearHoverDate:l,getDayClassData:H=>({...ee(H),...ne(H),[t.dayClass?t.dayClass(H.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName})}},MGe=["id","onKeydown"],LGe={key:0,class:"dp__sidebar_left"},OGe={key:1,class:"dp__preset_ranges"},IGe=["onClick"],NGe={key:2,class:"dp__sidebar_right"},VGe={key:3,class:"dp__now_wrap"},BGe=dt({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...qf},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:i}){const s=e,{setMenuFocused:r,setShiftKey:n,control:o}=OQ(),{getCalendarDays:a,defaults:l}=Bl(s),c=so(),u=We(null),h=Nn({timePicker:!!(!s.enableTimePicker||s.timePicker||s.monthPicker),monthYearInput:!!s.timePicker,calendar:!1}),f=We([]),p=We([]),y=We(null),v=We(null),C=We(0),S=We(!1),_=We(0);Ri(()=>{var gt;S.value=!0,!((gt=s.presetRanges)!=null&&gt.length)&&!c["left-sidebar"]&&!c["right-sidebar"]&&Ge();const Xt=po(v);if(Xt&&!s.textInput&&!s.inline&&(r(!0),F()),Xt){const Xi=$s=>{!s.monthYearComponent&&!s.timePickerComponent&&!Object.keys(c).length&&$s.preventDefault(),$s.stopImmediatePropagation(),$s.stopPropagation()};Xt.addEventListener("pointerdown",Xi),Xt.addEventListener("mousedown",Xi)}window.addEventListener("resize",Ge)}),ed(()=>{window.removeEventListener("resize",Ge)});const{arrowRight:x,arrowLeft:A,arrowDown:R,arrowUp:O}=Xf(),k=gt=>{gt||gt===0?p.value[gt].triggerTransition(Q.value(gt),be.value(gt)):p.value.forEach((Xt,Xi)=>Xt.triggerTransition(Q.value(Xi),be.value(Xi)))},F=()=>{const gt=po(v);gt&&gt.focus({preventScroll:!0})},N=()=>{var gt;(gt=s.flow)!=null&&gt.length&&_.value!==-1&&(_.value+=1,i("flow-step",_.value),vt())},j=()=>{_.value=-1},{calendars:ee,modelValue:K,month:Q,year:be,time:te,updateTime:ne,updateMonthYear:H,selectDate:ie,getWeekNum:ue,monthYearSelect:Te,handleScroll:Ie,handleArrow:he,handleSwipe:Ee,getMarker:Y,selectCurrentDate:Z,presetDateRange:Se}=OBe(s,i,N,k,_),{setHoverDate:ye,clearHoverDate:ke,getDayClassData:Oe}=FGe(K,s);Ot(ee,()=>{s.openOnTop&&setTimeout(()=>{i("recalculate-position")},0)},{deep:!0});const He=jp(c,"calendar"),mt=jp(c,"action"),we=jp(c,"timePicker"),de=jp(c,"monthYear"),pe=V(()=>s.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ve=V(()=>_Be(s.yearRange)),Qe=V(()=>TBe(s.locale,s.monthNameFormat)),Ge=()=>{const gt=po(u);gt&&(C.value=gt.getBoundingClientRect().width)},Ze=V(()=>gt=>a(Q.value(gt),be.value(gt))),ot=V(()=>l.value.multiCalendars>0&&s.range?[...Array(l.value.multiCalendars).keys()]:[0]),xe=V(()=>gt=>gt===1),Ae=V(()=>s.monthPicker||s.timePicker||s.yearPicker),Ke=V(()=>({dp__flex_display:l.value.multiCalendars>0})),yt=V(()=>({dp__instance_calendar:l.value.multiCalendars>0})),Ct=V(()=>({dp__menu_disabled:s.disabled,dp__menu_readonly:s.readonly})),ft=V(()=>gt=>ht(Ze,gt)),Je=V(()=>({dp__menu:!0,dp__menu_index:!s.inline,dp__relative:s.inline,[s.menuClassName]:!!s.menuClassName})),ht=(gt,Xt)=>gt.value(Xt).map(Xi=>({...Xi,days:Xi.days.map($s=>($s.marker=Y($s),$s.classData=Oe($s),$s))})),Yt=gt=>{gt.stopPropagation(),gt.stopImmediatePropagation()},$e=()=>{s.escClose&&i("close-picker")},Me=(gt,Xt=!1)=>{ie(gt,Xt),s.spaceConfirm&&i("select-date")},qe=gt=>{var Xt;(Xt=s.flow)!=null&&Xt.length&&(h[gt]=!0,Object.keys(h).filter(Xi=>!h[Xi]).length||vt())},pt=(gt,Xt,Xi,$s,...Ls)=>{if(s.flow[_.value]===gt){const yi=$s?Xt.value[0]:Xt.value;yi&&yi[Xi](...Ls)}},vt=()=>{pt("month",f,"toggleMonthPicker",!0,!0),pt("year",f,"toggleYearPicker",!0,!0),pt("calendar",y,"toggleTimePicker",!1,!1,!0),pt("time",y,"toggleTimePicker",!1,!0,!0);const gt=s.flow[_.value];(gt==="hours"||gt==="minutes"||gt==="seconds")&&pt(gt,y,"toggleTimePicker",!1,!0,!0,gt)},_i=gt=>{if(s.arrowNavigation){if(gt==="up")return O();if(gt==="down")return R();if(gt==="left")return A();if(gt==="right")return x()}else gt==="left"||gt==="up"?he("left",0,gt==="up"):he("right",0,gt==="down")},dr=gt=>{n(gt.shiftKey),!s.disableMonthYearSelect&&gt.code==="Tab"&&gt.target.classList.contains("dp__menu")&&o.value.shiftKeyInMenu&&(gt.preventDefault(),gt.stopImmediatePropagation(),i("close-picker"))};return t({updateMonthYear:H}),(gt,Xt)=>{var Xi;return q(),nt(yc,{appear:"",name:(Xi=P(l).transitions)==null?void 0:Xi.menuAppear,mode:"out-in",css:!!gt.transitions},{default:tt(()=>{var $s,Ls;return[me("div",{id:gt.uid?`dp-menu-${gt.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:v,role:"dialog",class:Et(P(Je)),onMouseleave:Xt[14]||(Xt[14]=(...yi)=>P(ke)&&P(ke)(...yi)),onClick:Yt,onKeydown:[xt($e,["esc"]),Xt[15]||(Xt[15]=xt(Dt(yi=>_i("left"),["prevent"]),["left"])),Xt[16]||(Xt[16]=xt(Dt(yi=>_i("up"),["prevent"]),["up"])),Xt[17]||(Xt[17]=xt(Dt(yi=>_i("down"),["prevent"]),["down"])),Xt[18]||(Xt[18]=xt(Dt(yi=>_i("right"),["prevent"]),["right"])),dr]},[(gt.disabled||gt.readonly)&&gt.inline?(q(),ve("div",{key:0,class:Et(P(Ct))},null,2)):Le("",!0),!gt.inline&&!gt.teleportCenter?(q(),ve("div",{key:1,class:Et(P(pe))},null,2)):Le("",!0),me("div",{class:Et({dp__menu_content_wrapper:(($s=gt.presetRanges)==null?void 0:$s.length)||!!gt.$slots["left-sidebar"]||!!gt.$slots["right-sidebar"]})},[gt.$slots["left-sidebar"]?(q(),ve("div",LGe,[Fe(gt.$slots,"left-sidebar")])):Le("",!0),(Ls=gt.presetRanges)!=null&&Ls.length?(q(),ve("div",OGe,[(q(!0),ve(kt,null,si(gt.presetRanges,(yi,Hr)=>(q(),ve("div",{key:Hr,style:St(yi.style||{}),class:"dp__preset_range",onClick:bi=>P(Se)(yi.range,!!yi.slot)},[yi.slot?Fe(gt.$slots,yi.slot,{key:0,presetDateRange:P(Se),label:yi.label,range:yi.range}):(q(),ve(kt,{key:1},[oi(Mt(yi.label),1)],64))],12,IGe))),128))])):Le("",!0),me("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:u,role:"document"},[me("div",{class:Et(P(Ke))},[(q(!0),ve(kt,null,si(P(ot),(yi,Hr)=>(q(),ve("div",{key:yi,class:Et(P(yt))},[!gt.disableMonthYearSelect&&!gt.timePicker?(q(),nt(io(gt.monthYearComponent?gt.monthYearComponent:CGe),ut({key:0,ref_for:!0,ref:bi=>{bi&&(f.value[Hr]=bi)},months:P(Qe),years:P(Ve),month:P(Q)(yi),year:P(be)(yi),instance:yi,"internal-model-value":e.internalModelValue},gt.$props,{onMount:Xt[0]||(Xt[0]=bi=>qe("monthYearInput")),onResetFlow:j,onUpdateMonthYear:bi=>P(H)(yi,bi),onMonthYearSelect:P(Te),onOverlayClosed:F}),zs({_:2},[si(P(de),(bi,ou)=>({name:bi,fn:tt(Pr=>[Fe(gt.$slots,bi,Ft(Wt(Pr)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):Le("",!0),wt(oGe,ut({ref_for:!0,ref:bi=>{bi&&(p.value[Hr]=bi)},"specific-mode":P(Ae),"get-week-num":P(ue),instance:yi,"mapped-dates":P(ft)(yi),month:P(Q)(yi),year:P(be)(yi)},gt.$props,{"flow-step":_.value,"onUpdate:flowStep":Xt[1]||(Xt[1]=bi=>_.value=bi),onSelectDate:bi=>P(ie)(bi,!P(xe)(yi)),onHandleSpace:bi=>Me(bi,!P(xe)(yi)),onSetHoverDate:Xt[2]||(Xt[2]=bi=>P(ye)(bi)),onHandleScroll:bi=>P(Ie)(bi,yi),onHandleSwipe:bi=>P(Ee)(bi,yi),onMount:Xt[3]||(Xt[3]=bi=>qe("calendar")),onResetFlow:j,onTooltipOpen:Xt[4]||(Xt[4]=bi=>gt.$emit("tooltip-open",bi)),onTooltipClose:Xt[5]||(Xt[5]=bi=>gt.$emit("tooltip-close",bi))}),zs({_:2},[si(P(He),(bi,ou)=>({name:bi,fn:tt(Pr=>[Fe(gt.$slots,bi,Ft(Wt({...Pr})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),me("div",null,[gt.$slots["time-picker"]?Fe(gt.$slots,"time-picker",Ft(ut({key:0},{time:P(te),updateTime:P(ne)}))):(q(),ve(kt,{key:1},[gt.enableTimePicker&&!gt.monthPicker&&!gt.weekPicker?(q(),nt(io(gt.timePickerComponent?gt.timePickerComponent:PGe),ut({key:0,ref_key:"timePickerRef",ref:y,hours:P(te).hours,minutes:P(te).minutes,seconds:P(te).seconds,"internal-model-value":e.internalModelValue},gt.$props,{onMount:Xt[6]||(Xt[6]=yi=>qe("timePicker")),"onUpdate:hours":Xt[7]||(Xt[7]=yi=>P(ne)(yi)),"onUpdate:minutes":Xt[8]||(Xt[8]=yi=>P(ne)(yi,!1)),"onUpdate:seconds":Xt[9]||(Xt[9]=yi=>P(ne)(yi,!1,!0)),onResetFlow:j,onOverlayClosed:F}),zs({_:2},[si(P(we),(yi,Hr)=>({name:yi,fn:tt(bi=>[Fe(gt.$slots,yi,Ft(Wt(bi)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):Le("",!0)],64))])],512),gt.$slots["right-sidebar"]?(q(),ve("div",NGe,[Fe(gt.$slots,"right-sidebar")])):Le("",!0),gt.showNowButton?(q(),ve("div",VGe,[gt.$slots["now-button"]?Fe(gt.$slots,"now-button",{key:0,selectCurrentDate:P(Z)}):Le("",!0),gt.$slots["now-button"]?Le("",!0):(q(),ve("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:Xt[10]||(Xt[10]=(...yi)=>P(Z)&&P(Z)(...yi))},Mt(gt.nowButtonLabel),1))])):Le("",!0)],2),!gt.autoApply||gt.keepActionRow?(q(),nt(io(gt.actionRowComponent?gt.actionRowComponent:qBe),ut({key:2,"menu-mount":S.value,"calendar-width":C.value,"internal-model-value":e.internalModelValue},gt.$props,{onClosePicker:Xt[11]||(Xt[11]=yi=>gt.$emit("close-picker")),onSelectDate:Xt[12]||(Xt[12]=yi=>gt.$emit("select-date")),onInvalidSelect:Xt[13]||(Xt[13]=yi=>gt.$emit("invalid-select"))}),zs({_:2},[si(P(mt),(yi,Hr)=>({name:yi,fn:tt(bi=>[Fe(gt.$slots,yi,Ft(Wt({...bi})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):Le("",!0)],42,MGe)]}),_:3},8,["name","css"])}}}),GGe=typeof window<"u"?window:void 0,yP=()=>{},HGe=e=>Lw()?(fT(e),!0):!1,$Ge=(e,t,i,s)=>{if(!e)return yP;let r=yP;const n=Ot(()=>P(e),a=>{r(),a&&(a.addEventListener(t,i,s),r=()=>{a.removeEventListener(t,i,s),r=yP})},{immediate:!0,flush:"post"}),o=()=>{n(),r()};return HGe(o),o},WGe=(e,t,i,s={})=>{const{window:r=GGe,event:n="pointerdown"}=s;return r?$Ge(r,n,o=>{const a=po(e),l=po(t);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||i(o)},{passive:!0}):void 0},UGe=dt({__name:"VueDatePicker",props:{...qf},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:i}){const s=e,r=so(),n=We(!1),o=Dn(s,"modelValue"),a=Dn(s,"timezone"),l=We(null),c=We(null),u=We(!1),{setMenuFocused:h,setShiftKey:f}=OQ(),{clearArrowNav:p}=Xf(),{validateDate:y,isValidTime:v,defaults:C}=Bl(s);Ri(()=>{N(s.modelValue),s.inline||(window.addEventListener("scroll",te),window.addEventListener("resize",ne)),s.inline&&(n.value=!0)}),ed(()=>{s.inline||(window.removeEventListener("scroll",te),window.removeEventListener("resize",ne))});const S=jp(r,"all",s.presetRanges),_=jp(r,"input");Ot([o,a],()=>{N(o.value)},{deep:!0});const{openOnTop:x,menuPosition:A,setMenuPosition:R,setInitialPosition:O}=VBe(l,c,i,s),{inputValue:k,internalModelValue:F,parseExternalModelValue:N,emitModelValue:j,formatInputValue:ee,checkBeforeEmit:K}=IBe(i,s,u),Q=V(()=>({dp__main:!0,dp__theme_dark:s.dark,dp__theme_light:!s.dark,dp__flex_display:s.inline,dp__flex_display_with_input:s.inlineWithInput})),be=V(()=>s.dark?"dp__theme_dark":"dp__theme_light"),te=()=>{n.value&&(s.closeOnScroll?Y():s.autoPosition&&R())},ne=()=>{n.value&&R()},H=()=>{!s.disabled&&!s.readonly&&(O(),n.value=!0,rs().then(()=>{R(),n.value&&i("open")}),n.value||Ee(),N(s.modelValue))},ie=()=>{k.value="",Ee(),i("update:model-value",null),i("cleared"),Y()},ue=()=>{const de=F.value;return!de||!Array.isArray(de)&&y(de)?!0:Array.isArray(de)?de.length===2&&y(de[0])&&y(de[1])?!0:y(de[0]):!1},Te=()=>{K()&&ue()?(j(),Y()):i("invalid-select",F.value)},Ie=de=>{j(),s.closeOnAutoApply&&!de&&Y()},he=(de=!1)=>{s.autoApply&&v(F.value)&&ue()&&(s.range&&Array.isArray(F.value)?(s.partialRange||F.value.length===2)&&Ie(de):Ie(de))},Ee=()=>{s.textInput||(F.value=null)},Y=()=>{s.inline||(n.value&&(n.value=!1,h(!1),f(!1),p(),i("closed"),O(),k.value&&N(o.value)),Ee(),c.value&&c.value.focusInput())},Z=(de,pe)=>{if(!de){F.value=null;return}F.value=de,pe&&(Te(),i("text-submit"))},Se=()=>{s.autoApply&&v(F.value)&&j()},ye=()=>n.value?Y():H(),ke=de=>{F.value=de},Oe=V(()=>s.textInput&&C.value.textInputOptions.format),He=()=>{Oe.value&&(u.value=!0,ee()),i("focus")},mt=()=>{Oe.value&&(u.value=!1,ee()),i("blur")},we=de=>{l.value&&l.value.updateMonthYear(0,{month:BW(de.month),year:BW(de.year)})};return WGe(l,c,s.onClickOutside?()=>s.onClickOutside(ue):Y),t({closeMenu:Y,selectDate:Te,clearValue:ie,openMenu:H,onScroll:te,formatInputValue:ee,updateInternalModelValue:ke,setMonthYear:we}),(de,pe)=>(q(),ve("div",{class:Et(P(Q))},[wt(jBe,ut({ref_key:"inputRef",ref:c,"is-menu-open":n.value,"input-value":P(k),"onUpdate:inputValue":pe[0]||(pe[0]=Ve=>cs(k)?k.value=Ve:null)},de.$props,{onClear:ie,onOpen:H,onSetInputDate:Z,onSetEmptyDate:P(j),onSelectDate:Te,onToggle:ye,onClose:Y,onFocus:He,onBlur:mt}),zs({_:2},[si(P(_),(Ve,Qe)=>({name:Ve,fn:tt(Ge=>[Fe(de.$slots,Ve,Ft(Wt(Ge)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),n.value?(q(),nt(mf,{key:0,to:de.teleport,disabled:de.inline},[n.value?(q(),nt(BGe,ut({key:0,ref_key:"dpMenuRef",ref:l,class:P(be),style:P(A),"open-on-top":P(x)},de.$props,{"internal-model-value":P(F),"onUpdate:internalModelValue":pe[1]||(pe[1]=Ve=>cs(F)?F.value=Ve:null),onClosePicker:Y,onSelectDate:Te,onAutoApply:he,onTimeUpdate:Se,onFlowStep:pe[2]||(pe[2]=Ve=>de.$emit("flow-step",Ve)),onUpdateMonthYear:pe[3]||(pe[3]=Ve=>de.$emit("update-month-year",Ve)),onInvalidSelect:pe[4]||(pe[4]=Ve=>de.$emit("invalid-select",P(F))),onInvalidFixedRange:pe[5]||(pe[5]=Ve=>de.$emit("invalid-fixed-range",Ve)),onRecalculatePosition:P(R),onTooltipOpen:pe[6]||(pe[6]=Ve=>de.$emit("tooltip-open",Ve)),onTooltipClose:pe[7]||(pe[7]=Ve=>de.$emit("tooltip-close",Ve))}),zs({_:2},[si(P(S),(Ve,Qe)=>({name:Ve,fn:tt(Ge=>[Fe(de.$slots,Ve,Ft(Wt({...Ge})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):Le("",!0)],8,["to","disabled"])):Le("",!0)],2))}}),UN=(()=>{const e=UGe;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),zGe=Object.freeze(Object.defineProperty({__proto__:null,default:UN},Symbol.toStringTag,{value:"Module"}));Object.entries(zGe).forEach(([e,t])=>{e!=="default"&&(UN[e]=t)});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Y_={};Y_.version="0.18.5";var BQ=1252,jGe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],zN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},jN=function(e){jGe.indexOf(e)!=-1&&(BQ=zN[0]=e)};function KGe(){jN(1252)}var Wc=function(e){jN(e)};function KN(){Wc(1200),KGe()}function UW(e){for(var t=[],i=0,s=e.length;i<s;++i)t[i]=e.charCodeAt(i);return t}function YGe(e){for(var t=[],i=0;i<e.length>>1;++i)t[i]=String.fromCharCode(e.charCodeAt(2*i)+(e.charCodeAt(2*i+1)<<8));return t.join("")}function GQ(e){for(var t=[],i=0;i<e.length>>1;++i)t[i]=String.fromCharCode(e.charCodeAt(2*i+1)+(e.charCodeAt(2*i)<<8));return t.join("")}var kC=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1);return t==255&&i==254?YGe(e.slice(2)):t==254&&i==255?GQ(e.slice(2)):t==65279?e.slice(1):e},T1=function(t){return String.fromCharCode(t)},zW=function(t){return String.fromCharCode(t)},bw,of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ww(e){for(var t="",i=0,s=0,r=0,n=0,o=0,a=0,l=0,c=0;c<e.length;)i=e.charCodeAt(c++),n=i>>2,s=e.charCodeAt(c++),o=(i&3)<<4|s>>4,r=e.charCodeAt(c++),a=(s&15)<<2|r>>6,l=r&63,isNaN(s)?a=l=64:isNaN(r)&&(l=64),t+=of.charAt(n)+of.charAt(o)+of.charAt(a)+of.charAt(l);return t}function Ll(e){var t="",i=0,s=0,r=0,n=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)n=of.indexOf(e.charAt(c++)),o=of.indexOf(e.charAt(c++)),i=n<<2|o>>4,t+=String.fromCharCode(i),a=of.indexOf(e.charAt(c++)),s=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(s)),l=of.indexOf(e.charAt(c++)),r=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(r));return t}var bs=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ph=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,i){return i?new Buffer(t,i):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Pf(e){return bs?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function jW(e){return bs?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var _l=function(t){return bs?ph(t,"binary"):t.split("").map(function(i){return i.charCodeAt(0)&255})};function ik(e){if(typeof ArrayBuffer>"u")return _l(e);for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),s=0;s!=e.length;++s)i[s]=e.charCodeAt(s)&255;return t}function Qf(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],i=0;i<e.length;++i)t[i]=String.fromCharCode(e[i]);return t.join("")}function XGe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function YN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return YN(new Uint8Array(e));for(var t=new Array(e.length),i=0;i<e.length;++i)t[i]=e[i];return t}var So=bs?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ph(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,i=0;for(t=0;t<e.length;++t)i+=e[t].length;var s=new Uint8Array(i),r=0;for(t=0,i=0;t<e.length;i+=r,++t)if(r=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],i);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),i)}return s}return[].concat.apply([],e.map(function(n){return Array.isArray(n)?n:[].slice.call(n)}))};function qGe(e){for(var t=[],i=0,s=e.length+250,r=Pf(e.length+255),n=0;n<e.length;++n){var o=e.charCodeAt(n);if(o<128)r[i++]=o;else if(o<2048)r[i++]=192|o>>6&31,r[i++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++n)&1023;r[i++]=240|o>>8&7,r[i++]=128|o>>2&63,r[i++]=128|a>>6&15|(o&3)<<4,r[i++]=128|a&63}else r[i++]=224|o>>12&15,r[i++]=128|o>>6&63,r[i++]=128|o&63;i>s&&(t.push(r.slice(0,i)),i=0,r=Pf(65535),s=65530)}return t.push(r.slice(0,i)),So(t)}var Da=/\u0000/g,DC=/[\u0001-\u0006]/g;function Wv(e){for(var t="",i=e.length-1;i>=0;)t+=e.charAt(i--);return t}function Uc(e,t){var i=""+e;return i.length>=t?i:Sn("0",t-i.length)+i}function XN(e,t){var i=""+e;return i.length>=t?i:Sn(" ",t-i.length)+i}function X_(e,t){var i=""+e;return i.length>=t?i:i+Sn(" ",t-i.length)}function QGe(e,t){var i=""+Math.round(e);return i.length>=t?i:Sn("0",t-i.length)+i}function JGe(e,t){var i=""+e;return i.length>=t?i:Sn("0",t-i.length)+i}var KW=Math.pow(2,32);function uv(e,t){if(e>KW||e<-KW)return QGe(e,t);var i=Math.round(e);return JGe(i,t)}function q_(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var YW=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],CP=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function ZGe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Li={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},XW={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},eHe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Q_(e,t,i){for(var s=e<0?-1:1,r=e*s,n=0,o=1,a=0,l=1,c=0,u=0,h=Math.floor(r);c<t&&(h=Math.floor(r),a=h*o+n,u=h*c+l,!(r-h<5e-8));)r=1/(r-h),n=o,o=a,l=c,c=u;if(u>t&&(c>t?(u=l,a=n):(u=c,a=o)),!i)return[0,s*a,u];var f=Math.floor(s*a/u);return[f,s*a-f*u,u]}function Kp(e,t,i){if(e>2958465||e<0)return null;var s=e|0,r=Math.floor(86400*(e-s)),n=0,o=[],a={D:s,T:r,u:86400*(e-s)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(s+=1462),a.u>.9999&&(a.u=0,++r==86400&&(a.T=r=0,++s,++a.D)),s===60)o=i?[1317,10,29]:[1900,2,29],n=3;else if(s===0)o=i?[1317,8,29]:[1900,1,0],n=6;else{s>60&&--s;var l=new Date(1900,0,1);l.setDate(l.getDate()+s-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],n=l.getDay(),s<60&&(n=(n+6)%7),i&&(n=oHe(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=r%60,r=Math.floor(r/60),a.M=r%60,r=Math.floor(r/60),a.H=r,a.q=n,a}var HQ=new Date(1899,11,31,0,0,0),tHe=HQ.getTime(),iHe=new Date(1900,2,1,0,0,0);function $Q(e,t){var i=e.getTime();return t?i-=1461*24*60*60*1e3:e>=iHe&&(i+=1440*60*1e3),(i-(tHe+(e.getTimezoneOffset()-HQ.getTimezoneOffset())*6e4))/(1440*60*1e3)}function qN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function sHe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function rHe(e){var t=e<0?12:11,i=qN(e.toFixed(12));return i.length<=t||(i=e.toPrecision(10),i.length<=t)?i:e.toExponential(5)}function nHe(e){var t=qN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Sw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),i;return t>=-4&&t<=-1?i=e.toPrecision(10+t):Math.abs(t)<=9?i=rHe(e):t===10?i=e.toFixed(10).substr(0,12):i=nHe(e),qN(sHe(i.toUpperCase()))}function Bg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Sw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return vc(14,$Q(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function oHe(e,t){t[0]-=581;var i=e.getDay();return e<60&&(i=(i+6)%7),i}function aHe(e,t,i,s){var r="",n=0,o=0,a=i.y,l,c=0;switch(e){case 98:a=i.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=i.m,c=t.length;break;case 3:return CP[i.m-1][1];case 5:return CP[i.m-1][0];default:return CP[i.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=i.d,c=t.length;break;case 3:return YW[i.q][0];default:return YW[i.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(i.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=i.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=i.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return i.u===0&&(t=="s"||t=="ss")?Uc(i.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,n=Math.round(o*(i.S+i.u)),n>=60*o&&(n=0),t==="s"?n===0?"0":""+n/o:(r=Uc(n,2+s),t==="ss"?r.substr(0,2):"."+r.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=i.D*24+i.H;break;case"[m]":case"[mm]":l=(i.D*24+i.H)*60+i.M;break;case"[s]":case"[ss]":l=((i.D*24+i.H)*60+i.M)*60+Math.round(i.S+i.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=a,c=1;break}var u=c>0?Uc(l,c):"";return u}function af(e){var t=3;if(e.length<=t)return e;for(var i=e.length%t,s=e.substr(0,i);i!=e.length;i+=t)s+=(s.length>0?",":"")+e.substr(i,t);return s}var WQ=/%/g;function lHe(e,t,i){var s=t.replace(WQ,""),r=t.length-s.length;return Ud(e,s,i*Math.pow(10,2*r))+Sn("%",r)}function cHe(e,t,i){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Ud(e,t.substr(0,s),i/Math.pow(10,3*(t.length-s)))}function UQ(e,t){var i,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+UQ(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var n=Math.floor(Math.log(t)*Math.LOG10E)%r;if(n<0&&(n+=r),i=(t/Math.pow(10,n)).toPrecision(s+1+(r+n)%r),i.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(i.indexOf(".")===-1?i=i.charAt(0)+"."+i.substr(1)+"E+"+(o-i.length+n):i+="E+"+(o-n);i.substr(0,2)==="0.";)i=i.charAt(0)+i.substr(2,r)+"."+i.substr(2+r),i=i.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(r+n)%r)+"."+u.substr(n)+"E"})}else i=t.toExponential(s);return e.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),e.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}var zQ=/# (\?+)( ?)\/( ?)(\d+)/;function uHe(e,t,i){var s=parseInt(e[4],10),r=Math.round(t*s),n=Math.floor(r/s),o=r-n*s,a=s;return i+(n===0?"":""+n)+" "+(o===0?Sn(" ",e[1].length+1+e[4].length):XN(o,e[1].length)+e[2]+"/"+e[3]+Uc(a,e[4].length))}function dHe(e,t,i){return i+(t===0?"":""+t)+Sn(" ",e[1].length+2+e[4].length)}var jQ=/^#*0*\.([0#]+)/,KQ=/\).*[0#]/,YQ=/\(###\) ###\\?-####/;function ba(e){for(var t="",i,s=0;s!=e.length;++s)switch(i=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(i)}return t}function qW(e,t){var i=Math.pow(10,t);return""+Math.round(e*i)/i}function QW(e,t){var i=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(i*s)).length?0:Math.round(i*s)}function hHe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function fHe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Yl(e,t,i){if(e.charCodeAt(0)===40&&!t.match(KQ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?Yl("n",s,i):"("+Yl("n",s,-i)+")"}if(t.charCodeAt(t.length-1)===44)return cHe(e,t,i);if(t.indexOf("%")!==-1)return lHe(e,t,i);if(t.indexOf("E")!==-1)return UQ(t,i);if(t.charCodeAt(0)===36)return"$"+Yl(e,t.substr(t.charAt(1)==" "?2:1),i);var r,n,o,a,l=Math.abs(i),c=i<0?"-":"";if(t.match(/^00+$/))return c+uv(l,t.length);if(t.match(/^[#?]+$/))return r=uv(i,0),r==="0"&&(r=""),r.length>t.length?r:ba(t.substr(0,t.length-r.length))+r;if(n=t.match(zQ))return uHe(n,l,c);if(t.match(/^#+0+$/))return c+uv(l,t.length-t.indexOf("0"));if(n=t.match(jQ))return r=qW(i,n[1].length).replace(/^([^\.]+)$/,"$1."+ba(n[1])).replace(/\.$/,"."+ba(n[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+Sn("0",ba(n[1]).length-v.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),n=t.match(/^(0*)\.(#*)$/))return c+qW(l,n[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,n[1].length?"0.":".");if(n=t.match(/^#{1,3},##0(\.?)$/))return c+af(uv(l,0));if(n=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+Yl(e,t,-i):af(""+(Math.floor(i)+hHe(i,n[1].length)))+"."+Uc(QW(i,n[1].length),n[1].length);if(n=t.match(/^#,#*,#0/))return Yl(e,t.replace(/^#,#*,/,""),i);if(n=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Wv(Yl(e,t.replace(/[\\-]/g,""),i)),o=0,Wv(Wv(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<r.length?r.charAt(o++):y==="0"?"0":""}));if(t.match(YQ))return r=Yl(e,"##########",i),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var u="";if(n=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(n[4].length,7),a=Q_(l,Math.pow(10,o)-1,!1),r=""+c,u=Ud("n",n[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),r+=u+n[2]+"/"+n[3],u=X_(a[2],o),u.length<n[4].length&&(u=ba(n[4].substr(n[4].length-u.length))+u),r+=u,r;if(n=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(n[1].length,n[4].length),7),a=Q_(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?XN(a[1],o)+n[2]+"/"+n[3]+X_(a[2],o):Sn(" ",2*o+1+n[2].length+n[3].length));if(n=t.match(/^[#0?]+$/))return r=uv(i,0),t.length<=r.length?r:ba(t.substr(0,t.length-r.length))+r;if(n=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+i.toFixed(Math.min(n[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var h=t.indexOf(".")-o,f=t.length-r.length-h;return ba(t.substr(0,h)+r+t.substr(t.length-f))}if(n=t.match(/^00,000\.([#0]*0)$/))return o=QW(i,n[1].length),i<0?"-"+Yl(e,t,-i):af(fHe(i)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Uc(0,3-y.length):"")+y})+"."+Uc(o,n[1].length);switch(t){case"###,##0.00":return Yl(e,"#,##0.00",i);case"###,###":case"##,###":case"#,###":var p=af(uv(l,0));return p!=="0"?c+p:"";case"###,###.00":return Yl(e,"###,##0.00",i).replace(/^0\./,".");case"#,###.00":return Yl(e,"#,##0.00",i).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function pHe(e,t,i){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Ud(e,t.substr(0,s),i/Math.pow(10,3*(t.length-s)))}function gHe(e,t,i){var s=t.replace(WQ,""),r=t.length-s.length;return Ud(e,s,i*Math.pow(10,2*r))+Sn("%",r)}function XQ(e,t){var i,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+XQ(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var n=Math.floor(Math.log(t)*Math.LOG10E)%r;if(n<0&&(n+=r),i=(t/Math.pow(10,n)).toPrecision(s+1+(r+n)%r),!i.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);i.indexOf(".")===-1?i=i.charAt(0)+"."+i.substr(1)+"E+"+(o-i.length+n):i+="E+"+(o-n),i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(r+n)%r)+"."+u.substr(n)+"E"})}else i=t.toExponential(s);return e.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),e.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}function wu(e,t,i){if(e.charCodeAt(0)===40&&!t.match(KQ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?wu("n",s,i):"("+wu("n",s,-i)+")"}if(t.charCodeAt(t.length-1)===44)return pHe(e,t,i);if(t.indexOf("%")!==-1)return gHe(e,t,i);if(t.indexOf("E")!==-1)return XQ(t,i);if(t.charCodeAt(0)===36)return"$"+wu(e,t.substr(t.charAt(1)==" "?2:1),i);var r,n,o,a,l=Math.abs(i),c=i<0?"-":"";if(t.match(/^00+$/))return c+Uc(l,t.length);if(t.match(/^[#?]+$/))return r=""+i,i===0&&(r=""),r.length>t.length?r:ba(t.substr(0,t.length-r.length))+r;if(n=t.match(zQ))return dHe(n,l,c);if(t.match(/^#+0+$/))return c+Uc(l,t.length-t.indexOf("0"));if(n=t.match(jQ))return r=(""+i).replace(/^([^\.]+)$/,"$1."+ba(n[1])).replace(/\.$/,"."+ba(n[1])),r=r.replace(/\.(\d*)$/,function(y,v){return"."+v+Sn("0",ba(n[1]).length-v.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),n=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,n[1].length?"0.":".");if(n=t.match(/^#{1,3},##0(\.?)$/))return c+af(""+l);if(n=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+wu(e,t,-i):af(""+i)+"."+Sn("0",n[1].length);if(n=t.match(/^#,#*,#0/))return wu(e,t.replace(/^#,#*,/,""),i);if(n=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Wv(wu(e,t.replace(/[\\-]/g,""),i)),o=0,Wv(Wv(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<r.length?r.charAt(o++):y==="0"?"0":""}));if(t.match(YQ))return r=wu(e,"##########",i),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var u="";if(n=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(n[4].length,7),a=Q_(l,Math.pow(10,o)-1,!1),r=""+c,u=Ud("n",n[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),r+=u+n[2]+"/"+n[3],u=X_(a[2],o),u.length<n[4].length&&(u=ba(n[4].substr(n[4].length-u.length))+u),r+=u,r;if(n=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(n[1].length,n[4].length),7),a=Q_(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?XN(a[1],o)+n[2]+"/"+n[3]+X_(a[2],o):Sn(" ",2*o+1+n[2].length+n[3].length));if(n=t.match(/^[#0?]+$/))return r=""+i,t.length<=r.length?r:ba(t.substr(0,t.length-r.length))+r;if(n=t.match(/^([#0]+)\.([#0]+)$/)){r=""+i.toFixed(Math.min(n[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var h=t.indexOf(".")-o,f=t.length-r.length-h;return ba(t.substr(0,h)+r+t.substr(t.length-f))}if(n=t.match(/^00,000\.([#0]*0)$/))return i<0?"-"+wu(e,t,-i):af(""+i).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Uc(0,3-y.length):"")+y})+"."+Uc(0,n[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=af(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return wu(e,t.slice(0,t.lastIndexOf(".")),i)+ba(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ud(e,t,i){return(i|0)===i?wu(e,t,i):Yl(e,t,i)}function mHe(e){for(var t=[],i=!1,s=0,r=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:i=!i;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(r,s-r),r=s+1}if(t[t.length]=e.substr(r),i===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var qQ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function hy(e){for(var t=0,i="",s="";t<e.length;)switch(i=e.charAt(t)){case"G":q_(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=i;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(qQ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(i=e.charAt(++t))>-1||i=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===i;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function vHe(e,t,i,s){for(var r=[],n="",o=0,a="",l="t",c,u,h,f="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!q_(e,o))throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(n="";(h=e.charCodeAt(++o))!==34&&o<e.length;)n+=String.fromCharCode(h);r[r.length]={t:"t",v:n},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";r[r.length]={t:y,v:p},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(c==null&&(c=Kp(t,i,e.charAt(o+1)==="2"),c==null))return"";r[r.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Kp(t,i),c==null))return"";for(n=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)n+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=f),r[r.length]={t:a,v:n},l=a;break;case"A":case"a":case"":var v={t:a,v:a};if(c==null&&(c=Kp(t,i)),e.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",f="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",o+=5,f="h"):e.substr(o,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",o+=5,f="h"):(v.t="t",++o),c==null&&v.t==="T")return"";r[r.length]=v,l=a;break;case"[":for(n=a;e.charAt(o++)!=="]"&&o<e.length;)n+=e.charAt(o);if(n.slice(-1)!=="]")throw'unterminated "[" block: |'+n+"|";if(n.match(qQ)){if(c==null&&(c=Kp(t,i),c==null))return"";r[r.length]={t:"Z",v:n.toLowerCase()},l=n.charAt(1)}else n.indexOf("$")>-1&&(n=(n.match(/\$([^-\[\]]*)/)||[])[1]||"$",hy(e)||(r[r.length]={t:"t",v:n}));break;case".":if(c!=null){for(n=a;++o<e.length&&(a=e.charAt(o))==="0";)n+=a;r[r.length]={t:"s",v:n};break}case"0":case"#":for(n=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)n+=a;r[r.length]={t:"n",v:n};break;case"?":for(n=a;e.charAt(++o)===a;)n+=a;r[r.length]={t:a,v:n},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":r[r.length]={t:s===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(n=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)n+=e.charAt(o);r[r.length]={t:"D",v:n};break;case" ":r[r.length]={t:a,v:a},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"t",v:a},++o;break}var C=0,S=0,_;for(o=r.length-1,l="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=f,l="h",C<1&&(C=1);break;case"s":(_=r[o].v.match(/\.0+$/))&&(S=Math.max(S,_[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":l=r[o].t;break;case"m":l==="s"&&(r[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&r[o].v.match(/[Hh]/)&&(C=1),C<2&&r[o].v.match(/[Mm]/)&&(C=2),C<3&&r[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var x="",A;for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=aHe(r[o].t.charCodeAt(0),r[o].v,c,S),r[o].t="t";break;case"n":case"?":for(A=o+1;r[A]!=null&&((a=r[A].t)==="?"||a==="D"||(a===" "||a==="t")&&r[A+1]!=null&&(r[A+1].t==="?"||r[A+1].t==="t"&&r[A+1].v==="/")||r[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(r[A].v==="/"||r[A].v===" "&&r[A+1]!=null&&r[A+1].t=="?"));)r[o].v+=r[A].v,r[A]={v:"",t:";"},++A;x+=r[o].v,o=A-1;break;case"G":r[o].t="t",r[o].v=Bg(t,i);break}var R="",O,k;if(x.length>0){x.charCodeAt(0)==40?(O=t<0&&x.charCodeAt(0)===45?-t:t,k=Ud("n",x,O)):(O=t<0&&s>1?-t:t,k=Ud("n",x,O),O<0&&r[0]&&r[0].t=="t"&&(k=k.substr(1),r[0].v="-"+r[0].v)),A=k.length-1;var F=r.length;for(o=0;o<r.length;++o)if(r[o]!=null&&r[o].t!="t"&&r[o].v.indexOf(".")>-1){F=o;break}var N=r.length;if(F===r.length&&k.indexOf("E")===-1){for(o=r.length-1;o>=0;--o)r[o]==null||"n?".indexOf(r[o].t)===-1||(A>=r[o].v.length-1?(A-=r[o].v.length,r[o].v=k.substr(A+1,r[o].v.length)):A<0?r[o].v="":(r[o].v=k.substr(0,A+1),A=-1),r[o].t="t",N=o);A>=0&&N<r.length&&(r[N].v=k.substr(0,A+1)+r[N].v)}else if(F!==r.length&&k.indexOf("E")===-1){for(A=k.indexOf(".")-1,o=F;o>=0;--o)if(!(r[o]==null||"n?".indexOf(r[o].t)===-1)){for(u=r[o].v.indexOf(".")>-1&&o===F?r[o].v.indexOf(".")-1:r[o].v.length-1,R=r[o].v.substr(u+1);u>=0;--u)A>=0&&(r[o].v.charAt(u)==="0"||r[o].v.charAt(u)==="#")&&(R=k.charAt(A--)+R);r[o].v=R,r[o].t="t",N=o}for(A>=0&&N<r.length&&(r[N].v=k.substr(0,A+1)+r[N].v),A=k.indexOf(".")+1,o=F;o<r.length;++o)if(!(r[o]==null||"n?(".indexOf(r[o].t)===-1&&o!==F)){for(u=r[o].v.indexOf(".")>-1&&o===F?r[o].v.indexOf(".")+1:0,R=r[o].v.substr(0,u);u<r[o].v.length;++u)A<k.length&&(R+=k.charAt(A++));r[o].v=R,r[o].t="t",N=o}}}for(o=0;o<r.length;++o)r[o]!=null&&"n?".indexOf(r[o].t)>-1&&(O=s>1&&t<0&&o>0&&r[o-1].v==="-"?-t:t,r[o].v=Ud(r[o].t,r[o].v,O),r[o].t="t");var j="";for(o=0;o!==r.length;++o)r[o]!=null&&(j+=r[o].v);return j}var JW=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ZW(e,t){if(t==null)return!1;var i=parseFloat(t[2]);switch(t[1]){case"=":if(e==i)return!0;break;case">":if(e>i)return!0;break;case"<":if(e<i)return!0;break;case"<>":if(e!=i)return!0;break;case">=":if(e>=i)return!0;break;case"<=":if(e<=i)return!0;break}return!1}function yHe(e,t){var i=mHe(e),s=i.length,r=i[s-1].indexOf("@");if(s<4&&r>-1&&--s,i.length>4)throw new Error("cannot find right format for |"+i.join("|")+"|");if(typeof t!="number")return[4,i.length===4||r>-1?i[i.length-1]:"@"];switch(i.length){case 1:i=r>-1?["General","General","General",i[0]]:[i[0],i[0],i[0],"@"];break;case 2:i=r>-1?[i[0],i[0],i[0],i[1]]:[i[0],i[1],i[0],"@"];break;case 3:i=r>-1?[i[0],i[1],i[0],i[2]]:[i[0],i[1],i[2],"@"];break}var n=t>0?i[0]:t<0?i[1]:i[2];if(i[0].indexOf("[")===-1&&i[1].indexOf("[")===-1)return[s,n];if(i[0].match(/\[[=<>]/)!=null||i[1].match(/\[[=<>]/)!=null){var o=i[0].match(JW),a=i[1].match(JW);return ZW(t,o)?[s,i[0]]:ZW(t,a)?[s,i[1]]:[s,i[o!=null&&a!=null?2:1]]}return[s,n]}function vc(e,t,i){i==null&&(i={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&i.dateNF?s=i.dateNF:s=e;break;case"number":e==14&&i.dateNF?s=i.dateNF:s=(i.table!=null?i.table:Li)[e],s==null&&(s=i.table&&i.table[XW[e]]||Li[XW[e]]),s==null&&(s=eHe[e]||"General");break}if(q_(s,0))return Bg(t,i);t instanceof Date&&(t=$Q(t,i.date1904));var r=yHe(s,t);if(q_(r[1]))return Bg(t,i);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return vHe(r[1],t,i,r[0])}function zd(e,t){if(typeof t!="number"){t=+t||-1;for(var i=0;i<392;++i){if(Li[i]==null){t<0&&(t=i);continue}if(Li[i]==e){t=i;break}}t<0&&(t=391)}return Li[t]=e,t}function sk(e){for(var t=0;t!=392;++t)e[t]!==void 0&&zd(e[t],t)}function fy(){Li=ZGe()}var CHe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},QQ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function bHe(e){var t=typeof e=="number"?Li[e]:e;return t=t.replace(QQ,"(\\d+)"),new RegExp("^"+t+"$")}function wHe(e,t,i){var s=-1,r=-1,n=-1,o=-1,a=-1,l=-1;(t.match(QQ)||[]).forEach(function(h,f){var p=parseInt(i[f+1],10);switch(h.toLowerCase().charAt(0)){case"y":s=p;break;case"d":n=p;break;case"h":o=p;break;case"s":l=p;break;case"m":o>=0?a=p:r=p;break}}),l>=0&&a==-1&&r>=0&&(a=r,r=-1);var c=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(n>=1?n:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?c:s==-1&&r==-1&&n==-1?u:c+"T"+u}var SHe=function(){var e={};e.version="1.2.0";function t(){for(var k=0,F=new Array(256),N=0;N!=256;++N)k=N,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,F[N]=k;return typeof Int32Array<"u"?new Int32Array(F):F}var i=t();function s(k){var F=0,N=0,j=0,ee=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)ee[j]=k[j];for(j=0;j!=256;++j)for(N=k[j],F=256+j;F<4096;F+=256)N=ee[F]=N>>>8^k[N&255];var K=[];for(j=1;j!=16;++j)K[j-1]=typeof Int32Array<"u"?ee.subarray(j*256,j*256+256):ee.slice(j*256,j*256+256);return K}var r=s(i),n=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],h=r[6],f=r[7],p=r[8],y=r[9],v=r[10],C=r[11],S=r[12],_=r[13],x=r[14];function A(k,F){for(var N=F^-1,j=0,ee=k.length;j<ee;)N=N>>>8^i[(N^k.charCodeAt(j++))&255];return~N}function R(k,F){for(var N=F^-1,j=k.length-15,ee=0;ee<j;)N=x[k[ee++]^N&255]^_[k[ee++]^N>>8&255]^S[k[ee++]^N>>16&255]^C[k[ee++]^N>>>24]^v[k[ee++]]^y[k[ee++]]^p[k[ee++]]^f[k[ee++]]^h[k[ee++]]^u[k[ee++]]^c[k[ee++]]^l[k[ee++]]^a[k[ee++]]^o[k[ee++]]^n[k[ee++]]^i[k[ee++]];for(j+=15;ee<j;)N=N>>>8^i[(N^k[ee++])&255];return~N}function O(k,F){for(var N=F^-1,j=0,ee=k.length,K=0,Q=0;j<ee;)K=k.charCodeAt(j++),K<128?N=N>>>8^i[(N^K)&255]:K<2048?(N=N>>>8^i[(N^(192|K>>6&31))&255],N=N>>>8^i[(N^(128|K&63))&255]):K>=55296&&K<57344?(K=(K&1023)+64,Q=k.charCodeAt(j++)&1023,N=N>>>8^i[(N^(240|K>>8&7))&255],N=N>>>8^i[(N^(128|K>>2&63))&255],N=N>>>8^i[(N^(128|Q>>6&15|(K&3)<<4))&255],N=N>>>8^i[(N^(128|Q&63))&255]):(N=N>>>8^i[(N^(224|K>>12&15))&255],N=N>>>8^i[(N^(128|K>>6&63))&255],N=N>>>8^i[(N^(128|K&63))&255]);return~N}return e.table=i,e.bstr=A,e.buf=R,e.str=O,e}(),ki=function(){var t={};t.version="1.2.1";function i(fe,De){for(var _e=fe.split("/"),Re=De.split("/"),Ne=0,Be=0,lt=Math.min(_e.length,Re.length);Ne<lt;++Ne){if(Be=_e[Ne].length-Re[Ne].length)return Be;if(_e[Ne]!=Re[Ne])return _e[Ne]<Re[Ne]?-1:1}return _e.length-Re.length}function s(fe){if(fe.charAt(fe.length-1)=="/")return fe.slice(0,-1).indexOf("/")===-1?fe:s(fe.slice(0,-1));var De=fe.lastIndexOf("/");return De===-1?fe:fe.slice(0,De+1)}function r(fe){if(fe.charAt(fe.length-1)=="/")return r(fe.slice(0,-1));var De=fe.lastIndexOf("/");return De===-1?fe:fe.slice(De+1)}function n(fe,De){typeof De=="string"&&(De=new Date(De));var _e=De.getHours();_e=_e<<6|De.getMinutes(),_e=_e<<5|De.getSeconds()>>>1,fe.write_shift(2,_e);var Re=De.getFullYear()-1980;Re=Re<<4|De.getMonth()+1,Re=Re<<5|De.getDate(),fe.write_shift(2,Re)}function o(fe){var De=fe.read_shift(2)&65535,_e=fe.read_shift(2)&65535,Re=new Date,Ne=_e&31;_e>>>=5;var Be=_e&15;_e>>>=4,Re.setMilliseconds(0),Re.setFullYear(_e+1980),Re.setMonth(Be-1),Re.setDate(Ne);var lt=De&31;De>>>=5;var Tt=De&63;return De>>>=6,Re.setHours(De),Re.setMinutes(Tt),Re.setSeconds(lt<<1),Re}function a(fe){Io(fe,0);for(var De={},_e=0;fe.l<=fe.length-4;){var Re=fe.read_shift(2),Ne=fe.read_shift(2),Be=fe.l+Ne,lt={};switch(Re){case 21589:_e=fe.read_shift(1),_e&1&&(lt.mtime=fe.read_shift(4)),Ne>5&&(_e&2&&(lt.atime=fe.read_shift(4)),_e&4&&(lt.ctime=fe.read_shift(4))),lt.mtime&&(lt.mt=new Date(lt.mtime*1e3));break}fe.l=Be,De[Re]=lt}return De}var l;function c(){return l||(l={})}function u(fe,De){if(fe[0]==80&&fe[1]==75)return Ls(fe,De);if((fe[0]|32)==109&&(fe[1]|32)==105)return hr(fe,De);if(fe.length<512)throw new Error("CFB file size "+fe.length+" < 512");var _e=3,Re=512,Ne=0,Be=0,lt=0,Tt=0,at=0,st=[],ct=fe.slice(0,512);Io(ct,0);var Ut=h(ct);switch(_e=Ut[0],_e){case 3:Re=512;break;case 4:Re=4096;break;case 0:if(Ut[1]==0)return Ls(fe,De);default:throw new Error("Major Version: Expected 3 or 4 saw "+_e)}Re!==512&&(ct=fe.slice(0,Re),Io(ct,28));var ei=fe.slice(0,Re);f(ct,_e);var ui=ct.read_shift(4,"i");if(_e===3&&ui!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ui);ct.l+=4,lt=ct.read_shift(4,"i"),ct.l+=4,ct.chk("00100000","Mini Stream Cutoff Size: "),Tt=ct.read_shift(4,"i"),Ne=ct.read_shift(4,"i"),at=ct.read_shift(4,"i"),Be=ct.read_shift(4,"i");for(var Kt=-1,ni=0;ni<109&&(Kt=ct.read_shift(4,"i"),!(Kt<0));++ni)st[ni]=Kt;var zi=p(fe,Re);C(at,Be,zi,Re,st);var Er=_(zi,lt,st,Re);Er[lt].name="!Directory",Ne>0&&Tt!==Q&&(Er[Tt].name="!MiniFAT"),Er[st[0]].name="!FAT",Er.fat_addrs=st,Er.ssz=Re;var _r={},zn=[],Sc=[],jn=[];x(lt,Er,zi,zn,Ne,_r,Sc,Tt),y(Sc,jn,zn),zn.shift();var cu={FileIndex:Sc,FullPaths:jn};return De&&De.raw&&(cu.raw={header:ei,sectors:zi}),cu}function h(fe){if(fe[fe.l]==80&&fe[fe.l+1]==75)return[0,0];fe.chk(be,"Header Signature: "),fe.l+=16;var De=fe.read_shift(2,"u");return[fe.read_shift(2,"u"),De]}function f(fe,De){var _e=9;switch(fe.l+=2,_e=fe.read_shift(2)){case 9:if(De!=3)throw new Error("Sector Shift: Expected 9 saw "+_e);break;case 12:if(De!=4)throw new Error("Sector Shift: Expected 12 saw "+_e);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+_e)}fe.chk("0600","Mini Sector Shift: "),fe.chk("000000000000","Reserved: ")}function p(fe,De){for(var _e=Math.ceil(fe.length/De)-1,Re=[],Ne=1;Ne<_e;++Ne)Re[Ne-1]=fe.slice(Ne*De,(Ne+1)*De);return Re[_e-1]=fe.slice(_e*De),Re}function y(fe,De,_e){for(var Re=0,Ne=0,Be=0,lt=0,Tt=0,at=_e.length,st=[],ct=[];Re<at;++Re)st[Re]=ct[Re]=Re,De[Re]=_e[Re];for(;Tt<ct.length;++Tt)Re=ct[Tt],Ne=fe[Re].L,Be=fe[Re].R,lt=fe[Re].C,st[Re]===Re&&(Ne!==-1&&st[Ne]!==Ne&&(st[Re]=st[Ne]),Be!==-1&&st[Be]!==Be&&(st[Re]=st[Be])),lt!==-1&&(st[lt]=Re),Ne!==-1&&Re!=st[Re]&&(st[Ne]=st[Re],ct.lastIndexOf(Ne)<Tt&&ct.push(Ne)),Be!==-1&&Re!=st[Re]&&(st[Be]=st[Re],ct.lastIndexOf(Be)<Tt&&ct.push(Be));for(Re=1;Re<at;++Re)st[Re]===Re&&(Be!==-1&&st[Be]!==Be?st[Re]=st[Be]:Ne!==-1&&st[Ne]!==Ne&&(st[Re]=st[Ne]));for(Re=1;Re<at;++Re)if(fe[Re].type!==0){if(Tt=Re,Tt!=st[Tt])do Tt=st[Tt],De[Re]=De[Tt]+"/"+De[Re];while(Tt!==0&&st[Tt]!==-1&&Tt!=st[Tt]);st[Re]=-1}for(De[0]+="/",Re=1;Re<at;++Re)fe[Re].type!==2&&(De[Re]+="/")}function v(fe,De,_e){for(var Re=fe.start,Ne=fe.size,Be=[],lt=Re;_e&&Ne>0&&lt>=0;)Be.push(De.slice(lt*K,lt*K+K)),Ne-=K,lt=Np(_e,lt*4);return Be.length===0?At(0):So(Be).slice(0,fe.size)}function C(fe,De,_e,Re,Ne){var Be=Q;if(fe===Q){if(De!==0)throw new Error("DIFAT chain shorter than expected")}else if(fe!==-1){var lt=_e[fe],Tt=(Re>>>2)-1;if(!lt)return;for(var at=0;at<Tt&&(Be=Np(lt,at*4))!==Q;++at)Ne.push(Be);C(Np(lt,Re-4),De-1,_e,Re,Ne)}}function S(fe,De,_e,Re,Ne){var Be=[],lt=[];Ne||(Ne=[]);var Tt=Re-1,at=0,st=0;for(at=De;at>=0;){Ne[at]=!0,Be[Be.length]=at,lt.push(fe[at]);var ct=_e[Math.floor(at*4/Re)];if(st=at*4&Tt,Re<4+st)throw new Error("FAT boundary crossed: "+at+" 4 "+Re);if(!fe[ct])break;at=Np(fe[ct],st)}return{nodes:Be,data:d6([lt])}}function _(fe,De,_e,Re){var Ne=fe.length,Be=[],lt=[],Tt=[],at=[],st=Re-1,ct=0,Ut=0,ei=0,ui=0;for(ct=0;ct<Ne;++ct)if(Tt=[],ei=ct+De,ei>=Ne&&(ei-=Ne),!lt[ei]){at=[];var Kt=[];for(Ut=ei;Ut>=0;){Kt[Ut]=!0,lt[Ut]=!0,Tt[Tt.length]=Ut,at.push(fe[Ut]);var ni=_e[Math.floor(Ut*4/Re)];if(ui=Ut*4&st,Re<4+ui)throw new Error("FAT boundary crossed: "+Ut+" 4 "+Re);if(!fe[ni]||(Ut=Np(fe[ni],ui),Kt[Ut]))break}Be[ei]={nodes:Tt,data:d6([at])}}return Be}function x(fe,De,_e,Re,Ne,Be,lt,Tt){for(var at=0,st=Re.length?2:0,ct=De[fe].data,Ut=0,ei=0,ui;Ut<ct.length;Ut+=128){var Kt=ct.slice(Ut,Ut+128);Io(Kt,64),ei=Kt.read_shift(2),ui=s2(Kt,0,ei-st),Re.push(ui);var ni={name:ui,type:Kt.read_shift(1),color:Kt.read_shift(1),L:Kt.read_shift(4,"i"),R:Kt.read_shift(4,"i"),C:Kt.read_shift(4,"i"),clsid:Kt.read_shift(16),state:Kt.read_shift(4,"i"),start:0,size:0},zi=Kt.read_shift(2)+Kt.read_shift(2)+Kt.read_shift(2)+Kt.read_shift(2);zi!==0&&(ni.ct=A(Kt,Kt.l-8));var Er=Kt.read_shift(2)+Kt.read_shift(2)+Kt.read_shift(2)+Kt.read_shift(2);Er!==0&&(ni.mt=A(Kt,Kt.l-8)),ni.start=Kt.read_shift(4,"i"),ni.size=Kt.read_shift(4,"i"),ni.size<0&&ni.start<0&&(ni.size=ni.type=0,ni.start=Q,ni.name=""),ni.type===5?(at=ni.start,Ne>0&&at!==Q&&(De[at].name="!StreamData")):ni.size>=4096?(ni.storage="fat",De[ni.start]===void 0&&(De[ni.start]=S(_e,ni.start,De.fat_addrs,De.ssz)),De[ni.start].name=ni.name,ni.content=De[ni.start].data.slice(0,ni.size)):(ni.storage="minifat",ni.size<0?ni.size=0:at!==Q&&ni.start!==Q&&De[at]&&(ni.content=v(ni,De[at].data,(De[Tt]||{}).data))),ni.content&&Io(ni.content,0),Be[ui]=ni,lt.push(ni)}}function A(fe,De){return new Date((xl(fe,De+4)/1e7*Math.pow(2,32)+xl(fe,De)/1e7-11644473600)*1e3)}function R(fe,De){return c(),u(l.readFileSync(fe),De)}function O(fe,De){var _e=De&&De.type;switch(_e||bs&&Buffer.isBuffer(fe)&&(_e="buffer"),_e||"base64"){case"file":return R(fe,De);case"base64":return u(_l(Ll(fe)),De);case"binary":return u(_l(fe),De)}return u(fe,De)}function k(fe,De){var _e=De||{},Re=_e.root||"Root Entry";if(fe.FullPaths||(fe.FullPaths=[]),fe.FileIndex||(fe.FileIndex=[]),fe.FullPaths.length!==fe.FileIndex.length)throw new Error("inconsistent CFB structure");fe.FullPaths.length===0&&(fe.FullPaths[0]=Re+"/",fe.FileIndex[0]={name:Re,type:5}),_e.CLSID&&(fe.FileIndex[0].clsid=_e.CLSID),F(fe)}function F(fe){var De="Sh33tJ5";if(!ki.find(fe,"/"+De)){var _e=At(4);_e[0]=55,_e[1]=_e[3]=50,_e[2]=54,fe.FileIndex.push({name:De,type:2,content:_e,size:4,L:69,R:69,C:69}),fe.FullPaths.push(fe.FullPaths[0]+De),N(fe)}}function N(fe,De){k(fe);for(var _e=!1,Re=!1,Ne=fe.FullPaths.length-1;Ne>=0;--Ne){var Be=fe.FileIndex[Ne];switch(Be.type){case 0:Re?_e=!0:(fe.FileIndex.pop(),fe.FullPaths.pop());break;case 1:case 2:case 5:Re=!0,isNaN(Be.R*Be.L*Be.C)&&(_e=!0),Be.R>-1&&Be.L>-1&&Be.R==Be.L&&(_e=!0);break;default:_e=!0;break}}if(!(!_e&&!De)){var lt=new Date(1987,1,19),Tt=0,at=Object.create?Object.create(null):{},st=[];for(Ne=0;Ne<fe.FullPaths.length;++Ne)at[fe.FullPaths[Ne]]=!0,fe.FileIndex[Ne].type!==0&&st.push([fe.FullPaths[Ne],fe.FileIndex[Ne]]);for(Ne=0;Ne<st.length;++Ne){var ct=s(st[Ne][0]);Re=at[ct],Re||(st.push([ct,{name:r(ct).replace("/",""),type:1,clsid:ne,ct:lt,mt:lt,content:null}]),at[ct]=!0)}for(st.sort(function(ui,Kt){return i(ui[0],Kt[0])}),fe.FullPaths=[],fe.FileIndex=[],Ne=0;Ne<st.length;++Ne)fe.FullPaths[Ne]=st[Ne][0],fe.FileIndex[Ne]=st[Ne][1];for(Ne=0;Ne<st.length;++Ne){var Ut=fe.FileIndex[Ne],ei=fe.FullPaths[Ne];if(Ut.name=r(ei).replace("/",""),Ut.L=Ut.R=Ut.C=-(Ut.color=1),Ut.size=Ut.content?Ut.content.length:0,Ut.start=0,Ut.clsid=Ut.clsid||ne,Ne===0)Ut.C=st.length>1?1:-1,Ut.size=0,Ut.type=5;else if(ei.slice(-1)=="/"){for(Tt=Ne+1;Tt<st.length&&s(fe.FullPaths[Tt])!=ei;++Tt);for(Ut.C=Tt>=st.length?-1:Tt,Tt=Ne+1;Tt<st.length&&s(fe.FullPaths[Tt])!=s(ei);++Tt);Ut.R=Tt>=st.length?-1:Tt,Ut.type=1}else s(fe.FullPaths[Ne+1]||"")==s(ei)&&(Ut.R=Ne+1),Ut.type=2}}}function j(fe,De){var _e=De||{};if(_e.fileType=="mad")return vh(fe,_e);switch(N(fe),_e.fileType){case"zip":return Hr(fe,_e)}var Re=function(ui){for(var Kt=0,ni=0,zi=0;zi<ui.FileIndex.length;++zi){var Er=ui.FileIndex[zi];if(Er.content){var _r=Er.content.length;_r>0&&(_r<4096?Kt+=_r+63>>6:ni+=_r+511>>9)}}for(var zn=ui.FullPaths.length+3>>2,Sc=Kt+7>>3,jn=Kt+127>>7,cu=Sc+ni+zn+jn,ds=cu+127>>7,uu=ds<=109?0:Math.ceil((ds-109)/127);cu+ds+uu+127>>7>ds;)uu=++ds<=109?0:Math.ceil((ds-109)/127);var Na=[1,uu,ds,jn,zn,ni,Kt,0];return ui.FileIndex[0].size=Kt<<6,Na[7]=(ui.FileIndex[0].start=Na[0]+Na[1]+Na[2]+Na[3]+Na[4]+Na[5])+(Na[6]+7>>3),Na}(fe),Ne=At(Re[7]<<9),Be=0,lt=0;{for(Be=0;Be<8;++Be)Ne.write_shift(1,te[Be]);for(Be=0;Be<8;++Be)Ne.write_shift(2,0);for(Ne.write_shift(2,62),Ne.write_shift(2,3),Ne.write_shift(2,65534),Ne.write_shift(2,9),Ne.write_shift(2,6),Be=0;Be<3;++Be)Ne.write_shift(2,0);for(Ne.write_shift(4,0),Ne.write_shift(4,Re[2]),Ne.write_shift(4,Re[0]+Re[1]+Re[2]+Re[3]-1),Ne.write_shift(4,0),Ne.write_shift(4,4096),Ne.write_shift(4,Re[3]?Re[0]+Re[1]+Re[2]-1:Q),Ne.write_shift(4,Re[3]),Ne.write_shift(-4,Re[1]?Re[0]-1:Q),Ne.write_shift(4,Re[1]),Be=0;Be<109;++Be)Ne.write_shift(-4,Be<Re[2]?Re[1]+Be:-1)}if(Re[1])for(lt=0;lt<Re[1];++lt){for(;Be<236+lt*127;++Be)Ne.write_shift(-4,Be<Re[2]?Re[1]+Be:-1);Ne.write_shift(-4,lt===Re[1]-1?Q:lt+1)}var Tt=function(ui){for(lt+=ui;Be<lt-1;++Be)Ne.write_shift(-4,Be+1);ui&&(++Be,Ne.write_shift(-4,Q))};for(lt=Be=0,lt+=Re[1];Be<lt;++Be)Ne.write_shift(-4,H.DIFSECT);for(lt+=Re[2];Be<lt;++Be)Ne.write_shift(-4,H.FATSECT);Tt(Re[3]),Tt(Re[4]);for(var at=0,st=0,ct=fe.FileIndex[0];at<fe.FileIndex.length;++at)ct=fe.FileIndex[at],ct.content&&(st=ct.content.length,!(st<4096)&&(ct.start=lt,Tt(st+511>>9)));for(Tt(Re[6]+7>>3);Ne.l&511;)Ne.write_shift(-4,H.ENDOFCHAIN);for(lt=Be=0,at=0;at<fe.FileIndex.length;++at)ct=fe.FileIndex[at],ct.content&&(st=ct.content.length,!(!st||st>=4096)&&(ct.start=lt,Tt(st+63>>6)));for(;Ne.l&511;)Ne.write_shift(-4,H.ENDOFCHAIN);for(Be=0;Be<Re[4]<<2;++Be){var Ut=fe.FullPaths[Be];if(!Ut||Ut.length===0){for(at=0;at<17;++at)Ne.write_shift(4,0);for(at=0;at<3;++at)Ne.write_shift(4,-1);for(at=0;at<12;++at)Ne.write_shift(4,0);continue}ct=fe.FileIndex[Be],Be===0&&(ct.start=ct.size?ct.start-1:Q);var ei=Be===0&&_e.root||ct.name;if(st=2*(ei.length+1),Ne.write_shift(64,ei,"utf16le"),Ne.write_shift(2,st),Ne.write_shift(1,ct.type),Ne.write_shift(1,ct.color),Ne.write_shift(-4,ct.L),Ne.write_shift(-4,ct.R),Ne.write_shift(-4,ct.C),ct.clsid)Ne.write_shift(16,ct.clsid,"hex");else for(at=0;at<4;++at)Ne.write_shift(4,0);Ne.write_shift(4,ct.state||0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,ct.start),Ne.write_shift(4,ct.size),Ne.write_shift(4,0)}for(Be=1;Be<fe.FileIndex.length;++Be)if(ct=fe.FileIndex[Be],ct.size>=4096)if(Ne.l=ct.start+1<<9,bs&&Buffer.isBuffer(ct.content))ct.content.copy(Ne,Ne.l,0,ct.size),Ne.l+=ct.size+511&-512;else{for(at=0;at<ct.size;++at)Ne.write_shift(1,ct.content[at]);for(;at&511;++at)Ne.write_shift(1,0)}for(Be=1;Be<fe.FileIndex.length;++Be)if(ct=fe.FileIndex[Be],ct.size>0&&ct.size<4096)if(bs&&Buffer.isBuffer(ct.content))ct.content.copy(Ne,Ne.l,0,ct.size),Ne.l+=ct.size+63&-64;else{for(at=0;at<ct.size;++at)Ne.write_shift(1,ct.content[at]);for(;at&63;++at)Ne.write_shift(1,0)}if(bs)Ne.l=Ne.length;else for(;Ne.l<Ne.length;)Ne.write_shift(1,0);return Ne}function ee(fe,De){var _e=fe.FullPaths.map(function(at){return at.toUpperCase()}),Re=_e.map(function(at){var st=at.split("/");return st[st.length-(at.slice(-1)=="/"?2:1)]}),Ne=!1;De.charCodeAt(0)===47?(Ne=!0,De=_e[0].slice(0,-1)+De):Ne=De.indexOf("/")!==-1;var Be=De.toUpperCase(),lt=Ne===!0?_e.indexOf(Be):Re.indexOf(Be);if(lt!==-1)return fe.FileIndex[lt];var Tt=!Be.match(DC);for(Be=Be.replace(Da,""),Tt&&(Be=Be.replace(DC,"!")),lt=0;lt<_e.length;++lt)if((Tt?_e[lt].replace(DC,"!"):_e[lt]).replace(Da,"")==Be||(Tt?Re[lt].replace(DC,"!"):Re[lt]).replace(Da,"")==Be)return fe.FileIndex[lt];return null}var K=64,Q=-2,be="d0cf11e0a1b11ae1",te=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Q,FREESECT:-1,HEADER_SIGNATURE:be,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(fe,De,_e){c();var Re=j(fe,_e);l.writeFileSync(De,Re)}function ue(fe){for(var De=new Array(fe.length),_e=0;_e<fe.length;++_e)De[_e]=String.fromCharCode(fe[_e]);return De.join("")}function Te(fe,De){var _e=j(fe,De);switch(De&&De.type||"buffer"){case"file":return c(),l.writeFileSync(De.filename,_e),_e;case"binary":return typeof _e=="string"?_e:ue(_e);case"base64":return ww(typeof _e=="string"?_e:ue(_e));case"buffer":if(bs)return Buffer.isBuffer(_e)?_e:ph(_e);case"array":return typeof _e=="string"?_l(_e):_e}return _e}var Ie;function he(fe){try{var De=fe.InflateRaw,_e=new De;if(_e._processChunk(new Uint8Array([3,0]),_e._finishFlushFlag),_e.bytesRead)Ie=fe;else throw new Error("zlib does not expose bytesRead")}catch(Re){console.error("cannot use native zlib: "+(Re.message||Re))}}function Ee(fe,De){if(!Ie)return Xi(fe,De);var _e=Ie.InflateRaw,Re=new _e,Ne=Re._processChunk(fe.slice(fe.l),Re._finishFlushFlag);return fe.l+=Re.bytesRead,Ne}function Y(fe){return Ie?Ie.deflateRawSync(fe):Me(fe)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(fe){var De=(fe<<1|fe<<11)&139536|(fe<<5|fe<<15)&558144;return(De>>16|De>>8|De)&255}for(var Oe=typeof Uint8Array<"u",He=Oe?new Uint8Array(256):[],mt=0;mt<256;++mt)He[mt]=ke(mt);function we(fe,De){var _e=He[fe&255];return De<=8?_e>>>8-De:(_e=_e<<8|He[fe>>8&255],De<=16?_e>>>16-De:(_e=_e<<8|He[fe>>16&255],_e>>>24-De))}function de(fe,De){var _e=De&7,Re=De>>>3;return(fe[Re]|(_e<=6?0:fe[Re+1]<<8))>>>_e&3}function pe(fe,De){var _e=De&7,Re=De>>>3;return(fe[Re]|(_e<=5?0:fe[Re+1]<<8))>>>_e&7}function Ve(fe,De){var _e=De&7,Re=De>>>3;return(fe[Re]|(_e<=4?0:fe[Re+1]<<8))>>>_e&15}function Qe(fe,De){var _e=De&7,Re=De>>>3;return(fe[Re]|(_e<=3?0:fe[Re+1]<<8))>>>_e&31}function Ge(fe,De){var _e=De&7,Re=De>>>3;return(fe[Re]|(_e<=1?0:fe[Re+1]<<8))>>>_e&127}function Ze(fe,De,_e){var Re=De&7,Ne=De>>>3,Be=(1<<_e)-1,lt=fe[Ne]>>>Re;return _e<8-Re||(lt|=fe[Ne+1]<<8-Re,_e<16-Re)||(lt|=fe[Ne+2]<<16-Re,_e<24-Re)||(lt|=fe[Ne+3]<<24-Re),lt&Be}function ot(fe,De,_e){var Re=De&7,Ne=De>>>3;return Re<=5?fe[Ne]|=(_e&7)<<Re:(fe[Ne]|=_e<<Re&255,fe[Ne+1]=(_e&7)>>8-Re),De+3}function xe(fe,De,_e){var Re=De&7,Ne=De>>>3;return _e=(_e&1)<<Re,fe[Ne]|=_e,De+1}function Ae(fe,De,_e){var Re=De&7,Ne=De>>>3;return _e<<=Re,fe[Ne]|=_e&255,_e>>>=8,fe[Ne+1]=_e,De+8}function Ke(fe,De,_e){var Re=De&7,Ne=De>>>3;return _e<<=Re,fe[Ne]|=_e&255,_e>>>=8,fe[Ne+1]=_e&255,fe[Ne+2]=_e>>>8,De+16}function yt(fe,De){var _e=fe.length,Re=2*_e>De?2*_e:De+5,Ne=0;if(_e>=De)return fe;if(bs){var Be=jW(Re);if(fe.copy)fe.copy(Be);else for(;Ne<fe.length;++Ne)Be[Ne]=fe[Ne];return Be}else if(Oe){var lt=new Uint8Array(Re);if(lt.set)lt.set(fe);else for(;Ne<_e;++Ne)lt[Ne]=fe[Ne];return lt}return fe.length=Re,fe}function Ct(fe){for(var De=new Array(fe),_e=0;_e<fe;++_e)De[_e]=0;return De}function ft(fe,De,_e){var Re=1,Ne=0,Be=0,lt=0,Tt=0,at=fe.length,st=Oe?new Uint16Array(32):Ct(32);for(Be=0;Be<32;++Be)st[Be]=0;for(Be=at;Be<_e;++Be)fe[Be]=0;at=fe.length;var ct=Oe?new Uint16Array(at):Ct(at);for(Be=0;Be<at;++Be)st[Ne=fe[Be]]++,Re<Ne&&(Re=Ne),ct[Be]=0;for(st[0]=0,Be=1;Be<=Re;++Be)st[Be+16]=Tt=Tt+st[Be-1]<<1;for(Be=0;Be<at;++Be)Tt=fe[Be],Tt!=0&&(ct[Be]=st[Tt+16]++);var Ut=0;for(Be=0;Be<at;++Be)if(Ut=fe[Be],Ut!=0)for(Tt=we(ct[Be],Re)>>Re-Ut,lt=(1<<Re+4-Ut)-1;lt>=0;--lt)De[Tt|lt<<Ut]=Ut&15|Be<<4;return Re}var Je=Oe?new Uint16Array(512):Ct(512),ht=Oe?new Uint16Array(32):Ct(32);if(!Oe){for(var Yt=0;Yt<512;++Yt)Je[Yt]=0;for(Yt=0;Yt<32;++Yt)ht[Yt]=0}(function(){for(var fe=[],De=0;De<32;De++)fe.push(5);ft(fe,ht,32);var _e=[];for(De=0;De<=143;De++)_e.push(8);for(;De<=255;De++)_e.push(9);for(;De<=279;De++)_e.push(7);for(;De<=287;De++)_e.push(8);ft(_e,Je,288)})();var $e=function(){for(var De=Oe?new Uint8Array(32768):[],_e=0,Re=0;_e<ye.length-1;++_e)for(;Re<ye[_e+1];++Re)De[Re]=_e;for(;Re<32768;++Re)De[Re]=29;var Ne=Oe?new Uint8Array(259):[];for(_e=0,Re=0;_e<Se.length-1;++_e)for(;Re<Se[_e+1];++Re)Ne[Re]=_e;function Be(Tt,at){for(var st=0;st<Tt.length;){var ct=Math.min(65535,Tt.length-st),Ut=st+ct==Tt.length;for(at.write_shift(1,+Ut),at.write_shift(2,ct),at.write_shift(2,~ct&65535);ct-- >0;)at[at.l++]=Tt[st++]}return at.l}function lt(Tt,at){for(var st=0,ct=0,Ut=Oe?new Uint16Array(32768):[];ct<Tt.length;){var ei=Math.min(65535,Tt.length-ct);if(ei<10){for(st=ot(at,st,+(ct+ei==Tt.length)),st&7&&(st+=8-(st&7)),at.l=st/8|0,at.write_shift(2,ei),at.write_shift(2,~ei&65535);ei-- >0;)at[at.l++]=Tt[ct++];st=at.l*8;continue}st=ot(at,st,+(ct+ei==Tt.length)+2);for(var ui=0;ei-- >0;){var Kt=Tt[ct];ui=(ui<<5^Kt)&32767;var ni=-1,zi=0;if((ni=Ut[ui])&&(ni|=ct&-32768,ni>ct&&(ni-=32768),ni<ct))for(;Tt[ni+zi]==Tt[ct+zi]&&zi<250;)++zi;if(zi>2){Kt=Ne[zi],Kt<=22?st=Ae(at,st,He[Kt+1]>>1)-1:(Ae(at,st,3),st+=5,Ae(at,st,He[Kt-23]>>5),st+=3);var Er=Kt<8?0:Kt-4>>2;Er>0&&(Ke(at,st,zi-Se[Kt]),st+=Er),Kt=De[ct-ni],st=Ae(at,st,He[Kt]>>3),st-=3;var _r=Kt<4?0:Kt-2>>1;_r>0&&(Ke(at,st,ct-ni-ye[Kt]),st+=_r);for(var zn=0;zn<zi;++zn)Ut[ui]=ct&32767,ui=(ui<<5^Tt[ct])&32767,++ct;ei-=zi-1}else Kt<=143?Kt=Kt+48:st=xe(at,st,1),st=Ae(at,st,He[Kt]),Ut[ui]=ct&32767,++ct}st=Ae(at,st,0)-1}return at.l=(st+7)/8|0,at.l}return function(at,st){return at.length<8?Be(at,st):lt(at,st)}}();function Me(fe){var De=At(50+Math.floor(fe.length*1.1)),_e=$e(fe,De);return De.slice(0,_e)}var qe=Oe?new Uint16Array(32768):Ct(32768),pt=Oe?new Uint16Array(32768):Ct(32768),vt=Oe?new Uint16Array(128):Ct(128),_i=1,dr=1;function gt(fe,De){var _e=Qe(fe,De)+257;De+=5;var Re=Qe(fe,De)+1;De+=5;var Ne=Ve(fe,De)+4;De+=4;for(var Be=0,lt=Oe?new Uint8Array(19):Ct(19),Tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],at=1,st=Oe?new Uint8Array(8):Ct(8),ct=Oe?new Uint8Array(8):Ct(8),Ut=lt.length,ei=0;ei<Ne;++ei)lt[Z[ei]]=Be=pe(fe,De),at<Be&&(at=Be),st[Be]++,De+=3;var ui=0;for(st[0]=0,ei=1;ei<=at;++ei)ct[ei]=ui=ui+st[ei-1]<<1;for(ei=0;ei<Ut;++ei)(ui=lt[ei])!=0&&(Tt[ei]=ct[ui]++);var Kt=0;for(ei=0;ei<Ut;++ei)if(Kt=lt[ei],Kt!=0){ui=He[Tt[ei]]>>8-Kt;for(var ni=(1<<7-Kt)-1;ni>=0;--ni)vt[ui|ni<<Kt]=Kt&7|ei<<3}var zi=[];for(at=1;zi.length<_e+Re;)switch(ui=vt[Ge(fe,De)],De+=ui&7,ui>>>=3){case 16:for(Be=3+de(fe,De),De+=2,ui=zi[zi.length-1];Be-- >0;)zi.push(ui);break;case 17:for(Be=3+pe(fe,De),De+=3;Be-- >0;)zi.push(0);break;case 18:for(Be=11+Ge(fe,De),De+=7;Be-- >0;)zi.push(0);break;default:zi.push(ui),at<ui&&(at=ui);break}var Er=zi.slice(0,_e),_r=zi.slice(_e);for(ei=_e;ei<286;++ei)Er[ei]=0;for(ei=Re;ei<30;++ei)_r[ei]=0;return _i=ft(Er,qe,286),dr=ft(_r,pt,30),De}function Xt(fe,De){if(fe[0]==3&&!(fe[1]&3))return[Pf(De),2];for(var _e=0,Re=0,Ne=jW(De||1<<18),Be=0,lt=Ne.length>>>0,Tt=0,at=0;(Re&1)==0;){if(Re=pe(fe,_e),_e+=3,Re>>>1)Re>>1==1?(Tt=9,at=5):(_e=gt(fe,_e),Tt=_i,at=dr);else{_e&7&&(_e+=8-(_e&7));var st=fe[_e>>>3]|fe[(_e>>>3)+1]<<8;if(_e+=32,st>0)for(!De&&lt<Be+st&&(Ne=yt(Ne,Be+st),lt=Ne.length);st-- >0;)Ne[Be++]=fe[_e>>>3],_e+=8;continue}for(;;){!De&&lt<Be+32767&&(Ne=yt(Ne,Be+32767),lt=Ne.length);var ct=Ze(fe,_e,Tt),Ut=Re>>>1==1?Je[ct]:qe[ct];if(_e+=Ut&15,Ut>>>=4,(Ut>>>8&255)===0)Ne[Be++]=Ut;else{if(Ut==256)break;Ut-=257;var ei=Ut<8?0:Ut-4>>2;ei>5&&(ei=0);var ui=Be+Se[Ut];ei>0&&(ui+=Ze(fe,_e,ei),_e+=ei),ct=Ze(fe,_e,at),Ut=Re>>>1==1?ht[ct]:pt[ct],_e+=Ut&15,Ut>>>=4;var Kt=Ut<4?0:Ut-2>>1,ni=ye[Ut];for(Kt>0&&(ni+=Ze(fe,_e,Kt),_e+=Kt),!De&&lt<ui&&(Ne=yt(Ne,ui+100),lt=Ne.length);Be<ui;)Ne[Be]=Ne[Be-ni],++Be}}}return De?[Ne,_e+7>>>3]:[Ne.slice(0,Be),_e+7>>>3]}function Xi(fe,De){var _e=fe.slice(fe.l||0),Re=Xt(_e,De);return fe.l+=Re[1],Re[0]}function $s(fe,De){if(fe)typeof console<"u"&&console.error(De);else throw new Error(De)}function Ls(fe,De){var _e=fe;Io(_e,0);var Re=[],Ne=[],Be={FileIndex:Re,FullPaths:Ne};k(Be,{root:De.root});for(var lt=_e.length-4;(_e[lt]!=80||_e[lt+1]!=75||_e[lt+2]!=5||_e[lt+3]!=6)&&lt>=0;)--lt;_e.l=lt+4,_e.l+=4;var Tt=_e.read_shift(2);_e.l+=6;var at=_e.read_shift(4);for(_e.l=at,lt=0;lt<Tt;++lt){_e.l+=20;var st=_e.read_shift(4),ct=_e.read_shift(4),Ut=_e.read_shift(2),ei=_e.read_shift(2),ui=_e.read_shift(2);_e.l+=8;var Kt=_e.read_shift(4),ni=a(_e.slice(_e.l+Ut,_e.l+Ut+ei));_e.l+=Ut+ei+ui;var zi=_e.l;_e.l=Kt+4,yi(_e,st,ct,Be,ni),_e.l=zi}return Be}function yi(fe,De,_e,Re,Ne){fe.l+=2;var Be=fe.read_shift(2),lt=fe.read_shift(2),Tt=o(fe);if(Be&8257)throw new Error("Unsupported ZIP encryption");for(var at=fe.read_shift(4),st=fe.read_shift(4),ct=fe.read_shift(4),Ut=fe.read_shift(2),ei=fe.read_shift(2),ui="",Kt=0;Kt<Ut;++Kt)ui+=String.fromCharCode(fe[fe.l++]);if(ei){var ni=a(fe.slice(fe.l,fe.l+ei));(ni[21589]||{}).mt&&(Tt=ni[21589].mt),((Ne||{})[21589]||{}).mt&&(Tt=Ne[21589].mt)}fe.l+=ei;var zi=fe.slice(fe.l,fe.l+st);switch(lt){case 8:zi=Ee(fe,ct);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+lt)}var Er=!1;Be&8&&(at=fe.read_shift(4),at==134695760&&(at=fe.read_shift(4),Er=!0),st=fe.read_shift(4),ct=fe.read_shift(4)),st!=De&&$s(Er,"Bad compressed size: "+De+" != "+st),ct!=_e&&$s(Er,"Bad uncompressed size: "+_e+" != "+ct),fl(Re,ui,zi,{unsafe:!0,mt:Tt})}function Hr(fe,De){var _e=De||{},Re=[],Ne=[],Be=At(1),lt=_e.compression?8:0,Tt=0,at=0,st=0,ct=0,Ut=0,ei=fe.FullPaths[0],ui=ei,Kt=fe.FileIndex[0],ni=[],zi=0;for(at=1;at<fe.FullPaths.length;++at)if(ui=fe.FullPaths[at].slice(ei.length),Kt=fe.FileIndex[at],!(!Kt.size||!Kt.content||ui=="Sh33tJ5")){var Er=ct,_r=At(ui.length);for(st=0;st<ui.length;++st)_r.write_shift(1,ui.charCodeAt(st)&127);_r=_r.slice(0,_r.l),ni[Ut]=SHe.buf(Kt.content,0);var zn=Kt.content;lt==8&&(zn=Y(zn)),Be=At(30),Be.write_shift(4,67324752),Be.write_shift(2,20),Be.write_shift(2,Tt),Be.write_shift(2,lt),Kt.mt?n(Be,Kt.mt):Be.write_shift(4,0),Be.write_shift(-4,ni[Ut]),Be.write_shift(4,zn.length),Be.write_shift(4,Kt.content.length),Be.write_shift(2,_r.length),Be.write_shift(2,0),ct+=Be.length,Re.push(Be),ct+=_r.length,Re.push(_r),ct+=zn.length,Re.push(zn),Be=At(46),Be.write_shift(4,33639248),Be.write_shift(2,0),Be.write_shift(2,20),Be.write_shift(2,Tt),Be.write_shift(2,lt),Be.write_shift(4,0),Be.write_shift(-4,ni[Ut]),Be.write_shift(4,zn.length),Be.write_shift(4,Kt.content.length),Be.write_shift(2,_r.length),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(4,0),Be.write_shift(4,Er),zi+=Be.l,Ne.push(Be),zi+=_r.length,Ne.push(_r),++Ut}return Be=At(22),Be.write_shift(4,101010256),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,Ut),Be.write_shift(2,Ut),Be.write_shift(4,zi),Be.write_shift(4,ct),Be.write_shift(2,0),So([So(Re),So(Ne),Be])}var bi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ou(fe,De){if(fe.ctype)return fe.ctype;var _e=fe.name||"",Re=_e.match(/\.([^\.]+)$/);return Re&&bi[Re[1]]||De&&(Re=(_e=De).match(/[\.\\]([^\.\\])+$/),Re&&bi[Re[1]])?bi[Re[1]]:"application/octet-stream"}function Pr(fe){for(var De=ww(fe),_e=[],Re=0;Re<De.length;Re+=76)_e.push(De.slice(Re,Re+76));return _e.join(`\r
`)+`\r
`}function ad(fe){var De=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(st){var ct=st.charCodeAt(0).toString(16).toUpperCase();return"="+(ct.length==1?"0"+ct:ct)});De=De.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),De.charAt(0)==`
`&&(De="=0D"+De.slice(1)),De=De.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var _e=[],Re=De.split(`\r
`),Ne=0;Ne<Re.length;++Ne){var Be=Re[Ne];if(Be.length==0){_e.push("");continue}for(var lt=0;lt<Be.length;){var Tt=76,at=Be.slice(lt,lt+Tt);at.charAt(Tt-1)=="="?Tt--:at.charAt(Tt-2)=="="?Tt-=2:at.charAt(Tt-3)=="="&&(Tt-=3),at=Be.slice(lt,lt+Tt),lt+=Tt,lt<Be.length&&(at+="="),_e.push(at)}}return _e.join(`\r
`)}function ld(fe){for(var De=[],_e=0;_e<fe.length;++_e){for(var Re=fe[_e];_e<=fe.length&&Re.charAt(Re.length-1)=="=";)Re=Re.slice(0,Re.length-1)+fe[++_e];De.push(Re)}for(var Ne=0;Ne<De.length;++Ne)De[Ne]=De[Ne].replace(/[=][0-9A-Fa-f]{2}/g,function(Be){return String.fromCharCode(parseInt(Be.slice(1),16))});return _l(De.join(`\r
`))}function cd(fe,De,_e){for(var Re="",Ne="",Be="",lt,Tt=0;Tt<10;++Tt){var at=De[Tt];if(!at||at.match(/^\s*$/))break;var st=at.match(/^(.*?):\s*([^\s].*)$/);if(st)switch(st[1].toLowerCase()){case"content-location":Re=st[2].trim();break;case"content-type":Be=st[2].trim();break;case"content-transfer-encoding":Ne=st[2].trim();break}}switch(++Tt,Ne.toLowerCase()){case"base64":lt=_l(Ll(De.slice(Tt).join("")));break;case"quoted-printable":lt=ld(De.slice(Tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ne)}var ct=fl(fe,Re.slice(_e.length),lt,{unsafe:!0});Be&&(ct.ctype=Be)}function hr(fe,De){if(ue(fe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var _e=De&&De.root||"",Re=(bs&&Buffer.isBuffer(fe)?fe.toString("binary"):ue(fe)).split(`\r
`),Ne=0,Be="";for(Ne=0;Ne<Re.length;++Ne)if(Be=Re[Ne],!!/^Content-Location:/i.test(Be)&&(Be=Be.slice(Be.indexOf("file")),_e||(_e=Be.slice(0,Be.lastIndexOf("/")+1)),Be.slice(0,_e.length)!=_e))for(;_e.length>0&&(_e=_e.slice(0,_e.length-1),_e=_e.slice(0,_e.lastIndexOf("/")+1),Be.slice(0,_e.length)!=_e););var lt=(Re[1]||"").match(/boundary="(.*?)"/);if(!lt)throw new Error("MAD cannot find boundary");var Tt="--"+(lt[1]||""),at=[],st=[],ct={FileIndex:at,FullPaths:st};k(ct);var Ut,ei=0;for(Ne=0;Ne<Re.length;++Ne){var ui=Re[Ne];ui!==Tt&&ui!==Tt+"--"||(ei++&&cd(ct,Re.slice(Ut,Ne),_e),Ut=Ne)}return ct}function vh(fe,De){var _e=De||{},Re=_e.boundary||"SheetJS";Re="------="+Re;for(var Ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Re.slice(2)+'"',"","",""],Be=fe.FullPaths[0],lt=Be,Tt=fe.FileIndex[0],at=1;at<fe.FullPaths.length;++at)if(lt=fe.FullPaths[at].slice(Be.length),Tt=fe.FileIndex[at],!(!Tt.size||!Tt.content||lt=="Sh33tJ5")){lt=lt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(zi){return"_x"+zi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(zi){return"_u"+zi.charCodeAt(0).toString(16)+"_"});for(var st=Tt.content,ct=bs&&Buffer.isBuffer(st)?st.toString("binary"):ue(st),Ut=0,ei=Math.min(1024,ct.length),ui=0,Kt=0;Kt<=ei;++Kt)(ui=ct.charCodeAt(Kt))>=32&&ui<128&&++Ut;var ni=Ut>=ei*4/5;Ne.push(Re),Ne.push("Content-Location: "+(_e.root||"file:///C:/SheetJS/")+lt),Ne.push("Content-Transfer-Encoding: "+(ni?"quoted-printable":"base64")),Ne.push("Content-Type: "+ou(Tt,lt)),Ne.push(""),Ne.push(ni?ad(ct):Pr(ct))}return Ne.push(Re+`--\r
`),Ne.join(`\r
`)}function au(fe){var De={};return k(De,fe),De}function fl(fe,De,_e,Re){var Ne=Re&&Re.unsafe;Ne||k(fe);var Be=!Ne&&ki.find(fe,De);if(!Be){var lt=fe.FullPaths[0];De.slice(0,lt.length)==lt?lt=De:(lt.slice(-1)!="/"&&(lt+="/"),lt=(lt+De).replace("//","/")),Be={name:r(De),type:2},fe.FileIndex.push(Be),fe.FullPaths.push(lt),Ne||ki.utils.cfb_gc(fe)}return Be.content=_e,Be.size=_e?_e.length:0,Re&&(Re.CLSID&&(Be.clsid=Re.CLSID),Re.mt&&(Be.mt=Re.mt),Re.ct&&(Be.ct=Re.ct)),Be}function lu(fe,De){k(fe);var _e=ki.find(fe,De);if(_e){for(var Re=0;Re<fe.FileIndex.length;++Re)if(fe.FileIndex[Re]==_e)return fe.FileIndex.splice(Re,1),fe.FullPaths.splice(Re,1),!0}return!1}function Fn(fe,De,_e){k(fe);var Re=ki.find(fe,De);if(Re){for(var Ne=0;Ne<fe.FileIndex.length;++Ne)if(fe.FileIndex[Ne]==Re)return fe.FileIndex[Ne].name=r(_e),fe.FullPaths[Ne]=_e,!0}return!1}function Bt(fe){N(fe,!0)}return t.find=ee,t.read=O,t.parse=u,t.write=Te,t.writeFile=ie,t.utils={cfb_new:au,cfb_add:fl,cfb_del:lu,cfb_mov:Fn,cfb_gc:Bt,ReadShift:ab,CheckField:CJ,prep_blob:Io,bconcat:So,use_zlib:he,_deflateRaw:Me,_inflateRaw:Xi,consts:H},t}();function xHe(e){return typeof e=="string"?ik(e):Array.isArray(e)?XGe(e):e}function AS(e,t,i){if(typeof Deno<"u"){if(i&&typeof t=="string")switch(i){case"utf8":t=new TextEncoder(i).encode(t);break;case"binary":t=ik(t);break;default:throw new Error("Unsupported encoding "+i)}return Deno.writeFileSync(e,t)}var s=i=="utf8"?Lu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var r=new Blob([xHe(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var n=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(n)},6e4),chrome.downloads.download({url:n,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(n)},6e4),n}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Qf(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function EHe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var i=t.read();return t.close(),i}catch(s){if(!s.message||!s.message.match(/onstruct/))throw s}throw new Error("Cannot access file "+e)}function Pn(e){for(var t=Object.keys(e),i=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&i.push(t[s]);return i}function e6(e,t){for(var i=[],s=Pn(e),r=0;r!==s.length;++r)i[e[s[r]][t]]==null&&(i[e[s[r]][t]]=s[r]);return i}function rk(e){for(var t=[],i=Pn(e),s=0;s!==i.length;++s)t[e[i[s]]]=i[s];return t}function nk(e){for(var t=[],i=Pn(e),s=0;s!==i.length;++s)t[e[i[s]]]=parseInt(i[s],10);return t}function _He(e){for(var t=[],i=Pn(e),s=0;s!==i.length;++s)t[e[i[s]]]==null&&(t[e[i[s]]]=[]),t[e[i[s]]].push(i[s]);return t}var J_=new Date(1899,11,30,0,0,0);function yo(e,t){var i=e.getTime(),s=J_.getTime()+(e.getTimezoneOffset()-J_.getTimezoneOffset())*6e4;return(i-s)/(1440*60*1e3)}var JQ=new Date,THe=J_.getTime()+(JQ.getTimezoneOffset()-J_.getTimezoneOffset())*6e4,t6=JQ.getTimezoneOffset();function ok(e){var t=new Date;return t.setTime(e*24*60*60*1e3+THe),t.getTimezoneOffset()!==t6&&t.setTime(t.getTime()+(t.getTimezoneOffset()-t6)*6e4),t}function AHe(e){var t=0,i=0,s=!1,r=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!r)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var n=1;n!=r.length;++n)if(r[n]){switch(i=1,n>3&&(s=!0),r[n].slice(r[n].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+r[n].slice(r[n].length-1));case"D":i*=24;case"H":i*=60;case"M":if(s)i*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=i*parseInt(r[n],10)}return t}var i6=new Date("2017-02-19T19:06:09.000Z"),ZQ=isNaN(i6.getFullYear())?new Date("2/19/17"):i6,kHe=ZQ.getFullYear()==2017;function qr(e,t){var i=new Date(e);if(kHe)return t>0?i.setTime(i.getTime()+i.getTimezoneOffset()*60*1e3):t<0&&i.setTime(i.getTime()-i.getTimezoneOffset()*60*1e3),i;if(e instanceof Date)return e;if(ZQ.getFullYear()==1917&&!isNaN(i.getFullYear())){var s=i.getFullYear();return e.indexOf(""+s)>-1||i.setFullYear(i.getFullYear()+100),i}var r=e.match(/\d+/g)||["2017","2","19","0","0","0"],n=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return e.indexOf("Z")>-1&&(n=new Date(n.getTime()-n.getTimezoneOffset()*60*1e3)),n}function Gg(e,t){if(bs&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Lu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Lu(GQ(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Lu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Lu(new TextDecoder("utf-16be").decode(e.slice(2)))}var i={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(n){return i[n]||n})}catch{}for(var s=[],r=0;r!=e.length;++r)s.push(String.fromCharCode(e[r]));return s.join("")}function Qr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=Qr(e[i]));return t}function Sn(e,t){for(var i="";i.length<t;)i+=e;return i}function Xc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var i=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return i*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(r,n){return i=-i,n}),!isNaN(t=Number(s)))?t/i:t}var DHe=["january","february","march","april","may","june","july","august","september","october","november","december"];function M0(e){var t=new Date(e),i=new Date(NaN),s=t.getYear(),r=t.getMonth(),n=t.getDate();if(isNaN(n))return i;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&DHe.indexOf(o)==-1)return i}else if(o.match(/[a-z]/))return i;return s<0||s>8099?i:(r>0||n>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?i:t}var RHe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(i,s,r){if(e||typeof s=="string")return i.split(s);for(var n=i.split(s),o=[n[0]],a=1;a<n.length;++a)o.push(r),o.push(n[a]);return o}}();function eJ(e){return e?e.content&&e.type?Gg(e.content,!0):e.data?kC(e.data):e.asNodeBuffer&&bs?kC(e.asNodeBuffer().toString("binary")):e.asBinary?kC(e.asBinary()):e._data&&e._data.getContent?kC(Gg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function tJ(e){if(!e)return null;if(e.data)return UW(e.data);if(e.asNodeBuffer&&bs)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?UW(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function PHe(e){return e&&e.name.slice(-4)===".bin"?tJ(e):eJ(e)}function ec(e,t){for(var i=e.FullPaths||Pn(e.files),s=t.toLowerCase().replace(/[\/]/g,"\\"),r=s.replace(/\\/g,"/"),n=0;n<i.length;++n){var o=i[n].replace(/^Root Entry[\/]/,"").toLowerCase();if(s==o||r==o)return e.files?e.files[i[n]]:e.FileIndex[n]}return null}function QN(e,t){var i=ec(e,t);if(i==null)throw new Error("Cannot find file "+t+" in zip");return i}function Jn(e,t,i){if(!i)return PHe(QN(e,t));if(!t)return null;try{return Jn(e,t)}catch{return null}}function Tl(e,t,i){if(!i)return eJ(QN(e,t));if(!t)return null;try{return Tl(e,t)}catch{return null}}function FHe(e,t,i){return tJ(QN(e,t))}function s6(e){for(var t=e.FullPaths||Pn(e.files),i=[],s=0;s<t.length;++s)t[s].slice(-1)!="/"&&i.push(t[s].replace(/^Root Entry[\/]/,""));return i.sort()}function fs(e,t,i){if(e.FullPaths){if(typeof i=="string"){var s;return bs?s=ph(i):s=qGe(i),ki.utils.cfb_add(e,t,s)}ki.utils.cfb_add(e,t,i)}else e.file(t,i)}function JN(){return ki.utils.cfb_new()}function iJ(e,t){switch(t.type){case"base64":return ki.read(e,{type:"base64"});case"binary":return ki.read(e,{type:"binary"});case"buffer":case"array":return ki.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function RC(e,t){if(e.charAt(0)=="/")return e.slice(1);var i=t.split("/");t.slice(-1)!="/"&&i.pop();for(var s=e.split("/");s.length!==0;){var r=s.shift();r===".."?i.pop():r!=="."&&i.push(r)}return i.join("/")}var Un=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,MHe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,r6=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,LHe=/<[^>]*>/g,ga=Un.match(r6)?r6:LHe,OHe=/<\w*:/,IHe=/<(\/?)\w+:/;function Wi(e,t,i){for(var s={},r=0,n=0;r!==e.length&&!((n=e.charCodeAt(r))===32||n===10||n===13);++r);if(t||(s[0]=e.slice(0,r)),r===e.length)return s;var o=e.match(MHe),a=0,l="",c=0,u="",h="",f=1;if(o)for(c=0;c!=o.length;++c){for(h=o[c],n=0;n!=h.length&&h.charCodeAt(n)!==61;++n);for(u=h.slice(0,n).trim();h.charCodeAt(n+1)==32;)++n;for(f=(r=h.charCodeAt(n+1))==34||r==39?1:0,l=h.slice(n+1+f,h.length-f),a=0;a!=u.length&&u.charCodeAt(a)!==58;++a);if(a===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),s[u]=l,s[u.toLowerCase()]=l;else{var p=(a===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(a+1);if(s[p]&&u.slice(a-3,a)=="ext")continue;s[p]=l,s[p.toLowerCase()]=l}}return s}function nd(e){return e.replace(IHe,"<$1")}var sJ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ZN=rk(sJ),js=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function i(s){var r=s+"",n=r.indexOf("<![CDATA[");if(n==-1)return r.replace(e,function(a,l){return sJ[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(t,function(a,l){return String.fromCharCode(parseInt(l,16))});var o=r.indexOf("]]>");return i(r.slice(0,n))+r.slice(n+9,o)+i(r.slice(o+3))}}(),e2=/[&<>'"]/g,NHe=/[\u0000-\u0008\u000b-\u001f]/g;function wr(e){var t=e+"";return t.replace(e2,function(i){return ZN[i]}).replace(NHe,function(i){return"_x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+"_"})}function n6(e){return wr(e).replace(/ /g,"_x0020_")}var rJ=/[\u0000-\u001f]/g;function t2(e){var t=e+"";return t.replace(e2,function(i){return ZN[i]}).replace(/\n/g,"<br/>").replace(rJ,function(i){return"&#x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+";"})}function VHe(e){var t=e+"";return t.replace(e2,function(i){return ZN[i]}).replace(rJ,function(i){return"&#x"+i.charCodeAt(0).toString(16).toUpperCase()+";"})}var o6=function(){var e=/&#(\d+);/g;function t(i,s){return String.fromCharCode(parseInt(s,10))}return function(s){return s.replace(e,t)}}();function BHe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function zr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function bP(e){for(var t="",i=0,s=0,r=0,n=0,o=0,a=0;i<e.length;){if(s=e.charCodeAt(i++),s<128){t+=String.fromCharCode(s);continue}if(r=e.charCodeAt(i++),s>191&&s<224){o=(s&31)<<6,o|=r&63,t+=String.fromCharCode(o);continue}if(n=e.charCodeAt(i++),s<240){t+=String.fromCharCode((s&15)<<12|(r&63)<<6|n&63);continue}o=e.charCodeAt(i++),a=((s&7)<<18|(r&63)<<12|(n&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function a6(e){var t=Pf(2*e.length),i,s,r=1,n=0,o=0,a;for(s=0;s<e.length;s+=r)r=1,(a=e.charCodeAt(s))<128?i=a:a<224?(i=(a&31)*64+(e.charCodeAt(s+1)&63),r=2):a<240?(i=(a&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),r=3):(r=4,i=(a&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),i-=65536,o=55296+(i>>>10&1023),i=56320+(i&1023)),o!==0&&(t[n++]=o&255,t[n++]=o>>>8,o=0),t[n++]=i%256,t[n++]=i>>>8;return t.slice(0,n).toString("ucs2")}function l6(e){return ph(e,"binary").toString("utf8")}var A1="foo bar baz",Dr=bs&&(l6(A1)==bP(A1)&&l6||a6(A1)==bP(A1)&&a6)||bP,Lu=bs?function(e){return ph(e,"utf8").toString("binary")}:function(e){for(var t=[],i=0,s=0,r=0;i<e.length;)switch(s=e.charCodeAt(i++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,r=e.charCodeAt(i++)-56320+(s<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},xw=function(){var e={};return function(i,s){var r=i+"|"+(s||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+i+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+i+">",s||"")}}(),nJ=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(i){for(var s=i.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<e.length;++r)s=s.replace(e[r][0],e[r][1]);return s}}(),GHe=function(){var e={};return function(i){return e[i]!==void 0?e[i]:e[i]=new RegExp("<(?:vt:)?"+i+">([\\s\\S]*?)</(?:vt:)?"+i+">","g")}}(),HHe=/<\/?(?:vt:)?variant>/g,$He=/<(?:vt:)([^>]*)>([\s\S]*)</;function c6(e,t){var i=Wi(e),s=e.match(GHe(i.baseType))||[],r=[];if(s.length!=i.size){if(t.WTF)throw new Error("unexpected vector length "+s.length+" != "+i.size);return r}return s.forEach(function(n){var o=n.replace(HHe,"").match($He);o&&r.push({v:Dr(o[2]),t:o[1]})}),r}var oJ=/(^\s|\s$|\n)/;function Bo(e,t){return"<"+e+(t.match(oJ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ew(e){return Pn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Jt(e,t,i){return"<"+e+(i!=null?Ew(i):"")+(t!=null?(t.match(oJ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function jM(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(i){if(t)throw i}return""}function WHe(e,t){switch(typeof e){case"string":var i=Jt("vt:lpwstr",wr(e));return i=i.replace(/&quot;/g,"_x0022_"),i;case"number":return Jt((e|0)==e?"vt:i4":"vt:r8",wr(String(e)));case"boolean":return Jt("vt:bool",e?"true":"false")}if(e instanceof Date)return Jt("vt:filetime",jM(e));throw new Error("Unable to serialize "+e)}function i2(e){if(bs&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Dr(Qf(YN(e)));throw new Error("Bad input format: expected Buffer or string")}var _w=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,go={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},_m=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Sl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function UHe(e,t){for(var i=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),r=e[t+6]&15,n=5;n>=0;--n)r=r*256+e[t+n];return s==2047?r==0?i*(1/0):NaN:(s==0?s=-1022:(s-=1023,r+=Math.pow(2,52)),i*Math.pow(2,s-52)*r)}function zHe(e,t,i){var s=(t<0||1/t==-1/0?1:0)<<7,r=0,n=0,o=s?-t:t;isFinite(o)?o==0?r=n=0:(r=Math.floor(Math.log(o)/Math.LN2),n=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(n)||n<Math.pow(2,52))?r=-1022:(n-=Math.pow(2,52),r+=1023)):(r=2047,n=isNaN(t)?26985:0);for(var a=0;a<=5;++a,n/=256)e[i+a]=n&255;e[i+6]=(r&15)<<4|n&15,e[i+7]=r>>4|s}var u6=function(e){for(var t=[],i=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var r=0,n=e[0][s].length;r<n;r+=i)t.push.apply(t,e[0][s].slice(r,r+i));return t},d6=bs?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ph(t)})):u6(e)}:u6,h6=function(e,t,i){for(var s=[],r=t;r<i;r+=2)s.push(String.fromCharCode(Bd(e,r)));return s.join("").replace(Da,"")},s2=bs?function(e,t,i){return Buffer.isBuffer(e)?e.toString("utf16le",t,i).replace(Da,""):h6(e,t,i)}:h6,f6=function(e,t,i){for(var s=[],r=t;r<t+i;++r)s.push(("0"+e[r].toString(16)).slice(-2));return s.join("")},aJ=bs?function(e,t,i){return Buffer.isBuffer(e)?e.toString("hex",t,t+i):f6(e,t,i)}:f6,p6=function(e,t,i){for(var s=[],r=t;r<i;r++)s.push(String.fromCharCode(xv(e,r)));return s.join("")},kS=bs?function(t,i,s){return Buffer.isBuffer(t)?t.toString("utf8",i,s):p6(t,i,s)}:p6,lJ=function(e,t){var i=xl(e,t);return i>0?kS(e,t+4,t+4+i-1):""},cJ=lJ,uJ=function(e,t){var i=xl(e,t);return i>0?kS(e,t+4,t+4+i-1):""},dJ=uJ,hJ=function(e,t){var i=2*xl(e,t);return i>0?kS(e,t+4,t+4+i-1):""},fJ=hJ,pJ=function(t,i){var s=xl(t,i);return s>0?s2(t,i+4,i+4+s):""},gJ=pJ,mJ=function(e,t){var i=xl(e,t);return i>0?kS(e,t+4,t+4+i):""},vJ=mJ,yJ=function(e,t){return UHe(e,t)},Z_=yJ,r2=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};bs&&(cJ=function(t,i){if(!Buffer.isBuffer(t))return lJ(t,i);var s=t.readUInt32LE(i);return s>0?t.toString("utf8",i+4,i+4+s-1):""},dJ=function(t,i){if(!Buffer.isBuffer(t))return uJ(t,i);var s=t.readUInt32LE(i);return s>0?t.toString("utf8",i+4,i+4+s-1):""},fJ=function(t,i){if(!Buffer.isBuffer(t))return hJ(t,i);var s=2*t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+s-1)},gJ=function(t,i){if(!Buffer.isBuffer(t))return pJ(t,i);var s=t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+s)},vJ=function(t,i){if(!Buffer.isBuffer(t))return mJ(t,i);var s=t.readUInt32LE(i);return t.toString("utf8",i+4,i+4+s)},Z_=function(t,i){return Buffer.isBuffer(t)?t.readDoubleLE(i):yJ(t,i)},r2=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var xv=function(e,t){return e[t]},Bd=function(e,t){return e[t+1]*256+e[t]},jHe=function(e,t){var i=e[t+1]*256+e[t];return i<32768?i:(65535-i+1)*-1},xl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Np=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},KHe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function ab(e,t){var i="",s,r,n=[],o,a,l,c;switch(t){case"dbcs":if(c=this.l,bs&&Buffer.isBuffer(this))i=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)i+=String.fromCharCode(Bd(this,c)),c+=2;e*=2;break;case"utf8":i=kS(this,this.l,this.l+e);break;case"utf16le":e*=2,i=s2(this,this.l,this.l+e);break;case"wstr":return ab.call(this,e,"dbcs");case"lpstr-ansi":i=cJ(this,this.l),e=4+xl(this,this.l);break;case"lpstr-cp":i=dJ(this,this.l),e=4+xl(this,this.l);break;case"lpwstr":i=fJ(this,this.l),e=4+2*xl(this,this.l);break;case"lpp4":e=4+xl(this,this.l),i=gJ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+xl(this,this.l),i=vJ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,i="";(o=xv(this,this.l+e++))!==0;)n.push(T1(o));i=n.join("");break;case"_wstr":for(e=0,i="";(o=Bd(this,this.l+e))!==0;)n.push(T1(o)),e+=2;e+=2,i=n.join("");break;case"dbcs-cont":for(i="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=xv(this,c),this.l=c+1,a=ab.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),n.join("")+a;n.push(T1(Bd(this,c))),c+=2}i=n.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(i="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=xv(this,c),this.l=c+1,a=ab.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),n.join("")+a;n.push(T1(xv(this,c))),c+=1}i=n.join("");break;default:switch(e){case 1:return s=xv(this,this.l),this.l++,s;case 2:return s=(t==="i"?jHe:Bd)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(s=(e>0?Np:KHe)(this,this.l),this.l+=4,s):(r=xl(this,this.l),this.l+=4,r);case 8:case-8:if(t==="f")return e==8?r=Z_(this,this.l):r=Z_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:i=aJ(this,this.l,e);break}}return this.l+=e,i}var YHe=function(e,t,i){e[i]=t&255,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24&255},XHe=function(e,t,i){e[i]=t&255,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255},qHe=function(e,t,i){e[i]=t&255,e[i+1]=t>>>8&255};function QHe(e,t,i){var s=0,r=0;if(i==="dbcs"){for(r=0;r!=t.length;++r)qHe(this,t.charCodeAt(r),this.l+2*r);s=2*t.length}else if(i==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=t.charCodeAt(r)&255;s=t.length}else if(i==="hex"){for(;r<e;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}else if(i==="utf16le"){var n=Math.min(this.l+e,this.length);for(r=0;r<Math.min(t.length,e);++r){var o=t.charCodeAt(r);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<n;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,YHe(this,t,this.l);break;case 8:if(s=8,i==="f"){zHe(this,t,this.l);break}case 16:break;case-4:s=4,XHe(this,t,this.l);break}return this.l+=s,this}function CJ(e,t){var i=aJ(this,this.l,e.length>>1);if(i!==e)throw new Error(t+"Expected "+e+" saw "+i);this.l+=e.length>>1}function Io(e,t){e.l=t,e.read_shift=ab,e.chk=CJ,e.write_shift=QHe}function fa(e,t){e.l+=t}function At(e){var t=Pf(e);return Io(t,0),t}function gh(e,t,i){if(e){var s,r,n;Io(e,e.l||0);for(var o=e.length,a=0,l=0;e.l<o;){a=e.read_shift(1),a&128&&(a=(a&127)+((e.read_shift(1)&127)<<7));var c=Pw[a]||Pw[65535];for(s=e.read_shift(1),n=s&127,r=1;r<4&&s&128;++r)n+=((s=e.read_shift(1))&127)<<7*r;l=e.l+n;var u=c.f&&c.f(e,n,i);if(e.l=l,t(u,c,a))return}}}function rl(){var e=[],t=bs?256:2048,i=function(c){var u=At(c);return Io(u,0),u},s=i(t),r=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},n=function(c){return s&&c<s.length-s.l?s:(r(),s=i(Math.max(c+1,t)))},o=function(){return r(),So(e)},a=function(c){r(),s=c,s.l==null&&(s.l=s.length),n(t)};return{next:n,push:a,end:o,_bufs:e}}function Vt(e,t,i,s){var r=+t,n;if(!isNaN(r)){s||(s=Pw[r].p||(i||[]).length||0),n=1+(r>=128?1:0)+1,s>=128&&++n,s>=16384&&++n,s>=2097152&&++n;var o=e.next(n);r<=127?o.write_shift(1,r):(o.write_shift(1,(r&127)+128),o.write_shift(1,r>>7));for(var a=0;a!=4;++a)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&r2(i)&&e.push(i)}}function lb(e,t,i){var s=Qr(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!i||i.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function g6(e,t,i){var s=Qr(e);return s.s=lb(s.s,t.s,i),s.e=lb(s.e,t.s,i),s}function cb(e,t){if(e.cRel&&e.c<0)for(e=Qr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Qr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var i=Vi(e);return!e.cRel&&e.cRel!=null&&(i=e4e(i)),!e.rRel&&e.rRel!=null&&(i=JHe(i)),i}function wP(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+gn(e.s.c)+":"+(e.e.cRel?"":"$")+gn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+$n(e.s.r)+":"+(e.e.rRel?"":"$")+$n(e.e.r):cb(e.s,t.biff)+":"+cb(e.e,t.biff)}function n2(e){return parseInt(ZHe(e),10)-1}function $n(e){return""+(e+1)}function JHe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ZHe(e){return e.replace(/\$(\d+)$/,"$1")}function o2(e){for(var t=t4e(e),i=0,s=0;s!==t.length;++s)i=26*i+t.charCodeAt(s)-64;return i-1}function gn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function e4e(e){return e.replace(/^([A-Z])/,"$$$1")}function t4e(e){return e.replace(/^\$([A-Z])/,"$1")}function i4e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function mn(e){for(var t=0,i=0,s=0;s<e.length;++s){var r=e.charCodeAt(s);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(i=26*i+(r-64))}return{c:i-1,r:t-1}}function Vi(e){for(var t=e.c+1,i="";t;t=(t-1)/26|0)i=String.fromCharCode((t-1)%26+65)+i;return i+(e.r+1)}function ll(e){var t=e.indexOf(":");return t==-1?{s:mn(e),e:mn(e)}:{s:mn(e.slice(0,t)),e:mn(e.slice(t+1))}}function us(e,t){return typeof t>"u"||typeof t=="number"?us(e.s,e.e):(typeof e!="string"&&(e=Vi(e)),typeof t!="string"&&(t=Vi(t)),e==t?e:e+":"+t)}function Ks(e){var t={s:{c:0,r:0},e:{c:0,r:0}},i=0,s=0,r=0,n=e.length;for(i=0;s<n&&!((r=e.charCodeAt(s)-64)<1||r>26);++s)i=26*i+r;for(t.s.c=--i,i=0;s<n&&!((r=e.charCodeAt(s)-48)<0||r>9);++s)i=10*i+r;if(t.s.r=--i,s===n||r!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,i=0;s!=n&&!((r=e.charCodeAt(s)-64)<1||r>26);++s)i=26*i+r;for(t.e.c=--i,i=0;s!=n&&!((r=e.charCodeAt(s)-48)<0||r>9);++s)i=10*i+r;return t.e.r=--i,t}function m6(e,t){var i=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=vc(e.z,i?yo(t):t)}catch{}try{return e.w=vc((e.XF||{}).numFmtId||(i?14:0),i?yo(t):t)}catch{return""+t}}function Jd(e,t,i){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&i&&i.dateNF&&(e.z=i.dateNF),e.t=="e"?mh[e.v]||e.v:t==null?m6(e,e.v):m6(e,t))}function Jf(e,t){var i=t&&t.sheet?t.sheet:"Sheet1",s={};return s[i]=e,{SheetNames:[i],Sheets:s}}function bJ(e,t,i){var s=i||{},r=e?Array.isArray(e):s.dense,n=e||(r?[]:{}),o=0,a=0;if(n&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var l=typeof s.origin=="string"?mn(s.origin):s.origin;o=l.r,a=l.c}n["!ref"]||(n["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(n["!ref"]){var u=Ks(n["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),o==-1&&(c.e.r=o=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[h].length;++f)if(!(typeof t[h][f]>"u")){var p={v:t[h][f]},y=o+h,v=a+f;if(c.s.r>y&&(c.s.r=y),c.s.c>v&&(c.s.c=v),c.e.r<y&&(c.e.r=y),c.e.c<v&&(c.e.c=v),t[h][f]&&typeof t[h][f]=="object"&&!Array.isArray(t[h][f])&&!(t[h][f]instanceof Date))p=t[h][f];else if(Array.isArray(p.v)&&(p.f=t[h][f][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(s.nullError)p.t="e",p.v=0;else if(s.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=s.dateNF||Li[14],s.cellDates?(p.t="d",p.w=vc(p.z,yo(p.v))):(p.t="n",p.v=yo(p.v),p.w=vc(p.z,p.v))):p.t="s";if(r)n[y]||(n[y]=[]),n[y][v]&&n[y][v].z&&(p.z=n[y][v].z),n[y][v]=p;else{var C=Vi({c:v,r:y});n[C]&&n[C].z&&(p.z=n[C].z),n[C]=p}}}return c.s.c<1e7&&(n["!ref"]=us(c)),n}function py(e,t){return bJ(null,e,t)}function s4e(e){return e.read_shift(4,"i")}function qc(e,t){return t||(t=At(4)),t.write_shift(4,e),t}function ua(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Eo(e,t){var i=!1;return t==null&&(i=!0,t=At(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),i?t.slice(0,t.l):t}function r4e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function n4e(e,t){return t||(t=At(4)),t.write_shift(2,0),t.write_shift(2,0),t}function a2(e,t){var i=e.l,s=e.read_shift(1),r=ua(e),n=[],o={t:r,h:r};if((s&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)n.push(r4e(e));o.r=n}else o.r=[{ich:0,ifnt:0}];return e.l=i+t,o}function o4e(e,t){var i=!1;return t==null&&(i=!0,t=At(15+4*e.t.length)),t.write_shift(1,0),Eo(e.t,t),i?t.slice(0,t.l):t}var a4e=a2;function l4e(e,t){var i=!1;return t==null&&(i=!0,t=At(23+4*e.t.length)),t.write_shift(1,1),Eo(e.t,t),t.write_shift(4,1),n4e({},t),i?t.slice(0,t.l):t}function wc(e){var t=e.read_shift(4),i=e.read_shift(2);return i+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:i}}function Tm(e,t){return t==null&&(t=At(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Am(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function km(e,t){return t==null&&(t=At(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var c4e=ua,wJ=Eo;function l2(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function eT(e,t){var i=!1;return t==null&&(i=!0,t=At(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),i?t.slice(0,t.l):t}var u4e=ua,KM=l2,c2=eT;function u2(e){var t=e.slice(e.l,e.l+4),i=t[0]&1,s=t[0]&2;e.l+=4;var r=s===0?Z_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Np(t,0)>>2;return i?r/100:r}function SJ(e,t){t==null&&(t=At(4));var i=0,s=0,r=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?s=1:r==(r|0)&&r>=-536870912&&r<1<<29&&(s=1,i=1),s)t.write_shift(-4,((i?r:e)<<2)+(i+2));else throw new Error("unsupported RkNumber "+e)}function xJ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function d4e(e,t){return t||(t=At(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Dm=xJ,gy=d4e;function na(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Hg(e,t){return(t||At(8)).write_shift(8,e,"f")}function h4e(e){var t={},i=e.read_shift(1),s=i>>>1,r=e.read_shift(1),n=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=r;var c=ug[r];c&&(t.rgb=Aw(c));break;case 2:t.rgb=Aw([o,a,l]);break;case 3:t.theme=r;break}return n!=0&&(t.tint=n>0?n/32767:n/32768),t}function tT(e,t){if(t||(t=At(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var i=e.tint||0;if(i>0?i*=32767:i<0&&(i*=32768),t.write_shift(2,i),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function f4e(e){var t=e.read_shift(1);e.l++;var i={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return i}function p4e(e,t){t||(t=At(2));var i=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,i),t.write_shift(1,0),t}function EJ(e,t){var i={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},s=e.read_shift(4);switch(s){case 0:return"";case 4294967295:case 4294967294:return i[e.read_shift(4)]||""}if(s>400)throw new Error("Unsupported Clipboard: "+s.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function g4e(e){return EJ(e,1)}function m4e(e){return EJ(e,2)}var d2=2,Ua=3,k1=11,v6=12,iT=19,D1=64,v4e=65,y4e=71,C4e=4108,b4e=4126,bo=80,_J=81,w4e=[bo,_J],YM={1:{n:"CodePage",t:d2},2:{n:"Category",t:bo},3:{n:"PresentationFormat",t:bo},4:{n:"ByteCount",t:Ua},5:{n:"LineCount",t:Ua},6:{n:"ParagraphCount",t:Ua},7:{n:"SlideCount",t:Ua},8:{n:"NoteCount",t:Ua},9:{n:"HiddenCount",t:Ua},10:{n:"MultimediaClipCount",t:Ua},11:{n:"ScaleCrop",t:k1},12:{n:"HeadingPairs",t:C4e},13:{n:"TitlesOfParts",t:b4e},14:{n:"Manager",t:bo},15:{n:"Company",t:bo},16:{n:"LinksUpToDate",t:k1},17:{n:"CharacterCount",t:Ua},19:{n:"SharedDoc",t:k1},22:{n:"HyperlinksChanged",t:k1},23:{n:"AppVersion",t:Ua,p:"version"},24:{n:"DigSig",t:v4e},26:{n:"ContentType",t:bo},27:{n:"ContentStatus",t:bo},28:{n:"Language",t:bo},29:{n:"Version",t:bo},255:{},2147483648:{n:"Locale",t:iT},2147483651:{n:"Behavior",t:iT},1919054434:{}},XM={1:{n:"CodePage",t:d2},2:{n:"Title",t:bo},3:{n:"Subject",t:bo},4:{n:"Author",t:bo},5:{n:"Keywords",t:bo},6:{n:"Comments",t:bo},7:{n:"Template",t:bo},8:{n:"LastAuthor",t:bo},9:{n:"RevNumber",t:bo},10:{n:"EditTime",t:D1},11:{n:"LastPrinted",t:D1},12:{n:"CreatedDate",t:D1},13:{n:"ModifiedDate",t:D1},14:{n:"PageCount",t:Ua},15:{n:"WordCount",t:Ua},16:{n:"CharCount",t:Ua},17:{n:"Thumbnail",t:y4e},18:{n:"Application",t:bo},19:{n:"DocSecurity",t:Ua},255:{},2147483648:{n:"Locale",t:iT},2147483651:{n:"Behavior",t:iT},1919054434:{}},y6={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},S4e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function x4e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var E4e=x4e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ug=Qr(E4e),mh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},TJ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},qM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},R1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function h2(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _4e(e){var t=h2();if(!e||!e.match)return t;var i={};if((e.match(ga)||[]).forEach(function(s){var r=Wi(s);switch(r[0].replace(OHe,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":i[r.Extension]=r.ContentType;break;case"<Override":t[qM[r.ContentType]]!==void 0&&t[qM[r.ContentType]].push(r.PartName);break}}),t.xmlns!==go.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=i,delete t.calcchains,t}function AJ(e,t){var i=_He(qM),s=[],r;s[s.length]=Un,s[s.length]=Jt("Types",null,{xmlns:go.CT,"xmlns:xsd":go.xsd,"xmlns:xsi":go.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Jt("Default",null,{Extension:l[0],ContentType:l[1]})}));var n=function(l){e[l]&&e[l].length>0&&(r=e[l][0],s[s.length]=Jt("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:R1[l][t.bookType]||R1[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(c){s[s.length]=Jt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:R1[l][t.bookType]||R1[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(c){s[s.length]=Jt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:i[l][0]})})};return n("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(n),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var Es={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Tw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ub(e,t){var i={"!id":{}};if(!e)return i;t.charAt(0)!=="/"&&(t="/"+t);var s={};return(e.match(ga)||[]).forEach(function(r){var n=Wi(r);if(n[0]==="<Relationship"){var o={};o.Type=n.Type,o.Target=n.Target,o.Id=n.Id,n.TargetMode&&(o.TargetMode=n.TargetMode);var a=n.TargetMode==="External"?n.Target:RC(n.Target,t);i[a]=o,s[n.Id]=o}}),i["!id"]=s,i}function Uv(e){var t=[Un,Jt("Relationships",null,{xmlns:go.RELS})];return Pn(e["!id"]).forEach(function(i){t[t.length]=Jt("Relationship",null,e["!id"][i])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Cr(e,t,i,s,r,n){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,r.Id="rId"+t,r.Type=s,r.Target=i,[Es.HLINK,Es.XPATH,Es.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,t}var T4e="application/vnd.oasis.opendocument.spreadsheet";function A4e(e,t){for(var i=i2(e),s,r;s=_w.exec(i);)switch(s[3]){case"manifest":break;case"file-entry":if(r=Wi(s[0],!1),r.path=="/"&&r.type!==T4e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw s}}function k4e(e){var t=[Un];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var i=0;i<e.length;++i)t.push('  <manifest:file-entry manifest:full-path="'+e[i][0]+'" manifest:media-type="'+e[i][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function C6(e,t,i){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(i||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function D4e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function R4e(e){var t=[Un];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var i=0;i!=e.length;++i)t.push(C6(e[i][0],e[i][1])),t.push(D4e("",e[i][0]));return t.push(C6("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function kJ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Y_.version+"</meta:generator></office:meta></office:document-meta>"}var hc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],P4e=function(){for(var e=new Array(hc.length),t=0;t<hc.length;++t){var i=hc[t],s="(?:"+i[0].slice(0,i[0].indexOf(":"))+":)"+i[0].slice(i[0].indexOf(":")+1);e[t]=new RegExp("<"+s+"[^>]*>([\\s\\S]*?)</"+s+">")}return e}();function DJ(e){var t={};e=Dr(e);for(var i=0;i<hc.length;++i){var s=hc[i],r=e.match(P4e[i]);r!=null&&r.length>0&&(t[s[1]]=js(r[1])),s[2]==="date"&&t[s[1]]&&(t[s[1]]=qr(t[s[1]]))}return t}function SP(e,t,i,s,r){r[e]!=null||t==null||t===""||(r[e]=t,t=wr(t),s[s.length]=i?Jt(e,t,i):Bo(e,t))}function RJ(e,t){var i=t||{},s=[Un,Jt("cp:coreProperties",null,{"xmlns:cp":go.CORE_PROPS,"xmlns:dc":go.dc,"xmlns:dcterms":go.dcterms,"xmlns:dcmitype":go.dcmitype,"xmlns:xsi":go.xsi})],r={};if(!e&&!i.Props)return s.join("");e&&(e.CreatedDate!=null&&SP("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:jM(e.CreatedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},s,r),e.ModifiedDate!=null&&SP("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:jM(e.ModifiedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},s,r));for(var n=0;n!=hc.length;++n){var o=hc[n],a=i.Props&&i.Props[o[1]]!=null?i.Props[o[1]]:e?e[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&SP(o[0],a,null,s,r)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var dg=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PJ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function FJ(e,t,i,s){var r=[];if(typeof e=="string")r=c6(e,s);else for(var n=0;n<e.length;++n)r=r.concat(e[n].map(function(u){return{v:u}}));var o=typeof t=="string"?c6(t,s).map(function(u){return u.v}):t,a=0,l=0;if(o.length>0)for(var c=0;c!==r.length;c+=2){switch(l=+r[c+1].v,r[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":i.Worksheets=l,i.SheetNames=o.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":i.NamedRanges=l,i.DefinedNames=o.slice(a,a+l);break;case"Charts":case"Diagramme":i.Chartsheets=l,i.ChartNames=o.slice(a,a+l);break}a+=l}}function F4e(e,t,i){var s={};return t||(t={}),e=Dr(e),dg.forEach(function(r){var n=(e.match(xw(r[0]))||[])[1];switch(r[2]){case"string":n&&(t[r[1]]=js(n));break;case"bool":t[r[1]]=n==="true";break;case"raw":var o=e.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));o&&o.length>0&&(s[r[1]]=o[1]);break}}),s.HeadingPairs&&s.TitlesOfParts&&FJ(s.HeadingPairs,s.TitlesOfParts,t,i),t}function MJ(e){var t=[],i=Jt;return e||(e={}),e.Application="SheetJS",t[t.length]=Un,t[t.length]=Jt("Properties",null,{xmlns:go.EXT_PROPS,"xmlns:vt":go.vt}),dg.forEach(function(s){if(e[s[1]]!==void 0){var r;switch(s[2]){case"string":r=wr(String(e[s[1]]));break;case"bool":r=e[s[1]]?"true":"false";break}r!==void 0&&(t[t.length]=i(s[0],r))}}),t[t.length]=i("HeadingPairs",i("vt:vector",i("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+i("vt:variant",i("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=i("TitlesOfParts",i("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+wr(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var M4e=/<[^>]+>[^<]*/g;function L4e(e,t){var i={},s="",r=e.match(M4e);if(r)for(var n=0;n!=r.length;++n){var o=r[n],a=Wi(o);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":s=js(a.name);break;case"</property>":s=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":i[s]=js(u);break;case"bool":i[s]=zr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":i[s]=parseInt(u,10);break;case"r4":case"r8":case"decimal":i[s]=parseFloat(u);break;case"filetime":case"date":i[s]=qr(u);break;case"cy":case"error":i[s]=js(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return i}function LJ(e){var t=[Un,Jt("Properties",null,{xmlns:go.CUST_PROPS,"xmlns:vt":go.vt})];if(!e)return t.join("");var i=1;return Pn(e).forEach(function(r){++i,t[t.length]=Jt("property",WHe(e[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:i,name:wr(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var QM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},xP;function O4e(e,t,i){xP||(xP=rk(QM)),t=xP[t]||t,e[t]=i}function I4e(e,t){var i=[];return Pn(QM).map(function(s){for(var r=0;r<hc.length;++r)if(hc[r][1]==s)return hc[r];for(r=0;r<dg.length;++r)if(dg[r][1]==s)return dg[r];throw s}).forEach(function(s){if(e[s[1]]!=null){var r=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),i.push(Bo(QM[s[1]]||s[1],r))}}),Jt("DocumentProperties",i.join(""),{xmlns:Sl.o})}function N4e(e,t){var i=["Worksheets","SheetNames"],s="CustomDocumentProperties",r=[];return e&&Pn(e).forEach(function(n){if(Object.prototype.hasOwnProperty.call(e,n)){for(var o=0;o<hc.length;++o)if(n==hc[o][1])return;for(o=0;o<dg.length;++o)if(n==dg[o][1])return;for(o=0;o<i.length;++o)if(n==i[o])return;var a=e[n],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),r.push(Jt(n6(n),a,{"dt:dt":l}))}}),t&&Pn(t).forEach(function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&!(e&&Object.prototype.hasOwnProperty.call(e,n))){var o=t[n],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),r.push(Jt(n6(n),o,{"dt:dt":a}))}}),"<"+s+' xmlns="'+Sl.o+'">'+r.join("")+"</"+s+">"}function f2(e){var t=e.read_shift(4),i=e.read_shift(4);return new Date((i/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function V4e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,i=t.getTime()/1e3+11644473600,s=i%Math.pow(2,32),r=(i-s)/Math.pow(2,32);s*=1e7,r*=1e7;var n=s/Math.pow(2,32)|0;n>0&&(s=s%Math.pow(2,32),r+=n);var o=At(8);return o.write_shift(4,s),o.write_shift(4,r),o}function OJ(e,t,i){var s=e.l,r=e.read_shift(0,"lpstr-cp");if(i)for(;e.l-s&3;)++e.l;return r}function IJ(e,t,i){var s=e.read_shift(0,"lpwstr");return s}function NJ(e,t,i){return t===31?IJ(e):OJ(e,t,i)}function JM(e,t,i){return NJ(e,t,i===!1?0:4)}function B4e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return NJ(e,t,0)}function G4e(e){for(var t=e.read_shift(4),i=[],s=0;s!=t;++s){var r=e.l;i[s]=e.read_shift(0,"lpwstr").replace(Da,""),e.l-r&2&&(e.l+=2)}return i}function H4e(e){for(var t=e.read_shift(4),i=[],s=0;s!=t;++s)i[s]=e.read_shift(0,"lpstr-cp").replace(Da,"");return i}function $4e(e){var t=e.l,i=sT(e,_J);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var s=sT(e,Ua);return[i,s]}function W4e(e){for(var t=e.read_shift(4),i=[],s=0;s<t/2;++s)i.push($4e(e));return i}function b6(e,t){for(var i=e.read_shift(4),s={},r=0;r!=i;++r){var n=e.read_shift(4),o=e.read_shift(4);s[n]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Da,"").replace(DC,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),s}function VJ(e){var t=e.read_shift(4),i=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),i}function U4e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function sT(e,t,i){var s=e.read_shift(2),r,n=i||{};if(e.l+=2,t!==v6&&s!==t&&w4e.indexOf(t)===-1&&!((t&65534)==4126&&(s&65534)==4126))throw new Error("Expected type "+t+" saw "+s);switch(t===v6?s:t){case 2:return r=e.read_shift(2,"i"),n.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i"),r;case 11:return e.read_shift(4)!==0;case 19:return r=e.read_shift(4),r;case 30:return OJ(e,s,4).replace(Da,"");case 31:return IJ(e);case 64:return f2(e);case 65:return VJ(e);case 71:return U4e(e);case 80:return JM(e,s,!n.raw).replace(Da,"");case 81:return B4e(e,s).replace(Da,"");case 4108:return W4e(e);case 4126:case 4127:return s==4127?G4e(e):H4e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}}function w6(e,t){var i=At(4),s=At(4);switch(i.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=At(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=V4e(t);break;case 31:case 80:for(s=At(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return So([i,s])}function S6(e,t){var i=e.l,s=e.read_shift(4),r=e.read_shift(4),n=[],o=0,a=0,l=-1,c={};for(o=0;o!=r;++o){var u=e.read_shift(4),h=e.read_shift(4);n[o]=[u,h+i]}n.sort(function(_,x){return _[1]-x[1]});var f={};for(o=0;o!=r;++o){if(e.l!==n[o][1]){var p=!0;if(o>0&&t)switch(t[n[o-1][0]].t){case 2:e.l+2===n[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=n[o][1]&&(e.l=n[o][1],p=!1);break;case 4108:e.l<=n[o][1]&&(e.l=n[o][1],p=!1);break}if((!t||o==0)&&e.l<=n[o][1]&&(p=!1,e.l=n[o][1]),p)throw new Error("Read Error: Expected address "+n[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[n[o][0]];if(f[y.n]=sT(e,y.t,{raw:!0}),y.p==="version"&&(f[y.n]=String(f[y.n]>>16)+"."+("0000"+String(f[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(f[y.n]){case 0:f[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Wc(a=f[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[y.n])}}else if(n[o][0]===1){if(a=f.CodePage=sT(e,d2),Wc(a),l!==-1){var v=e.l;e.l=n[l][1],c=b6(e,a),e.l=v}}else if(n[o][0]===0){if(a===0){l=o,e.l=n[o+1][1];continue}c=b6(e,a)}else{var C=c[n[o][0]],S;switch(e[e.l]){case 65:e.l+=4,S=VJ(e);break;case 30:e.l+=4,S=JM(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,S=JM(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,S=e.read_shift(4,"i");break;case 19:e.l+=4,S=e.read_shift(4);break;case 5:e.l+=4,S=e.read_shift(8,"f");break;case 11:e.l+=4,S=Mn(e,4);break;case 64:e.l+=4,S=qr(f2(e));break;default:throw new Error("unparsed value: "+e[e.l])}f[C]=S}}return e.l=i+s,f}var BJ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function z4e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function x6(e,t,i){var s=At(8),r=[],n=[],o=8,a=0,l=At(8),c=At(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),n.push(l),r.push(c),o+=8+l.length,!t){c=At(8),c.write_shift(4,0),r.unshift(c);var u=[At(4)];for(u[0].write_shift(4,e.length),a=0;a<e.length;++a){var h=e[a][0];for(l=At(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=So(u),n.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(BJ.indexOf(e[a][0])>-1||PJ.indexOf(e[a][0])>-1)&&e[a][1]!=null){var f=e[a][1],p=0;if(t){p=+t[e[a][0]];var y=i[p];if(y.p=="version"&&typeof f=="string"){var v=f.split(".");f=(+v[0]<<16)+(+v[1]||0)}l=w6(y.t,f)}else{var C=z4e(f);C==-1&&(C=31,f=String(f)),l=w6(C,f)}n.push(l),c=At(8),c.write_shift(4,t?p:2+a),r.push(c),o+=8+l.length}var S=8*(n.length+1);for(a=0;a<n.length;++a)r[a].write_shift(4,S),S+=n[a].length;return s.write_shift(4,o),s.write_shift(4,n.length),So([s].concat(r).concat(n))}function E6(e,t,i){var s=e.content;if(!s)return{};Io(s,0);var r,n,o,a,l=0;s.chk("feff","Byte Order: "),s.read_shift(2);var c=s.read_shift(4),u=s.read_shift(16);if(u!==ki.utils.consts.HEADER_CLSID&&u!==i)throw new Error("Bad PropertySet CLSID "+u);if(r=s.read_shift(4),r!==1&&r!==2)throw new Error("Unrecognized #Sets: "+r);if(n=s.read_shift(16),a=s.read_shift(4),r===1&&a!==s.l)throw new Error("Length mismatch: "+a+" !== "+s.l);r===2&&(o=s.read_shift(16),l=s.read_shift(4));var h=S6(s,t),f={SystemIdentifier:c};for(var p in h)f[p]=h[p];if(f.FMTID=n,r===1)return f;if(l-s.l==2&&(s.l+=2),s.l!==l)throw new Error("Length mismatch 2: "+s.l+" !== "+l);var y;try{y=S6(s,null)}catch{}for(p in y)f[p]=y[p];return f.FMTID=[n,o],f}function _6(e,t,i,s,r,n){var o=At(r?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,ki.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,r?68:48);var l=x6(e,i,s);if(a.push(l),r){var c=x6(r,null,null);o.write_shift(16,n,"hex"),o.write_shift(4,68+l.length),a.push(c)}return So(a)}function $h(e,t){return e.read_shift(t),null}function j4e(e,t){t||(t=At(e));for(var i=0;i<e;++i)t.write_shift(1,0);return t}function K4e(e,t,i){for(var s=[],r=e.l+t;e.l<r;)s.push(i(e,r-e.l));if(r!==e.l)throw new Error("Slurp error");return s}function Mn(e,t){return e.read_shift(t)===1}function wa(e,t){return t||(t=At(2)),t.write_shift(2,+!!e),t}function Zn(e){return e.read_shift(2,"u")}function tc(e,t){return t||(t=At(2)),t.write_shift(2,e),t}function GJ(e,t){return K4e(e,t,Zn)}function Y4e(e){var t=e.read_shift(1),i=e.read_shift(1);return i===1?t:t===1}function HJ(e,t,i){return i||(i=At(2)),i.write_shift(1,t=="e"?+e:+!!e),i.write_shift(1,t=="e"?1:0),i}function DS(e,t,i){var s=e.read_shift(i&&i.biff>=12?2:1),r="sbcs-cont";if(i&&i.biff>=8,!i||i.biff==8){var n=e.read_shift(1);n&&(r="dbcs-cont")}else i.biff==12&&(r="wstr");i.biff>=2&&i.biff<=5&&(r="cpstr");var o=s?e.read_shift(s,r):"";return o}function X4e(e){var t=e.read_shift(2),i=e.read_shift(1),s=i&4,r=i&8,n=1+(i&1),o=0,a,l={};r&&(o=e.read_shift(2)),s&&(a=e.read_shift(4));var c=n==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return r&&(e.l+=4*o),s&&(e.l+=a),l.t=u,r||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function q4e(e){var t=e.t||"",i=At(3);i.write_shift(2,t.length),i.write_shift(1,1);var s=At(2*t.length);s.write_shift(2*t.length,t,"utf16le");var r=[i,s];return So(r)}function $g(e,t,i){var s;if(i){if(i.biff>=2&&i.biff<=5)return e.read_shift(t,"cpstr");if(i.biff>=12)return e.read_shift(t,"dbcs-cont")}var r=e.read_shift(1);return r===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function RS(e,t,i){var s=e.read_shift(i&&i.biff==2?1:2);return s===0?(e.l++,""):$g(e,s,i)}function Rm(e,t,i){if(i.biff>5)return RS(e,t,i);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,i.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function $J(e,t,i){return i||(i=At(3+2*e.length)),i.write_shift(2,e.length),i.write_shift(1,1),i.write_shift(31,e,"utf16le"),i}function Q4e(e){var t=e.read_shift(1);e.l++;var i=e.read_shift(2);return e.l+=2,[t,i]}function J4e(e){var t=e.read_shift(4),i=e.l,s=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(s=!0),e.l=i);var r=e.read_shift((s?t-24:t)>>1,"utf16le").replace(Da,"");return s&&(e.l+=24),r}function Z4e(e){for(var t=e.read_shift(2),i="";t-- >0;)i+="../";var s=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var r=e.read_shift(4);if(r===0)return i+s.replace(/\\/g,"/");var n=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(n>>1,"utf16le").replace(Da,"");return i+o}function e3e(e,t){var i=e.read_shift(16);switch(i){case"e0c9ea79f9bace118c8200aa004ba90b":return J4e(e);case"0303000000000000c000000000000046":return Z4e(e);default:throw new Error("Unsupported Moniker "+i)}}function P1(e){var t=e.read_shift(4),i=t>0?e.read_shift(t,"utf16le").replace(Da,""):"";return i}function T6(e,t){t||(t=At(6+e.length*2)),t.write_shift(4,1+e.length);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function t3e(e,t){var i=e.l+t,s=e.read_shift(4);if(s!==2)throw new Error("Unrecognized streamVersion: "+s);var r=e.read_shift(2);e.l+=2;var n,o,a,l,c="",u,h;r&16&&(n=P1(e,i-e.l)),r&128&&(o=P1(e,i-e.l)),(r&257)===257&&(a=P1(e,i-e.l)),(r&257)===1&&(l=e3e(e,i-e.l)),r&8&&(c=P1(e,i-e.l)),r&32&&(u=e.read_shift(16)),r&64&&(h=f2(e)),e.l=i;var f=o||a||l||"";f&&c&&(f+="#"+c),f||(f="#"+c),r&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var p={Target:f};return u&&(p.guid=u),h&&(p.time=h),n&&(p.Tooltip=n),p}function i3e(e){var t=At(512),i=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var r=s.indexOf("#"),n=r>-1?31:23;switch(s.charAt(0)){case"#":n=28;break;case".":n&=-3;break}t.write_shift(4,2),t.write_shift(4,n);var o=[8,6815827,6619237,4849780,83];for(i=0;i<o.length;++i)t.write_shift(4,o[i]);if(n==28)s=s.slice(1),T6(s,t);else if(n&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<o.length;++i)t.write_shift(1,parseInt(o[i],16));var a=r>-1?s.slice(0,r):s;for(t.write_shift(4,2*(a.length+1)),i=0;i<a.length;++i)t.write_shift(2,a.charCodeAt(i));t.write_shift(2,0),n&8&&T6(r>-1?s.slice(r+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),i=0;i<o.length;++i)t.write_shift(1,parseInt(o[i],16));for(var l=0;s.slice(l*3,l*3+3)=="../"||s.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,s.length-3*l+1),i=0;i<s.length-3*l;++i)t.write_shift(1,s.charCodeAt(i+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),i=0;i<6;++i)t.write_shift(4,0)}return t.slice(0,t.l)}function WJ(e){var t=e.read_shift(1),i=e.read_shift(1),s=e.read_shift(1),r=e.read_shift(1);return[t,i,s,r]}function UJ(e,t){var i=WJ(e);return i[3]=0,i}function od(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);return{r:t,c:i,ixfe:s}}function Wg(e,t,i,s){return s||(s=At(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,i||0),s}function s3e(e){var t=e.read_shift(2),i=e.read_shift(2);return e.l+=8,{type:t,flags:i}}function r3e(e,t,i){return t===0?"":Rm(e,t,i)}function n3e(e,t,i){var s=i.biff>8?4:2,r=e.read_shift(s),n=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[r,n,o]}function zJ(e){var t=e.read_shift(2),i=u2(e);return[t,i]}function o3e(e,t,i){e.l+=4,t-=4;var s=e.l+t,r=DS(e,t,i),n=e.read_shift(2);if(s-=e.l,n!==s)throw new Error("Malformed AddinUdf: padding = "+s+" != "+n);return e.l+=n,r}function ak(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),r=e.read_shift(2);return{s:{c:s,r:t},e:{c:r,r:i}}}function jJ(e,t){return t||(t=At(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function KJ(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(1),r=e.read_shift(1);return{s:{c:s,r:t},e:{c:r,r:i}}}var a3e=KJ;function YJ(e){e.l+=4;var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);return e.l+=12,[i,t,s]}function l3e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function c3e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function jo(e){e.l+=2,e.l+=e.read_shift(2)}var u3e={0:jo,4:jo,5:jo,6:jo,7:c3e,8:jo,9:jo,10:jo,11:jo,12:jo,13:l3e,14:jo,15:jo,16:jo,17:jo,18:jo,19:jo,20:jo,21:YJ};function d3e(e,t){for(var i=e.l+t,s=[];e.l<i;){var r=e.read_shift(2);e.l-=2;try{s.push(u3e[r](e,i-e.l))}catch{return e.l=i,s}}return e.l!=i&&(e.l=i),s}function F1(e,t){var i={BIFFVer:0,dt:0};switch(i.BIFFVer=e.read_shift(2),t-=2,t>=2&&(i.dt=e.read_shift(2),e.l-=2),i.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+i.BIFFVer)}return e.read_shift(t),i}function p2(e,t,i){var s=1536,r=16;switch(i.bookType){case"biff8":break;case"biff5":s=1280,r=8;break;case"biff4":s=4,r=6;break;case"biff3":s=3,r=6;break;case"biff2":s=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var n=At(r);return n.write_shift(2,s),n.write_shift(2,t),r>4&&n.write_shift(2,29282),r>6&&n.write_shift(2,1997),r>8&&(n.write_shift(2,49161),n.write_shift(2,1),n.write_shift(2,1798),n.write_shift(2,0)),n}function h3e(e,t){return t===0||e.read_shift(2),1200}function f3e(e,t,i){if(i.enc)return e.l+=t,"";var s=e.l,r=Rm(e,0,i);return e.read_shift(t+s-e.l),r}function p3e(e,t){var i=!t||t.biff==8,s=At(i?112:54);for(s.write_shift(t.biff==8?2:1,7),i&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(i?0:536870912));s.l<s.length;)s.write_shift(1,i?0:32);return s}function g3e(e,t,i){var s=i&&i.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:s&16,fBelow:s&64,fRight:s&128}}function m3e(e,t,i){var s=e.read_shift(4),r=e.read_shift(1)&3,n=e.read_shift(1);switch(n){case 0:n="Worksheet";break;case 1:n="Macrosheet";break;case 2:n="Chartsheet";break;case 6:n="VBAModule";break}var o=DS(e,0,i);return o.length===0&&(o="Sheet1"),{pos:s,hs:r,dt:n,name:o}}function v3e(e,t){var i=!t||t.biff>=8?2:1,s=At(8+i*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(i*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var r=s.slice(0,s.l);return r.l=s.l,r}function y3e(e,t){for(var i=e.l+t,s=e.read_shift(4),r=e.read_shift(4),n=[],o=0;o!=r&&e.l<i;++o)n.push(X4e(e));return n.Count=s,n.Unique=r,n}function C3e(e,t){var i=At(8);i.write_shift(4,e.Count),i.write_shift(4,e.Unique);for(var s=[],r=0;r<e.length;++r)s[r]=q4e(e[r]);var n=So([i].concat(s));return n.parts=[i.length].concat(s.map(function(o){return o.length})),n}function b3e(e,t){var i={};return i.dsst=e.read_shift(2),e.l+=t-2,i}function w3e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var i=e.read_shift(2);e.l+=4;var s=e.read_shift(1);return e.l+=3,s&7&&(t.level=s&7),s&32&&(t.hidden=!0),s&64&&(t.hpt=i/20),t}function S3e(e){var t=s3e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var i=e.read_shift(4);return i!==0}function x3e(e){return e.read_shift(2),e.read_shift(4)}function A6(e,t,i){var s=0;i&&i.biff==2||(s=e.read_shift(2));var r=e.read_shift(2);i&&i.biff==2&&(s=1-(r>>15),r&=32767);var n={Unsynced:s&1,DyZero:(s&2)>>1,ExAsc:(s&4)>>2,ExDsc:(s&8)>>3};return[n,r]}function E3e(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),o=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,i],Dim:[s,r],Flags:n,CurTab:o,FirstTab:a,Selected:l,TabRatio:c}}function _3e(){var e=At(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function T3e(e,t,i){if(i&&i.biff>=2&&i.biff<5)return{};var s=e.read_shift(2);return{RTL:s&64}}function A3e(e){var t=At(18),i=1718;return e&&e.RTL&&(i|=64),t.write_shift(2,i),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function k3e(){}function D3e(e,t,i){var s={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(i&&i.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return s.name=DS(e,0,i),s}function R3e(e,t){var i=e.name||"Arial",s=t&&t.biff==5,r=s?15+i.length:16+2*i.length,n=At(r);return n.write_shift(2,e.sz*20),n.write_shift(4,0),n.write_shift(2,400),n.write_shift(4,0),n.write_shift(2,0),n.write_shift(1,i.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*i.length,i,s?"sbcs":"utf16le"),n}function P3e(e){var t=od(e);return t.isst=e.read_shift(4),t}function F3e(e,t,i,s){var r=At(10);return Wg(e,t,s,r),r.write_shift(4,i),r}function M3e(e,t,i){i.biffguess&&i.biff==2&&(i.biff=5);var s=e.l+t,r=od(e);i.biff==2&&e.l++;var n=RS(e,s-e.l,i);return r.val=n,r}function L3e(e,t,i,s,r){var n=!r||r.biff==8,o=At(8+ +n+(1+n)*i.length);return Wg(e,t,s,o),o.write_shift(2,i.length),n&&o.write_shift(1,1),o.write_shift((1+n)*i.length,i,n?"utf16le":"sbcs"),o}function O3e(e,t,i){var s=e.read_shift(2),r=Rm(e,0,i);return[s,r]}function I3e(e,t,i,s){var r=i&&i.biff==5;s||(s=At(r?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(r?1:2,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le");var n=s.length>s.l?s.slice(0,s.l):s;return n.l==null&&(n.l=n.length),n}var N3e=Rm;function k6(e,t,i){var s=e.l+t,r=i.biff==8||!i.biff?4:2,n=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(2),l=e.read_shift(2);return e.l=s,{s:{r:n,c:a},e:{r:o,c:l}}}function V3e(e,t){var i=t.biff==8||!t.biff?4:2,s=At(2*i+6);return s.write_shift(i,e.s.r),s.write_shift(i,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function B3e(e){var t=e.read_shift(2),i=e.read_shift(2),s=zJ(e);return{r:t,c:i,ixfe:s[0],rknum:s[1]}}function G3e(e,t){for(var i=e.l+t-2,s=e.read_shift(2),r=e.read_shift(2),n=[];e.l<i;)n.push(zJ(e));if(e.l!==i)throw new Error("MulRK read error");var o=e.read_shift(2);if(n.length!=o-r+1)throw new Error("MulRK length mismatch");return{r:s,c:r,C:o,rkrec:n}}function H3e(e,t){for(var i=e.l+t-2,s=e.read_shift(2),r=e.read_shift(2),n=[];e.l<i;)n.push(e.read_shift(2));if(e.l!==i)throw new Error("MulBlank read error");var o=e.read_shift(2);if(n.length!=o-r+1)throw new Error("MulBlank length mismatch");return{r:s,c:r,C:o,ixfe:n}}function $3e(e,t,i,s){var r={},n=e.read_shift(4),o=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(2);return r.patternType=S4e[a>>26],s.cellStyles&&(r.alc=n&7,r.fWrap=n>>3&1,r.alcV=n>>4&7,r.fJustLast=n>>7&1,r.trot=n>>8&255,r.cIndent=n>>16&15,r.fShrinkToFit=n>>20&1,r.iReadOrder=n>>22&2,r.fAtrNum=n>>26&1,r.fAtrFnt=n>>27&1,r.fAtrAlc=n>>28&1,r.fAtrBdr=n>>29&1,r.fAtrPat=n>>30&1,r.fAtrProt=n>>31&1,r.dgLeft=o&15,r.dgRight=o>>4&15,r.dgTop=o>>8&15,r.dgBottom=o>>12&15,r.icvLeft=o>>16&127,r.icvRight=o>>23&127,r.grbitDiag=o>>30&3,r.icvTop=a&127,r.icvBottom=a>>7&127,r.icvDiag=a>>14&127,r.dgDiag=a>>21&15,r.icvFore=l&127,r.icvBack=l>>7&127,r.fsxButton=l>>14&1),r}function W3e(e,t,i){var s={};return s.ifnt=e.read_shift(2),s.numFmtId=e.read_shift(2),s.flags=e.read_shift(2),s.fStyle=s.flags>>2&1,t-=6,s.data=$3e(e,t,s.fStyle,i),s}function D6(e,t,i,s){var r=i&&i.biff==5;s||(s=At(r?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var n=0;return e.numFmtId>0&&r&&(n|=1024),s.write_shift(4,n),s.write_shift(4,0),r||s.write_shift(4,0),s.write_shift(2,0),s}function U3e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function z3e(e){var t=At(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function R6(e,t,i){var s=od(e);(i.biff==2||t==9)&&++e.l;var r=Y4e(e);return s.val=r,s.t=r===!0||r===!1?"b":"e",s}function j3e(e,t,i,s,r,n){var o=At(8);return Wg(e,t,s,o),HJ(i,n,o),o}function K3e(e,t,i){i.biffguess&&i.biff==2&&(i.biff=5);var s=od(e),r=na(e);return s.val=r,s}function Y3e(e,t,i,s){var r=At(14);return Wg(e,t,s,r),Hg(i,r),r}var P6=r3e;function X3e(e,t,i){var s=e.l+t,r=e.read_shift(2),n=e.read_shift(2);if(i.sbcch=n,n==1025||n==14849)return[n,r];if(n<1||n>255)throw new Error("Unexpected SupBook type: "+n);for(var o=$g(e,n),a=[];s>e.l;)a.push(RS(e));return[n,r,o,a]}function F6(e,t,i){var s=e.read_shift(2),r,n={fBuiltIn:s&1,fWantAdvise:s>>>1&1,fWantPict:s>>>2&1,fOle:s>>>3&1,fOleLink:s>>>4&1,cf:s>>>5&1023,fIcon:s>>>15&1};return i.sbcch===14849&&(r=o3e(e,t-2,i)),n.body=r||e.read_shift(t-2),typeof r=="string"&&(n.Name=r),n}var q3e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function M6(e,t,i){var s=e.l+t,r=e.read_shift(2),n=e.read_shift(1),o=e.read_shift(1),a=e.read_shift(i&&i.biff==2?1:2),l=0;(!i||i.biff>=5)&&(i.biff!=5&&(e.l+=2),l=e.read_shift(2),i.biff==5&&(e.l+=2),e.l+=4);var c=$g(e,o,i);r&32&&(c=q3e[c.charCodeAt(0)]);var u=s-e.l;i&&i.biff==2&&--u;var h=s==e.l||a===0||!(u>0)?[]:dUe(e,u,i,a);return{chKey:n,Name:c,itab:l,rgce:h}}function XJ(e,t,i){if(i.biff<8)return Q3e(e,t,i);for(var s=[],r=e.l+t,n=e.read_shift(i.biff>8?4:2);n--!==0;)s.push(n3e(e,i.biff>8?12:6,i));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return s}function Q3e(e,t,i){e[e.l+1]==3&&e[e.l]++;var s=DS(e,t,i);return s.charCodeAt(0)==3?s.slice(1):s}function J3e(e,t,i){if(i.biff<8){e.l+=t;return}var s=e.read_shift(2),r=e.read_shift(2),n=$g(e,s,i),o=$g(e,r,i);return[n,o]}function Z3e(e,t,i){var s=KJ(e);e.l++;var r=e.read_shift(1);return t-=8,[hUe(e,t,i),r,s]}function L6(e,t,i){var s=a3e(e);switch(i.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[s,cUe(e,t,i)]}function e$e(e){var t=e.read_shift(4)!==0,i=e.read_shift(4)!==0,s=e.read_shift(4);return[t,i,s]}function t$e(e,t,i){if(!(i.biff<8)){var s=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),o=e.read_shift(2),a=Rm(e,0,i);return i.biff<8&&e.read_shift(1),[{r:s,c:r},a,o,n]}}function i$e(e,t,i){return t$e(e,t,i)}function s$e(e,t){for(var i=[],s=e.read_shift(2);s--;)i.push(ak(e));return i}function r$e(e){var t=At(2+e.length*8);t.write_shift(2,e.length);for(var i=0;i<e.length;++i)jJ(e[i],t);return t}function n$e(e,t,i){if(i&&i.biff<8)return a$e(e,t,i);var s=YJ(e),r=d3e(e,t-22,s[1]);return{cmo:s,ft:r}}var o$e={8:function(e,t){var i=e.l+t;e.l+=10;var s=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var r=e.read_shift(1);return e.l+=r,e.l=i,{fmt:s}}};function a$e(e,t,i){e.l+=4;var s=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((o$e[s]||fa)(e,t,i)),{cmo:[r,s,n],ft:o}}function l$e(e,t,i){var s=e.l,r="";try{e.l+=4;var n=(i.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(n)==-1?e.l+=6:o=Q4e(e,6,i);var a=e.read_shift(2);e.read_shift(2),Zn(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-s!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],h=$g(e,e.lens[c+1]-e.lens[c]-1);if(r+=h,r.length>=(u?a:2*a))break}if(r.length!==a&&r.length!==a*2)throw new Error("cchText: "+a+" != "+r.length);return e.l=s+t,{t:r}}catch{return e.l=s+t,{t:r}}}function c$e(e,t){var i=ak(e);e.l+=16;var s=t3e(e,t-24);return[i,s]}function u$e(e){var t=At(24),i=mn(e[0]);t.write_shift(2,i.r),t.write_shift(2,i.r),t.write_shift(2,i.c),t.write_shift(2,i.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)t.write_shift(1,parseInt(s[r],16));return So([t,i3e(e[1])])}function d$e(e,t){e.read_shift(2);var i=ak(e),s=e.read_shift((t-10)/2,"dbcs-cont");return s=s.replace(Da,""),[i,s]}function h$e(e){var t=e[1].Tooltip,i=At(10+2*(t.length+1));i.write_shift(2,2048);var s=mn(e[0]);i.write_shift(2,s.r),i.write_shift(2,s.r),i.write_shift(2,s.c),i.write_shift(2,s.c);for(var r=0;r<t.length;++r)i.write_shift(2,t.charCodeAt(r));return i.write_shift(2,0),i}function f$e(e){var t=[0,0],i;return i=e.read_shift(2),t[0]=y6[i]||i,i=e.read_shift(2),t[1]=y6[i]||i,t}function p$e(e){return e||(e=At(4)),e.write_shift(2,1),e.write_shift(2,1),e}function g$e(e){for(var t=e.read_shift(2),i=[];t-- >0;)i.push(UJ(e));return i}function m$e(e){for(var t=e.read_shift(2),i=[];t-- >0;)i.push(UJ(e));return i}function v$e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function qJ(e,t,i){if(!i.cellStyles)return fa(e,t);var s=i&&i.biff>=12?4:2,r=e.read_shift(s),n=e.read_shift(s),o=e.read_shift(s),a=e.read_shift(s),l=e.read_shift(2);s==2&&(e.l+=2);var c={s:r,e:n,w:o,ixfe:a,flags:l};return(i.biff>=5||!i.biff)&&(c.level=l>>8&7),c}function y$e(e,t){var i=At(12);i.write_shift(2,t),i.write_shift(2,t),i.write_shift(2,e.width*256),i.write_shift(2,0);var s=0;return e.hidden&&(s|=1),i.write_shift(1,s),s=e.level||0,i.write_shift(1,s),i.write_shift(2,0),i}function C$e(e,t){var i={};return t<32||(e.l+=16,i.header=na(e),i.footer=na(e),e.l+=2),i}function b$e(e,t,i){var s={area:!1};if(i.biff!=5)return e.l+=t,s;var r=e.read_shift(1);return e.l+=3,r&16&&(s.area=!0),s}function w$e(e){for(var t=At(2*e),i=0;i<e;++i)t.write_shift(2,i+1);return t}var S$e=od,x$e=GJ,E$e=RS;function _$e(e){var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(4),r={fmt:t,env:i,len:s,data:e.slice(e.l,e.l+s)};return e.l+=s,r}function T$e(e,t,i){i.biffguess&&i.biff==5&&(i.biff=2);var s=od(e);++e.l;var r=Rm(e,t-7,i);return s.t="str",s.val=r,s}function A$e(e){var t=od(e);++e.l;var i=na(e);return t.t="n",t.val=i,t}function k$e(e,t,i){var s=At(15);return LS(s,e,t),s.write_shift(8,i,"f"),s}function D$e(e){var t=od(e);++e.l;var i=e.read_shift(2);return t.t="n",t.val=i,t}function R$e(e,t,i){var s=At(9);return LS(s,e,t),s.write_shift(2,i),s}function P$e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function F$e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function M$e(e,t,i){var s=e.l+t,r=od(e),n=e.read_shift(2),o=$g(e,n,i);return e.l=s,r.t="str",r.val=o,r}var L$e=[2,3,48,49,131,139,140,245],ZM=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=rk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function i(a,l){var c=[],u=Pf(1);switch(l.type){case"base64":u=_l(Ll(a));break;case"binary":u=_l(a);break;case"buffer":case"array":u=a;break}Io(u,0);var h=u.read_shift(1),f=!!(h&136),p=!1,y=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,f=!0;break;case 49:p=!0,f=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,C=521;h==2&&(v=u.read_shift(2)),u.l+=3,h!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(C=u.read_shift(2));var S=u.read_shift(2),_=l.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(_=e[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var x=[],A={},R=Math.min(u.length,h==2?521:C-10-(p?264:0)),O=y?32:11;u.l<R&&u[u.l]!=13;)switch(A={},A.name=bw.utils.decode(_,u.slice(u.l,u.l+O)).replace(/[\u0000\r\n].*$/g,""),u.l+=O,A.type=String.fromCharCode(u.read_shift(1)),h!=2&&!y&&(A.offset=u.read_shift(4)),A.len=u.read_shift(1),h==2&&(A.offset=u.read_shift(2)),A.dec=u.read_shift(1),A.name.length&&x.push(A),h!=2&&(u.l+=y?13:14),A.type){case"B":(!p||A.len!=8)&&l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(u[u.l]!==13&&(u.l=C-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=C;var k=0,F=0;for(c[0]=[],F=0;F!=x.length;++F)c[0][F]=x[F].name;for(;v-- >0;){if(u[u.l]===42){u.l+=S;continue}for(++u.l,c[++k]=[],F=0,F=0;F!=x.length;++F){var N=u.slice(u.l,u.l+x[F].len);u.l+=x[F].len,Io(N,0);var j=bw.utils.decode(_,N);switch(x[F].type){case"C":j.trim().length&&(c[k][F]=j.replace(/\s+$/,""));break;case"D":j.length===8?c[k][F]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):c[k][F]=j;break;case"F":c[k][F]=parseFloat(j.trim());break;case"+":case"I":c[k][F]=y?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":c[k][F]=!0;break;case"N":case"F":c[k][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[k][F]="##MEMO##"+(y?parseInt(j.trim(),10):N.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(c[k][F]=+j||0);break;case"@":c[k][F]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":c[k][F]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":c[k][F]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[k][F]=-N.read_shift(-8,"f");break;case"B":if(p&&x[F].len==8){c[k][F]=N.read_shift(8,"f");break}case"G":case"P":N.l+=x[F].len;break;case"0":if(x[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[F].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=x,c}function s(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=py(i(a,c),c);return u["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,u}function r(a,l){try{return Jf(s(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var n={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var c=l||{};if(+c.codepage>=0&&Wc(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=rl(),h=oT(a,{header:1,raw:!0,cellDates:!0}),f=h[0],p=h.slice(1),y=a["!cols"]||[],v=0,C=0,S=0,_=1;for(v=0;v<f.length;++v){if(((y[v]||{}).DBF||{}).name){f[v]=y[v].DBF.name,++S;continue}if(f[v]!=null){if(++S,typeof f[v]=="number"&&(f[v]=f[v].toString(10)),typeof f[v]!="string")throw new Error("DBF Invalid column name "+f[v]+" |"+typeof f[v]+"|");if(f.indexOf(f[v])!==v){for(C=0;C<1024;++C)if(f.indexOf(f[v]+"_"+C)==-1){f[v]+="_"+C;break}}}}var x=Ks(a["!ref"]),A=[],R=[],O=[];for(v=0;v<=x.e.c-x.s.c;++v){var k="",F="",N=0,j=[];for(C=0;C<p.length;++C)p[C][v]!=null&&j.push(p[C][v]);if(j.length==0||f[v]==null){A[v]="?";continue}for(C=0;C<j.length;++C){switch(typeof j[C]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=j[C]instanceof Date?"D":"C";break;default:F="C"}N=Math.max(N,String(j[C]).length),k=k&&k!=F?"C":F}N>250&&(N=250),F=((y[v]||{}).DBF||{}).type,F=="C"&&y[v].DBF.len>N&&(N=y[v].DBF.len),k=="B"&&F=="N"&&(k="N",O[v]=y[v].DBF.dec,N=y[v].DBF.len),R[v]=k=="C"||F=="N"?N:n[k]||0,_+=R[v],A[v]=k}var ee=u.next(32);for(ee.write_shift(4,318902576),ee.write_shift(4,p.length),ee.write_shift(2,296+32*S),ee.write_shift(2,_),v=0;v<4;++v)ee.write_shift(4,0);for(ee.write_shift(4,0|(+t[BQ]||3)<<8),v=0,C=0;v<f.length;++v)if(f[v]!=null){var K=u.next(32),Q=(f[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);K.write_shift(1,Q,"sbcs"),K.write_shift(1,A[v]=="?"?"C":A[v],"sbcs"),K.write_shift(4,C),K.write_shift(1,R[v]||n[A[v]]||0),K.write_shift(1,O[v]||0),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(1,0),K.write_shift(4,0),K.write_shift(4,0),C+=R[v]||n[A[v]]||0}var be=u.next(264);for(be.write_shift(4,13),v=0;v<65;++v)be.write_shift(4,0);for(v=0;v<p.length;++v){var te=u.next(_);for(te.write_shift(1,0),C=0;C<f.length;++C)if(f[C]!=null)switch(A[C]){case"L":te.write_shift(1,p[v][C]==null?63:p[v][C]?84:70);break;case"B":te.write_shift(8,p[v][C]||0,"f");break;case"N":var ne="0";for(typeof p[v][C]=="number"&&(ne=p[v][C].toFixed(O[C]||0)),S=0;S<R[C]-ne.length;++S)te.write_shift(1,32);te.write_shift(1,ne,"sbcs");break;case"D":p[v][C]?(te.write_shift(4,("0000"+p[v][C].getFullYear()).slice(-4),"sbcs"),te.write_shift(2,("00"+(p[v][C].getMonth()+1)).slice(-2),"sbcs"),te.write_shift(2,("00"+p[v][C].getDate()).slice(-2),"sbcs")):te.write_shift(8,"00000000","sbcs");break;case"C":var H=String(p[v][C]!=null?p[v][C]:"").slice(0,R[C]);for(te.write_shift(1,H,"sbcs"),S=0;S<R[C]-H.length;++S)te.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:r,to_sheet:s,from_sheet:o}}(),QJ=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Pn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),i=function(f,p){var y=e[p];return typeof y=="number"?zW(y):y},s=function(f,p,y){var v=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?f:zW(v)};e["|"]=254;function r(f,p){switch(p.type){case"base64":return n(Ll(f),p);case"binary":return n(f,p);case"buffer":return n(bs&&Buffer.isBuffer(f)?f.toString("binary"):Qf(f),p);case"array":return n(Gg(f),p)}throw new Error("Unrecognized type "+p.type)}function n(f,p){var y=f.split(/[\n\r]+/),v=-1,C=-1,S=0,_=0,x=[],A=[],R=null,O={},k=[],F=[],N=[],j=0,ee;for(+p.codepage>=0&&Wc(+p.codepage);S!==y.length;++S){j=0;var K=y[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,i),Q=K.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),be=Q[0],te;if(K.length>0)switch(be){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Q[1].charAt(0)=="P"&&A.push(K.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,H=!1,ie=!1,ue=!1,Te=-1,Ie=-1;for(_=1;_<Q.length;++_)switch(Q[_].charAt(0)){case"A":break;case"X":C=parseInt(Q[_].slice(1))-1,H=!0;break;case"Y":for(v=parseInt(Q[_].slice(1))-1,H||(C=0),ee=x.length;ee<=v;++ee)x[ee]=[];break;case"K":te=Q[_].slice(1),te.charAt(0)==='"'?te=te.slice(1,te.length-1):te==="TRUE"?te=!0:te==="FALSE"?te=!1:isNaN(Xc(te))?isNaN(M0(te).getDate())||(te=qr(te)):(te=Xc(te),R!==null&&hy(R)&&(te=ok(te))),ne=!0;break;case"E":ue=!0;var he=zv(Q[_].slice(1),{r:v,c:C});x[v][C]=[x[v][C],he];break;case"S":ie=!0,x[v][C]=[x[v][C],"S5S"];break;case"G":break;case"R":Te=parseInt(Q[_].slice(1))-1;break;case"C":Ie=parseInt(Q[_].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+K)}if(ne&&(x[v][C]&&x[v][C].length==2?x[v][C][0]=te:x[v][C]=te,R=null),ie){if(ue)throw new Error("SYLK shared formula cannot have own formula");var Ee=Te>-1&&x[Te][Ie];if(!Ee||!Ee[1])throw new Error("SYLK shared formula cannot find base");x[v][C][1]=gZ(Ee[1],{r:v-Te,c:C-Ie})}break;case"F":var Y=0;for(_=1;_<Q.length;++_)switch(Q[_].charAt(0)){case"X":C=parseInt(Q[_].slice(1))-1,++Y;break;case"Y":for(v=parseInt(Q[_].slice(1))-1,ee=x.length;ee<=v;++ee)x[ee]=[];break;case"M":j=parseInt(Q[_].slice(1))/20;break;case"F":break;case"G":break;case"P":R=A[parseInt(Q[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=Q[_].slice(1).split(" "),ee=parseInt(N[0],10);ee<=parseInt(N[1],10);++ee)j=parseInt(N[2],10),F[ee-1]=j===0?{hidden:!0}:{wch:j},Ff(F[ee-1]);break;case"C":C=parseInt(Q[_].slice(1))-1,F[C]||(F[C]={});break;case"R":v=parseInt(Q[_].slice(1))-1,k[v]||(k[v]={}),j>0?(k[v].hpt=j,k[v].hpx=O0(j)):j===0&&(k[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+K)}Y<1&&(R=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+K)}}return k.length>0&&(O["!rows"]=k),F.length>0&&(O["!cols"]=F),p&&p.sheetRows&&(x=x.slice(0,p.sheetRows)),[x,O]}function o(f,p){var y=r(f,p),v=y[0],C=y[1],S=py(v,p);return Pn(C).forEach(function(_){S[_]=C[_]}),S}function a(f,p){return Jf(o(f,p),p)}function l(f,p,y,v){var C="C;Y"+(y+1)+";X"+(v+1)+";K";switch(f.t){case"n":C+=f.v||0,f.f&&!f.F&&(C+=";E"+b2(f.f,{r:y,c:v}));break;case"b":C+=f.v?"TRUE":"FALSE";break;case"e":C+=f.w||f.v;break;case"d":C+='"'+(f.w||f.v)+'"';break;case"s":C+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function c(f,p){p.forEach(function(y,v){var C="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?C+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=kw(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Dw(y.wpx)),typeof y.wch=="number"&&(C+=Math.round(y.wch))),C.charAt(C.length-1)!=" "&&f.push(C)})}function u(f,p){p.forEach(function(y,v){var C="F;";y.hidden?C+="M0;":y.hpt?C+="M"+20*y.hpt+";":y.hpx&&(C+="M"+20*Rw(y.hpx)+";"),C.length>2&&f.push(C+"R"+(v+1))})}function h(f,p){var y=["ID;PWXL;N;E"],v=[],C=Ks(f["!ref"]),S,_=Array.isArray(f),x=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),f["!cols"]&&c(y,f["!cols"]),f["!rows"]&&u(y,f["!rows"]),y.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var A=C.s.r;A<=C.e.r;++A)for(var R=C.s.c;R<=C.e.c;++R){var O=Vi({r:A,c:R});S=_?(f[A]||[])[R]:f[O],!(!S||S.v==null&&(!S.f||S.F))&&v.push(l(S,f,A,R))}return y.join(x)+x+v.join(x)+x+"E"+x}return{to_workbook:a,to_sheet:o,from_sheet:h}}(),JJ=function(){function e(n,o){switch(o.type){case"base64":return t(Ll(n),o);case"binary":return t(n,o);case"buffer":return t(bs&&Buffer.isBuffer(n)?n.toString("binary"):Qf(n),o);case"array":return t(Gg(n),o)}throw new Error("Unrecognized type "+o.type)}function t(n,o){for(var a=n.split(`
`),l=-1,c=-1,u=0,h=[];u!==a.length;++u){if(a[u].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var f=a[u].trim().split(","),p=f[0],y=f[1];++u;for(var v=a[u]||"";(v.match(/["]/g)||[]).length&1&&u<a.length-1;)v+=`
`+a[++u];switch(v=v.trim(),+p){case-1:if(v==="BOT"){h[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[l][c]=!0:v==="FALSE"?h[l][c]=!1:isNaN(Xc(y))?isNaN(M0(y).getDate())?h[l][c]=y:h[l][c]=qr(y):h[l][c]=Xc(y),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function i(n,o){return py(e(n,o),o)}function s(n,o){return Jf(i(n,o),o)}var r=function(){var n=function(l,c,u,h,f){l.push(c),l.push(u+","+h),l.push('"'+f.replace(/"/g,'""')+'"')},o=function(l,c,u,h){l.push(c+","+u),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],u=Ks(l["!ref"]),h,f=Array.isArray(l);n(c,"TABLE",0,1,"sheetjs"),n(c,"VECTORS",0,u.e.r-u.s.r+1,""),n(c,"TUPLES",0,u.e.c-u.s.c+1,""),n(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){o(c,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var v=Vi({r:p,c:y});if(h=f?(l[p]||[])[y]:l[v],!h){o(c,1,0,"");continue}switch(h.t){case"n":var C=h.w;!C&&h.v!=null&&(C=h.v),C==null?h.f&&!h.F?o(c,1,0,"="+h.f):o(c,1,0,""):o(c,0,C,"V");break;case"b":o(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=vc(h.z||Li[14],yo(qr(h.v)))),o(c,0,h.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var S=`\r
`,_=c.join(S);return _}}();return{to_workbook:s,to_sheet:i,from_sheet:r}}(),ZJ=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function i(h,f){for(var p=h.split(`
`),y=-1,v=-1,C=0,S=[];C!==p.length;++C){var _=p[C].trim().split(":");if(_[0]==="cell"){var x=mn(_[1]);if(S.length<=x.r)for(y=S.length;y<=x.r;++y)S[y]||(S[y]=[]);switch(y=x.r,v=x.c,_[2]){case"t":S[y][v]=e(_[3]);break;case"v":S[y][v]=+_[3];break;case"vtf":var A=_[_.length-1];case"vtc":switch(_[3]){case"nl":S[y][v]=!!+_[4];break;default:S[y][v]=+_[4];break}_[2]=="vtf"&&(S[y][v]=[S[y][v],A])}}}return f&&f.sheetRows&&(S=S.slice(0,f.sheetRows)),S}function s(h,f){return py(i(h,f),f)}function r(h,f){return Jf(s(h,f),f)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var f=[],p=[],y,v="",C=ll(h["!ref"]),S=Array.isArray(h),_=C.s.r;_<=C.e.r;++_)for(var x=C.s.c;x<=C.e.c;++x)if(v=Vi({r:_,c:x}),y=S?(h[_]||[])[x]:h[v],!(!y||y.v==null||y.t==="z")){switch(p=["cell",v,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var A=yo(qr(y.v));p[2]="vtc",p[3]="nd",p[4]=""+A,p[5]=y.w||vc(y.z||Li[14],A);break;case"e":continue}f.push(p.join(":"))}return f.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function u(h){return[n,o,a,o,c(h),l].join(`
`)}return{to_workbook:r,to_sheet:s,from_sheet:u}}(),L0=function(){function e(u,h,f,p,y){y.raw?h[f][p]=u:u===""||(u==="TRUE"?h[f][p]=!0:u==="FALSE"?h[f][p]=!1:isNaN(Xc(u))?isNaN(M0(u).getDate())?h[f][p]=u:h[f][p]=qr(u):h[f][p]=Xc(u))}function t(u,h){var f=h||{},p=[];if(!u||u.length===0)return p;for(var y=u.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var C=10,S=0,_=0;_<=v;++_)S=y[_].indexOf(" "),S==-1?S=y[_].length:S++,C=Math.max(C,S);for(_=0;_<=v;++_){p[_]=[];var x=0;for(e(y[_].slice(0,C).trim(),p,_,x,f),x=1;x<=(y[_].length-C)/10+1;++x)e(y[_].slice(C+(x-1)*10,C+x*10).trim(),p,_,x,f)}return f.sheetRows&&(p=p.slice(0,f.sheetRows)),p}var i={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function r(u){for(var h={},f=!1,p=0,y=0;p<u.length;++p)(y=u.charCodeAt(p))==34?f=!f:!f&&y in i&&(h[y]=(h[y]||0)+1);y=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&y.push([h[p],p]);if(!y.length){h=s;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&y.push([h[p],p])}return y.sort(function(v,C){return v[0]-C[0]||s[v[1]]-s[C[1]]}),i[y.pop()[1]]||44}function n(u,h){var f=h||{},p="",y=f.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=r(u.slice(0,1024)):f&&f.FS?p=f.FS:p=r(u.slice(0,1024));var C=0,S=0,_=0,x=0,A=0,R=p.charCodeAt(0),O=!1,k=0,F=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var N=f.dateNF!=null?bHe(f.dateNF):null;function j(){var ee=u.slice(x,A),K={};if(ee.charAt(0)=='"'&&ee.charAt(ee.length-1)=='"'&&(ee=ee.slice(1,-1).replace(/""/g,'"')),ee.length===0)K.t="z";else if(f.raw)K.t="s",K.v=ee;else if(ee.trim().length===0)K.t="s",K.v=ee;else if(ee.charCodeAt(0)==61)ee.charCodeAt(1)==34&&ee.charCodeAt(ee.length-1)==34?(K.t="s",K.v=ee.slice(2,-1).replace(/""/g,'"')):X6e(ee)?(K.t="n",K.f=ee.slice(1)):(K.t="s",K.v=ee);else if(ee=="TRUE")K.t="b",K.v=!0;else if(ee=="FALSE")K.t="b",K.v=!1;else if(!isNaN(_=Xc(ee)))K.t="n",f.cellText!==!1&&(K.w=ee),K.v=_;else if(!isNaN(M0(ee).getDate())||N&&ee.match(N)){K.z=f.dateNF||Li[14];var Q=0;N&&ee.match(N)&&(ee=wHe(ee,f.dateNF,ee.match(N)||[]),Q=1),f.cellDates?(K.t="d",K.v=qr(ee,Q)):(K.t="n",K.v=yo(qr(ee,Q))),f.cellText!==!1&&(K.w=vc(K.z,K.v instanceof Date?yo(K.v):K.v)),f.cellNF||delete K.z}else K.t="s",K.v=ee;if(K.t=="z"||(f.dense?(y[C]||(y[C]=[]),y[C][S]=K):y[Vi({c:S,r:C})]=K),x=A+1,F=u.charCodeAt(x),v.e.c<S&&(v.e.c=S),v.e.r<C&&(v.e.r=C),k==R)++S;else if(S=0,++C,f.sheetRows&&f.sheetRows<=C)return!0}e:for(;A<u.length;++A)switch(k=u.charCodeAt(A)){case 34:F===34&&(O=!O);break;case R:case 10:case 13:if(!O&&j())break e;break}return A-x>0&&j(),y["!ref"]=us(v),y}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?n(u,h):py(t(u,h),h)}function a(u,h){var f="",p=h.type=="string"?[0,0,0,0]:k2(u,h);switch(h.type){case"base64":f=Ll(u);break;case"binary":f=u;break;case"buffer":h.codepage==65001?f=u.toString("utf8"):h.codepage&&typeof bw<"u"||(f=bs&&Buffer.isBuffer(u)?u.toString("binary"):Qf(u));break;case"array":f=Gg(u);break;case"string":f=u;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?f=Dr(f.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?f=Dr(f):h.type=="binary"&&typeof bw<"u",f.slice(0,19)=="socialcalc:version:"?ZJ.to_sheet(h.type=="string"?f:Dr(f),h):o(f,h)}function l(u,h){return Jf(a(u,h),h)}function c(u){for(var h=[],f=Ks(u["!ref"]),p,y=Array.isArray(u),v=f.s.r;v<=f.e.r;++v){for(var C=[],S=f.s.c;S<=f.e.c;++S){var _=Vi({r:v,c:S});if(p=y?(u[v]||[])[S]:u[_],!p||p.v==null){C.push("          ");continue}for(var x=(p.w||(Jd(p),p.w)||"").slice(0,10);x.length<10;)x+=" ";C.push(x+(S===0?" ":""))}h.push(C.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}}();function O$e(e,t){var i=t||{},s=!!i.WTF;i.WTF=!0;try{var r=QJ.to_workbook(e,i);return i.WTF=s,r}catch(n){if(i.WTF=s,!n.message.match(/SYLK bad record ID/)&&s)throw n;return L0.to_workbook(e,t)}}var hg=function(){function e(he,Ee,Y){if(he){Io(he,he.l||0);for(var Z=Y.Enum||Te;he.l<he.length;){var Se=he.read_shift(2),ye=Z[Se]||Z[65535],ke=he.read_shift(2),Oe=he.l+ke,He=ye.f&&ye.f(he,ke,Y);if(he.l=Oe,Ee(He,ye,Se))return}}}function t(he,Ee){switch(Ee.type){case"base64":return i(_l(Ll(he)),Ee);case"binary":return i(_l(he),Ee);case"buffer":case"array":return i(he,Ee)}throw"Unsupported type "+Ee.type}function i(he,Ee){if(!he)return he;var Y=Ee||{},Z=Y.dense?[]:{},Se="Sheet1",ye="",ke=0,Oe={},He=[],mt=[],we={s:{r:0,c:0},e:{r:0,c:0}},de=Y.sheetRows||0;if(he[2]==0&&(he[3]==8||he[3]==9)&&he.length>=16&&he[14]==5&&he[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(he[2]==2)Y.Enum=Te,e(he,function(Ge,Ze,ot){switch(ot){case 0:Y.vers=Ge,Ge>=4096&&(Y.qpro=!0);break;case 6:we=Ge;break;case 204:Ge&&(ye=Ge);break;case 222:ye=Ge;break;case 15:case 51:Y.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:ot==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=Y.dateNF||Li[14],Y.cellDates&&(Ge[1].t="d",Ge[1].v=ok(Ge[1].v))),Y.qpro&&Ge[3]>ke&&(Z["!ref"]=us(we),Oe[Se]=Z,He.push(Se),Z=Y.dense?[]:{},we={s:{r:0,c:0},e:{r:0,c:0}},ke=Ge[3],Se=ye||"Sheet"+(ke+1),ye="");var xe=Y.dense?(Z[Ge[0].r]||[])[Ge[0].c]:Z[Vi(Ge[0])];if(xe){xe.t=Ge[1].t,xe.v=Ge[1].v,Ge[1].z!=null&&(xe.z=Ge[1].z),Ge[1].f!=null&&(xe.f=Ge[1].f);break}Y.dense?(Z[Ge[0].r]||(Z[Ge[0].r]=[]),Z[Ge[0].r][Ge[0].c]=Ge[1]):Z[Vi(Ge[0])]=Ge[1];break}},Y);else if(he[2]==26||he[2]==14)Y.Enum=Ie,he[2]==14&&(Y.qpro=!0,he.l=0),e(he,function(Ge,Ze,ot){switch(ot){case 204:Se=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>ke&&(Z["!ref"]=us(we),Oe[Se]=Z,He.push(Se),Z=Y.dense?[]:{},we={s:{r:0,c:0},e:{r:0,c:0}},ke=Ge[3],Se="Sheet"+(ke+1)),de>0&&Ge[0].r>=de)break;Y.dense?(Z[Ge[0].r]||(Z[Ge[0].r]=[]),Z[Ge[0].r][Ge[0].c]=Ge[1]):Z[Vi(Ge[0])]=Ge[1],we.e.c<Ge[0].c&&(we.e.c=Ge[0].c),we.e.r<Ge[0].r&&(we.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(mt[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:mt[Ge[0]]=Ge[1],Ge[0]==ke&&(Se=Ge[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+he[2]);if(Z["!ref"]=us(we),Oe[ye||Se]=Z,He.push(ye||Se),!mt.length)return{SheetNames:He,Sheets:Oe};for(var pe={},Ve=[],Qe=0;Qe<mt.length;++Qe)Oe[He[Qe]]?(Ve.push(mt[Qe]||He[Qe]),pe[mt[Qe]]=Oe[mt[Qe]]||Oe[He[Qe]]):(Ve.push(mt[Qe]),pe[mt[Qe]]={"!ref":"A1"});return{SheetNames:Ve,Sheets:pe}}function s(he,Ee){var Y=Ee||{};if(+Y.codepage>=0&&Wc(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=rl(),Se=Ks(he["!ref"]),ye=Array.isArray(he),ke=[];Zt(Z,0,n(1030)),Zt(Z,6,l(Se));for(var Oe=Math.min(Se.e.r,8191),He=Se.s.r;He<=Oe;++He)for(var mt=$n(He),we=Se.s.c;we<=Se.e.c;++we){He===Se.s.r&&(ke[we]=gn(we));var de=ke[we]+mt,pe=ye?(he[He]||[])[we]:he[de];if(!(!pe||pe.t=="z"))if(pe.t=="n")(pe.v|0)==pe.v&&pe.v>=-32768&&pe.v<=32767?Zt(Z,13,p(He,we,pe.v)):Zt(Z,14,v(He,we,pe.v));else{var Ve=Jd(pe);Zt(Z,15,h(He,we,Ve.slice(0,239)))}}return Zt(Z,1),Z.end()}function r(he,Ee){var Y=Ee||{};if(+Y.codepage>=0&&Wc(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=rl();Zt(Z,0,o(he));for(var Se=0,ye=0;Se<he.SheetNames.length;++Se)(he.Sheets[he.SheetNames[Se]]||{})["!ref"]&&Zt(Z,27,ue(he.SheetNames[Se],ye++));var ke=0;for(Se=0;Se<he.SheetNames.length;++Se){var Oe=he.Sheets[he.SheetNames[Se]];if(!(!Oe||!Oe["!ref"])){for(var He=Ks(Oe["!ref"]),mt=Array.isArray(Oe),we=[],de=Math.min(He.e.r,8191),pe=He.s.r;pe<=de;++pe)for(var Ve=$n(pe),Qe=He.s.c;Qe<=He.e.c;++Qe){pe===He.s.r&&(we[Qe]=gn(Qe));var Ge=we[Qe]+Ve,Ze=mt?(Oe[pe]||[])[Qe]:Oe[Ge];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")Zt(Z,23,j(pe,Qe,ke,Ze.v));else{var ot=Jd(Ze);Zt(Z,22,k(pe,Qe,ke,ot.slice(0,239)))}}++ke}}return Zt(Z,1),Z.end()}function n(he){var Ee=At(2);return Ee.write_shift(2,he),Ee}function o(he){var Ee=At(26);Ee.write_shift(2,4096),Ee.write_shift(2,4),Ee.write_shift(4,0);for(var Y=0,Z=0,Se=0,ye=0;ye<he.SheetNames.length;++ye){var ke=he.SheetNames[ye],Oe=he.Sheets[ke];if(!(!Oe||!Oe["!ref"])){++Se;var He=ll(Oe["!ref"]);Y<He.e.r&&(Y=He.e.r),Z<He.e.c&&(Z=He.e.c)}}return Y>8191&&(Y=8191),Ee.write_shift(2,Y),Ee.write_shift(1,Se),Ee.write_shift(1,Z),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(1,1),Ee.write_shift(1,2),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee}function a(he,Ee,Y){var Z={s:{c:0,r:0},e:{c:0,r:0}};return Ee==8&&Y.qpro?(Z.s.c=he.read_shift(1),he.l++,Z.s.r=he.read_shift(2),Z.e.c=he.read_shift(1),he.l++,Z.e.r=he.read_shift(2),Z):(Z.s.c=he.read_shift(2),Z.s.r=he.read_shift(2),Ee==12&&Y.qpro&&(he.l+=2),Z.e.c=he.read_shift(2),Z.e.r=he.read_shift(2),Ee==12&&Y.qpro&&(he.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function l(he){var Ee=At(8);return Ee.write_shift(2,he.s.c),Ee.write_shift(2,he.s.r),Ee.write_shift(2,he.e.c),Ee.write_shift(2,he.e.r),Ee}function c(he,Ee,Y){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(Z[0].c=he.read_shift(1),Z[3]=he.read_shift(1),Z[0].r=he.read_shift(2),he.l+=2):(Z[2]=he.read_shift(1),Z[0].c=he.read_shift(2),Z[0].r=he.read_shift(2)),Z}function u(he,Ee,Y){var Z=he.l+Ee,Se=c(he,Ee,Y);if(Se[1].t="s",Y.vers==20768){he.l++;var ye=he.read_shift(1);return Se[1].v=he.read_shift(ye,"utf8"),Se}return Y.qpro&&he.l++,Se[1].v=he.read_shift(Z-he.l,"cstr"),Se}function h(he,Ee,Y){var Z=At(7+Y.length);Z.write_shift(1,255),Z.write_shift(2,Ee),Z.write_shift(2,he),Z.write_shift(1,39);for(var Se=0;Se<Z.length;++Se){var ye=Y.charCodeAt(Se);Z.write_shift(1,ye>=128?95:ye)}return Z.write_shift(1,0),Z}function f(he,Ee,Y){var Z=c(he,Ee,Y);return Z[1].v=he.read_shift(2,"i"),Z}function p(he,Ee,Y){var Z=At(7);return Z.write_shift(1,255),Z.write_shift(2,Ee),Z.write_shift(2,he),Z.write_shift(2,Y,"i"),Z}function y(he,Ee,Y){var Z=c(he,Ee,Y);return Z[1].v=he.read_shift(8,"f"),Z}function v(he,Ee,Y){var Z=At(13);return Z.write_shift(1,255),Z.write_shift(2,Ee),Z.write_shift(2,he),Z.write_shift(8,Y,"f"),Z}function C(he,Ee,Y){var Z=he.l+Ee,Se=c(he,Ee,Y);if(Se[1].v=he.read_shift(8,"f"),Y.qpro)he.l=Z;else{var ye=he.read_shift(2);A(he.slice(he.l,he.l+ye),Se),he.l+=ye}return Se}function S(he,Ee,Y){var Z=Ee&32768;return Ee&=-32769,Ee=(Z?he:0)+(Ee>=8192?Ee-16384:Ee),(Z?"":"$")+(Y?gn(Ee):$n(Ee))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(he,Ee){Io(he,0);for(var Y=[],Z=0,Se="",ye="",ke="",Oe="";he.l<he.length;){var He=he[he.l++];switch(He){case 0:Y.push(he.read_shift(8,"f"));break;case 1:ye=S(Ee[0].c,he.read_shift(2),!0),Se=S(Ee[0].r,he.read_shift(2),!1),Y.push(ye+Se);break;case 2:{var mt=S(Ee[0].c,he.read_shift(2),!0),we=S(Ee[0].r,he.read_shift(2),!1);ye=S(Ee[0].c,he.read_shift(2),!0),Se=S(Ee[0].r,he.read_shift(2),!1),Y.push(mt+we+":"+ye+Se)}break;case 3:if(he.l<he.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(he.read_shift(2));break;case 6:{for(var de="";He=he[he.l++];)de+=String.fromCharCode(He);Y.push('"'+de.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:Oe=Y.pop(),ke=Y.pop(),Y.push(["AND","OR"][He-20]+"("+ke+","+Oe+")");break;default:if(He<32&&x[He])Oe=Y.pop(),ke=Y.pop(),Y.push(ke+x[He]+Oe);else if(_[He]){if(Z=_[He][1],Z==69&&(Z=he[he.l++]),Z>Y.length){console.error("WK1 bad formula parse 0x"+He.toString(16)+":|"+Y.join("|")+"|");return}var pe=Y.slice(-Z);Y.length-=Z,Y.push(_[He][0]+"("+pe.join(",")+")")}else return He<=7?console.error("WK1 invalid opcode "+He.toString(16)):He<=24?console.error("WK1 unsupported op "+He.toString(16)):He<=30?console.error("WK1 invalid opcode "+He.toString(16)):He<=115?console.error("WK1 unsupported function opcode "+He.toString(16)):console.error("WK1 unrecognized opcode "+He.toString(16))}}Y.length==1?Ee[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function R(he){var Ee=[{c:0,r:0},{t:"n",v:0},0];return Ee[0].r=he.read_shift(2),Ee[3]=he[he.l++],Ee[0].c=he[he.l++],Ee}function O(he,Ee){var Y=R(he);return Y[1].t="s",Y[1].v=he.read_shift(Ee-4,"cstr"),Y}function k(he,Ee,Y,Z){var Se=At(6+Z.length);Se.write_shift(2,he),Se.write_shift(1,Y),Se.write_shift(1,Ee),Se.write_shift(1,39);for(var ye=0;ye<Z.length;++ye){var ke=Z.charCodeAt(ye);Se.write_shift(1,ke>=128?95:ke)}return Se.write_shift(1,0),Se}function F(he,Ee){var Y=R(he);Y[1].v=he.read_shift(2);var Z=Y[1].v>>1;if(Y[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return Y[1].v=Z,Y}function N(he,Ee){var Y=R(he),Z=he.read_shift(4),Se=he.read_shift(4),ye=he.read_shift(2);if(ye==65535)return Z===0&&Se===3221225472?(Y[1].t="e",Y[1].v=15):Z===0&&Se===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var ke=ye&32768;return ye=(ye&32767)-16446,Y[1].v=(1-ke*2)*(Se*Math.pow(2,ye+32)+Z*Math.pow(2,ye)),Y}function j(he,Ee,Y,Z){var Se=At(14);if(Se.write_shift(2,he),Se.write_shift(1,Y),Se.write_shift(1,Ee),Z==0)return Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(2,65535),Se;var ye=0,ke=0,Oe=0,He=0;return Z<0&&(ye=1,Z=-Z),ke=Math.log2(Z)|0,Z/=Math.pow(2,ke-31),He=Z>>>0,(He&2147483648)==0&&(Z/=2,++ke,He=Z>>>0),Z-=He,He|=2147483648,He>>>=0,Z*=Math.pow(2,32),Oe=Z>>>0,Se.write_shift(4,Oe),Se.write_shift(4,He),ke+=16383+(ye?32768:0),Se.write_shift(2,ke),Se}function ee(he,Ee){var Y=N(he);return he.l+=Ee-14,Y}function K(he,Ee){var Y=R(he),Z=he.read_shift(4);return Y[1].v=Z>>6,Y}function Q(he,Ee){var Y=R(he),Z=he.read_shift(8,"f");return Y[1].v=Z,Y}function be(he,Ee){var Y=Q(he);return he.l+=Ee-10,Y}function te(he,Ee){return he[he.l+Ee-1]==0?he.read_shift(Ee,"cstr"):""}function ne(he,Ee){var Y=he[he.l++];Y>Ee-1&&(Y=Ee-1);for(var Z="";Z.length<Y;)Z+=String.fromCharCode(he[he.l++]);return Z}function H(he,Ee,Y){if(!(!Y.qpro||Ee<21)){var Z=he.read_shift(1);he.l+=17,he.l+=1,he.l+=2;var Se=he.read_shift(Ee-21,"cstr");return[Z,Se]}}function ie(he,Ee){for(var Y={},Z=he.l+Ee;he.l<Z;){var Se=he.read_shift(2);if(Se==14e3){for(Y[Se]=[0,""],Y[Se][0]=he.read_shift(2);he[he.l];)Y[Se][1]+=String.fromCharCode(he[he.l]),he.l++;he.l++}}return Y}function ue(he,Ee){var Y=At(5+he.length);Y.write_shift(2,14e3),Y.write_shift(2,Ee);for(var Z=0;Z<he.length;++Z){var Se=he.charCodeAt(Z);Y[Y.l++]=Se>127?95:Se}return Y[Y.l++]=0,Y}var Te={0:{n:"BOF",f:Zn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:te},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},Ie={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:ee},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:K},38:{n:"??"},39:{n:"NUMBER27",f:Q},40:{n:"FORMULA28",f:be},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:r,to_workbook:t}}();function I$e(e){var t={},i=e.match(ga),s=0,r=!1;if(i)for(;s!=i.length;++s){var n=Wi(i[s]);switch(n[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!n.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(n.val=="1")break;t.cp=zN[parseInt(n.val,10)];break;case"<outline":if(!n.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=n.val;break;case"<sz":t.sz=n.val;break;case"<strike":if(!n.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!n.val)break;switch(n.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(n.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(n.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":n.rgb&&(t.color=n.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=n.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=n.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(n[0].charCodeAt(1)!==47&&!r)throw new Error("Unrecognized rich format "+n[0])}}return t}var N$e=function(){var e=xw("t"),t=xw("rPr");function i(n){var o=n.match(e);if(!o)return{t:"s",v:""};var a={t:"s",v:js(o[1])},l=n.match(t);return l&&(a.s=I$e(l[1])),a}var s=/<(?:\w+:)?r>/g,r=/<\/(?:\w+:)?r>/;return function(o){return o.replace(s,"").split(r).map(i).filter(function(a){return a.v})}}(),V$e=function(){var t=/(\r\n|\n)/g;function i(r,n,o){var a=[];r.u&&a.push("text-decoration: underline;"),r.uval&&a.push("text-underline-style:"+r.uval+";"),r.sz&&a.push("font-size:"+r.sz+"pt;"),r.outline&&a.push("text-effect: outline;"),r.shadow&&a.push("text-shadow: auto;"),n.push('<span style="'+a.join("")+'">'),r.b&&(n.push("<b>"),o.push("</b>")),r.i&&(n.push("<i>"),o.push("</i>")),r.strike&&(n.push("<s>"),o.push("</s>"));var l=r.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(n.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),r}function s(r){var n=[[],r.v,[]];return r.v?(r.s&&i(r.s,n[0],n[2]),n[0].join("")+n[1].replace(t,"<br/>")+n[2].join("")):""}return function(n){return n.map(s).join("")}}(),B$e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,G$e=/<(?:\w+:)?r>/,H$e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function g2(e,t){var i=t?t.cellHTML:!0,s={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(s.t=js(Dr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),s.r=Dr(e),i&&(s.h=t2(s.t))):e.match(G$e)&&(s.r=Dr(e),s.t=js(Dr((e.replace(H$e,"").match(B$e)||[]).join("").replace(ga,""))),i&&(s.h=V$e(N$e(s.r)))),s):{t:""}}var $$e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,W$e=/<(?:\w+:)?(?:si|sstItem)>/g,U$e=/<\/(?:\w+:)?(?:si|sstItem)>/;function z$e(e,t){var i=[],s="";if(!e)return i;var r=e.match($$e);if(r){s=r[2].replace(W$e,"").split(U$e);for(var n=0;n!=s.length;++n){var o=g2(s[n].trim(),t);o!=null&&(i[i.length]=o)}r=Wi(r[1]),i.Count=r.count,i.Unique=r.uniqueCount}return i}var j$e=/^\s|\s$|[\t\n\r]/;function eZ(e,t){if(!t.bookSST)return"";var i=[Un];i[i.length]=Jt("sst",null,{xmlns:_m[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var r=e[s],n="<si>";r.r?n+=r.r:(n+="<t",r.t||(r.t=""),r.t.match(j$e)&&(n+=' xml:space="preserve"'),n+=">"+wr(r.t)+"</t>"),n+="</si>",i[i.length]=n}return i.length>2&&(i[i.length]="</sst>",i[1]=i[1].replace("/>",">")),i.join("")}function K$e(e){return[e.read_shift(4),e.read_shift(4)]}function Y$e(e,t){var i=[],s=!1;return gh(e,function(n,o,a){switch(a){case 159:i.Count=n[0],i.Unique=n[1];break;case 19:i.push(n);break;case 160:return!0;case 35:s=!0;break;case 36:s=!1;break;default:if(o.T,!s||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),i}function X$e(e,t){return t||(t=At(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var q$e=o4e;function Q$e(e){var t=rl();Vt(t,159,X$e(e));for(var i=0;i<e.length;++i)Vt(t,19,q$e(e[i]));return Vt(t,160),t.end()}function tZ(e){for(var t=[],i=e.split(""),s=0;s<i.length;++s)t[s]=i[s].charCodeAt(0);return t}function jd(e,t){var i={};return i.Major=e.read_shift(2),i.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),i}function J$e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=jd(e,4),t.U=jd(e,4),t.W=jd(e,4),t}function Z$e(e){for(var t=e.read_shift(4),i=e.l+t-4,s={},r=e.read_shift(4),n=[];r-- >0;)n.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(s.name=e.read_shift(0,"lpp4"),s.comps=n,e.l!=i)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+i);return s}function eWe(e){var t=[];e.l+=4;for(var i=e.read_shift(4);i-- >0;)t.push(Z$e(e));return t}function tWe(e){var t=[];e.l+=4;for(var i=e.read_shift(4);i-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function iWe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=jd(e,4),t.U=jd(e,4),t.W=jd(e,4),t}function sWe(e){var t=iWe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function iZ(e,t){var i=e.l+t,s={};s.Flags=e.read_shift(4)&63,e.l+=4,s.AlgID=e.read_shift(4);var r=!1;switch(s.AlgID){case 26126:case 26127:case 26128:r=s.Flags==36;break;case 26625:r=s.Flags==4;break;case 0:r=s.Flags==16||s.Flags==4||s.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+s.AlgID}if(!r)throw new Error("Encryption Flags/AlgID mismatch");return s.AlgIDHash=e.read_shift(4),s.KeySize=e.read_shift(4),s.ProviderType=e.read_shift(4),e.l+=8,s.CSPName=e.read_shift(i-e.l>>1,"utf16le"),e.l=i,s}function sZ(e,t){var i={},s=e.l+t;return e.l+=4,i.Salt=e.slice(e.l,e.l+16),e.l+=16,i.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),i.VerifierHash=e.slice(e.l,s),e.l=s,i}function rWe(e){var t=jd(e);switch(t.Minor){case 2:return[t.Minor,nWe(e)];case 3:return[t.Minor,oWe()];case 4:return[t.Minor,aWe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function nWe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var i=e.read_shift(4),s=iZ(e,i),r=sZ(e,e.length-e.l);return{t:"Std",h:s,v:r}}function oWe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function aWe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var i=e.read_shift(e.length-e.l,"utf8"),s={};return i.replace(ga,function(n){var o=Wi(n);switch(nd(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(a){s[a]=o[a]});break;case"<dataIntegrity":s.encryptedHmacKey=o.encryptedHmacKey,s.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":s.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":s.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":s.encs.push(o);break;default:throw o[0]}}),s}function lWe(e,t){var i={},s=i.EncryptionVersionInfo=jd(e,4);if(t-=4,s.Minor!=2)throw new Error("unrecognized minor version code: "+s.Minor);if(s.Major>4||s.Major<2)throw new Error("unrecognized major version code: "+s.Major);i.Flags=e.read_shift(4),t-=4;var r=e.read_shift(4);return t-=4,i.EncryptionHeader=iZ(e,r),t-=r,i.EncryptionVerifier=sZ(e,t),i}function cWe(e){var t={},i=t.EncryptionVersionInfo=jd(e,4);if(i.Major!=1||i.Minor!=1)throw"unrecognized version code "+i.Major+" : "+i.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function m2(e){var t=0,i,s=tZ(e),r=s.length+1,n,o,a,l,c;for(i=Pf(r),i[0]=s.length,n=1;n!=r;++n)i[n]=s[n-1];for(n=r-1;n>=0;--n)o=i[n],a=(t&16384)===0?0:1,l=t<<1&32767,c=a|l,t=c^o;return t^52811}var rZ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],i=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],s=function(o){return(o/2|o*128)&255},r=function(o,a){return s(o^a)},n=function(o){for(var a=t[o.length-1],l=104,c=o.length-1;c>=0;--c)for(var u=o[c],h=0;h!=7;++h)u&64&&(a^=i[l]),u*=2,--l;return a};return function(o){for(var a=tZ(o),l=n(a),c=a.length,u=Pf(16),h=0;h!=16;++h)u[h]=0;var f,p,y;for((c&1)===1&&(f=l>>8,u[c]=r(e[0],f),--c,f=l&255,p=a[a.length-1],u[c]=r(p,f));c>0;)--c,f=l>>8,u[c]=r(a[c],f),--c,f=l&255,u[c]=r(a[c],f);for(c=15,y=15-a.length;y>0;)f=l>>8,u[c]=r(e[y],f),--c,--y,f=l&255,u[c]=r(a[c],f),--c,--y;return u}}(),uWe=function(e,t,i,s,r){r||(r=t),s||(s=rZ(e));var n,o;for(n=0;n!=t.length;++n)o=t[n],o^=s[i],o=(o>>5|o<<3)&255,r[n]=o,++i;return[r,i,s]},dWe=function(e){var t=0,i=rZ(e);return function(s){var r=uWe("",s,t,i);return t=r[1],r[0]}};function hWe(e,t,i,s){var r={key:Zn(e),verificationBytes:Zn(e)};return i.password&&(r.verifier=m2(i.password)),s.valid=r.verificationBytes===r.verifier,s.valid&&(s.insitu=dWe(i.password)),r}function fWe(e,t,i){var s=i||{};return s.Info=e.read_shift(2),e.l-=2,s.Info===1?s.Data=cWe(e):s.Data=lWe(e,t),s}function pWe(e,t,i){var s={Type:i.biff>=8?e.read_shift(2):0};return s.Type?fWe(e,t-2,s):hWe(e,i.biff>=8?t:t-2,i,s),s}var nZ=function(){function e(r,n){switch(n.type){case"base64":return t(Ll(r),n);case"binary":return t(r,n);case"buffer":return t(bs&&Buffer.isBuffer(r)?r.toString("binary"):Qf(r),n);case"array":return t(Gg(r),n)}throw new Error("Unrecognized type "+n.type)}function t(r,n){var o=n||{},a=o.dense?[]:{},l=r.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,h){Array.isArray(a)&&(a[h]=[]);for(var f=/\\\w+\b/g,p=0,y,v=-1;y=f.exec(u);){switch(y[0]){case"\\cell":var C=u.slice(p,f.lastIndex-y[0].length);if(C[0]==" "&&(C=C.slice(1)),++v,C.length){var S={v:C,t:"s"};Array.isArray(a)?a[h][v]=S:a[Vi({r:h,c:v})]=S}break}p=f.lastIndex}v>c.e.c&&(c.e.c=v)}),a["!ref"]=us(c),a}function i(r,n){return Jf(e(r,n),n)}function s(r){for(var n=["{\\rtf1\\ansi"],o=Ks(r["!ref"]),a,l=Array.isArray(r),c=o.s.r;c<=o.e.r;++c){n.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)n.push("\\cellx"+(u+1));for(n.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=Vi({r:c,c:u});a=l?(r[c]||[])[u]:r[h],!(!a||a.v==null&&(!a.f||a.F))&&(n.push(" "+(a.w||(Jd(a),a.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}return{to_workbook:i,to_sheet:e,from_sheet:s}}();function gWe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Aw(e){for(var t=0,i=1;t!=3;++t)i=i*256+(e[t]>255?255:e[t]<0?0:e[t]);return i.toString(16).toUpperCase().slice(1)}function mWe(e){var t=e[0]/255,i=e[1]/255,s=e[2]/255,r=Math.max(t,i,s),n=Math.min(t,i,s),o=r-n;if(o===0)return[0,0,t];var a=0,l=0,c=r+n;switch(l=o/(c>1?2-c:c),r){case t:a=((i-s)/o+6)%6;break;case i:a=(s-t)/o+2;break;case s:a=(t-i)/o+4;break}return[a/6,l,c/2]}function vWe(e){var t=e[0],i=e[1],s=e[2],r=i*2*(s<.5?s:1-s),n=s-r/2,o=[n,n,n],a=6*t,l;if(i!==0)switch(a|0){case 0:case 6:l=r*a,o[0]+=r,o[1]+=l;break;case 1:l=r*(2-a),o[0]+=l,o[1]+=r;break;case 2:l=r*(a-2),o[1]+=r,o[2]+=l;break;case 3:l=r*(4-a),o[1]+=l,o[2]+=r;break;case 4:l=r*(a-4),o[2]+=r,o[0]+=l;break;case 5:l=r*(6-a),o[2]+=l,o[0]+=r;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function rT(e,t){if(t===0)return e;var i=mWe(gWe(e));return t<0?i[2]=i[2]*(1+t):i[2]=1-(1-i[2])*(1-t),Aw(vWe(i))}var oZ=6,yWe=15,CWe=1,ta=oZ;function kw(e){return Math.floor((e+Math.round(128/ta)/256)*ta)}function Dw(e){return Math.floor((e-5)/ta*100+.5)/100}function nT(e){return Math.round((e*ta+5)/ta*256)/256}function EP(e){return nT(Dw(kw(e)))}function v2(e){var t=Math.abs(e-EP(e)),i=ta;if(t>.005)for(ta=CWe;ta<yWe;++ta)Math.abs(e-EP(e))<=t&&(t=Math.abs(e-EP(e)),i=ta);ta=i}function Ff(e){e.width?(e.wpx=kw(e.width),e.wch=Dw(e.wpx),e.MDW=ta):e.wpx?(e.wch=Dw(e.wpx),e.width=nT(e.wch),e.MDW=ta):typeof e.wch=="number"&&(e.width=nT(e.wch),e.wpx=kw(e.width),e.MDW=ta),e.customWidth&&delete e.customWidth}var bWe=96,aZ=bWe;function Rw(e){return e*96/aZ}function O0(e){return e*aZ/96}var wWe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function SWe(e,t,i,s){t.Borders=[];var r={},n=!1;(e[0].match(ga)||[]).forEach(function(o){var a=Wi(o);switch(nd(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":r={},a.diagonalUp&&(r.diagonalUp=zr(a.diagonalUp)),a.diagonalDown&&(r.diagonalDown=zr(a.diagonalDown)),t.Borders.push(r);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s&&s.WTF&&!n)throw new Error("unrecognized "+a[0]+" in borders")}})}function xWe(e,t,i,s){t.Fills=[];var r={},n=!1;(e[0].match(ga)||[]).forEach(function(o){var a=Wi(o);switch(nd(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":r={},t.Fills.push(r);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(r),r={};break;case"<patternFill":case"<patternFill>":a.patternType&&(r.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":r.bgColor||(r.bgColor={}),a.indexed&&(r.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(r.bgColor.theme=parseInt(a.theme,10)),a.tint&&(r.bgColor.tint=parseFloat(a.tint)),a.rgb&&(r.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":r.fgColor||(r.fgColor={}),a.theme&&(r.fgColor.theme=parseInt(a.theme,10)),a.tint&&(r.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(r.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s&&s.WTF&&!n)throw new Error("unrecognized "+a[0]+" in fills")}})}function EWe(e,t,i,s){t.Fonts=[];var r={},n=!1;(e[0].match(ga)||[]).forEach(function(o){var a=Wi(o);switch(nd(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(r),r={};break;case"<name":a.val&&(r.name=Dr(a.val));break;case"<name/>":case"</name>":break;case"<b":r.bold=a.val?zr(a.val):1;break;case"<b/>":r.bold=1;break;case"<i":r.italic=a.val?zr(a.val):1;break;case"<i/>":r.italic=1;break;case"<u":switch(a.val){case"none":r.underline=0;break;case"single":r.underline=1;break;case"double":r.underline=2;break;case"singleAccounting":r.underline=33;break;case"doubleAccounting":r.underline=34;break}break;case"<u/>":r.underline=1;break;case"<strike":r.strike=a.val?zr(a.val):1;break;case"<strike/>":r.strike=1;break;case"<outline":r.outline=a.val?zr(a.val):1;break;case"<outline/>":r.outline=1;break;case"<shadow":r.shadow=a.val?zr(a.val):1;break;case"<shadow/>":r.shadow=1;break;case"<condense":r.condense=a.val?zr(a.val):1;break;case"<condense/>":r.condense=1;break;case"<extend":r.extend=a.val?zr(a.val):1;break;case"<extend/>":r.extend=1;break;case"<sz":a.val&&(r.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(r.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(r.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(r.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=zN[parseInt(a.val,10)];break;case"<color":if(r.color||(r.color={}),a.auto&&(r.color.auto=zr(a.auto)),a.rgb)r.color.rgb=a.rgb.slice(-6);else if(a.indexed){r.color.index=parseInt(a.indexed,10);var l=ug[r.color.index];r.color.index==81&&(l=ug[1]),l||(l=ug[1]),r.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(r.color.theme=parseInt(a.theme,10),a.tint&&(r.color.tint=parseFloat(a.tint)),a.theme&&i.themeElements&&i.themeElements.clrScheme&&(r.color.rgb=rT(i.themeElements.clrScheme[r.color.theme].rgb,r.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s&&s.WTF&&!n)throw new Error("unrecognized "+a[0]+" in fonts")}})}function _We(e,t,i){t.NumberFmt=[];for(var s=Pn(Li),r=0;r<s.length;++r)t.NumberFmt[s[r]]=Li[s[r]];var n=e[0].match(ga);if(n)for(r=0;r<n.length;++r){var o=Wi(n[r]);switch(nd(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=js(Dr(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=a}zd(a,l)}}break;case"</numFmt>":break;default:if(i.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function TWe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var s=i[0];s<=i[1];++s)e[s]!=null&&(t[t.length]=Jt("numFmt",null,{numFmtId:s,formatCode:wr(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Jt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var M1=["numFmtId","fillId","fontId","borderId","xfId"],L1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function AWe(e,t,i){t.CellXf=[];var s,r=!1;(e[0].match(ga)||[]).forEach(function(n){var o=Wi(n),a=0;switch(nd(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(s=o,delete s[0],a=0;a<M1.length;++a)s[M1[a]]&&(s[M1[a]]=parseInt(s[M1[a]],10));for(a=0;a<L1.length;++a)s[L1[a]]&&(s[L1[a]]=zr(s[L1[a]]));if(t.NumberFmt&&s.numFmtId>392){for(a=392;a>60;--a)if(t.NumberFmt[s.numFmtId]==t.NumberFmt[a]){s.numFmtId=a;break}}t.CellXf.push(s);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=zr(o.wrapText)),s.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":r=!0;break;case"</AlternateContent>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(i&&i.WTF&&!r)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function kWe(e){var t=[];return t[t.length]=Jt("cellXfs",null),e.forEach(function(i){t[t.length]=Jt("xf",null,i)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Jt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var DWe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,i=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,s=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,n=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,c){var u={};if(!a)return u;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=a.match(t))&&_We(h,u,c),(h=a.match(r))&&EWe(h,u,l,c),(h=a.match(s))&&xWe(h,u,l,c),(h=a.match(n))&&SWe(h,u,l,c),(h=a.match(i))&&AWe(h,u,c),u}}();function lZ(e,t){var i=[Un,Jt("styleSheet",null,{xmlns:_m[0],"xmlns:vt":go.vt})],s;return e.SSF&&(s=TWe(e.SSF))!=null&&(i[i.length]=s),i[i.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',i[i.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',i[i.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',i[i.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=kWe(t.cellXfs))&&(i[i.length]=s),i[i.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',i[i.length]='<dxfs count="0"/>',i[i.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',i.length>2&&(i[i.length]="</styleSheet>",i[1]=i[1].replace("/>",">")),i.join("")}function RWe(e,t){var i=e.read_shift(2),s=ua(e);return[i,s]}function PWe(e,t,i){i||(i=At(6+4*t.length)),i.write_shift(2,e),Eo(t,i);var s=i.length>i.l?i.slice(0,i.l):i;return i.l==null&&(i.l=i.length),s}function FWe(e,t,i){var s={};s.sz=e.read_shift(2)/20;var r=f4e(e);r.fItalic&&(s.italic=1),r.fCondense&&(s.condense=1),r.fExtend&&(s.extend=1),r.fShadow&&(s.shadow=1),r.fOutline&&(s.outline=1),r.fStrikeout&&(s.strike=1);var n=e.read_shift(2);switch(n===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var a=e.read_shift(1);a>0&&(s.family=a);var l=e.read_shift(1);switch(l>0&&(s.charset=l),e.l++,s.color=h4e(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=ua(e),s}function MWe(e,t){t||(t=At(153)),t.write_shift(2,e.sz*20),p4e(e,t),t.write_shift(2,e.bold?700:400);var i=0;e.vertAlign=="superscript"?i=1:e.vertAlign=="subscript"&&(i=2),t.write_shift(2,i),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),tT(e.color,t);var s=0;return s=2,t.write_shift(1,s),Eo(e.name,t),t.length>t.l?t.slice(0,t.l):t}var LWe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],_P,OWe=fa;function O6(e,t){t||(t=At(84)),_P||(_P=rk(LWe));var i=_P[e.patternType];i==null&&(i=40),t.write_shift(4,i);var s=0;if(i!=40)for(tT({auto:1},t),tT({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function IWe(e,t){var i=e.l+t,s=e.read_shift(2),r=e.read_shift(2);return e.l=i,{ixfe:s,numFmtId:r}}function cZ(e,t,i){i||(i=At(16)),i.write_shift(2,t||0),i.write_shift(2,e.numFmtId||0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0);var s=0;return i.write_shift(1,s),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i}function lC(e,t){return t||(t=At(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var NWe=fa;function VWe(e,t){return t||(t=At(51)),t.write_shift(1,0),lC(null,t),lC(null,t),lC(null,t),lC(null,t),lC(null,t),t.length>t.l?t.slice(0,t.l):t}function BWe(e,t){return t||(t=At(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),eT(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function GWe(e,t,i){var s=At(2052);return s.write_shift(4,e),eT(t,s),eT(i,s),s.length>s.l?s.slice(0,s.l):s}function HWe(e,t,i){var s={};s.NumberFmt=[];for(var r in Li)s.NumberFmt[r]=Li[r];s.CellXf=[],s.Fonts=[];var n=[],o=!1;return gh(e,function(l,c,u){switch(u){case 44:s.NumberFmt[l[0]]=l[1],zd(l[1],l[0]);break;case 43:s.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=rT(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:n[n.length-1]==617&&s.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:n.push(u),o=!0;break;case 38:n.pop(),o=!1;break;default:if(c.T>0)n.push(u);else if(c.T<0)n.pop();else if(!o||i.WTF&&n[n.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),s}function $We(e,t){if(t){var i=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var r=s[0];r<=s[1];++r)t[r]!=null&&++i}),i!=0&&(Vt(e,615,qc(i)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var r=s[0];r<=s[1];++r)t[r]!=null&&Vt(e,44,PWe(r,t[r]))}),Vt(e,616))}}function WWe(e){var t=1;Vt(e,611,qc(t)),Vt(e,43,MWe({sz:12,color:{theme:1},name:"Calibri",family:2})),Vt(e,612)}function UWe(e){var t=2;Vt(e,603,qc(t)),Vt(e,45,O6({patternType:"none"})),Vt(e,45,O6({patternType:"gray125"})),Vt(e,604)}function zWe(e){var t=1;Vt(e,613,qc(t)),Vt(e,46,VWe()),Vt(e,614)}function jWe(e){var t=1;Vt(e,626,qc(t)),Vt(e,47,cZ({numFmtId:0},65535)),Vt(e,627)}function KWe(e,t){Vt(e,617,qc(t.length)),t.forEach(function(i){Vt(e,47,cZ(i,0))}),Vt(e,618)}function YWe(e){var t=1;Vt(e,619,qc(t)),Vt(e,48,BWe({xfId:0,name:"Normal"})),Vt(e,620)}function XWe(e){var t=0;Vt(e,505,qc(t)),Vt(e,506)}function qWe(e){var t=0;Vt(e,508,GWe(t,"TableStyleMedium9","PivotStyleMedium4")),Vt(e,509)}function QWe(e,t){var i=rl();return Vt(i,278),$We(i,e.SSF),WWe(i),UWe(i),zWe(i),jWe(i),KWe(i,t.cellXfs),YWe(i),XWe(i),qWe(i),Vt(i,279),i.end()}var JWe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function ZWe(e,t,i){t.themeElements.clrScheme=[];var s={};(e[0].match(ga)||[]).forEach(function(r){var n=Wi(r);switch(n[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":s.rgb=n.val;break;case"<a:sysClr":s.rgb=n.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":n[0].charAt(1)==="/"?(t.themeElements.clrScheme[JWe.indexOf(n[0])]=s,s={}):s.name=n[0].slice(3,n[0].length-1);break;default:if(i&&i.WTF)throw new Error("Unrecognized "+n[0]+" in clrScheme")}})}function e6e(){}function t6e(){}var i6e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,s6e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,r6e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function n6e(e,t,i){t.themeElements={};var s;[["clrScheme",i6e,ZWe],["fontScheme",s6e,e6e],["fmtScheme",r6e,t6e]].forEach(function(r){if(!(s=e.match(r[1])))throw new Error(r[0]+" not found in themeElements");r[2](s,t,i)})}var o6e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function uZ(e,t){(!e||e.length===0)&&(e=y2());var i,s={};if(!(i=e.match(o6e)))throw new Error("themeElements not found in theme");return n6e(i[0],s,t),s.raw=e,s}function y2(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var i=[Un];return i[i.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',i[i.length]="<a:themeElements>",i[i.length]='<a:clrScheme name="Office">',i[i.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',i[i.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',i[i.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',i[i.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',i[i.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',i[i.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',i[i.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',i[i.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',i[i.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',i[i.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',i[i.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',i[i.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',i[i.length]="</a:clrScheme>",i[i.length]='<a:fontScheme name="Office">',i[i.length]="<a:majorFont>",i[i.length]='<a:latin typeface="Cambria"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface=" "/>',i[i.length]='<a:font script="Hang" typeface=" "/>',i[i.length]='<a:font script="Hans" typeface=""/>',i[i.length]='<a:font script="Hant" typeface=""/>',i[i.length]='<a:font script="Arab" typeface="Times New Roman"/>',i[i.length]='<a:font script="Hebr" typeface="Times New Roman"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="MoolBoran"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Times New Roman"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:majorFont>",i[i.length]="<a:minorFont>",i[i.length]='<a:latin typeface="Calibri"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface=" "/>',i[i.length]='<a:font script="Hang" typeface=" "/>',i[i.length]='<a:font script="Hans" typeface=""/>',i[i.length]='<a:font script="Hant" typeface=""/>',i[i.length]='<a:font script="Arab" typeface="Arial"/>',i[i.length]='<a:font script="Hebr" typeface="Arial"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="DaunPenh"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Arial"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:minorFont>",i[i.length]="</a:fontScheme>",i[i.length]='<a:fmtScheme name="Office">',i[i.length]="<a:fillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="1"/>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="0"/>',i[i.length]="</a:gradFill>",i[i.length]="</a:fillStyleLst>",i[i.length]="<a:lnStyleLst>",i[i.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]="</a:lnStyleLst>",i[i.length]="<a:effectStyleLst>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',i[i.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',i[i.length]="</a:effectStyle>",i[i.length]="</a:effectStyleLst>",i[i.length]="<a:bgFillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]="</a:bgFillStyleLst>",i[i.length]="</a:fmtScheme>",i[i.length]="</a:themeElements>",i[i.length]="<a:objectDefaults>",i[i.length]="<a:spDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',i[i.length]="</a:spDef>",i[i.length]="<a:lnDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',i[i.length]="</a:lnDef>",i[i.length]="</a:objectDefaults>",i[i.length]="<a:extraClrSchemeLst/>",i[i.length]="</a:theme>",i.join("")}function a6e(e,t,i){var s=e.l+t,r=e.read_shift(4);if(r!==124226){if(!i.cellStyles){e.l=s;return}var n=e.slice(e.l);e.l=s;var o;try{o=iJ(n,{type:"array"})}catch{return}var a=Tl(o,"theme/theme/theme1.xml",!0);if(a)return uZ(a,i)}}function l6e(e){return e.read_shift(4)}function c6e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=u6e(e,4);break;case 2:t.xclrValue=WJ(e);break;case 3:t.xclrValue=l6e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function u6e(e,t){return fa(e,t)}function d6e(e,t){return fa(e,t)}function h6e(e){var t=e.read_shift(2),i=e.read_shift(2)-4,s=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:s[1]=c6e(e);break;case 6:s[1]=d6e(e,i);break;case 14:case 15:s[1]=e.read_shift(i===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+i)}return s}function f6e(e,t){var i=e.l+t;e.l+=2;var s=e.read_shift(2);e.l+=2;for(var r=e.read_shift(2),n=[];r-- >0;)n.push(h6e(e,i-e.l));return{ixfe:s,ext:n}}function p6e(e,t){t.forEach(function(i){i[0]})}function g6e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ua(e)}}function m6e(e){var t=At(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Eo(e.name,t),t.slice(0,t.l)}function v6e(e){for(var t=[],i=e.read_shift(4);i-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function y6e(e){var t=At(4+8*e.length);t.write_shift(4,e.length);for(var i=0;i<e.length;++i)t.write_shift(4,e[i][0]),t.write_shift(4,e[i][1]);return t}function C6e(e,t){var i=At(8+2*t.length);return i.write_shift(4,e),Eo(t,i),i.slice(0,i.l)}function b6e(e){return e.l+=4,e.read_shift(4)!=0}function w6e(e,t){var i=At(8);return i.write_shift(4,e),i.write_shift(4,1),i}function S6e(e,t,i){var s={Types:[],Cell:[],Value:[]},r=i||{},n=[],o=!1,a=2;return gh(e,function(l,c,u){switch(u){case 335:s.Types.push({name:l.name});break;case 51:l.forEach(function(h){a==1?s.Cell.push({type:s.Types[h[0]-1].name,index:h[1]}):a==0&&s.Value.push({type:s.Types[h[0]-1].name,index:h[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:n.push(u),o=!0;break;case 36:n.pop(),o=!1;break;default:if(!c.T){if(!o||r.WTF&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),s}function x6e(){var e=rl();return Vt(e,332),Vt(e,334,qc(1)),Vt(e,335,m6e({name:"XLDAPR",version:12e4,flags:3496657072})),Vt(e,336),Vt(e,339,C6e(1,"XLDAPR")),Vt(e,52),Vt(e,35,qc(514)),Vt(e,4096,qc(0)),Vt(e,4097,tc(1)),Vt(e,36),Vt(e,53),Vt(e,340),Vt(e,337,w6e(1)),Vt(e,51,y6e([[1,0]])),Vt(e,338),Vt(e,333),e.end()}function E6e(e,t,i){var s={Types:[],Cell:[],Value:[]};if(!e)return s;var r=!1,n=2,o;return e.replace(ga,function(a){var l=Wi(a);switch(nd(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":s.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<s.Types.length;++c)s.Types[c].name==l.name&&(o=s.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":n==1?s.Cell.push({type:s.Types[l.t-1].name,index:+l.v}):n==0&&s.Value.push({type:s.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":n=1;break;case"</cellMetadata>":n=2;break;case"<valueMetadata":n=0;break;case"</valueMetadata>":n=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!r&&i.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),s}function dZ(){var e=[Un];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function _6e(e){var t=[];if(!e)return t;var i=1;return(e.match(ga)||[]).forEach(function(s){var r=Wi(s);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?i=r.i:r.i=i,t.push(r);break}}),t}function T6e(e){var t={};t.i=e.read_shift(4);var i={};i.r=e.read_shift(4),i.c=e.read_shift(4),t.r=Vi(i);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}function A6e(e,t,i){var s=[];return gh(e,function(n,o,a){switch(a){case 63:s.push(n);break;default:if(!o.T)throw new Error("Unexpected record 0x"+a.toString(16))}}),s}function k6e(e,t,i,s){if(!e)return e;var r=s||{},n=!1;gh(e,function(a,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:n=!0;break;case 36:n=!1;break;default:if(!l.T){if(!n||r.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},r)}function D6e(e,t){if(!e)return"??";var i=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][i].Target}var Dv=1024;function hZ(e,t){for(var i=[21600,21600],s=["m0,0l0",i[1],i[0],i[1],i[0],"0xe"].join(","),r=[Jt("xml",null,{"xmlns:v":Sl.v,"xmlns:o":Sl.o,"xmlns:x":Sl.x,"xmlns:mv":Sl.mv}).replace(/\/>/,">"),Jt("o:shapelayout",Jt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Jt("v:shapetype",[Jt("v:stroke",null,{joinstyle:"miter"}),Jt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:i.join(","),path:s})];Dv<e*1e3;)Dv+=1e3;return t.forEach(function(n){var o=mn(n[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?Jt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Jt("v:fill",l,a),u={on:"t",obscured:"t"};++Dv,r=r.concat(["<v:shape"+Ew({id:"_x0000_s"+Dv,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(n[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Jt("v:shadow",null,u),Jt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Bo("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Bo("x:AutoFill","False"),Bo("x:Row",String(o.r)),Bo("x:Column",String(o.c)),n[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function I6(e,t,i,s){var r=Array.isArray(e),n;t.forEach(function(o){var a=mn(o.ref);if(r?(e[a.r]||(e[a.r]=[]),n=e[a.r][a.c]):n=e[o.ref],!n){n={t:"z"},r?e[a.r][a.c]=n:e[o.ref]=n;var l=Ks(e["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var c=us(l);c!==e["!ref"]&&(e["!ref"]=c)}n.c||(n.c=[]);var u={a:o.author,t:o.t,r:o.r,T:i};o.h&&(u.h=o.h);for(var h=n.c.length-1;h>=0;--h){if(!i&&n.c[h].T)return;i&&!n.c[h].T&&n.c.splice(h,1)}if(i&&s){for(h=0;h<s.length;++h)if(u.a==s[h].id){u.a=s[h].name||u.a;break}}n.c.push(u)})}function R6e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var i=[],s=[],r=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);r&&r[1]&&r[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&i.push(a[1])}});var n=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return n&&n[1]&&n[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=Wi(a[0]),c={author:l.authorId&&i[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=mn(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!h&&!!h[1]&&g2(h[1])||{r:"",t:"",h:""};c.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),c.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=f.h),s.push(c)}}}}),s}function fZ(e){var t=[Un,Jt("comments",null,{xmlns:_m[0]})],i=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(r){var n=wr(r.a);i.indexOf(n)==-1&&(i.push(n),t.push("<author>"+n+"</author>")),r.T&&r.ID&&i.indexOf("tc="+r.ID)==-1&&(i.push("tc="+r.ID),t.push("<author>tc="+r.ID+"</author>"))})}),i.length==0&&(i.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var r=0,n=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?r=i.indexOf("tc="+s[1][0].ID):s[1].forEach(function(l){l.a&&(r=i.indexOf(wr(l.a))),n.push(l.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+r+'"><text>'),n.length<=1)t.push(Bo("t",wr(n[0]||"")));else{for(var o=`Comment:
    `+n[0]+`
`,a=1;a<n.length;++a)o+=`Reply:
    `+n[a]+`
`;t.push(Bo("t",wr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function P6e(e,t){var i=[],s=!1,r={},n=0;return e.replace(ga,function(a,l){var c=Wi(a);switch(nd(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":r={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":r.t!=null&&i.push(r);break;case"<text>":case"<text":n=l+a.length;break;case"</text>":r.t=e.slice(n,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":s=!0;break;case"</mentions>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return a}),i}function F6e(e,t,i){var s=[Un,Jt("ThreadedComments",null,{xmlns:go.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var n="";(r[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+i.tcid++).slice(-12)+"}"};a==0?n=l.id:l.parentId=n,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(Jt("threadedComment",Bo("text",o.t||""),l))})}),s.push("</ThreadedComments>"),s.join("")}function M6e(e,t){var i=[],s=!1;return e.replace(ga,function(n){var o=Wi(n);switch(nd(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":i.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return n}),i}function L6e(e){var t=[Un,Jt("personList",null,{xmlns:go.TCMNT,"xmlns:x":_m[0]}).replace(/[\/]>/,">")];return e.forEach(function(i,s){t.push(Jt("person",null,{displayName:i,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:i,providerId:"None"}))}),t.push("</personList>"),t.join("")}function O6e(e){var t={};t.iauthor=e.read_shift(4);var i=Dm(e);return t.rfx=i.s,t.ref=Vi(i.s),e.l+=16,t}function I6e(e,t){return t==null&&(t=At(36)),t.write_shift(4,e[1].iauthor),gy(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var N6e=ua;function V6e(e){return Eo(e.slice(0,54))}function B6e(e,t){var i=[],s=[],r={},n=!1;return gh(e,function(a,l,c){switch(c){case 632:s.push(a);break;case 635:r=a;break;case 637:r.t=a.t,r.h=a.h,r.r=a.r;break;case 636:if(r.author=s[r.iauthor],delete r.iauthor,t.sheetRows&&r.rfx&&t.sheetRows<=r.rfx.r)break;r.t||(r.t=""),delete r.rfx,i.push(r);break;case 3072:break;case 35:n=!0;break;case 36:n=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!n||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),i}function G6e(e){var t=rl(),i=[];return Vt(t,628),Vt(t,630),e.forEach(function(s){s[1].forEach(function(r){i.indexOf(r.a)>-1||(i.push(r.a.slice(0,54)),Vt(t,632,V6e(r.a)))})}),Vt(t,631),Vt(t,633),e.forEach(function(s){s[1].forEach(function(r){r.iauthor=i.indexOf(r.a);var n={s:mn(s[0]),e:mn(s[0])};Vt(t,635,I6e([n,r])),r.t&&r.t.length>0&&Vt(t,637,l4e(r)),Vt(t,636),delete r.iauthor})}),Vt(t,634),Vt(t,629),t.end()}var H6e="application/vnd.ms-office.vbaProject";function $6e(e){var t=ki.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(i,s){if(!(i.slice(-1)==="/"||!i.match(/_VBA_PROJECT_CUR/))){var r=i.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ki.utils.cfb_add(t,r,e.FileIndex[s].content)}}),ki.write(t)}function W6e(e,t){t.FullPaths.forEach(function(i,s){if(s!=0){var r=i.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&ki.utils.cfb_add(e,r,t.FileIndex[s].content)}})}var pZ=["xlsb","xlsm","xlam","biff8","xla"];function U6e(){return{"!type":"dialog"}}function z6e(){return{"!type":"dialog"}}function j6e(){return{"!type":"macro"}}function K6e(){return{"!type":"macro"}}var zv=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function i(s,r,n,o){var a=!1,l=!1;n.length==0?l=!0:n.charAt(0)=="["&&(l=!0,n=n.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var c=n.length>0?parseInt(n,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return a?u+=t.c:--u,l?c+=t.r:--c,r+(a?"":"$")+gn(u)+(l?"":"$")+$n(c)}return function(r,n){return t=n,r.replace(e,i)}}(),C2=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,b2=function(){return function(t,i){return t.replace(C2,function(s,r,n,o,a,l){var c=o2(o)-(n?0:i.c),u=n2(l)-(a?0:i.r),h=u==0?"":a?u+1:"["+u+"]",f=c==0?"":n?c+1:"["+c+"]";return r+"R"+h+"C"+f})}}();function gZ(e,t){return e.replace(C2,function(i,s,r,n,o,a){return s+(r=="$"?r+n:gn(o2(n)+t.c))+(o=="$"?o+a:$n(n2(a)+t.r))})}function Y6e(e,t,i){var s=ll(t),r=s.s,n=mn(i),o={r:n.r-r.r,c:n.c-r.c};return gZ(e,o)}function X6e(e){return e.length!=1}function N6(e){return e.replace(/_xlfn\./g,"")}function qn(e){e.l+=1}function Mf(e,t){var i=e.read_shift(2);return[i&16383,i>>14&1,i>>15&1]}function mZ(e,t,i){var s=2;if(i){if(i.biff>=2&&i.biff<=5)return vZ(e);i.biff==12&&(s=4)}var r=e.read_shift(s),n=e.read_shift(s),o=Mf(e),a=Mf(e);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:n,c:a[0],cRel:a[1],rRel:a[2]}}}function vZ(e){var t=Mf(e),i=Mf(e),s=e.read_shift(1),r=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:i[0],c:r,cRel:i[1],rRel:i[2]}}}function q6e(e,t,i){if(i.biff<8)return vZ(e);var s=e.read_shift(i.biff==12?4:2),r=e.read_shift(i.biff==12?4:2),n=Mf(e),o=Mf(e);return{s:{r:s,c:n[0],cRel:n[1],rRel:n[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}function yZ(e,t,i){if(i&&i.biff>=2&&i.biff<=5)return Q6e(e);var s=e.read_shift(i&&i.biff==12?4:2),r=Mf(e);return{r:s,c:r[0],cRel:r[1],rRel:r[2]}}function Q6e(e){var t=Mf(e),i=e.read_shift(1);return{r:t[0],c:i,cRel:t[1],rRel:t[2]}}function J6e(e){var t=e.read_shift(2),i=e.read_shift(2);return{r:t,c:i&255,fQuoted:!!(i&16384),cRel:i>>15,rRel:i>>15}}function Z6e(e,t,i){var s=i&&i.biff?i.biff:8;if(s>=2&&s<=5)return e8e(e);var r=e.read_shift(s>=12?4:2),n=e.read_shift(2),o=(n&16384)>>14,a=(n&32768)>>15;if(n&=16383,a==1)for(;r>524287;)r-=1048576;if(o==1)for(;n>8191;)n=n-16384;return{r,c:n,cRel:o,rRel:a}}function e8e(e){var t=e.read_shift(2),i=e.read_shift(1),s=(t&32768)>>15,r=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),r==1&&i>=128&&(i=i-256),{r:t,c:i,cRel:r,rRel:s}}function t8e(e,t,i){var s=(e[e.l++]&96)>>5,r=mZ(e,i.biff>=2&&i.biff<=5?6:8,i);return[s,r]}function i8e(e,t,i){var s=(e[e.l++]&96)>>5,r=e.read_shift(2,"i"),n=8;if(i)switch(i.biff){case 5:e.l+=12,n=6;break;case 12:n=12;break}var o=mZ(e,n,i);return[s,r,o]}function s8e(e,t,i){var s=(e[e.l++]&96)>>5;return e.l+=i&&i.biff>8?12:i.biff<8?6:8,[s]}function r8e(e,t,i){var s=(e[e.l++]&96)>>5,r=e.read_shift(2),n=8;if(i)switch(i.biff){case 5:e.l+=12,n=6;break;case 12:n=12;break}return e.l+=n,[s,r]}function n8e(e,t,i){var s=(e[e.l++]&96)>>5,r=q6e(e,t-1,i);return[s,r]}function o8e(e,t,i){var s=(e[e.l++]&96)>>5;return e.l+=i.biff==2?6:i.biff==12?14:7,[s]}function V6(e){var t=e[e.l+1]&1,i=1;return e.l+=4,[t,i]}function a8e(e,t,i){e.l+=2;for(var s=e.read_shift(i&&i.biff==2?1:2),r=[],n=0;n<=s;++n)r.push(e.read_shift(i&&i.biff==2?1:2));return r}function l8e(e,t,i){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(i&&i.biff==2?1:2)]}function c8e(e,t,i){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(i&&i.biff==2?1:2)]}function u8e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function d8e(e,t,i){var s=e[e.l+1]&255?1:0;return e.l+=i&&i.biff==2?3:4,[s]}function CZ(e){var t=e.read_shift(1),i=e.read_shift(1);return[t,i]}function h8e(e){return e.read_shift(2),CZ(e)}function f8e(e){return e.read_shift(2),CZ(e)}function p8e(e,t,i){var s=(e[e.l]&96)>>5;e.l+=1;var r=yZ(e,0,i);return[s,r]}function g8e(e,t,i){var s=(e[e.l]&96)>>5;e.l+=1;var r=Z6e(e,0,i);return[s,r]}function m8e(e,t,i){var s=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(2);i&&i.biff==5&&(e.l+=12);var n=yZ(e,0,i);return[s,r,n]}function v8e(e,t,i){var s=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(i&&i.biff<=3?1:2);return[bUe[r],SZ[r],s]}function y8e(e,t,i){var s=e[e.l++],r=e.read_shift(1),n=i&&i.biff<=3?[s==88?-1:0,e.read_shift(1)]:C8e(e);return[r,(n[0]===0?SZ:CUe)[n[1]]]}function C8e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function b8e(e,t,i){e.l+=i&&i.biff==2?3:4}function w8e(e,t,i){if(e.l++,i&&i.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),r=e.read_shift(i&&i.biff==2?1:2);return[s,r]}function S8e(e){return e.l++,mh[e.read_shift(1)]}function x8e(e){return e.l++,e.read_shift(2)}function E8e(e){return e.l++,e.read_shift(1)!==0}function _8e(e){return e.l++,na(e)}function T8e(e,t,i){return e.l++,DS(e,t-1,i)}function A8e(e,t){var i=[e.read_shift(1)];if(t==12)switch(i[0]){case 2:i[0]=4;break;case 4:i[0]=16;break;case 0:i[0]=1;break;case 1:i[0]=2;break}switch(i[0]){case 4:i[1]=Mn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:i[1]=mh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:i[1]=na(e);break;case 2:i[1]=Rm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+i[0])}return i}function k8e(e,t,i){for(var s=e.read_shift(i.biff==12?4:2),r=[],n=0;n!=s;++n)r.push((i.biff==12?Dm:ak)(e));return r}function D8e(e,t,i){var s=0,r=0;i.biff==12?(s=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),s=1+e.read_shift(2)),i.biff>=2&&i.biff<8&&(--s,--r==0&&(r=256));for(var n=0,o=[];n!=s&&(o[n]=[]);++n)for(var a=0;a!=r;++a)o[n][a]=A8e(e,i.biff);return o}function R8e(e,t,i){var s=e.read_shift(1)>>>5&3,r=!i||i.biff>=8?4:2,n=e.read_shift(r);switch(i.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,n]}function P8e(e,t,i){if(i.biff==5)return F8e(e);var s=e.read_shift(1)>>>5&3,r=e.read_shift(2),n=e.read_shift(4);return[s,r,n]}function F8e(e){var t=e.read_shift(1)>>>5&3,i=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,i,s]}function M8e(e,t,i){var s=e.read_shift(1)>>>5&3;e.l+=i&&i.biff==2?3:4;var r=e.read_shift(i&&i.biff==2?1:2);return[s,r]}function L8e(e,t,i){var s=e.read_shift(1)>>>5&3,r=e.read_shift(i&&i.biff==2?1:2);return[s,r]}function O8e(e,t,i){var s=e.read_shift(1)>>>5&3;return e.l+=4,i.biff<8&&e.l--,i.biff==12&&(e.l+=2),[s]}function I8e(e,t,i){var s=(e[e.l++]&96)>>5,r=e.read_shift(2),n=4;if(i)switch(i.biff){case 5:n=15;break;case 12:n=6;break}return e.l+=n,[s,r]}var N8e=fa,V8e=fa,B8e=fa;function PS(e,t,i){return e.l+=2,[J6e(e)]}function w2(e){return e.l+=6,[]}var G8e=PS,H8e=w2,$8e=w2,W8e=PS;function bZ(e){return e.l+=2,[Zn(e),e.read_shift(2)&1]}var U8e=PS,z8e=bZ,j8e=w2,K8e=PS,Y8e=PS,X8e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function q8e(e){e.l+=2;var t=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(4),r=e.read_shift(2),n=e.read_shift(2),o=X8e[i>>2&31];return{ixti:t,coltype:i&3,rt:o,idx:s,c:r,C:n}}function Q8e(e){return e.l+=2,[e.read_shift(4)]}function J8e(e,t,i){return e.l+=5,e.l+=2,e.l+=i.biff==2?1:4,["PTGSHEET"]}function Z8e(e,t,i){return e.l+=i.biff==2?4:5,["PTGENDSHEET"]}function eUe(e){var t=e.read_shift(1)>>>5&3,i=e.read_shift(2);return[t,i]}function tUe(e){var t=e.read_shift(1)>>>5&3,i=e.read_shift(2);return[t,i]}function iUe(e){return e.l+=4,[0,0]}var B6={1:{n:"PtgExp",f:w8e},2:{n:"PtgTbl",f:B8e},3:{n:"PtgAdd",f:qn},4:{n:"PtgSub",f:qn},5:{n:"PtgMul",f:qn},6:{n:"PtgDiv",f:qn},7:{n:"PtgPower",f:qn},8:{n:"PtgConcat",f:qn},9:{n:"PtgLt",f:qn},10:{n:"PtgLe",f:qn},11:{n:"PtgEq",f:qn},12:{n:"PtgGe",f:qn},13:{n:"PtgGt",f:qn},14:{n:"PtgNe",f:qn},15:{n:"PtgIsect",f:qn},16:{n:"PtgUnion",f:qn},17:{n:"PtgRange",f:qn},18:{n:"PtgUplus",f:qn},19:{n:"PtgUminus",f:qn},20:{n:"PtgPercent",f:qn},21:{n:"PtgParen",f:qn},22:{n:"PtgMissArg",f:qn},23:{n:"PtgStr",f:T8e},26:{n:"PtgSheet",f:J8e},27:{n:"PtgEndSheet",f:Z8e},28:{n:"PtgErr",f:S8e},29:{n:"PtgBool",f:E8e},30:{n:"PtgInt",f:x8e},31:{n:"PtgNum",f:_8e},32:{n:"PtgArray",f:o8e},33:{n:"PtgFunc",f:v8e},34:{n:"PtgFuncVar",f:y8e},35:{n:"PtgName",f:R8e},36:{n:"PtgRef",f:p8e},37:{n:"PtgArea",f:t8e},38:{n:"PtgMemArea",f:M8e},39:{n:"PtgMemErr",f:N8e},40:{n:"PtgMemNoMem",f:V8e},41:{n:"PtgMemFunc",f:L8e},42:{n:"PtgRefErr",f:O8e},43:{n:"PtgAreaErr",f:s8e},44:{n:"PtgRefN",f:g8e},45:{n:"PtgAreaN",f:n8e},46:{n:"PtgMemAreaN",f:eUe},47:{n:"PtgMemNoMemN",f:tUe},57:{n:"PtgNameX",f:P8e},58:{n:"PtgRef3d",f:m8e},59:{n:"PtgArea3d",f:i8e},60:{n:"PtgRefErr3d",f:I8e},61:{n:"PtgAreaErr3d",f:r8e},255:{}},sUe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},rUe={1:{n:"PtgElfLel",f:bZ},2:{n:"PtgElfRw",f:K8e},3:{n:"PtgElfCol",f:G8e},6:{n:"PtgElfRwV",f:Y8e},7:{n:"PtgElfColV",f:W8e},10:{n:"PtgElfRadical",f:U8e},11:{n:"PtgElfRadicalS",f:j8e},13:{n:"PtgElfColS",f:H8e},15:{n:"PtgElfColSV",f:$8e},16:{n:"PtgElfRadicalLel",f:z8e},25:{n:"PtgList",f:q8e},29:{n:"PtgSxName",f:Q8e},255:{}},nUe={0:{n:"PtgAttrNoop",f:iUe},1:{n:"PtgAttrSemi",f:d8e},2:{n:"PtgAttrIf",f:c8e},4:{n:"PtgAttrChoose",f:a8e},8:{n:"PtgAttrGoto",f:l8e},16:{n:"PtgAttrSum",f:b8e},32:{n:"PtgAttrBaxcel",f:V6},33:{n:"PtgAttrBaxcel",f:V6},64:{n:"PtgAttrSpace",f:h8e},65:{n:"PtgAttrSpaceSemi",f:f8e},128:{n:"PtgAttrIfError",f:u8e},255:{}};function FS(e,t,i,s){if(s.biff<8)return fa(e,t);for(var r=e.l+t,n=[],o=0;o!==i.length;++o)switch(i[o][0]){case"PtgArray":i[o][1]=D8e(e,0,s),n.push(i[o][1]);break;case"PtgMemArea":i[o][2]=k8e(e,i[o][1],s),n.push(i[o][2]);break;case"PtgExp":s&&s.biff==12&&(i[o][1][1]=e.read_shift(4),n.push(i[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+i[o][0]}return t=r-e.l,t!==0&&n.push(fa(e,t)),n}function MS(e,t,i){for(var s=e.l+t,r,n,o=[];s!=e.l;)t=s-e.l,n=e[e.l],r=B6[n]||B6[sUe[n]],(n===24||n===25)&&(r=(n===24?rUe:nUe)[e[e.l+1]]),!r||!r.f?fa(e,t):o.push([r.n,r.f(e,t,i)]);return o}function oUe(e){for(var t=[],i=0;i<e.length;++i){for(var s=e[i],r=[],n=0;n<s.length;++n){var o=s[n];if(o)switch(o[0]){case 2:r.push('"'+o[1].replace(/"/g,'""')+'"');break;default:r.push(o[1])}else r.push("")}t.push(r.join(","))}return t.join(";")}var aUe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function lUe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function wZ(e,t,i){if(!e)return"SH33TJSERR0";if(i.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(i.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var r="";if(i.biff>8)switch(e[s[0]][0]){case 357:return r=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?r:r+":"+e.SheetNames[s[2]];case 358:return i.SID!=null?e.SheetNames[i.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return r=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?r:r+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(n){return n.Name}).join(";;");default:return e[s[0]][0][3]?(r=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?r:r+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function G6(e,t,i){var s=wZ(e,t,i);return s=="#REF"?s:lUe(s,i)}function Zo(e,t,i,s,r){var n=r&&r.biff||8,o={s:{c:0,r:0}},a=[],l,c,u,h=0,f=0,p,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,C="",S=0,_=e[0].length;S<_;++S){var x=e[0][S];switch(x[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),v>=0){switch(e[0][v][1][0]){case 0:C=Sn(" ",e[0][v][1][1]);break;case 1:C=Sn("\r",e[0][v][1][1]);break;default:if(C="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+C,v=-1}a.push(c+aUe[x[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=lb(x[1][1],o,r),a.push(cb(u,n));break;case"PtgRefN":u=i?lb(x[1][1],i,r):x[1][1],a.push(cb(u,n));break;case"PtgRef3d":h=x[1][1],u=lb(x[1][2],o,r),y=G6(s,h,r),a.push(y+"!"+cb(u,n));break;case"PtgFunc":case"PtgFuncVar":var A=x[1][0],R=x[1][1];A||(A=0),A&=127;var O=A==0?[]:a.slice(-A);a.length-=A,R==="User"&&(R=O.shift()),a.push(R+"("+O.join(",")+")");break;case"PtgBool":a.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(x[1]);break;case"PtgNum":a.push(String(x[1]));break;case"PtgStr":a.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(x[1]);break;case"PtgAreaN":p=g6(x[1][1],i?{s:i}:o,r),a.push(wP(p,r));break;case"PtgArea":p=g6(x[1][1],o,r),a.push(wP(p,r));break;case"PtgArea3d":h=x[1][1],p=x[1][2],y=G6(s,h,r),a.push(y+"!"+wP(p,r));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=x[1][2];var k=(s.names||[])[f-1]||(s[0]||[])[f],F=k?k.Name:"SH33TJSNAME"+String(f);F&&F.slice(0,6)=="_xlfn."&&!r.xlfn&&(F=F.slice(6)),a.push(F);break;case"PtgNameX":var N=x[1][1];f=x[1][2];var j;if(r.biff<=5)N<0&&(N=-N),s[N]&&(j=s[N][f]);else{var ee="";if(((s[N]||[])[0]||[])[0]==14849||(((s[N]||[])[0]||[])[0]==1025?s[N][f]&&s[N][f].itab>0&&(ee=s.SheetNames[s[N][f].itab-1]+"!"):ee=s.SheetNames[f-1]+"!"),s[N]&&s[N][f])ee+=s[N][f].Name;else if(s[0]&&s[0][f])ee+=s[0][f].Name;else{var K=(wZ(s,N,r)||"").split(";;");K[f-1]?ee=K[f-1]:ee+="SH33TJSERRX"}a.push(ee);break}j||(j={Name:"SH33TJSERRY"}),a.push(j.Name);break;case"PtgParen":var Q="(",be=")";if(v>=0){switch(C="",e[0][v][1][0]){case 2:Q=Sn(" ",e[0][v][1][1])+Q;break;case 3:Q=Sn("\r",e[0][v][1][1])+Q;break;case 4:be=Sn(" ",e[0][v][1][1])+be;break;case 5:be=Sn("\r",e[0][v][1][1])+be;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}a.push(Q+a.pop()+be);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":u={c:x[1][1],r:x[1][0]};var te={c:i.c,r:i.r};if(s.sharedf[Vi(u)]){var ne=s.sharedf[Vi(u)];a.push(Zo(ne,o,te,s,r))}else{var H=!1;for(l=0;l!=s.arrayf.length;++l)if(c=s.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){a.push(Zo(c[1],o,te,s,r)),H=!0;break}H||a.push(x[1])}break;case"PtgArray":a.push("{"+oUe(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&v>=0&&ie.indexOf(e[0][S][0])==-1){x=e[0][v];var ue=!0;switch(x[1][0]){case 4:ue=!1;case 0:C=Sn(" ",x[1][1]);break;case 5:ue=!1;case 1:C=Sn("\r",x[1][1]);break;default:if(C="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}a.push((ue?C:"")+a.pop()+(ue?"":C)),v=-1}}if(a.length>1&&r.WTF)throw new Error("bad formula stack");return a[0]}function cUe(e,t,i){var s=e.l+t,r=i.biff==2?1:2,n,o=e.read_shift(r);if(o==65535)return[[],fa(e,t-2)];var a=MS(e,o,i);return t!==o+r&&(n=FS(e,t-o-r,a,i)),e.l=s,[a,n]}function uUe(e,t,i){var s=e.l+t,r=i.biff==2?1:2,n,o=e.read_shift(r);if(o==65535)return[[],fa(e,t-2)];var a=MS(e,o,i);return t!==o+r&&(n=FS(e,t-o-r,a,i)),e.l=s,[a,n]}function dUe(e,t,i,s){var r=e.l+t,n=MS(e,s,i),o;return r!==e.l&&(o=FS(e,r-e.l,n,i)),[n,o]}function hUe(e,t,i){var s=e.l+t,r,n=e.read_shift(2),o=MS(e,n,i);return n==65535?[[],fa(e,t-2)]:(t!==n+2&&(r=FS(e,s-n-2,o,i)),[o,r])}function fUe(e){var t;if(Bd(e,e.l+6)!==65535)return[na(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function pUe(e){if(e==null){var t=At(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Hg(e);return Hg(0)}function TP(e,t,i){var s=e.l+t,r=od(e);i.biff==2&&++e.l;var n=fUe(e),o=e.read_shift(1);i.biff!=2&&(e.read_shift(1),i.biff>=5&&e.read_shift(4));var a=uUe(e,s-e.l,i);return{cell:r,val:n[0],formula:a,shared:o>>3&1,tt:n[1]}}function gUe(e,t,i,s,r){var n=Wg(t,i,r),o=pUe(e.v),a=At(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=At(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var h=So([n,o,a,c]);return h}function lk(e,t,i){var s=e.read_shift(4),r=MS(e,s,i),n=e.read_shift(4),o=n>0?FS(e,n,r,i):null;return[r,o]}var mUe=lk,ck=lk,vUe=lk,yUe=lk,CUe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},SZ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},bUe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function H6(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,i){return i.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function wUe(e){var t="of:="+e.replace(C2,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function AP(e){var t=e.split(":"),i=t[0].split(".")[0];return[i,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function SUe(e){return e.replace(/\./,"!")}var db={},jv={},hb=typeof Map<"u";function S2(e,t,i){var s=0,r=e.length;if(i){if(hb?i.has(t):Object.prototype.hasOwnProperty.call(i,t)){for(var n=hb?i.get(t):i[t];s<n.length;++s)if(e[n[s]].t===t)return e.Count++,n[s]}}else for(;s<r;++s)if(e[s].t===t)return e.Count++,s;return e[r]={t},e.Count++,e.Unique++,i&&(hb?(i.has(t)||i.set(t,[]),i.get(t).push(r)):(Object.prototype.hasOwnProperty.call(i,t)||(i[t]=[]),i[t].push(r))),r}function uk(e,t){var i={min:e+1,max:e+1},s=-1;return t.MDW&&(ta=t.MDW),t.width!=null?i.customWidth=1:t.wpx!=null?s=Dw(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(i.width=nT(s),i.customWidth=1):t.width!=null&&(i.width=t.width),t.hidden&&(i.hidden=!0),t.level!=null&&(i.outlineLevel=i.level=t.level),i}function fg(e,t){if(e){var i=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(i=[1,1,1,1,.5,.5]),e.left==null&&(e.left=i[0]),e.right==null&&(e.right=i[1]),e.top==null&&(e.top=i[2]),e.bottom==null&&(e.bottom=i[3]),e.header==null&&(e.header=i[4]),e.footer==null&&(e.footer=i[5])}}function Zf(e,t,i){var s=i.revssf[t.z!=null?t.z:"General"],r=60,n=e.length;if(s==null&&i.ssf){for(;r<392;++r)if(i.ssf[r]==null){zd(t.z,r),i.ssf[r]=t.z,i.revssf[t.z]=s=r;break}}for(r=0;r!=n;++r)if(e[r].numFmtId===s)return r;return e[n]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},n}function xZ(e,t,i,s,r,n){try{s.cellNF&&(e.z=Li[t])}catch(a){if(s.WTF)throw a}if(!(e.t==="z"&&!s.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=qr(e.v)),(!s||s.cellText!==!1)&&e.t!=="z")try{if(Li[t]==null&&zd(CHe[t]||"General",t),e.t==="e")e.w=e.w||mh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Sw(e.v);else if(e.t==="d"){var o=yo(e.v);(o|0)===o?e.w=o.toString(10):e.w=Sw(o)}else{if(e.v===void 0)return"";e.w=Bg(e.v,jv)}else e.t==="d"?e.w=vc(t,yo(e.v),jv):e.w=vc(t,e.v,jv)}catch(a){if(s.WTF)throw a}if(s.cellStyles&&i!=null)try{e.s=n.Fills[i],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=rT(r.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),s.WTF&&(e.s.fgColor.raw_rgb=r.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=rT(r.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),s.WTF&&(e.s.bgColor.raw_rgb=r.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(a){if(s.WTF&&n.Fills)throw a}}}function xUe(e,t,i){if(e&&e["!ref"]){var s=Ks(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+i+"): "+e["!ref"])}}function EUe(e,t){var i=Ks(t);i.s.r<=i.e.r&&i.s.c<=i.e.c&&i.s.r>=0&&i.s.c>=0&&(e["!ref"]=us(i))}var _Ue=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,TUe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,AUe=/<(?:\w:)?hyperlink [^>]*>/mg,kUe=/"(\w*:\w*)"/,DUe=/<(?:\w:)?col\b[^>]*[\/]?>/g,RUe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,PUe=/<(?:\w:)?pageMargins[^>]*\/>/g,EZ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,FUe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,MUe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function LUe(e,t,i,s,r,n,o){if(!e)return e;s||(s={"!id":{}});var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=e.match(TUe);h?(c=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):c=u=e;var f=c.match(EZ);f?x2(f[0],a,r,i):(f=c.match(FUe))&&IUe(f[0],f[1]||"",a,r,i);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=c.slice(p,p+50).match(kUe);y&&EUe(a,y[1])}var v=c.match(MUe);v&&v[1]&&XUe(v[1],r);var C=[];if(t.cellStyles){var S=c.match(DUe);S&&UUe(C,S)}h&&JUe(h[1],a,t,l,n,o);var _=u.match(RUe);_&&(a["!autofilter"]=jUe(_[0]));var x=[],A=u.match(_Ue);if(A)for(p=0;p!=A.length;++p)x[p]=Ks(A[p].slice(A[p].indexOf('"')+1));var R=u.match(AUe);R&&HUe(a,R,s);var O=u.match(PUe);if(O&&(a["!margins"]=$Ue(Wi(O[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=us(l)),t.sheetRows>0&&a["!ref"]){var k=Ks(a["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>l.e.r&&(k.e.r=l.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>l.e.c&&(k.e.c=l.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),a["!fullref"]=a["!ref"],a["!ref"]=us(k))}return C.length>0&&(a["!cols"]=C),x.length>0&&(a["!merges"]=x),a}function OUe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',i=0;i!=e.length;++i)t+='<mergeCell ref="'+us(e[i])+'"/>';return t+"</mergeCells>"}function x2(e,t,i,s){var r=Wi(e);i.Sheets[s]||(i.Sheets[s]={}),r.codeName&&(i.Sheets[s].CodeName=js(Dr(r.codeName)))}function IUe(e,t,i,s,r){x2(e.slice(0,e.indexOf(">")),i,s,r)}function NUe(e,t,i,s,r){var n=!1,o={},a=null;if(s.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[i];try{t.Workbook&&(l=t.Workbook.Sheets[i].CodeName||l)}catch{}n=!0,o.codeName=Lu(wr(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),a=(a||"")+Jt("outlinePr",null,c)}!n&&!a||(r[r.length]=Jt("sheetPr",a,o))}var VUe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],BUe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function GUe(e){var t={sheet:1};return VUe.forEach(function(i){e[i]!=null&&e[i]&&(t[i]="1")}),BUe.forEach(function(i){e[i]!=null&&!e[i]&&(t[i]="0")}),e.password&&(t.password=m2(e.password).toString(16).toUpperCase()),Jt("sheetProtection",null,t)}function HUe(e,t,i){for(var s=Array.isArray(e),r=0;r!=t.length;++r){var n=Wi(Dr(t[r]),!0);if(!n.ref)return;var o=((i||{})["!id"]||[])[n.id];o?(n.Target=o.Target,n.location&&(n.Target+="#"+js(n.location))):(n.Target="#"+js(n.location),o={Target:n.Target,TargetMode:"Internal"}),n.Rel=o,n.tooltip&&(n.Tooltip=n.tooltip,delete n.tooltip);for(var a=Ks(n.ref),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var u=Vi({c,r:l});s?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=n):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=n)}}}function $Ue(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(i){e[i]&&(t[i]=parseFloat(e[i]))}),t}function WUe(e){return fg(e),Jt("pageMargins",null,e)}function UUe(e,t){for(var i=!1,s=0;s!=t.length;++s){var r=Wi(t[s],!0);r.hidden&&(r.hidden=zr(r.hidden));var n=parseInt(r.min,10)-1,o=parseInt(r.max,10)-1;for(r.outlineLevel&&(r.level=+r.outlineLevel||0),delete r.min,delete r.max,r.width=+r.width,!i&&r.width&&(i=!0,v2(r.width)),Ff(r);n<=o;)e[n++]=Qr(r)}}function zUe(e,t){for(var i=["<cols>"],s,r=0;r!=t.length;++r)(s=t[r])&&(i[i.length]=Jt("col",null,uk(r,s)));return i[i.length]="</cols>",i.join("")}function jUe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function KUe(e,t,i,s){var r=typeof e.ref=="string"?e.ref:us(e.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var n=i.Workbook.Names,o=ll(r);o.s.r==o.e.r&&(o.e.r=ll(t["!ref"]).e.r,r=us(o));for(var a=0;a<n.length;++a){var l=n[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==s){l.Ref="'"+i.SheetNames[s]+"'!"+r;break}}return a==n.length&&n.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+i.SheetNames[s]+"'!"+r}),Jt("autoFilter",null,{ref:r})}var YUe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function XUe(e,t){t.Views||(t.Views=[{}]),(e.match(YUe)||[]).forEach(function(i,s){var r=Wi(i);t.Views[s]||(t.Views[s]={}),+r.zoomScale&&(t.Views[s].zoom=+r.zoomScale),zr(r.rightToLeft)&&(t.Views[s].RTL=!0)})}function qUe(e,t,i,s){var r={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Jt("sheetViews",Jt("sheetView",null,r),{})}function QUe(e,t,i,s){if(e.c&&i["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var r="",n=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":r=e.v?"1":"0";break;case"n":r=""+e.v;break;case"e":r=mh[e.v];break;case"d":s&&s.cellDates?r=qr(e.v,-1).toISOString():(e=Qr(e),e.t="n",r=""+(e.v=yo(qr(e.v)))),typeof e.z>"u"&&(e.z=Li[14]);break;default:r=e.v;break}var a=Bo("v",wr(r)),l={r:t},c=Zf(s.cellXfs,e,s);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){a=Bo("v",""+S2(s.Strings,e.v,s.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=n&&(e.t=n,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=Jt("f",wr(e.f),u)+(e.v!=null?a:"")}return e.l&&i["!links"].push([t,e.l]),e.D&&(l.cm=1),Jt("c",a,l)}var JUe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,i=/r=["']([^"']*)["']/,s=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,r=/ref=["']([^"']*)["']/,n=xw("v"),o=xw("f");return function(l,c,u,h,f,p){for(var y=0,v="",C=[],S=[],_=0,x=0,A=0,R="",O,k,F=0,N=0,j,ee,K=0,Q=0,be=Array.isArray(p.CellXf),te,ne=[],H=[],ie=Array.isArray(c),ue=[],Te={},Ie=!1,he=!!u.sheetStubs,Ee=l.split(t),Y=0,Z=Ee.length;Y!=Z;++Y){v=Ee[Y].trim();var Se=v.length;if(Se!==0){var ye=0;e:for(y=0;y<Se;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(u&&u.cellStyles){if(k=Wi(v.slice(ye,y),!0),F=k.r!=null?parseInt(k.r,10):F+1,N=-1,u.sheetRows&&u.sheetRows<F)continue;Te={},Ie=!1,k.ht&&(Ie=!0,Te.hpt=parseFloat(k.ht),Te.hpx=O0(Te.hpt)),k.hidden=="1"&&(Ie=!0,Te.hidden=!0),k.outlineLevel!=null&&(Ie=!0,Te.level=+k.outlineLevel),Ie&&(ue[F-1]=Te)}break;case"<":ye=y;break}if(ye>=y)break;if(k=Wi(v.slice(ye,y),!0),F=k.r!=null?parseInt(k.r,10):F+1,N=-1,!(u.sheetRows&&u.sheetRows<F)){h.s.r>F-1&&(h.s.r=F-1),h.e.r<F-1&&(h.e.r=F-1),u&&u.cellStyles&&(Te={},Ie=!1,k.ht&&(Ie=!0,Te.hpt=parseFloat(k.ht),Te.hpx=O0(Te.hpt)),k.hidden=="1"&&(Ie=!0,Te.hidden=!0),k.outlineLevel!=null&&(Ie=!0,Te.level=+k.outlineLevel),Ie&&(ue[F-1]=Te)),C=v.slice(y).split(e);for(var ke=0;ke!=C.length&&C[ke].trim().charAt(0)=="<";++ke);for(C=C.slice(ke),y=0;y!=C.length;++y)if(v=C[y].trim(),v.length!==0){if(S=v.match(i),_=y,x=0,A=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,S!=null&&S.length===2){for(_=0,R=S[1],x=0;x!=R.length&&!((A=R.charCodeAt(x)-64)<1||A>26);++x)_=26*_+A;--_,N=_}else++N;for(x=0;x!=v.length&&v.charCodeAt(x)!==62;++x);if(++x,k=Wi(v.slice(0,x),!0),k.r||(k.r=Vi({r:F-1,c:N})),R=v.slice(x),O={t:""},(S=R.match(n))!=null&&S[1]!==""&&(O.v=js(S[1])),u.cellFormula){if((S=R.match(o))!=null&&S[1]!==""){if(O.f=js(Dr(S[1])).replace(/\r\n/g,`
`),u.xlfn||(O.f=N6(O.f)),S[0].indexOf('t="array"')>-1)O.F=(R.match(r)||[])[1],O.F.indexOf(":")>-1&&ne.push([Ks(O.F),O.F]);else if(S[0].indexOf('t="shared"')>-1){ee=Wi(S[0]);var Oe=js(Dr(S[1]));u.xlfn||(Oe=N6(Oe)),H[parseInt(ee.si,10)]=[ee,Oe,k.r]}}else(S=R.match(/<f[^>]*\/>/))&&(ee=Wi(S[0]),H[ee.si]&&(O.f=Y6e(H[ee.si][1],H[ee.si][2],k.r)));var He=mn(k.r);for(x=0;x<ne.length;++x)He.r>=ne[x][0].s.r&&He.r<=ne[x][0].e.r&&He.c>=ne[x][0].s.c&&He.c<=ne[x][0].e.c&&(O.F=ne[x][1])}if(k.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(he)O.t="z";else continue;else O.t=k.t||"n";switch(h.s.c>N&&(h.s.c=N),h.e.c<N&&(h.e.c=N),O.t){case"n":if(O.v==""||O.v==null){if(!he)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!he)continue;O.t="z"}else j=db[parseInt(O.v,10)],O.v=j.t,O.r=j.r,u.cellHTML&&(O.h=j.h);break;case"str":O.t="s",O.v=O.v!=null?Dr(O.v):"",u.cellHTML&&(O.h=t2(O.v));break;case"inlineStr":S=R.match(s),O.t="s",S!=null&&(j=g2(S[1]))?(O.v=j.t,u.cellHTML&&(O.h=j.h)):O.v="";break;case"b":O.v=zr(O.v);break;case"d":u.cellDates?O.v=qr(O.v,1):(O.v=yo(qr(O.v,1)),O.t="n");break;case"e":(!u||u.cellText!==!1)&&(O.w=O.v),O.v=TJ[O.v];break}if(K=Q=0,te=null,be&&k.s!==void 0&&(te=p.CellXf[k.s],te!=null&&(te.numFmtId!=null&&(K=te.numFmtId),u.cellStyles&&te.fillId!=null&&(Q=te.fillId))),xZ(O,K,Q,u,f,p),u.cellDates&&be&&O.t=="n"&&hy(Li[K])&&(O.t="d",O.v=ok(O.v)),k.cm&&u.xlmeta){var mt=(u.xlmeta.Cell||[])[+k.cm-1];mt&&mt.type=="XLDAPR"&&(O.D=!0)}if(ie){var we=mn(k.r);c[we.r]||(c[we.r]=[]),c[we.r][we.c]=O}else c[k.r]=O}}}}ue.length>0&&(c["!rows"]=ue)}}();function ZUe(e,t,i,s){var r=[],n=[],o=Ks(e["!ref"]),a="",l,c="",u=[],h=0,f=0,p=e["!rows"],y=Array.isArray(e),v={r:c},C,S=-1;for(f=o.s.c;f<=o.e.c;++f)u[f]=gn(f);for(h=o.s.r;h<=o.e.r;++h){for(n=[],c=$n(h),f=o.s.c;f<=o.e.c;++f){l=u[f]+c;var _=y?(e[h]||[])[f]:e[l];_!==void 0&&(a=QUe(_,l,e,t))!=null&&n.push(a)}(n.length>0||p&&p[h])&&(v={r:c},p&&p[h]&&(C=p[h],C.hidden&&(v.hidden=1),S=-1,C.hpx?S=Rw(C.hpx):C.hpt&&(S=C.hpt),S>-1&&(v.ht=S,v.customHeight=1),C.level&&(v.outlineLevel=C.level)),r[r.length]=Jt("row",n.join(""),v))}if(p)for(;h<p.length;++h)p&&p[h]&&(v={r:h+1},C=p[h],C.hidden&&(v.hidden=1),S=-1,C.hpx?S=Rw(C.hpx):C.hpt&&(S=C.hpt),S>-1&&(v.ht=S,v.customHeight=1),C.level&&(v.outlineLevel=C.level),r[r.length]=Jt("row","",v));return r.join("")}function _Z(e,t,i,s){var r=[Un,Jt("worksheet",null,{xmlns:_m[0],"xmlns:r":go.r})],n=i.SheetNames[e],o=0,a="",l=i.Sheets[n];l==null&&(l={});var c=l["!ref"]||"A1",u=Ks(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=us(u)}s||(s={}),l["!comments"]=[];var h=[];NUe(l,i,e,t,r),r[r.length]=Jt("dimension",null,{ref:c}),r[r.length]=qUe(l,t,e,i),t.sheetFormat&&(r[r.length]=Jt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(r[r.length]=zUe(l,l["!cols"])),r[o=r.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=ZUe(l,t),a.length>0&&(r[r.length]=a)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),l["!protect"]&&(r[r.length]=GUe(l["!protect"])),l["!autofilter"]!=null&&(r[r.length]=KUe(l["!autofilter"],l,i,e)),l["!merges"]!=null&&l["!merges"].length>0&&(r[r.length]=OUe(l["!merges"]));var f=-1,p,y=-1;return l["!links"].length>0&&(r[r.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=Cr(s,-1,wr(v[1].Target).replace(/#.*$/,""),Es.HLINK),p["r:id"]="rId"+y),(f=v[1].Target.indexOf("#"))>-1&&(p.location=wr(v[1].Target.slice(f+1))),v[1].Tooltip&&(p.tooltip=wr(v[1].Tooltip)),r[r.length]=Jt("hyperlink",null,p))}),r[r.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(r[r.length]=WUe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(r[r.length]=Bo("ignoredErrors",Jt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(y=Cr(s,-1,"../drawings/drawing"+(e+1)+".xml",Es.DRAW),r[r.length]=Jt("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=h),l["!comments"].length>0&&(y=Cr(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Es.VML),r[r.length]=Jt("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function eze(e,t){var i={},s=e.l+t;i.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var n=e.read_shift(1);return e.l=s,n&7&&(i.level=n&7),n&16&&(i.hidden=!0),n&32&&(i.hpt=r/20),i}function tze(e,t,i){var s=At(145),r=(i["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var n=320;r.hpx?n=Rw(r.hpx)*20:r.hpt&&(n=r.hpt*20),s.write_shift(2,n),s.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var a=0,l=s.l;s.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,f=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var y=Array.isArray(i)?(i[c.r]||[])[c.c]:i[Vi(c)];y&&(h<0&&(h=p),f=p)}h<0||(++a,s.write_shift(4,h),s.write_shift(4,f))}var v=s.l;return s.l=l,s.write_shift(4,a),s.l=v,s.length>s.l?s.slice(0,s.l):s}function ize(e,t,i,s){var r=tze(s,i,t);(r.length>17||(t["!rows"]||[])[s])&&Vt(e,0,r)}var sze=Dm,rze=gy;function nze(){}function oze(e,t){var i={},s=e[e.l];return++e.l,i.above=!(s&64),i.left=!(s&128),e.l+=18,i.name=c4e(e),i}function aze(e,t,i){i==null&&(i=At(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),i.write_shift(1,s);for(var r=1;r<3;++r)i.write_shift(1,0);return tT({auto:1},i),i.write_shift(-4,-1),i.write_shift(-4,-1),wJ(e,i),i.slice(0,i.l)}function lze(e){var t=wc(e);return[t]}function cze(e,t,i){return i==null&&(i=At(8)),Tm(t,i)}function uze(e){var t=Am(e);return[t]}function dze(e,t,i){return i==null&&(i=At(4)),km(t,i)}function hze(e){var t=wc(e),i=e.read_shift(1);return[t,i,"b"]}function fze(e,t,i){return i==null&&(i=At(9)),Tm(t,i),i.write_shift(1,e.v?1:0),i}function pze(e){var t=Am(e),i=e.read_shift(1);return[t,i,"b"]}function gze(e,t,i){return i==null&&(i=At(5)),km(t,i),i.write_shift(1,e.v?1:0),i}function mze(e){var t=wc(e),i=e.read_shift(1);return[t,i,"e"]}function vze(e,t,i){return i==null&&(i=At(9)),Tm(t,i),i.write_shift(1,e.v),i}function yze(e){var t=Am(e),i=e.read_shift(1);return[t,i,"e"]}function Cze(e,t,i){return i==null&&(i=At(8)),km(t,i),i.write_shift(1,e.v),i.write_shift(2,0),i.write_shift(1,0),i}function bze(e){var t=wc(e),i=e.read_shift(4);return[t,i,"s"]}function wze(e,t,i){return i==null&&(i=At(12)),Tm(t,i),i.write_shift(4,t.v),i}function Sze(e){var t=Am(e),i=e.read_shift(4);return[t,i,"s"]}function xze(e,t,i){return i==null&&(i=At(8)),km(t,i),i.write_shift(4,t.v),i}function Eze(e){var t=wc(e),i=na(e);return[t,i,"n"]}function _ze(e,t,i){return i==null&&(i=At(16)),Tm(t,i),Hg(e.v,i),i}function TZ(e){var t=Am(e),i=na(e);return[t,i,"n"]}function Tze(e,t,i){return i==null&&(i=At(12)),km(t,i),Hg(e.v,i),i}function Aze(e){var t=wc(e),i=u2(e);return[t,i,"n"]}function kze(e,t,i){return i==null&&(i=At(12)),Tm(t,i),SJ(e.v,i),i}function Dze(e){var t=Am(e),i=u2(e);return[t,i,"n"]}function Rze(e,t,i){return i==null&&(i=At(8)),km(t,i),SJ(e.v,i),i}function Pze(e){var t=wc(e),i=a2(e);return[t,i,"is"]}function Fze(e){var t=wc(e),i=ua(e);return[t,i,"str"]}function Mze(e,t,i){return i==null&&(i=At(12+4*e.v.length)),Tm(t,i),Eo(e.v,i),i.length>i.l?i.slice(0,i.l):i}function Lze(e){var t=Am(e),i=ua(e);return[t,i,"str"]}function Oze(e,t,i){return i==null&&(i=At(8+4*e.v.length)),km(t,i),Eo(e.v,i),i.length>i.l?i.slice(0,i.l):i}function Ize(e,t,i){var s=e.l+t,r=wc(e);r.r=i["!row"];var n=e.read_shift(1),o=[r,n,"b"];if(i.cellFormula){e.l+=2;var a=ck(e,s-e.l,i);o[3]=Zo(a,null,r,i.supbooks,i)}else e.l=s;return o}function Nze(e,t,i){var s=e.l+t,r=wc(e);r.r=i["!row"];var n=e.read_shift(1),o=[r,n,"e"];if(i.cellFormula){e.l+=2;var a=ck(e,s-e.l,i);o[3]=Zo(a,null,r,i.supbooks,i)}else e.l=s;return o}function Vze(e,t,i){var s=e.l+t,r=wc(e);r.r=i["!row"];var n=na(e),o=[r,n,"n"];if(i.cellFormula){e.l+=2;var a=ck(e,s-e.l,i);o[3]=Zo(a,null,r,i.supbooks,i)}else e.l=s;return o}function Bze(e,t,i){var s=e.l+t,r=wc(e);r.r=i["!row"];var n=ua(e),o=[r,n,"str"];if(i.cellFormula){e.l+=2;var a=ck(e,s-e.l,i);o[3]=Zo(a,null,r,i.supbooks,i)}else e.l=s;return o}var Gze=Dm,Hze=gy;function $ze(e,t){return t==null&&(t=At(4)),t.write_shift(4,e),t}function Wze(e,t){var i=e.l+t,s=Dm(e),r=l2(e),n=ua(e),o=ua(e),a=ua(e);e.l=i;var l={rfx:s,relId:r,loc:n,display:a};return o&&(l.Tooltip=o),l}function Uze(e,t){var i=At(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));gy({s:mn(e[0]),e:mn(e[0])},i),c2("rId"+t,i);var s=e[1].Target.indexOf("#"),r=s==-1?"":e[1].Target.slice(s+1);return Eo(r||"",i),Eo(e[1].Tooltip||"",i),Eo("",i),i.slice(0,i.l)}function zze(){}function jze(e,t,i){var s=e.l+t,r=xJ(e),n=e.read_shift(1),o=[r];if(o[2]=n,i.cellFormula){var a=mUe(e,s-e.l,i);o[1]=a}else e.l=s;return o}function Kze(e,t,i){var s=e.l+t,r=Dm(e),n=[r];if(i.cellFormula){var o=yUe(e,s-e.l,i);n[1]=o,e.l=s}else e.l=s;return n}function Yze(e,t,i){i==null&&(i=At(18));var s=uk(e,t);i.write_shift(-4,e),i.write_shift(-4,e),i.write_shift(4,(s.width||10)*256),i.write_shift(4,0);var r=0;return t.hidden&&(r|=1),typeof s.width=="number"&&(r|=2),t.level&&(r|=t.level<<8),i.write_shift(2,r),i}var AZ=["left","right","top","bottom","header","footer"];function Xze(e){var t={};return AZ.forEach(function(i){t[i]=na(e)}),t}function qze(e,t){return t==null&&(t=At(48)),fg(e),AZ.forEach(function(i){Hg(e[i],t)}),t}function Qze(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Jze(e,t,i){i==null&&(i=At(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),i.write_shift(2,s),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,100),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i}function Zze(e){var t=At(24);return t.write_shift(4,4),t.write_shift(4,1),gy(e,t),t}function e5e(e,t){return t==null&&(t=At(66)),t.write_shift(2,e.password?m2(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(i){i[1]?t.write_shift(4,e[i[0]]!=null&&!e[i[0]]?1:0):t.write_shift(4,e[i[0]]!=null&&e[i[0]]?0:1)}),t}function t5e(){}function i5e(){}function s5e(e,t,i,s,r,n,o){if(!e)return e;var a=t||{};s||(s={"!id":{}});var l=a.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,f=!1,p,y,v,C,S,_,x,A,R,O=[];a.biff=12,a["!row"]=0;var k=0,F=!1,N=[],j={},ee=a.supbooks||r.supbooks||[[]];if(ee.sharedf=j,ee.arrayf=N,ee.SheetNames=r.SheetNames||r.Sheets.map(function(ie){return ie.name}),!a.supbooks&&(a.supbooks=ee,r.Names))for(var K=0;K<r.Names.length;++K)ee[0][K+1]=r.Names[K];var Q=[],be=[],te=!1;Pw[16]={n:"BrtShortReal",f:TZ};var ne;if(gh(e,function(ue,Te,Ie){if(!f)switch(Ie){case 148:c=ue;break;case 0:p=ue,a.sheetRows&&a.sheetRows<=p.r&&(f=!0),A=$n(C=p.r),a["!row"]=p.r,(ue.hidden||ue.hpt||ue.level!=null)&&(ue.hpt&&(ue.hpx=O0(ue.hpt)),be[ue.r]=ue);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:ue[2]},ue[2]){case"n":y.v=ue[1];break;case"s":x=db[ue[1]],y.v=x.t,y.r=x.r;break;case"b":y.v=!!ue[1];break;case"e":y.v=ue[1],a.cellText!==!1&&(y.w=mh[y.v]);break;case"str":y.t="s",y.v=ue[1];break;case"is":y.t="s",y.v=ue[1].t;break}if((v=o.CellXf[ue[0].iStyleRef])&&xZ(y,v.numFmtId,null,a,n,o),S=ue[0].c==-1?S+1:ue[0].c,a.dense?(l[C]||(l[C]=[]),l[C][S]=y):l[gn(S)+A]=y,a.cellFormula){for(F=!1,k=0;k<N.length;++k){var he=N[k];p.r>=he[0].s.r&&p.r<=he[0].e.r&&S>=he[0].s.c&&S<=he[0].e.c&&(y.F=us(he[0]),F=!0)}!F&&ue.length>3&&(y.f=ue[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>S&&(u.s.c=S),u.e.r<p.r&&(u.e.r=p.r),u.e.c<S&&(u.e.c=S),a.cellDates&&v&&y.t=="n"&&hy(Li[v.numFmtId])){var Ee=Kp(y.v);Ee&&(y.t="d",y.v=new Date(Ee.y,Ee.m-1,Ee.d,Ee.H,Ee.M,Ee.S,Ee.u))}ne&&(ne.type=="XLDAPR"&&(y.D=!0),ne=void 0);break;case 1:case 12:if(!a.sheetStubs||h)break;y={t:"z",v:void 0},S=ue[0].c==-1?S+1:ue[0].c,a.dense?(l[C]||(l[C]=[]),l[C][S]=y):l[gn(S)+A]=y,u.s.r>p.r&&(u.s.r=p.r),u.s.c>S&&(u.s.c=S),u.e.r<p.r&&(u.e.r=p.r),u.e.c<S&&(u.e.c=S),ne&&(ne.type=="XLDAPR"&&(y.D=!0),ne=void 0);break;case 176:O.push(ue);break;case 49:ne=((a.xlmeta||{}).Cell||[])[ue-1];break;case 494:var Y=s["!id"][ue.relId];for(Y?(ue.Target=Y.Target,ue.loc&&(ue.Target+="#"+ue.loc),ue.Rel=Y):ue.relId==""&&(ue.Target="#"+ue.loc),C=ue.rfx.s.r;C<=ue.rfx.e.r;++C)for(S=ue.rfx.s.c;S<=ue.rfx.e.c;++S)a.dense?(l[C]||(l[C]=[]),l[C][S]||(l[C][S]={t:"z",v:void 0}),l[C][S].l=ue):(_=Vi({c:S,r:C}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=ue);break;case 426:if(!a.cellFormula)break;N.push(ue),R=a.dense?l[C][S]:l[gn(S)+A],R.f=Zo(ue[1],u,{r:p.r,c:S},ee,a),R.F=us(ue[0]);break;case 427:if(!a.cellFormula)break;j[Vi(ue[0].s)]=ue[1],R=a.dense?l[C][S]:l[gn(S)+A],R.f=Zo(ue[1],u,{r:p.r,c:S},ee,a);break;case 60:if(!a.cellStyles)break;for(;ue.e>=ue.s;)Q[ue.e--]={width:ue.w/256,hidden:!!(ue.flags&1),level:ue.level},te||(te=!0,v2(ue.w/256)),Ff(Q[ue.e+1]);break;case 161:l["!autofilter"]={ref:us(ue)};break;case 476:l["!margins"]=ue;break;case 147:r.Sheets[i]||(r.Sheets[i]={}),ue.name&&(r.Sheets[i].CodeName=ue.name),(ue.above||ue.left)&&(l["!outline"]={above:ue.above,left:ue.left});break;case 137:r.Views||(r.Views=[{}]),r.Views[0]||(r.Views[0]={}),ue.RTL&&(r.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!Te.T){if(!h||a.WTF)throw new Error("Unexpected record 0x"+Ie.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=us(c||u)),a.sheetRows&&l["!ref"]){var H=Ks(l["!ref"]);a.sheetRows<=+H.e.r&&(H.e.r=a.sheetRows-1,H.e.r>u.e.r&&(H.e.r=u.e.r),H.e.r<H.s.r&&(H.s.r=H.e.r),H.e.c>u.e.c&&(H.e.c=u.e.c),H.e.c<H.s.c&&(H.s.c=H.e.c),l["!fullref"]=l["!ref"],l["!ref"]=us(H))}return O.length>0&&(l["!merges"]=O),Q.length>0&&(l["!cols"]=Q),be.length>0&&(l["!rows"]=be),l}function r5e(e,t,i,s,r,n,o){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=Qr(t),t.z=t.z||Li[14],t.v=yo(qr(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r:i,c:s};switch(l.s=Zf(r.cellXfs,t,r),t.l&&n["!links"].push([Vi(l),t.l]),t.c&&n["!comments"].push([Vi(l),t.c]),t.t){case"s":case"str":return r.bookSST?(a=S2(r.Strings,t.v,r.revStrings),l.t="s",l.v=a,o?Vt(e,18,xze(t,l)):Vt(e,7,wze(t,l))):(l.t="str",o?Vt(e,17,Oze(t,l)):Vt(e,6,Mze(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Vt(e,13,Rze(t,l)):Vt(e,2,kze(t,l)):o?Vt(e,16,Tze(t,l)):Vt(e,5,_ze(t,l)),!0;case"b":return l.t="b",o?Vt(e,15,gze(t,l)):Vt(e,4,fze(t,l)),!0;case"e":return l.t="e",o?Vt(e,14,Cze(t,l)):Vt(e,3,vze(t,l)),!0}return o?Vt(e,12,dze(t,l)):Vt(e,1,cze(t,l)),!0}function n5e(e,t,i,s){var r=Ks(t["!ref"]||"A1"),n,o="",a=[];Vt(e,145);var l=Array.isArray(t),c=r.e.r;t["!rows"]&&(c=Math.max(r.e.r,t["!rows"].length-1));for(var u=r.s.r;u<=c;++u){o=$n(u),ize(e,t,r,u);var h=!1;if(u<=r.e.r)for(var f=r.s.c;f<=r.e.c;++f){u===r.s.r&&(a[f]=gn(f)),n=a[f]+o;var p=l?(t[u]||[])[f]:t[n];if(!p){h=!1;continue}h=r5e(e,p,u,f,s,t,h)}}Vt(e,146)}function o5e(e,t){!t||!t["!merges"]||(Vt(e,177,$ze(t["!merges"].length)),t["!merges"].forEach(function(i){Vt(e,176,Hze(i))}),Vt(e,178))}function a5e(e,t){!t||!t["!cols"]||(Vt(e,390),t["!cols"].forEach(function(i,s){i&&Vt(e,60,Yze(s,i))}),Vt(e,391))}function l5e(e,t){!t||!t["!ref"]||(Vt(e,648),Vt(e,649,Zze(Ks(t["!ref"]))),Vt(e,650))}function c5e(e,t,i){t["!links"].forEach(function(s){if(s[1].Target){var r=Cr(i,-1,s[1].Target.replace(/#.*$/,""),Es.HLINK);Vt(e,494,Uze(s,r))}}),delete t["!links"]}function u5e(e,t,i,s){if(t["!comments"].length>0){var r=Cr(s,-1,"../drawings/vmlDrawing"+(i+1)+".vml",Es.VML);Vt(e,551,c2("rId"+r)),t["!legacy"]=r}}function d5e(e,t,i,s){if(t["!autofilter"]){var r=t["!autofilter"],n=typeof r.ref=="string"?r.ref:us(r.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var o=i.Workbook.Names,a=ll(n);a.s.r==a.e.r&&(a.e.r=ll(t["!ref"]).e.r,n=us(a));for(var l=0;l<o.length;++l){var c=o[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+i.SheetNames[s]+"'!"+n;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+i.SheetNames[s]+"'!"+n}),Vt(e,161,gy(Ks(n))),Vt(e,162)}}function h5e(e,t,i){Vt(e,133),Vt(e,137,Jze(t,i)),Vt(e,138),Vt(e,134)}function f5e(e,t){t["!protect"]&&Vt(e,535,e5e(t["!protect"]))}function p5e(e,t,i,s){var r=rl(),n=i.SheetNames[e],o=i.Sheets[n]||{},a=n;try{i&&i.Workbook&&(a=i.Workbook.Sheets[e].CodeName||a)}catch{}var l=Ks(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Vt(r,129),(i.vbaraw||o["!outline"])&&Vt(r,147,aze(a,o["!outline"])),Vt(r,148,rze(l)),h5e(r,o,i.Workbook),a5e(r,o),n5e(r,o,e,t),f5e(r,o),d5e(r,o,i,e),o5e(r,o),c5e(r,o,s),o["!margins"]&&Vt(r,476,qze(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&l5e(r,o),u5e(r,o,e,s),Vt(r,130),r.end()}function g5e(e){var t=[],i=e.match(/^<c:numCache>/),s;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(n){var o=n.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=i?+o[2]:o[2])});var r=js((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(n){s=n.replace(/<.*?>/g,"")}),[t,r,s]}function m5e(e,t,i,s,r,n){var o=n||{"!type":"chart"};if(!e)return n;var a=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var f=g5e(h);u.s.r=u.s.c=0,u.e.c=a,c=gn(a),f[0].forEach(function(p,y){o[c+$n(y)]={t:"n",v:p,z:f[1]},l=y}),u.e.r<l&&(u.e.r=l),++a}),a>0&&(o["!ref"]=us(u)),o}function v5e(e,t,i,s,r){if(!e)return e;s||(s={"!id":{}});var n={"!type":"chart","!drawel":null,"!rel":""},o,a=e.match(EZ);return a&&x2(a[0],n,r,i),(o=e.match(/drawing r:id="(.*?)"/))&&(n["!rel"]=o[1]),s["!id"][n["!rel"]]&&(n["!drawel"]=s["!id"][n["!rel"]]),n}function y5e(e,t){e.l+=10;var i=ua(e);return{name:i}}function C5e(e,t,i,s,r){if(!e)return e;s||(s={"!id":{}});var n={"!type":"chart","!drawel":null,"!rel":""},o=!1;return gh(e,function(l,c,u){switch(u){case 550:n["!rel"]=l;break;case 651:r.Sheets[i]||(r.Sheets[i]={}),l.name&&(r.Sheets[i].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),s["!id"][n["!rel"]]&&(n["!drawel"]=s["!id"][n["!rel"]]),n}var E2=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],b5e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],w5e=[],S5e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function $6(e,t){for(var i=0;i!=e.length;++i)for(var s=e[i],r=0;r!=t.length;++r){var n=t[r];if(s[n[0]]==null)s[n[0]]=n[1];else switch(n[2]){case"bool":typeof s[n[0]]=="string"&&(s[n[0]]=zr(s[n[0]]));break;case"int":typeof s[n[0]]=="string"&&(s[n[0]]=parseInt(s[n[0]],10));break}}}function W6(e,t){for(var i=0;i!=t.length;++i){var s=t[i];if(e[s[0]]==null)e[s[0]]=s[1];else switch(s[2]){case"bool":typeof e[s[0]]=="string"&&(e[s[0]]=zr(e[s[0]]));break;case"int":typeof e[s[0]]=="string"&&(e[s[0]]=parseInt(e[s[0]],10));break}}}function kZ(e){W6(e.WBProps,E2),W6(e.CalcPr,S5e),$6(e.WBView,b5e),$6(e.Sheets,w5e),jv.date1904=zr(e.WBProps.date1904)}function x5e(e){return!e.Workbook||!e.Workbook.WBProps?"false":zr(e.Workbook.WBProps.date1904)?"true":"false"}var E5e="][*?/\\".split("");function DZ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var i=!0;return E5e.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),i}function _5e(e,t,i){e.forEach(function(s,r){DZ(s);for(var n=0;n<r;++n)if(s==e[n])throw new Error("Duplicate Sheet Name: "+s);if(i){var o=t&&t[r]&&t[r].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function T5e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];_5e(e.SheetNames,t,!!e.vbaraw);for(var i=0;i<e.SheetNames.length;++i)xUe(e.Sheets[e.SheetNames[i]],e.SheetNames[i],i)}var A5e=/<\w+:workbook/;function k5e(e,t){if(!e)throw new Error("Could not find file");var i={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},s=!1,r="xmlns",n={},o=0;if(e.replace(ga,function(l,c){var u=Wi(l);switch(nd(u[0])){case"<?xml":break;case"<workbook":l.match(A5e)&&(r="xmlns"+l.match(/<(\w+):/)[1]),i.xmlns=u[r];break;case"</workbook>":break;case"<fileVersion":delete u[0],i.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":E2.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":i.WBProps[h[0]]=zr(u[h[0]]);break;case"int":i.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:i.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(i.WBProps.CodeName=Dr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],i.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=js(Dr(u.name)),delete u[0],i.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":s=!0;break;case"</definedNames>":s=!1;break;case"<definedName":n={},n.Name=Dr(u.name),u.comment&&(n.Comment=u.comment),u.localSheetId&&(n.Sheet=+u.localSheetId),zr(u.hidden||"0")&&(n.Hidden=!0),o=c+l.length;break;case"</definedName>":n.Ref=js(Dr(e.slice(o,c))),i.Names.push(n);break;case"<definedName/>":break;case"<calcPr":delete u[0],i.CalcPr=u;break;case"<calcPr/>":delete u[0],i.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":s=!0;break;case"</AlternateContent>":s=!1;break;case"<revisionPtr":break;default:if(!s&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),_m.indexOf(i.xmlns)===-1)throw new Error("Unknown Namespace: "+i.xmlns);return kZ(i),i}function RZ(e){var t=[Un];t[t.length]=Jt("workbook",null,{xmlns:_m[0],"xmlns:r":go.r});var i=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(E2.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(s[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=Jt("workbookPr",null,s);var r=e.Workbook&&e.Workbook.Sheets||[],n=0;if(r&&r[0]&&r[0].Hidden){for(t[t.length]="<bookViews>",n=0;n!=e.SheetNames.length&&!(!r[n]||!r[n].Hidden);++n);n==e.SheetNames.length&&(n=0),t[t.length]='<workbookView firstSheet="'+n+'" activeTab="'+n+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",n=0;n!=e.SheetNames.length;++n){var o={name:wr(e.SheetNames[n].slice(0,31))};if(o.sheetId=""+(n+1),o["r:id"]="rId"+(n+1),r[n])switch(r[n].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Jt("sheet",null,o)}return t[t.length]="</sheets>",i&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=Jt("definedName",wr(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function D5e(e,t){var i={};return i.Hidden=e.read_shift(4),i.iTabID=e.read_shift(4),i.strRelID=KM(e),i.name=ua(e),i}function R5e(e,t){return t||(t=At(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),c2(e.strRelID,t),Eo(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function P5e(e,t){var i={},s=e.read_shift(4);i.defaultThemeVersion=e.read_shift(4);var r=t>8?ua(e):"";return r.length>0&&(i.CodeName=r),i.autoCompressPictures=!!(s&65536),i.backupFile=!!(s&64),i.checkCompatibility=!!(s&4096),i.date1904=!!(s&1),i.filterPrivacy=!!(s&8),i.hidePivotFieldList=!!(s&1024),i.promptedSolutions=!!(s&16),i.publishItems=!!(s&2048),i.refreshAllConnections=!!(s&262144),i.saveExternalLinkValues=!!(s&128),i.showBorderUnselectedTables=!!(s&4),i.showInkAnnotation=!!(s&32),i.showObjects=["all","placeholders","none"][s>>13&3],i.showPivotChartFilter=!!(s&32768),i.updateLinks=["userSet","never","always"][s>>8&3],i}function F5e(e,t){t||(t=At(72));var i=0;return e&&e.filterPrivacy&&(i|=8),t.write_shift(4,i),t.write_shift(4,0),wJ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function M5e(e,t){var i={};return e.read_shift(4),i.ArchID=e.read_shift(4),e.l+=t-8,i}function L5e(e,t,i){var s=e.l+t;e.l+=4,e.l+=1;var r=e.read_shift(4),n=u4e(e),o=vUe(e,0,i),a=l2(e);e.l=s;var l={Name:n,Ptg:o};return r<268435455&&(l.Sheet=r),a&&(l.Comment=a),l}function O5e(e,t){var i={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},s=[],r=!1;t||(t={}),t.biff=12;var n=[],o=[[]];return o.SheetNames=[],o.XTI=[],Pw[16]={n:"BrtFRTArchID$",f:M5e},gh(e,function(l,c,u){switch(u){case 156:o.SheetNames.push(l.name),i.Sheets.push(l);break;case 153:i.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Zo(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,n.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,l]):o[0]=[u,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:s.push(u),r=!0;break;case 36:s.pop(),r=!1;break;case 37:s.push(u),r=!0;break;case 38:s.pop(),r=!1;break;case 16:break;default:if(!c.T){if(!r||t.WTF&&s[s.length-1]!=37&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),kZ(i),i.Names=n,i.supbooks=o,i}function I5e(e,t){Vt(e,143);for(var i=0;i!=t.SheetNames.length;++i){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[i]&&t.Workbook.Sheets[i].Hidden||0,r={Hidden:s,iTabID:i+1,strRelID:"rId"+(i+1),name:t.SheetNames[i]};Vt(e,156,R5e(r))}Vt(e,144)}function N5e(e,t){t||(t=At(127));for(var i=0;i!=4;++i)t.write_shift(4,0);return Eo("SheetJS",t),Eo(Y_.version,t),Eo(Y_.version,t),Eo("7262",t),t.length>t.l?t.slice(0,t.l):t}function V5e(e,t){t||(t=At(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var i=120;return t.write_shift(1,i),t.length>t.l?t.slice(0,t.l):t}function B5e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var i=t.Workbook.Sheets,s=0,r=-1,n=-1;s<i.length;++s)!i[s]||!i[s].Hidden&&r==-1?r=s:i[s].Hidden==1&&n==-1&&(n=s);n>r||(Vt(e,135),Vt(e,158,V5e(r)),Vt(e,136))}}function G5e(e,t){var i=rl();return Vt(i,131),Vt(i,128,N5e()),Vt(i,153,F5e(e.Workbook&&e.Workbook.WBProps||null)),B5e(i,e),I5e(i,e),Vt(i,132),i.end()}function H5e(e,t,i){return t.slice(-4)===".bin"?O5e(e,i):k5e(e,i)}function $5e(e,t,i,s,r,n,o,a){return t.slice(-4)===".bin"?s5e(e,s,i,r,n,o,a):LUe(e,s,i,r,n,o,a)}function W5e(e,t,i,s,r,n,o,a){return t.slice(-4)===".bin"?C5e(e,s,i,r,n):v5e(e,s,i,r,n)}function U5e(e,t,i,s,r,n,o,a){return t.slice(-4)===".bin"?j6e():K6e()}function z5e(e,t,i,s,r,n,o,a){return t.slice(-4)===".bin"?U6e():z6e()}function j5e(e,t,i,s){return t.slice(-4)===".bin"?HWe(e,i,s):DWe(e,i,s)}function K5e(e,t,i){return uZ(e,i)}function Y5e(e,t,i){return t.slice(-4)===".bin"?Y$e(e,i):z$e(e,i)}function X5e(e,t,i){return t.slice(-4)===".bin"?B6e(e,i):R6e(e,i)}function q5e(e,t,i){return t.slice(-4)===".bin"?A6e(e):_6e(e)}function Q5e(e,t,i,s){return i.slice(-4)===".bin"?k6e(e,t,i,s):void 0}function J5e(e,t,i){return t.slice(-4)===".bin"?S6e(e,t,i):E6e(e,t,i)}function Z5e(e,t,i){return(t.slice(-4)===".bin"?G5e:RZ)(e)}function e7e(e,t,i,s,r){return(t.slice(-4)===".bin"?p5e:_Z)(e,i,s,r)}function t7e(e,t,i){return(t.slice(-4)===".bin"?QWe:lZ)(e,i)}function i7e(e,t,i){return(t.slice(-4)===".bin"?Q$e:eZ)(e,i)}function s7e(e,t,i){return(t.slice(-4)===".bin"?G6e:fZ)(e)}function r7e(e){return(e.slice(-4)===".bin"?x6e:dZ)()}var PZ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,FZ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Fc(e,t){var i=e.split(/\s+/),s=[];if(s[0]=i[0],i.length===1)return s;var r=e.match(PZ),n,o,a,l;if(r)for(l=0;l!=r.length;++l)n=r[l].match(FZ),(o=n[1].indexOf(":"))===-1?s[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?a="xmlns"+n[1].slice(6):a=n[1].slice(o+1),s[a]=n[2].slice(1,n[2].length-1));return s}function n7e(e){var t=e.split(/\s+/),i={};if(t.length===1)return i;var s=e.match(PZ),r,n,o,a;if(s)for(a=0;a!=s.length;++a)r=s[a].match(FZ),(n=r[1].indexOf(":"))===-1?i[r[1]]=r[2].slice(1,r[2].length-1):(r[1].slice(0,6)==="xmlns:"?o="xmlns"+r[1].slice(6):o=r[1].slice(n+1),i[o]=r[2].slice(1,r[2].length-1));return i}var fb;function o7e(e,t){var i=fb[e]||js(e);return i==="General"?Bg(t):vc(i,t)}function a7e(e,t,i,s){var r=s;switch((i[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":r=zr(s);break;case"i2":case"int":r=parseInt(s,10);break;case"r4":case"float":r=parseFloat(s);break;case"date":case"dateTime.tz":r=qr(s);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+i[0])}e[js(t)]=r}function l7e(e,t,i){if(e.t!=="z"){if(!i||i.cellText!==!1)try{e.t==="e"?e.w=e.w||mh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Sw(e.v):e.w=Bg(e.v):e.w=o7e(t||"General",e.v)}catch(n){if(i.WTF)throw n}try{var s=fb[t]||t||"General";if(i.cellNF&&(e.z=s),i.cellDates&&e.t=="n"&&hy(s)){var r=Kp(e.v);r&&(e.t="d",e.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}catch(n){if(i.WTF)throw n}}}function c7e(e,t,i){if(i.cellStyles&&t.Interior){var s=t.Interior;s.Pattern&&(s.patternType=wWe[s.Pattern]||s.Pattern)}e[t.ID]=t}function u7e(e,t,i,s,r,n,o,a,l,c){var u="General",h=s.StyleID,f={};c=c||{};var p=[],y=0;for(h===void 0&&a&&(h=a.StyleID),h===void 0&&o&&(h=o.StyleID);n[h]!==void 0&&(n[h].nf&&(u=n[h].nf),n[h].Interior&&p.push(n[h].Interior),!!n[h].Parent);)h=n[h].Parent;switch(i.Type){case"Boolean":s.t="b",s.v=zr(e);break;case"String":s.t="s",s.r=o6(js(e)),s.v=e.indexOf("<")>-1?js(t||e).replace(/<.*?>/g,""):s.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),s.v=(qr(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),s.v!==s.v?s.v=js(e):s.v<60&&(s.v=s.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":s.v===void 0&&(s.v=+e),s.t||(s.t="n");break;case"Error":s.t="e",s.v=TJ[e],c.cellText!==!1&&(s.w=e);break;default:e==""&&t==""?s.t="z":(s.t="s",s.v=o6(t||e));break}if(l7e(s,u,c),c.cellFormula!==!1)if(s.Formula){var v=js(s.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),s.f=zv(v,r),delete s.Formula,s.ArrayRange=="RC"?s.F=zv("RC:RC",r):s.ArrayRange&&(s.F=zv(s.ArrayRange,r),l.push([Ks(s.F),s.F]))}else for(y=0;y<l.length;++y)r.r>=l[y][0].s.r&&r.r<=l[y][0].e.r&&r.c>=l[y][0].s.c&&r.c<=l[y][0].e.c&&(s.F=l[y][1]);c.cellStyles&&(p.forEach(function(C){!f.patternType&&C.patternType&&(f.patternType=C.patternType)}),s.s=f),s.StyleID!==void 0&&(s.ixfe=s.StyleID)}function d7e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function kP(e,t){var i=t||{};fy();var s=kC(i2(e));(i.type=="binary"||i.type=="array"||i.type=="base64")&&(s=Dr(s));var r=s.slice(0,1024).toLowerCase(),n=!1;if(r=r.replace(/".*?"/g,""),(r.indexOf(">")&1023)>Math.min(r.indexOf(",")&1023,r.indexOf(";")&1023)){var o=Qr(i);return o.type="string",L0.to_workbook(s,o)}if(r.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ze){r.indexOf("<"+Ze)>=0&&(n=!0)}),n)return q7e(s,i);fb={"General Number":"General","General Date":Li[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Li[15],"Short Date":Li[14],"Long Time":Li[19],"Medium Time":Li[18],"Short Time":Li[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Li[2],Standard:Li[4],Percent:Li[10],Scientific:Li[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],c,u={},h=[],f=i.dense?[]:{},p="",y={},v={},C=Fc('<Data ss:Type="String">'),S=0,_=0,x=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},R={},O={},k="",F=0,N=[],j={},ee={},K=0,Q=[],be=[],te={},ne=[],H,ie=!1,ue=[],Te=[],Ie={},he=0,Ee=0,Y={Sheets:[],WBProps:{date1904:!1}},Z={};_w.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"");for(var Se="";a=_w.exec(s);)switch(a[3]=(Se=a[3]).toLowerCase()){case"data":if(Se=="data"){if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?u7e(s.slice(S,a.index),k,C,l[l.length-1][0]=="comment"?te:y,{c:_,r:x},R,ne[_],v,ue,i):(k="",C=Fc(a[0]),S=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(be.length>0&&(y.c=be),(!i.sheetRows||i.sheetRows>x)&&y.v!==void 0&&(i.dense?(f[x]||(f[x]=[]),f[x][_]=y):f[gn(_)+$n(x)]=y),y.HRef&&(y.l={Target:js(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(he=_+(parseInt(y.MergeAcross,10)|0),Ee=x+(parseInt(y.MergeDown,10)|0),N.push({s:{c:_,r:x},e:{c:he,r:Ee}})),!i.sheetStubs)y.MergeAcross?_=he+1:++_;else if(y.MergeAcross||y.MergeDown){for(var ye=_;ye<=he;++ye)for(var ke=x;ke<=Ee;++ke)(ye>_||ke>x)&&(i.dense?(f[ke]||(f[ke]=[]),f[ke][ye]={t:"z"}):f[gn(ye)+$n(ke)]={t:"z"});_=he+1}else++_;else y=n7e(a[0]),y.Index&&(_=+y.Index-1),_<A.s.c&&(A.s.c=_),_>A.e.c&&(A.e.c=_),a[0].slice(-2)==="/>"&&++_,be=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(x<A.s.r&&(A.s.r=x),x>A.e.r&&(A.e.r=x),a[0].slice(-2)==="/>"&&(v=Fc(a[0]),v.Index&&(x=+v.Index-1)),_=0,++x):(v=Fc(a[0]),v.Index&&(x=+v.Index-1),Ie={},(v.AutoFitHeight=="0"||v.Height)&&(Ie.hpx=parseInt(v.Height,10),Ie.hpt=Rw(Ie.hpx),Te[x]=Ie),v.Hidden=="1"&&(Ie.hidden=!0,Te[x]=Ie));break;case"worksheet":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));h.push(p),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(f["!ref"]=us(A),i.sheetRows&&i.sheetRows<=A.e.r&&(f["!fullref"]=f["!ref"],A.e.r=i.sheetRows-1,f["!ref"]=us(A))),N.length&&(f["!merges"]=N),ne.length>0&&(f["!cols"]=ne),Te.length>0&&(f["!rows"]=Te),u[p]=f}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=_=0,l.push([a[3],!1]),c=Fc(a[0]),p=js(c.Name),f=i.dense?[]:{},N=[],ue=[],Te=[],Z={name:p,Hidden:0},Y.Sheets.push(Z);break;case"table":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),ne=[],ie=!1}break;case"style":a[1]==="/"?c7e(R,O,i):O=Fc(a[0]);break;case"numberformat":O.nf=js(Fc(a[0]).Format||"General"),fb[O.nf]&&(O.nf=fb[O.nf]);for(var Oe=0;Oe!=392&&Li[Oe]!=O.nf;++Oe);if(Oe==392){for(Oe=57;Oe!=392;++Oe)if(Li[Oe]==null){zd(O.nf,Oe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(H=Fc(a[0]),H.Hidden&&(H.hidden=!0,delete H.Hidden),H.Width&&(H.wpx=parseInt(H.Width,10)),!ie&&H.wpx>10){ie=!0,ta=oZ;for(var He=0;He<ne.length;++He)ne[He]&&Ff(ne[He])}ie&&Ff(H),ne[H.Index-1||ne.length]=H;for(var mt=0;mt<+H.Span;++mt)ne[ne.length]=Qr(H);break;case"namedrange":if(a[1]==="/")break;Y.Names||(Y.Names=[]);var we=Wi(a[0]),de={Name:we.Name,Ref:zv(we.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(de.Sheet=Y.Sheets.length-1),Y.Names.push(de);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?k+=s.slice(F,a.index):F=a.index+a[0].length;break;case"interior":if(!i.cellStyles)break;O.Interior=Fc(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?O4e(j,Se,s.slice(K,a.index)):K=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));d7e(te),be.push(te)}else l.push([a[3],!1]),c=Fc(a[0]),te={a:c.Author};break;case"autofilter":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var pe=Fc(a[0]);f["!autofilter"]={ref:zv(pe.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return Y6(s,i);var Ve=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ve=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ve=!1}break;case"excelworkbook":switch(a[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ve=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:Ve=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(s.slice(K,a.index)){case"SheetHidden":Z.Hidden=1;break;case"SheetVeryHidden":Z.Hidden=2;break}else K=a.index+a[0].length;break;case"header":f["!margins"]||fg(f["!margins"]={},"xlml"),isNaN(+Wi(a[0]).Margin)||(f["!margins"].header=+Wi(a[0]).Margin);break;case"footer":f["!margins"]||fg(f["!margins"]={},"xlml"),isNaN(+Wi(a[0]).Margin)||(f["!margins"].footer=+Wi(a[0]).Margin);break;case"pagemargins":var Qe=Wi(a[0]);f["!margins"]||fg(f["!margins"]={},"xlml"),isNaN(+Qe.Top)||(f["!margins"].top=+Qe.Top),isNaN(+Qe.Left)||(f["!margins"].left=+Qe.Left),isNaN(+Qe.Right)||(f["!margins"].right=+Qe.Right),isNaN(+Qe.Bottom)||(f["!margins"].bottom=+Qe.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ve=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ve=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ve=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ve=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ve=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ve=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ve=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ve=!1}break;case"smarttags":break;default:Ve=!1;break}if(Ve||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?a7e(ee,Se,Q,s.slice(K,a.index)):(Q=a,K=a.index+a[0].length);break}if(i.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var Ge={};return!i.bookSheets&&!i.bookProps&&(Ge.Sheets=u),Ge.SheetNames=h,Ge.Workbook=Y,Ge.SSF=Qr(Li),Ge.Props=j,Ge.Custprops=ee,Ge}function eL(e,t){switch(T2(t=t||{}),t.type||"base64"){case"base64":return kP(Ll(e),t);case"binary":case"buffer":case"file":return kP(e,t);case"array":return kP(Qf(e),t)}}function h7e(e,t){var i=[];return e.Props&&i.push(I4e(e.Props,t)),e.Custprops&&i.push(N4e(e.Props,e.Custprops)),i.join("")}function f7e(){return""}function p7e(e,t){var i=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,r){var n=[];n.push(Jt("NumberFormat",null,{"ss:Format":wr(Li[s.numFmtId])}));var o={"ss:ID":"s"+(21+r)};i.push(Jt("Style",n.join(""),o))}),Jt("Styles",i.join(""))}function MZ(e){return Jt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+b2(e.Ref,{r:0,c:0})})}function g7e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,i=[],s=0;s<t.length;++s){var r=t[s];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||i.push(MZ(r)))}return Jt("Names",i.join(""))}function m7e(e,t,i,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var r=s.Workbook.Names,n=[],o=0;o<r.length;++o){var a=r[o];a.Sheet==i&&(a.Name.match(/^_xlfn\./)||n.push(MZ(a)))}return n.join("")}function v7e(e,t,i,s){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(Jt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(Jt("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(Jt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[i])if(s.Workbook.Sheets[i].Hidden)r.push(Jt("Visible",s.Workbook.Sheets[i].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var n=0;n<i&&!(s.Workbook.Sheets[n]&&!s.Workbook.Sheets[n].Hidden);++n);n==i&&r.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(Bo("ProtectContents","True")),e["!protect"].objects&&r.push(Bo("ProtectObjects","True")),e["!protect"].scenarios&&r.push(Bo("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?r.push(Bo("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&r.push(Bo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),r.length==0?"":Jt("WorksheetOptions",r.join(""),{xmlns:Sl.x})}function y7e(e){return e.map(function(t){var i=BHe(t.t||""),s=Jt("ss:Data",i,{xmlns:"http://www.w3.org/TR/REC-html40"});return Jt("Comment",s,{"ss:Author":t.a})}).join("")}function C7e(e,t,i,s,r,n,o){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+wr(b2(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=mn(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=wr(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=wr(e.l.Tooltip))),i["!merges"])for(var c=i["!merges"],u=0;u!=c.length;++u)c[u].s.c!=o.c||c[u].s.r!=o.r||(c[u].e.c>c[u].s.c&&(a["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(a["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",f="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":h="Number",f=String(e.v);break;case"b":h="Boolean",f=e.v?"1":"0";break;case"e":h="Error",f=mh[e.v];break;case"d":h="DateTime",f=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Li[14]);break;case"s":h="String",f=VHe(e.v||"");break}var p=Zf(s.cellXfs,e,s);a["ss:StyleID"]="s"+(21+p),a["ss:Index"]=o.c+1;var y=e.v!=null?f:"",v=e.t=="z"?"":'<Data ss:Type="'+h+'">'+y+"</Data>";return(e.c||[]).length>0&&(v+=y7e(e.c)),Jt("Cell",v,a)}function b7e(e,t){var i='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=O0(t.hpt)),t.hpx&&(i+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(i+=' ss:Hidden="1"')),i+">"}function w7e(e,t,i,s){if(!e["!ref"])return"";var r=Ks(e["!ref"]),n=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(C,S){Ff(C);var _=!!C.width,x=uk(S,C),A={"ss:Index":S+1};_&&(A["ss:Width"]=kw(x.width)),C.hidden&&(A["ss:Hidden"]="1"),a.push(Jt("Column",null,A))});for(var l=Array.isArray(e),c=r.s.r;c<=r.e.r;++c){for(var u=[b7e(c,(e["!rows"]||[])[c])],h=r.s.c;h<=r.e.c;++h){var f=!1;for(o=0;o!=n.length;++o)if(!(n[o].s.c>h)&&!(n[o].s.r>c)&&!(n[o].e.c<h)&&!(n[o].e.r<c)){(n[o].s.c!=h||n[o].s.r!=c)&&(f=!0);break}if(!f){var p={r:c,c:h},y=Vi(p),v=l?(e[c]||[])[h]:e[y];u.push(C7e(v,y,e,t,i,s,p))}}u.push("</Row>"),u.length>2&&a.push(u.join(""))}return a.join("")}function S7e(e,t,i){var s=[],r=i.SheetNames[e],n=i.Sheets[r],o=n?m7e(n,t,e,i):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=n?w7e(n,t,e,i):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(v7e(n,t,e,i)),s.join("")}function x7e(e,t){t||(t={}),e.SSF||(e.SSF=Qr(Li)),e.SSF&&(fy(),sk(e.SSF),t.revssf=nk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Zf(t.cellXfs,{},{revssf:{General:0}}));var i=[];i.push(h7e(e,t)),i.push(f7e()),i.push(""),i.push("");for(var s=0;s<e.SheetNames.length;++s)i.push(Jt("Worksheet",S7e(s,t,e),{"ss:Name":wr(e.SheetNames[s])}));return i[2]=p7e(e,t),i[3]=g7e(e),Un+Jt("Workbook",i.join(""),{xmlns:Sl.ss,"xmlns:o":Sl.o,"xmlns:x":Sl.x,"xmlns:ss":Sl.ss,"xmlns:dt":Sl.dt,"xmlns:html":Sl.html})}function E7e(e){var t={},i=e.content;if(i.l=28,t.AnsiUserType=i.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=g4e(i),i.length-i.l<=4)return t;var s=i.read_shift(4);if(s==0||s>40||(i.l-=4,t.Reserved1=i.read_shift(0,"lpstr-ansi"),i.length-i.l<=4)||(s=i.read_shift(4),s!==1907505652)||(t.UnicodeClipboardFormat=m4e(i),s=i.read_shift(4),s==0||s>40))return t;i.l-=4,t.Reserved2=i.read_shift(0,"lpwstr")}var _7e=[60,1084,2066,2165,2175];function T7e(e,t,i,s,r){var n=s,o=[],a=i.slice(i.l,i.l+n);if(r&&r.enc&&r.enc.insitu&&a.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:r.enc.insitu(a)}o.push(a),i.l+=n;for(var l=Bd(i,i.l),c=tL[l],u=0;c!=null&&_7e.indexOf(l)>-1;)n=Bd(i,i.l+2),u=i.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),a=i.slice(u,i.l+4+n),o.push(a),i.l+=4+n,c=tL[l=Bd(i,i.l)];var h=So(o);Io(h,0);var f=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(f),f+=o[p].length;if(h.length<s)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+s;return t.f(h,h.length,r)}function mu(e,t,i){if(e.t!=="z"&&e.XF){var s=0;try{s=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Li[s])}catch(n){if(t.WTF)throw n}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||mh[e.v]:s===0||s=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Sw(e.v):e.w=Bg(e.v):e.w=vc(s,e.v,{date1904:!!i,dateNF:t&&t.dateNF})}catch(n){if(t.WTF)throw n}if(t.cellDates&&s&&e.t=="n"&&hy(Li[s]||String(s))){var r=Kp(e.v);r&&(e.t="d",e.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}}function O1(e,t,i){return{v:e,ixfe:t,t:i}}function A7e(e,t){var i={opts:{}},s={},r=t.dense?[]:{},n={},o={},a=null,l=[],c="",u={},h,f="",p,y,v,C,S={},_=[],x,A,R=[],O=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},F={},N=function(Me){return Me<8?ug[Me]:Me<64&&O[Me-8]||ug[Me]},j=function(Me,qe,pt){var vt=qe.XF.data;if(!(!vt||!vt.patternType||!pt||!pt.cellStyles)){qe.s={},qe.s.patternType=vt.patternType;var _i;(_i=Aw(N(vt.icvFore)))&&(qe.s.fgColor={rgb:_i}),(_i=Aw(N(vt.icvBack)))&&(qe.s.bgColor={rgb:_i})}},ee=function(Me,qe,pt){if(!(Ie>1)&&!(pt.sheetRows&&Me.r>=pt.sheetRows)){if(pt.cellStyles&&qe.XF&&qe.XF.data&&j(Me,qe,pt),delete qe.ixfe,delete qe.XF,h=Me,f=Vi(Me),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Me.r<o.s.r&&(o.s.r=Me.r),Me.c<o.s.c&&(o.s.c=Me.c),Me.r+1>o.e.r&&(o.e.r=Me.r+1),Me.c+1>o.e.c&&(o.e.c=Me.c+1),pt.cellFormula&&qe.f){for(var vt=0;vt<_.length;++vt)if(!(_[vt][0].s.c>Me.c||_[vt][0].s.r>Me.r)&&!(_[vt][0].e.c<Me.c||_[vt][0].e.r<Me.r)){qe.F=us(_[vt][0]),(_[vt][0].s.c!=Me.c||_[vt][0].s.r!=Me.r)&&delete qe.f,qe.f&&(qe.f=""+Zo(_[vt][1],o,Me,ue,K));break}}pt.dense?(r[Me.r]||(r[Me.r]=[]),r[Me.r][Me.c]=qe):r[f]=qe}},K={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(K.password=t.password);var Q,be=[],te=[],ne=[],H=[],ie=!1,ue=[];ue.SheetNames=K.snames,ue.sharedf=K.sharedf,ue.arrayf=K.arrayf,ue.names=[],ue.XTI=[];var Te=0,Ie=0,he=0,Ee=[],Y=[],Z;K.codepage=1200,Wc(1200);for(var Se=!1;e.l<e.length-1;){var ye=e.l,ke=e.read_shift(2);if(ke===0&&Te===10)break;var Oe=e.l===e.length?0:e.read_shift(2),He=tL[ke];if(He&&He.f){if(t.bookSheets&&Te===133&&ke!==133)break;if(Te=ke,He.r===2||He.r==12){var mt=e.read_shift(2);if(Oe-=2,!K.enc&&mt!==ke&&((mt&255)<<8|mt>>8)!==ke)throw new Error("rt mismatch: "+mt+"!="+ke);He.r==12&&(e.l+=10,Oe-=10)}var we={};if(ke===10?we=He.f(e,Oe,K):we=T7e(ke,He,e,Oe,K),Ie==0&&[9,521,1033,2057].indexOf(Te)===-1)continue;switch(ke){case 34:i.opts.Date1904=k.WBProps.date1904=we;break;case 134:i.opts.WriteProtect=!0;break;case 47:if(K.enc||(e.l=0),K.enc=we,!t.password)throw new Error("File is password-protected");if(we.valid==null)throw new Error("Encryption scheme unsupported");if(!we.valid)throw new Error("Password is incorrect");break;case 92:K.lastuser=we;break;case 66:var de=Number(we);switch(de){case 21010:de=1200;break;case 32768:de=1e4;break;case 32769:de=1252;break}Wc(K.codepage=de),Se=!0;break;case 317:K.rrtabid=we;break;case 25:K.winlocked=we;break;case 439:i.opts.RefreshAll=we;break;case 12:i.opts.CalcCount=we;break;case 16:i.opts.CalcDelta=we;break;case 17:i.opts.CalcIter=we;break;case 13:i.opts.CalcMode=we;break;case 14:i.opts.CalcPrecision=we;break;case 95:i.opts.CalcSaveRecalc=we;break;case 15:K.CalcRefMode=we;break;case 2211:i.opts.FullCalc=we;break;case 129:we.fDialog&&(r["!type"]="dialog"),we.fBelow||((r["!outline"]||(r["!outline"]={})).above=!0),we.fRight||((r["!outline"]||(r["!outline"]={})).left=!0);break;case 224:R.push(we);break;case 430:ue.push([we]),ue[ue.length-1].XTI=[];break;case 35:case 547:ue[ue.length-1].push(we);break;case 24:case 536:Z={Name:we.Name,Ref:Zo(we.rgce,o,null,ue,K)},we.itab>0&&(Z.Sheet=we.itab-1),ue.names.push(Z),ue[0]||(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].push(we),we.Name=="_xlnm._FilterDatabase"&&we.itab>0&&we.rgce&&we.rgce[0]&&we.rgce[0][0]&&we.rgce[0][0][0]=="PtgArea3d"&&(Y[we.itab-1]={ref:us(we.rgce[0][0][1][2])});break;case 22:K.ExternCount=we;break;case 23:ue.length==0&&(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].XTI=ue[ue.length-1].XTI.concat(we),ue.XTI=ue.XTI.concat(we);break;case 2196:if(K.biff<8)break;Z!=null&&(Z.Comment=we[1]);break;case 18:r["!protect"]=we;break;case 19:we!==0&&K.WTF&&console.error("Password verifier: "+we);break;case 133:n[we.pos]=we,K.snames.push(we.name);break;case 10:{if(--Ie)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,r["!ref"]=us(o),t.sheetRows&&t.sheetRows<=o.e.r){var pe=o.e.r;o.e.r=t.sheetRows-1,r["!fullref"]=r["!ref"],r["!ref"]=us(o),o.e.r=pe}o.e.r++,o.e.c++}be.length>0&&(r["!merges"]=be),te.length>0&&(r["!objects"]=te),ne.length>0&&(r["!cols"]=ne),H.length>0&&(r["!rows"]=H),k.Sheets.push(F)}c===""?u=r:s[c]=r,r=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(K.biff===8&&(K.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[we.BIFFVer]||8),K.biffguess=we.BIFFVer==0,we.BIFFVer==0&&we.dt==4096&&(K.biff=5,Se=!0,Wc(K.codepage=28591)),K.biff==8&&we.BIFFVer==0&&we.dt==16&&(K.biff=2),Ie++)break;if(r=t.dense?[]:{},K.biff<8&&!Se&&(Se=!0,Wc(K.codepage=t.codepage||1252)),K.biff<5||we.BIFFVer==0&&we.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ve={pos:e.l-Oe,name:c};n[Ve.pos]=Ve,K.snames.push(c)}else c=(n[ye]||{name:""}).name;we.dt==32&&(r["!type"]="chart"),we.dt==64&&(r["!type"]="macro"),be=[],te=[],K.arrayf=_=[],ne=[],H=[],ie=!1,F={Hidden:(n[ye]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:r["!type"]=="chart"&&(t.dense?(r[we.r]||[])[we.c]:r[Vi({c:we.c,r:we.r})])&&++we.c,x={ixfe:we.ixfe,XF:R[we.ixfe]||{},v:we.val,t:"n"},he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee({c:we.c,r:we.r},x,t);break;case 5:case 517:x={ixfe:we.ixfe,XF:R[we.ixfe],v:we.val,t:we.t},he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee({c:we.c,r:we.r},x,t);break;case 638:x={ixfe:we.ixfe,XF:R[we.ixfe],v:we.rknum,t:"n"},he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee({c:we.c,r:we.r},x,t);break;case 189:for(var Qe=we.c;Qe<=we.C;++Qe){var Ge=we.rkrec[Qe-we.c][0];x={ixfe:Ge,XF:R[Ge],v:we.rkrec[Qe-we.c][1],t:"n"},he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee({c:Qe,r:we.r},x,t)}break;case 6:case 518:case 1030:{if(we.val=="String"){a=we;break}if(x=O1(we.val,we.cell.ixfe,we.tt),x.XF=R[x.ixfe],t.cellFormula){var Ze=we.formula;if(Ze&&Ze[0]&&Ze[0][0]&&Ze[0][0][0]=="PtgExp"){var ot=Ze[0][0][1][0],xe=Ze[0][0][1][1],Ae=Vi({r:ot,c:xe});S[Ae]?x.f=""+Zo(we.formula,o,we.cell,ue,K):x.F=((t.dense?(r[ot]||[])[xe]:r[Ae])||{}).F}else x.f=""+Zo(we.formula,o,we.cell,ue,K)}he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee(we.cell,x,t),a=we}break;case 7:case 519:if(a)a.val=we,x=O1(we,a.cell.ixfe,"s"),x.XF=R[x.ixfe],t.cellFormula&&(x.f=""+Zo(a.formula,o,a.cell,ue,K)),he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee(a.cell,x,t),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(we);var Ke=Vi(we[0].s);if(p=t.dense?(r[we[0].s.r]||[])[we[0].s.c]:r[Ke],t.cellFormula&&p){if(!a||!Ke||!p)break;p.f=""+Zo(we[1],o,we[0],ue,K),p.F=us(we[0])}}break;case 1212:{if(!t.cellFormula)break;if(f){if(!a)break;S[Vi(a.cell)]=we[0],p=t.dense?(r[a.cell.r]||[])[a.cell.c]:r[Vi(a.cell)],(p||{}).f=""+Zo(we[0],o,h,ue,K)}}break;case 253:x=O1(l[we.isst].t,we.ixfe,"s"),l[we.isst].h&&(x.h=l[we.isst].h),x.XF=R[x.ixfe],he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee({c:we.c,r:we.r},x,t);break;case 513:t.sheetStubs&&(x={ixfe:we.ixfe,XF:R[we.ixfe],t:"z"},he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee({c:we.c,r:we.r},x,t));break;case 190:if(t.sheetStubs)for(var yt=we.c;yt<=we.C;++yt){var Ct=we.ixfe[yt-we.c];x={ixfe:Ct,XF:R[Ct],t:"z"},he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee({c:yt,r:we.r},x,t)}break;case 214:case 516:case 4:x=O1(we.val,we.ixfe,"s"),x.XF=R[x.ixfe],he>0&&(x.z=Ee[x.ixfe>>8&63]),mu(x,t,i.opts.Date1904),ee({c:we.c,r:we.r},x,t);break;case 0:case 512:Ie===1&&(o=we);break;case 252:l=we;break;case 1054:if(K.biff==4){Ee[he++]=we[1];for(var ft=0;ft<he+163&&Li[ft]!=we[1];++ft);ft>=163&&zd(we[1],he+163)}else zd(we[1],we[0]);break;case 30:{Ee[he++]=we;for(var Je=0;Je<he+163&&Li[Je]!=we;++Je);Je>=163&&zd(we,he+163)}break;case 229:be=be.concat(we);break;case 93:te[we.cmo[0]]=K.lastobj=we;break;case 438:K.lastobj.TxO=we;break;case 127:K.lastobj.ImData=we;break;case 440:for(C=we[0].s.r;C<=we[0].e.r;++C)for(v=we[0].s.c;v<=we[0].e.c;++v)p=t.dense?(r[C]||[])[v]:r[Vi({c:v,r:C})],p&&(p.l=we[1]);break;case 2048:for(C=we[0].s.r;C<=we[0].e.r;++C)for(v=we[0].s.c;v<=we[0].e.c;++v)p=t.dense?(r[C]||[])[v]:r[Vi({c:v,r:C})],p&&p.l&&(p.l.Tooltip=we[1]);break;case 28:{if(K.biff<=5&&K.biff>=2)break;p=t.dense?(r[we[0].r]||[])[we[0].c]:r[Vi(we[0])];var ht=te[we[2]];p||(t.dense?(r[we[0].r]||(r[we[0].r]=[]),p=r[we[0].r][we[0].c]={t:"z"}):p=r[Vi(we[0])]={t:"z"},o.e.r=Math.max(o.e.r,we[0].r),o.s.r=Math.min(o.s.r,we[0].r),o.e.c=Math.max(o.e.c,we[0].c),o.s.c=Math.min(o.s.c,we[0].c)),p.c||(p.c=[]),y={a:we[1],t:ht.TxO.t},p.c.push(y)}break;case 2173:p6e(R[we.ixfe],we.ext);break;case 125:{if(!K.cellStyles)break;for(;we.e>=we.s;)ne[we.e--]={width:we.w/256,level:we.level||0,hidden:!!(we.flags&1)},ie||(ie=!0,v2(we.w/256)),Ff(ne[we.e+1])}break;case 520:{var Yt={};we.level!=null&&(H[we.r]=Yt,Yt.level=we.level),we.hidden&&(H[we.r]=Yt,Yt.hidden=!0),we.hpt&&(H[we.r]=Yt,Yt.hpt=we.hpt,Yt.hpx=O0(we.hpt))}break;case 38:case 39:case 40:case 41:r["!margins"]||fg(r["!margins"]={}),r["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=we;break;case 161:r["!margins"]||fg(r["!margins"]={}),r["!margins"].header=we.header,r["!margins"].footer=we.footer;break;case 574:we.RTL&&(k.Views[0].RTL=!0);break;case 146:O=we;break;case 2198:Q=we;break;case 140:A=we;break;case 442:c?F.CodeName=we||F.name:k.WBProps.CodeName=we||"ThisWorkbook";break}}else He||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),e.l+=Oe}return i.SheetNames=Pn(n).sort(function($e,Me){return Number($e)-Number(Me)}).map(function($e){return n[$e].name}),t.bookSheets||(i.Sheets=s),!i.SheetNames.length&&u["!ref"]?(i.SheetNames.push("Sheet1"),i.Sheets&&(i.Sheets.Sheet1=u)):i.Preamble=u,i.Sheets&&Y.forEach(function($e,Me){i.Sheets[i.SheetNames[Me]]["!autofilter"]=$e}),i.Strings=l,i.SSF=Qr(Li),K.enc&&(i.Encryption=K.enc),Q&&(i.Themes=Q),i.Metadata={},A!==void 0&&(i.Metadata.Country=A),ue.names.length>0&&(k.Names=ue.names),i.Workbook=k,i}var pb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function k7e(e,t,i){var s=ki.find(e,"/!DocumentSummaryInformation");if(s&&s.size>0)try{var r=E6(s,YM,pb.DSI);for(var n in r)t[n]=r[n]}catch(c){if(i.WTF)throw c}var o=ki.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var a=E6(o,XM,pb.SI);for(var l in a)t[l]==null&&(t[l]=a[l])}catch(c){if(i.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(FJ(t.HeadingPairs,t.TitlesOfParts,t,i),delete t.HeadingPairs,delete t.TitlesOfParts)}function D7e(e,t){var i=[],s=[],r=[],n=0,o,a=e6(YM,"n"),l=e6(XM,"n");if(e.Props)for(o=Pn(e.Props),n=0;n<o.length;++n)(Object.prototype.hasOwnProperty.call(a,o[n])?i:Object.prototype.hasOwnProperty.call(l,o[n])?s:r).push([o[n],e.Props[o[n]]]);if(e.Custprops)for(o=Pn(e.Custprops),n=0;n<o.length;++n)Object.prototype.hasOwnProperty.call(e.Props||{},o[n])||(Object.prototype.hasOwnProperty.call(a,o[n])?i:Object.prototype.hasOwnProperty.call(l,o[n])?s:r).push([o[n],e.Custprops[o[n]]]);var c=[];for(n=0;n<r.length;++n)BJ.indexOf(r[n][0])>-1||PJ.indexOf(r[n][0])>-1||r[n][1]!=null&&c.push(r[n]);s.length&&ki.utils.cfb_add(t,"/SummaryInformation",_6(s,pb.SI,l,XM)),(i.length||c.length)&&ki.utils.cfb_add(t,"/DocumentSummaryInformation",_6(i,pb.DSI,a,YM,c.length?c:null,pb.UDI))}function LZ(e,t){t||(t={}),T2(t),KN(),t.codepage&&jN(t.codepage);var i,s;if(e.FullPaths){if(ki.find(e,"/encryption"))throw new Error("File is password-protected");i=ki.find(e,"!CompObj"),s=ki.find(e,"/Workbook")||ki.find(e,"/Book")}else{switch(t.type){case"base64":e=_l(Ll(e));break;case"binary":e=_l(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Io(e,0),s={content:e}}var r,n;if(i&&E7e(i),t.bookProps&&!t.bookSheets)r={};else{var o=bs?"buffer":"array";if(s&&s.content)r=A7e(s.content,t);else if((n=ki.find(e,"PerfectOffice_MAIN"))&&n.content)r=hg.to_workbook(n.content,(t.type=o,t));else if((n=ki.find(e,"NativeContent_MAIN"))&&n.content)r=hg.to_workbook(n.content,(t.type=o,t));else throw(n=ki.find(e,"MN0"))&&n.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&ki.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(r.vbaraw=$6e(e))}var a={};return e.FullPaths&&k7e(e,a,t),r.Props=r.Custprops=a,t.bookFiles&&(r.cfb=e),r}function R7e(e,t){var i=t||{},s=ki.utils.cfb_new({root:"R"}),r="/Workbook";switch(i.bookType||"xls"){case"xls":i.bookType="biff8";case"xla":i.bookType||(i.bookType="xla");case"biff8":r="/Workbook",i.biff=8;break;case"biff5":r="/Book",i.biff=5;break;default:throw new Error("invalid type "+i.bookType+" for XLS CFB")}return ki.utils.cfb_add(s,r,OZ(e,i)),i.biff==8&&(e.Props||e.Custprops)&&D7e(e,s),i.biff==8&&e.vbaraw&&W6e(s,ki.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var Pw={0:{f:eze},1:{f:lze},2:{f:Aze},3:{f:mze},4:{f:hze},5:{f:Eze},6:{f:Fze},7:{f:bze},8:{f:Bze},9:{f:Vze},10:{f:Ize},11:{f:Nze},12:{f:uze},13:{f:Dze},14:{f:yze},15:{f:pze},16:{f:TZ},17:{f:Lze},18:{f:Sze},19:{f:a2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:L5e},40:{},42:{},43:{f:FWe},44:{f:RWe},45:{f:OWe},46:{f:NWe},47:{f:IWe},48:{},49:{f:s4e},50:{},51:{f:v6e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:qJ},62:{f:Pze},63:{f:T6e},64:{f:t5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:fa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Qze},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:oze},148:{f:sze,p:16},151:{f:zze},152:{},153:{f:P5e},154:{},155:{},156:{f:D5e},157:{},158:{},159:{T:1,f:K$e},160:{T:-1},161:{T:1,f:Dm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Gze},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:g6e},336:{T:-1},337:{f:b6e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:KM},357:{},358:{},359:{},360:{T:1},361:{},362:{f:XJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:jze},427:{f:Kze},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Xze},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:nze},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Wze},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:KM},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:N6e},633:{T:1},634:{T:-1},635:{T:1,f:O6e},636:{T:-1},637:{f:a4e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:y5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:i5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},tL={6:{f:TP},10:{f:$h},12:{f:Zn},13:{f:Zn},14:{f:Mn},15:{f:Mn},16:{f:na},17:{f:Mn},18:{f:Mn},19:{f:Zn},20:{f:P6},21:{f:P6},23:{f:XJ},24:{f:M6},25:{f:Mn},26:{},27:{},28:{f:i$e},29:{},34:{f:Mn},35:{f:F6},38:{f:na},39:{f:na},40:{f:na},41:{f:na},42:{f:Mn},43:{f:Mn},47:{f:pWe},49:{f:D3e},51:{f:Zn},60:{},61:{f:E3e},64:{f:Mn},65:{f:k3e},66:{f:Zn},77:{},80:{},81:{},82:{},85:{f:Zn},89:{},90:{},91:{},92:{f:f3e},93:{f:n$e},94:{},95:{f:Mn},96:{},97:{},99:{f:Mn},125:{f:qJ},128:{f:U3e},129:{f:g3e},130:{f:Zn},131:{f:Mn},132:{f:Mn},133:{f:m3e},134:{},140:{f:f$e},141:{f:Zn},144:{},146:{f:m$e},151:{},152:{},153:{},154:{},155:{},156:{f:Zn},157:{},158:{},160:{f:x$e},161:{f:C$e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:G3e},190:{f:H3e},193:{f:$h},197:{},198:{},199:{},200:{},201:{},202:{f:Mn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Zn},220:{},221:{f:Mn},222:{},224:{f:W3e},225:{f:h3e},226:{f:$h},227:{},229:{f:s$e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:y3e},253:{f:P3e},255:{f:b3e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:GJ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Mn},353:{f:$h},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:X3e},431:{f:Mn},432:{},433:{},434:{},437:{},438:{f:l$e},439:{f:Mn},440:{f:c$e},441:{},442:{f:RS},443:{},444:{f:Zn},445:{},446:{},448:{f:$h},449:{f:x3e,r:2},450:{f:$h},512:{f:k6},513:{f:S$e},515:{f:K3e},516:{f:M3e},517:{f:R6},519:{f:E$e},520:{f:w3e},523:{},545:{f:L6},549:{f:A6},566:{},574:{f:T3e},638:{f:B3e},659:{},1048:{},1054:{f:O3e},1084:{},1212:{f:Z3e},2048:{f:d$e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:F1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:$h},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:v$e,r:12},2173:{f:f6e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Mn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:J3e,r:12},2197:{},2198:{f:a6e,r:12},2199:{},2200:{},2201:{},2202:{f:e$e,r:12},2203:{f:$h},2204:{},2205:{},2206:{},2207:{},2211:{f:S3e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Zn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:b$e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:g$e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:k6},1:{},2:{f:D$e},3:{f:A$e},4:{f:T$e},5:{f:R6},7:{f:P$e},8:{},9:{f:F1},11:{},22:{f:Zn},30:{f:N3e},31:{},32:{},33:{f:L6},36:{},37:{f:A6},50:{f:F$e},62:{},52:{},67:{},68:{f:Zn},69:{},86:{},126:{},127:{f:_$e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:M$e},223:{},234:{},354:{},421:{},518:{f:TP},521:{f:F1},536:{f:M6},547:{f:F6},561:{},579:{},1030:{f:TP},1033:{f:F1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Zt(e,t,i,s){var r=t;if(!isNaN(r)){var n=s||(i||[]).length||0,o=e.next(4);o.write_shift(2,r),o.write_shift(2,n),n>0&&r2(i)&&e.push(i)}}function P7e(e,t,i,s){var r=(i||[]).length||0;if(r<=8224)return Zt(e,t,i,r);var n=t;if(!isNaN(n)){for(var o=i.parts||[],a=0,l=0,c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;var u=e.next(4);for(u.write_shift(2,n),u.write_shift(2,c),e.push(i.slice(l,l+c)),l+=c;l<r;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;u.write_shift(2,c),e.push(i.slice(l,l+c)),l+=c}}}function LS(e,t,i){return e||(e=At(7)),e.write_shift(2,t),e.write_shift(2,i),e.write_shift(2,0),e.write_shift(1,0),e}function F7e(e,t,i,s){var r=At(9);return LS(r,e,t),HJ(i,s||"b",r),r}function M7e(e,t,i){var s=At(8+2*i.length);return LS(s,e,t),s.write_shift(1,i.length),s.write_shift(i.length,i,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function L7e(e,t,i,s){if(t.v!=null)switch(t.t){case"d":case"n":var r=t.t=="d"?yo(qr(t.v)):t.v;r==(r|0)&&r>=0&&r<65536?Zt(e,2,R$e(i,s,r)):Zt(e,3,k$e(i,s,r));return;case"b":case"e":Zt(e,5,F7e(i,s,t.v,t.t));return;case"s":case"str":Zt(e,4,M7e(i,s,(t.v||"").slice(0,255)));return}Zt(e,1,LS(null,i,s))}function O7e(e,t,i,s){var r=Array.isArray(t),n=Ks(t["!ref"]||"A1"),o,a="",l=[];if(n.e.c>255||n.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");n.e.c=Math.min(n.e.c,255),n.e.r=Math.min(n.e.c,16383),o=us(n)}for(var c=n.s.r;c<=n.e.r;++c){a=$n(c);for(var u=n.s.c;u<=n.e.c;++u){c===n.s.r&&(l[u]=gn(u)),o=l[u]+a;var h=r?(t[c]||[])[u]:t[o];h&&L7e(e,h,c,u)}}}function I7e(e,t){for(var i=t||{},s=rl(),r=0,n=0;n<e.SheetNames.length;++n)e.SheetNames[n]==i.sheet&&(r=n);if(r==0&&i.sheet&&e.SheetNames[0]!=i.sheet)throw new Error("Sheet not found: "+i.sheet);return Zt(s,i.biff==4?1033:i.biff==3?521:9,p2(e,16,i)),O7e(s,e.Sheets[e.SheetNames[r]],r,i),Zt(s,10),s.end()}function N7e(e,t,i){Zt(e,49,R3e({sz:12,name:"Arial"},i))}function V7e(e,t,i){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var r=s[0];r<=s[1];++r)t[r]!=null&&Zt(e,1054,I3e(r,t[r],i))})}function B7e(e,t){var i=At(19);i.write_shift(4,2151),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,1),i.write_shift(4,0),Zt(e,2151,i),i=At(39),i.write_shift(4,2152),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(2,1),i.write_shift(4,4),i.write_shift(2,0),jJ(Ks(t["!ref"]||"A1"),i),i.write_shift(4,4),Zt(e,2152,i)}function G7e(e,t){for(var i=0;i<16;++i)Zt(e,224,D6({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){Zt(e,224,D6(s,0,t))})}function H7e(e,t){for(var i=0;i<t["!links"].length;++i){var s=t["!links"][i];Zt(e,440,u$e(s)),s[1].Tooltip&&Zt(e,2048,h$e(s))}delete t["!links"]}function $7e(e,t){if(t){var i=0;t.forEach(function(s,r){++i<=256&&s&&Zt(e,125,y$e(uk(r,s),r))})}}function W7e(e,t,i,s,r){var n=16+Zf(r.cellXfs,t,r);if(t.v==null&&!t.bf){Zt(e,513,Wg(i,s,n));return}if(t.bf)Zt(e,6,gUe(t,i,s,r,n));else switch(t.t){case"d":case"n":var o=t.t=="d"?yo(qr(t.v)):t.v;Zt(e,515,Y3e(i,s,o,n));break;case"b":case"e":Zt(e,517,j3e(i,s,t.v,n,r,t.t));break;case"s":case"str":if(r.bookSST){var a=S2(r.Strings,t.v,r.revStrings);Zt(e,253,F3e(i,s,a,n))}else Zt(e,516,L3e(i,s,(t.v||"").slice(0,255),n,r));break;default:Zt(e,513,Wg(i,s,n))}}function U7e(e,t,i){var s=rl(),r=i.SheetNames[e],n=i.Sheets[r]||{},o=(i||{}).Workbook||{},a=(o.Sheets||[])[e]||{},l=Array.isArray(n),c=t.biff==8,u,h="",f=[],p=Ks(n["!ref"]||"A1"),y=c?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(n["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}Zt(s,2057,p2(i,16,t)),Zt(s,13,tc(1)),Zt(s,12,tc(100)),Zt(s,15,wa(!0)),Zt(s,17,wa(!1)),Zt(s,16,Hg(.001)),Zt(s,95,wa(!0)),Zt(s,42,wa(!1)),Zt(s,43,wa(!1)),Zt(s,130,tc(1)),Zt(s,128,z3e()),Zt(s,131,wa(!1)),Zt(s,132,wa(!1)),c&&$7e(s,n["!cols"]),Zt(s,512,V3e(p,t)),c&&(n["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){h=$n(v);for(var C=p.s.c;C<=p.e.c;++C){v===p.s.r&&(f[C]=gn(C)),u=f[C]+h;var S=l?(n[v]||[])[C]:n[u];S&&(W7e(s,S,v,C,t),c&&S.l&&n["!links"].push([u,S.l]))}}var _=a.CodeName||a.name||r;return c&&Zt(s,574,A3e((o.Views||[])[0])),c&&(n["!merges"]||[]).length&&Zt(s,229,r$e(n["!merges"])),c&&H7e(s,n),Zt(s,442,$J(_)),c&&B7e(s,n),Zt(s,10),s.end()}function z7e(e,t,i){var s=rl(),r=(e||{}).Workbook||{},n=r.Sheets||[],o=r.WBProps||{},a=i.biff==8,l=i.biff==5;if(Zt(s,2057,p2(e,5,i)),i.bookType=="xla"&&Zt(s,135),Zt(s,225,a?tc(1200):null),Zt(s,193,j4e(2)),l&&Zt(s,191),l&&Zt(s,192),Zt(s,226),Zt(s,92,p3e("SheetJS",i)),Zt(s,66,tc(a?1200:1252)),a&&Zt(s,353,tc(0)),a&&Zt(s,448),Zt(s,317,w$e(e.SheetNames.length)),a&&e.vbaraw&&Zt(s,211),a&&e.vbaraw){var c=o.CodeName||"ThisWorkbook";Zt(s,442,$J(c))}Zt(s,156,tc(17)),Zt(s,25,wa(!1)),Zt(s,18,wa(!1)),Zt(s,19,tc(0)),a&&Zt(s,431,wa(!1)),a&&Zt(s,444,tc(0)),Zt(s,61,_3e()),Zt(s,64,wa(!1)),Zt(s,141,tc(0)),Zt(s,34,wa(x5e(e)=="true")),Zt(s,14,wa(!0)),a&&Zt(s,439,wa(!1)),Zt(s,218,tc(0)),N7e(s,e,i),V7e(s,e.SSF,i),G7e(s,i),a&&Zt(s,352,wa(!1));var u=s.end(),h=rl();a&&Zt(h,140,p$e()),a&&i.Strings&&P7e(h,252,C3e(i.Strings)),Zt(h,10);var f=h.end(),p=rl(),y=0,v=0;for(v=0;v<e.SheetNames.length;++v)y+=(a?12:11)+(a?2:1)*e.SheetNames[v].length;var C=u.length+y+f.length;for(v=0;v<e.SheetNames.length;++v){var S=n[v]||{};Zt(p,133,v3e({pos:C,hs:S.Hidden||0,dt:0,name:e.SheetNames[v]},i)),C+=t[v].length}var _=p.end();if(y!=_.length)throw new Error("BS8 "+y+" != "+_.length);var x=[];return u.length&&x.push(u),_.length&&x.push(_),f.length&&x.push(f),So(x)}function j7e(e,t){var i=t||{},s=[];e&&!e.SSF&&(e.SSF=Qr(Li)),e&&e.SSF&&(fy(),sk(e.SSF),i.revssf=nk(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,A2(i),i.cellXfs=[],Zf(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)s[s.length]=U7e(r,i,e);return s.unshift(z7e(e,s,i)),So(s)}function OZ(e,t){for(var i=0;i<=e.SheetNames.length;++i){var s=e.Sheets[e.SheetNames[i]];if(!(!s||!s["!ref"])){var r=ll(s["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[i]+"' extends beyond column IV (255).  Data may be lost.")}}var n=t||{};switch(n.biff||2){case 8:case 5:return j7e(e,t);case 4:case 3:case 2:return I7e(e,t)}throw new Error("invalid type "+n.bookType+" for BIFF")}function U6(e,t){var i=t||{},s=i.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var r=e.match(/<table/i);if(!r)throw new Error("Invalid HTML: could not find <table>");var n=e.match(/<\/table/i),o=r.index,a=n&&n.index||e.length,l=RHe(e.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,f=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<l.length;++o){var v=l[o].trim(),C=v.slice(0,3).toLowerCase();if(C=="<tr"){if(++c,i.sheetRows&&i.sheetRows<=c){--c;break}u=0;continue}if(!(C!="<td"&&C!="<th")){var S=v.split(/<\/t[dh]>/i);for(a=0;a<S.length;++a){var _=S[a].trim();if(_.match(/<t[dh]/i)){for(var x=_,A=0;x.charAt(0)=="<"&&(A=x.indexOf(">"))>-1;)x=x.slice(A+1);for(var R=0;R<y.length;++R){var O=y[R];O.s.c==u&&O.s.r<c&&c<=O.e.r&&(u=O.e.c+1,R=-1)}var k=Wi(_.slice(0,_.indexOf(">")));f=k.colspan?+k.colspan:1,((h=+k.rowspan)>1||f>1)&&y.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+f-1}});var F=k.t||k["data-t"]||"";if(!x.length){u+=f;continue}if(x=nJ(x),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!x.length){u+=f;continue}var N={t:"s",v:x};i.raw||!x.trim().length||F=="s"||(x==="TRUE"?N={t:"b",v:!0}:x==="FALSE"?N={t:"b",v:!1}:isNaN(Xc(x))?isNaN(M0(x).getDate())||(N={t:"d",v:qr(x)},i.cellDates||(N={t:"n",v:yo(N.v)}),N.z=i.dateNF||Li[14]):N={t:"n",v:Xc(x)}),i.dense?(s[c]||(s[c]=[]),s[c][u]=N):s[Vi({r:c,c:u})]=N,u+=f}}}}return s["!ref"]=us(p),y.length&&(s["!merges"]=y),s}function K7e(e,t,i,s){for(var r=e["!merges"]||[],n=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,c=0;c<r.length;++c)if(!(r[c].s.r>i||r[c].s.c>o)&&!(r[c].e.r<i||r[c].e.c<o)){if(r[c].s.r<i||r[c].s.c<o){a=-1;break}a=r[c].e.r-r[c].s.r+1,l=r[c].e.c-r[c].s.c+1;break}if(!(a<0)){var u=Vi({r:i,c:o}),h=s.dense?(e[i]||[])[o]:e[u],f=h&&h.v!=null&&(h.h||t2(h.w||(Jd(h),h.w)||""))||"",p={};a>1&&(p.rowspan=a),l>1&&(p.colspan=l),s.editable?f='<span contenteditable="true">'+f+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),p.id=(s.id||"sjs")+"-"+u,n.push(Jt("td",f,p))}}var y="<tr>";return y+n.join("")+"</tr>"}var Y7e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',X7e="</body></html>";function q7e(e,t){var i=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!i||i.length==0)throw new Error("Invalid HTML: could not find <table>");if(i.length==1)return Jf(U6(i[0],t),t);var s=R2();return i.forEach(function(r,n){P2(s,U6(r,t),"Sheet"+(n+1))}),s}function Q7e(e,t,i){var s=[];return s.join("")+"<table"+(i&&i.id?' id="'+i.id+'"':"")+">"}function IZ(e,t){var i=t||{},s=i.header!=null?i.header:Y7e,r=i.footer!=null?i.footer:X7e,n=[s],o=ll(e["!ref"]);i.dense=Array.isArray(e),n.push(Q7e(e,o,i));for(var a=o.s.r;a<=o.e.r;++a)n.push(K7e(e,o,a,i));return n.push("</table>"+r),n.join("")}function NZ(e,t,i){var s=i||{},r=0,n=0;if(s.origin!=null)if(typeof s.origin=="number")r=s.origin;else{var o=typeof s.origin=="string"?mn(s.origin):s.origin;r=o.r,n=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(s.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r,c:n}};if(e["!ref"]){var u=ll(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),r==-1&&(c.e.r=r=u.e.r+1)}var h=[],f=0,p=e["!rows"]||(e["!rows"]=[]),y=0,v=0,C=0,S=0,_=0,x=0;for(e["!cols"]||(e["!cols"]=[]);y<a.length&&v<l;++y){var A=a[y];if(z6(A)){if(s.display)continue;p[v]={hidden:!0}}var R=A.children;for(C=S=0;C<R.length;++C){var O=R[C];if(!(s.display&&z6(O))){var k=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):nJ(O.innerHTML),F=O.getAttribute("data-z")||O.getAttribute("z");for(f=0;f<h.length;++f){var N=h[f];N.s.c==S+n&&N.s.r<v+r&&v+r<=N.e.r&&(S=N.e.c+1-n,f=-1)}x=+O.getAttribute("colspan")||1,((_=+O.getAttribute("rowspan")||1)>1||x>1)&&h.push({s:{r:v+r,c:S+n},e:{r:v+r+(_||1)-1,c:S+n+(x||1)-1}});var j={t:"s",v:k},ee=O.getAttribute("data-t")||O.getAttribute("t")||"";k!=null&&(k.length==0?j.t=ee||"z":s.raw||k.trim().length==0||ee=="s"||(k==="TRUE"?j={t:"b",v:!0}:k==="FALSE"?j={t:"b",v:!1}:isNaN(Xc(k))?isNaN(M0(k).getDate())||(j={t:"d",v:qr(k)},s.cellDates||(j={t:"n",v:yo(j.v)}),j.z=s.dateNF||Li[14]):j={t:"n",v:Xc(k)})),j.z===void 0&&F!=null&&(j.z=F);var K="",Q=O.getElementsByTagName("A");if(Q&&Q.length)for(var be=0;be<Q.length&&!(Q[be].hasAttribute("href")&&(K=Q[be].getAttribute("href"),K.charAt(0)!="#"));++be);K&&K.charAt(0)!="#"&&(j.l={Target:K}),s.dense?(e[v+r]||(e[v+r]=[]),e[v+r][S+n]=j):e[Vi({c:S+n,r:v+r})]=j,c.e.c<S+n&&(c.e.c=S+n),S+=x}}++v}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,v-1+r),e["!ref"]=us(c),v>=l&&(e["!fullref"]=us((c.e.r=a.length-y+v-1+r,c))),e}function VZ(e,t){var i=t||{},s=i.dense?[]:{};return NZ(s,e,t)}function J7e(e,t){return Jf(VZ(e,t),t)}function z6(e){var t="",i=Z7e(e);return i&&(t=i(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Z7e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function e9e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(s,r){return Array(parseInt(r,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),i=js(t.replace(/<[^>]*>/g,""));return[i]}var j6={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function BZ(e,t){var i=t||{},s=i2(e),r=[],n,o,a={name:""},l="",c=0,u,h,f={},p=[],y=i.dense?[]:{},v,C,S={value:""},_="",x=0,A=[],R=-1,O=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,N={},j=[],ee={},K=0,Q=0,be=[],te=1,ne=1,H=[],ie={Names:[]},ue={},Te=["",""],Ie=[],he={},Ee="",Y=0,Z=!1,Se=!1,ye=0;for(_w.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=_w.exec(s);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?y["!ref"]=us(k):y["!ref"]="A1:A1",i.sheetRows>0&&i.sheetRows<=k.e.r&&(y["!fullref"]=y["!ref"],k.e.r=i.sheetRows-1,y["!ref"]=us(k)),j.length&&(y["!merges"]=j),be.length&&(y["!rows"]=be),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),f[u.name]=y,Se=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Wi(v[0],!1),R=O=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,y=i.dense?[]:{},j=[],be=[],Se=!0);break;case"table-row-group":v[1]==="/"?--F:++F;break;case"table-row":case"":if(v[1]==="/"){R+=te,te=1;break}if(h=Wi(v[0],!1),h.?R=h.-1:R==-1&&(R=0),te=+h["number-rows-repeated"]||1,te<10)for(ye=0;ye<te;++ye)F>0&&(be[R+ye]={level:F});O=-1;break;case"covered-table-cell":v[1]!=="/"&&++O,i.sheetStubs&&(i.dense?(y[R]||(y[R]=[]),y[R][O]={t:"z"}):y[Vi({r:R,c:O})]={t:"z"}),_="",A=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++O,S=Wi(v[0],!1),ne=parseInt(S["number-columns-repeated"]||"1",10),C={t:"z",v:null},S.formula&&i.cellFormula!=!1&&(C.f=H6(js(S.formula))),(S.||S["value-type"])=="string"&&(C.t="s",C.v=js(S["string-value"]||""),i.dense?(y[R]||(y[R]=[]),y[R][O]=C):y[Vi({r:R,c:O})]=C),O+=ne-1;else if(v[1]!=="/"){++O,_="",x=0,A=[],ne=1;var ke=te?R+te-1:R;if(O>k.e.c&&(k.e.c=O),O<k.s.c&&(k.s.c=O),R<k.s.r&&(k.s.r=R),ke>k.e.r&&(k.e.r=ke),S=Wi(v[0],!1),Ie=[],he={},C={t:S.||S["value-type"],v:null},i.cellFormula)if(S.formula&&(S.formula=js(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(K=parseInt(S["number-matrix-rows-spanned"],10)||0,Q=parseInt(S["number-matrix-columns-spanned"],10)||0,ee={s:{r:R,c:O},e:{r:R+K-1,c:O+Q-1}},C.F=us(ee),H.push([ee,C.F])),S.formula)C.f=H6(S.formula);else for(ye=0;ye<H.length;++ye)R>=H[ye][0].s.r&&R<=H[ye][0].e.r&&O>=H[ye][0].s.c&&O<=H[ye][0].e.c&&(C.F=H[ye][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(K=parseInt(S["number-rows-spanned"],10)||0,Q=parseInt(S["number-columns-spanned"],10)||0,ee={s:{r:R,c:O},e:{r:R+K-1,c:O+Q-1}},j.push(ee)),S["number-columns-repeated"]&&(ne=parseInt(S["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=zr(S["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(S.value);break;case"percentage":C.t="n",C.v=parseFloat(S.value);break;case"currency":C.t="n",C.v=parseFloat(S.value);break;case"date":C.t="d",C.v=qr(S["date-value"]),i.cellDates||(C.t="n",C.v=yo(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=AHe(S["time-value"])/86400,i.cellDates&&(C.t="d",C.v=ok(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(S.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",S["string-value"]!=null&&(_=js(S["string-value"]),A=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(Z=!1,C.t==="s"&&(C.v=_||"",A.length&&(C.R=A),Z=x==0),ue.Target&&(C.l=ue),Ie.length>0&&(C.c=Ie,Ie=[]),_&&i.cellText!==!1&&(C.w=_),Z&&(C.t="z",delete C.v),(!Z||i.sheetStubs)&&!(i.sheetRows&&i.sheetRows<=R))for(var Oe=0;Oe<te;++Oe){if(ne=parseInt(S["number-columns-repeated"]||"1",10),i.dense)for(y[R+Oe]||(y[R+Oe]=[]),y[R+Oe][O]=Oe==0?C:Qr(C);--ne>0;)y[R+Oe][O+ne]=Qr(C);else for(y[Vi({r:R+Oe,c:O})]=C;--ne>0;)y[Vi({r:R+Oe,c:O+ne})]=Qr(C);k.e.c<=O&&(k.e.c=O)}ne=parseInt(S["number-columns-repeated"]||"1",10),O+=ne-1,ne=0,C={},_="",A=[]}ue={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((n=r.pop())[0]!==v[3])throw"Bad state: "+n}else v[0].charAt(v[0].length-2)!=="/"&&r.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((n=r.pop())[0]!==v[3])throw"Bad state: "+n;he.t=_,A.length&&(he.R=A),he.a=Ee,Ie.push(he)}else v[0].charAt(v[0].length-2)!=="/"&&r.push([v[3],!1]);Ee="",Y=0,_="",x=0,A=[];break;case"creator":v[1]==="/"?Ee=s.slice(Y,v.index):Y=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((n=r.pop())[0]!==v[3])throw"Bad state: "+n}else v[0].charAt(v[0].length-2)!=="/"&&r.push([v[3],!1]);_="",x=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(N[a.name]=l,(n=r.pop())[0]!==v[3])throw"Bad state: "+n}else v[0].charAt(v[0].length-2)!=="/"&&(l="",a=Wi(v[0],!1),r.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(r[r.length-1][0]){case"time-style":case"date-style":o=Wi(v[0],!1),l+=j6[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(r[r.length-1][0]){case"time-style":case"date-style":o=Wi(v[0],!1),l+=j6[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(r[r.length-1][0]){case"number-style":case"date-style":case"time-style":l+=s.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":o=Wi(v[0],!1),Te=AP(o["cell-range-address"]);var He={Name:o.name,Ref:Te[0]+"!"+Te[1]};Se&&(He.Sheet=p.length),ie.Names.push(He);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(r[r.length-1][0])>-1)break;if(v[1]==="/"&&(!S||!S["string-value"])){var mt=e9e(s.slice(x,v.index));_=(_.length>0?_+`
`:"")+mt[0]}else Wi(v[0],!1),x=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{Te=AP(Wi(v[0])["target-range-address"]),f[Te[0]]["!autofilter"]={ref:Te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(ue=Wi(v[0],!1),!ue.href)break;ue.Target=js(ue.href),delete ue.href,ue.Target.charAt(0)=="#"&&ue.Target.indexOf(".")>-1?(Te=AP(ue.Target.slice(1)),ue.Target="#"+Te[0]+"!"+Te[1]):ue.Target.match(/^\.\.[\\\/]/)&&(ue.Target=ue.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(i.WTF)throw new Error(v)}}var we={Sheets:f,SheetNames:p,Workbook:ie};return i.bookSheets&&delete we.Sheets,we}function K6(e,t){t=t||{},ec(e,"META-INF/manifest.xml")&&A4e(Jn(e,"META-INF/manifest.xml"),t);var i=Tl(e,"content.xml");if(!i)throw new Error("Missing content.xml in ODS / UOF file");var s=BZ(Dr(i),t);return ec(e,"meta.xml")&&(s.Props=DJ(Jn(e,"meta.xml"))),s}function Y6(e,t){return BZ(e,t)}var t9e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ew({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Un+t}}(),X6=function(){var e=function(n){return wr(n).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,i=`          <table:covered-table-cell/>
`,s=function(n,o,a){var l=[];l.push('      <table:table table:name="'+wr(o.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,u=0,h=ll(n["!ref"]||"A1"),f=n["!merges"]||[],p=0,y=Array.isArray(n);if(n["!cols"])for(u=0;u<=h.e.c;++u)l.push("        <table:table-column"+(n["!cols"][u]?' table:style-name="co'+n["!cols"][u].ods+'"':"")+`></table:table-column>
`);var v="",C=n["!rows"]||[];for(c=0;c<h.s.r;++c)v=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;c<=h.e.r;++c){for(v=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+v+`>
`),u=0;u<h.s.c;++u)l.push(t);for(;u<=h.e.c;++u){var S=!1,_={},x="";for(p=0;p!=f.length;++p)if(!(f[p].s.c>u)&&!(f[p].s.r>c)&&!(f[p].e.c<u)&&!(f[p].e.r<c)){(f[p].s.c!=u||f[p].s.r!=c)&&(S=!0),_["table:number-columns-spanned"]=f[p].e.c-f[p].s.c+1,_["table:number-rows-spanned"]=f[p].e.r-f[p].s.r+1;break}if(S){l.push(i);continue}var A=Vi({r:c,c:u}),R=y?(n[c]||[])[u]:n[A];if(R&&R.f&&(_["table:formula"]=wr(wUe(R.f)),R.F&&R.F.slice(0,A.length)==A)){var O=ll(R.F);_["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,_["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!R){l.push(t);continue}switch(R.t){case"b":x=R.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=R.v?"true":"false";break;case"n":x=R.w||String(R.v||0),_["office:value-type"]="float",_["office:value"]=R.v||0;break;case"s":case"str":x=R.v==null?"":R.v,_["office:value-type"]="string";break;case"d":x=R.w||qr(R.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=qr(R.v).toISOString(),_["table:style-name"]="ce1";break;default:l.push(t);continue}var k=e(x);if(R.l&&R.l.Target){var F=R.l.Target;F=F.charAt(0)=="#"?"#"+SUe(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),k=Jt("text:a",k,{"xlink:href":F.replace(/&/g,"&amp;")})}l.push("          "+Jt("table:table-cell",Jt("text:p",k,{}),_)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},r=function(n,o){n.push(` <office:automatic-styles>
`),n.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),n.push(`   <number:month number:style="long"/>
`),n.push(`   <number:text>/</number:text>
`),n.push(`   <number:day number:style="long"/>
`),n.push(`   <number:text>/</number:text>
`),n.push(`   <number:year/>
`),n.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var h=c["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Ff(h),h.ods=a;var f=c["!cols"][u].wpx+"px";n.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),n.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),n.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var h=c["!rows"][u].hpx+"px";n.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),n.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),n.push(`  </style:style>
`),++l}}}),n.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),n.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),n.push(`  </style:style>
`),n.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),n.push(` </office:automatic-styles>
`)};return function(o,a){var l=[Un],c=Ew({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Ew({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(kJ().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),r(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)l.push(s(o.Sheets[o.SheetNames[h]],o,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function GZ(e,t){if(t.bookType=="fods")return X6(e,t);var i=JN(),s="",r=[],n=[];return s="mimetype",fs(i,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",fs(i,s,X6(e,t)),r.push([s,"text/xml"]),n.push([s,"ContentFile"]),s="styles.xml",fs(i,s,t9e(e,t)),r.push([s,"text/xml"]),n.push([s,"StylesFile"]),s="meta.xml",fs(i,s,Un+kJ()),r.push([s,"text/xml"]),n.push([s,"MetadataFile"]),s="manifest.rdf",fs(i,s,R4e(n)),r.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",fs(i,s,k4e(r)),i}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ug(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function iL(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Dr(Qf(e))}function i9e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):_l(Lu(e))}function s9e(e,t){e:for(var i=0;i<=e.length-t.length;++i){for(var s=0;s<t.length;++s)if(e[i+s]!=t[s])continue e;return!0}return!1}function Lf(e){var t=e.reduce(function(r,n){return r+n.length},0),i=new Uint8Array(t),s=0;return e.forEach(function(r){i.set(r,s),s+=r.length}),i}function q6(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function r9e(e,t){for(var i=(e[t+15]&127)<<7|e[t+14]>>1,s=e[t+14]&1,r=t+13;r>=t;--r)s=s*256+e[r];return(e[t+15]&128?-s:s)*Math.pow(10,i-6176)}function n9e(e,t,i){var s=Math.floor(i==0?0:Math.LOG10E*Math.log(Math.abs(i)))+6176-20,r=i/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var n=0;r>=1;++n,r/=256)e[t+n]=r&255;e[t+15]|=i>=0?0:128}function Fw(e,t){var i=t?t[0]:0,s=e[i]&127;e:if(e[i++]>=128&&(s|=(e[i]&127)<<7,e[i++]<128||(s|=(e[i]&127)<<14,e[i++]<128)||(s|=(e[i]&127)<<21,e[i++]<128)||(s+=(e[i]&127)*Math.pow(2,28),++i,e[i++]<128)||(s+=(e[i]&127)*Math.pow(2,35),++i,e[i++]<128)||(s+=(e[i]&127)*Math.pow(2,42),++i,e[i++]<128)))break e;return t&&(t[0]=i),s}function vr(e){var t=new Uint8Array(7);t[0]=e&127;var i=1;e:if(e>127){if(t[i-1]|=128,t[i]=e>>7&127,++i,e<=16383||(t[i-1]|=128,t[i]=e>>14&127,++i,e<=2097151)||(t[i-1]|=128,t[i]=e>>21&127,++i,e<=268435455)||(t[i-1]|=128,t[i]=e/256>>>21&127,++i,e<=34359738367)||(t[i-1]|=128,t[i]=e/65536>>>21&127,++i,e<=4398046511103))break e;t[i-1]|=128,t[i]=e/16777216>>>21&127,++i}return t.slice(0,i)}function kn(e){var t=0,i=e[t]&127;e:if(e[t++]>=128){if(i|=(e[t]&127)<<7,e[t++]<128||(i|=(e[t]&127)<<14,e[t++]<128)||(i|=(e[t]&127)<<21,e[t++]<128))break e;i|=(e[t]&127)<<28}return i}function Js(e){for(var t=[],i=[0];i[0]<e.length;){var s=i[0],r=Fw(e,i),n=r&7;r=Math.floor(r/8);var o=0,a;if(r==0)break;switch(n){case 0:{for(var l=i[0];e[i[0]++]>=128;);a=e.slice(l,i[0])}break;case 5:o=4,a=e.slice(i[0],i[0]+o),i[0]+=o;break;case 1:o=8,a=e.slice(i[0],i[0]+o),i[0]+=o;break;case 2:o=Fw(e,i),a=e.slice(i[0],i[0]+o),i[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(n," for Field ").concat(r," at offset ").concat(s))}var c={data:a,type:n};t[r]==null?t[r]=[c]:t[r].push(c)}return t}function Lo(e){var t=[];return e.forEach(function(i,s){i.forEach(function(r){r.data&&(t.push(vr(s*8+r.type)),r.type==2&&t.push(vr(r.data.length)),t.push(r.data))})}),Lf(t)}function _2(e,t){return(e==null?void 0:e.map(function(i){return t(i.data)}))||[]}function Xl(e){for(var t,i=[],s=[0];s[0]<e.length;){var r=Fw(e,s),n=Js(e.slice(s[0],s[0]+r));s[0]+=r;var o={id:kn(n[1][0].data),messages:[]};n[2].forEach(function(a){var l=Js(a.data),c=kn(l[3][0].data);o.messages.push({meta:l,data:e.slice(s[0],s[0]+c)}),s[0]+=c}),(t=n[3])!=null&&t[0]&&(o.merge=kn(n[3][0].data)>>>0>0),i.push(o)}return i}function dv(e){var t=[];return e.forEach(function(i){var s=[];s[1]=[{data:vr(i.id),type:0}],s[2]=[],i.merge!=null&&(s[3]=[{data:vr(+!!i.merge),type:0}]);var r=[];i.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:vr(o.data.length)}],s[2].push({data:Lo(o.meta),type:2})});var n=Lo(s);t.push(vr(n.length)),t.push(n),r.forEach(function(o){return t.push(o)})}),Lf(t)}function o9e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var i=[0],s=Fw(t,i),r=[];i[0]<t.length;){var n=t[i[0]]&3;if(n==0){var o=t[i[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[i[0]],a>1&&(o|=t[i[0]+1]<<8),a>2&&(o|=t[i[0]+2]<<16),a>3&&(o|=t[i[0]+3]<<24),o>>>=0,o++,i[0]+=a}r.push(t.slice(i[0],i[0]+o)),i[0]+=o;continue}else{var l=0,c=0;if(n==1?(c=(t[i[0]]>>2&7)+4,l=(t[i[0]++]&224)<<3,l|=t[i[0]++]):(c=(t[i[0]++]>>2)+1,n==2?(l=t[i[0]]|t[i[0]+1]<<8,i[0]+=2):(l=(t[i[0]]|t[i[0]+1]<<8|t[i[0]+2]<<16|t[i[0]+3]<<24)>>>0,i[0]+=4)),r=[Lf(r)],l==0)throw new Error("Invalid offset 0");if(l>r[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(r.push(r[0].slice(-l)),c-=l;c>=r[r.length-1].length;)r.push(r[r.length-1]),c-=r[r.length-1].length;r.push(r[0].slice(-l,-l+c))}}var u=Lf(r);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function ql(e){for(var t=[],i=0;i<e.length;){var s=e[i++],r=e[i]|e[i+1]<<8|e[i+2]<<16;i+=3,t.push(o9e(s,e.slice(i,i+r))),i+=r}if(i!==e.length)throw new Error("data is not a valid framed stream!");return Lf(t)}function hv(e){for(var t=[],i=0;i<e.length;){var s=Math.min(e.length-i,268435455),r=new Uint8Array(4);t.push(r);var n=vr(s),o=n.length;t.push(n),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(i,i+s)),o+=s,r[0]=0,r[1]=o&255,r[2]=o>>8&255,r[3]=o>>16&255,i+=s}return Lf(t)}function a9e(e,t,i,s){var r=Ug(e),n=r.getUint32(4,!0),o=(s>1?12:8)+q6(n&(s>1?3470:398))*4,a=-1,l=-1,c=NaN,u=new Date(2001,0,1);n&512&&(a=r.getUint32(o,!0),o+=4),o+=q6(n&(s>1?12288:4096))*4,n&16&&(l=r.getUint32(o,!0),o+=4),n&32&&(c=r.getFloat64(o,!0),o+=8),n&64&&(u.setTime(u.getTime()+r.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(a>-1)h={t:"s",v:i[a]};else if(l>-1)h={t:"s",v:t[l]};else if(!isNaN(c))h={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function l9e(e,t,i){var s=Ug(e),r=s.getUint32(8,!0),n=12,o=-1,a=-1,l=NaN,c=NaN,u=new Date(2001,0,1);r&1&&(l=r9e(e,n),n+=16),r&2&&(c=s.getFloat64(n,!0),n+=8),r&4&&(u.setTime(u.getTime()+s.getFloat64(n,!0)*1e3),n+=8),r&8&&(a=s.getUint32(n,!0),n+=4),r&16&&(o=s.getUint32(n,!0),n+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:t[a]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:i[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(r&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(r&31," : ").concat(e.slice(0,4)))}return h}function DP(e,t){var i=new Uint8Array(32),s=Ug(i),r=12,n=0;switch(i[0]=5,e.t){case"n":i[1]=2,n9e(i,r,e.v),n|=1,r+=16;break;case"b":i[1]=6,s.setFloat64(r,e.v?1:0,!0),n|=2,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));i[1]=3,s.setUint32(r,t.indexOf(e.v),!0),n|=8,r+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,n,!0),i.slice(0,r)}function RP(e,t){var i=new Uint8Array(32),s=Ug(i),r=12,n=0;switch(i[0]=3,e.t){case"n":i[2]=2,s.setFloat64(r,e.v,!0),n|=32,r+=8;break;case"b":i[2]=6,s.setFloat64(r,e.v?1:0,!0),n|=32,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));i[2]=3,s.setUint32(r,t.indexOf(e.v),!0),n|=16,r+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,n,!0),i.slice(0,r)}function c9e(e,t,i){switch(e[0]){case 0:case 1:case 2:case 3:return a9e(e,t,i,e[0]);case 5:return l9e(e,t,i);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Qo(e){var t=Js(e);return Fw(t[1][0].data)}function Q6(e,t){var i=Js(t.data),s=kn(i[1][0].data),r=i[3],n=[];return(r||[]).forEach(function(o){var a=Js(o.data),l=kn(a[1][0].data)>>>0;switch(s){case 1:n[l]=iL(a[3][0].data);break;case 8:{var c=e[Qo(a[9][0].data)][0],u=Js(c.data),h=e[Qo(u[1][0].data)][0],f=kn(h.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var p=Js(h.data);n[l]=p[3].map(function(y){return iL(y.data)}).join("")}break}}),n}function u9e(e,t){var i,s,r,n,o,a,l,c,u,h,f,p,y,v,C=Js(e),S=kn(C[1][0].data)>>>0,_=kn(C[2][0].data)>>>0,x=((s=(i=C[8])==null?void 0:i[0])==null?void 0:s.data)&&kn(C[8][0].data)>0||!1,A,R;if((n=(r=C[7])==null?void 0:r[0])!=null&&n.data&&t!=0)A=(a=(o=C[7])==null?void 0:o[0])==null?void 0:a.data,R=(c=(l=C[6])==null?void 0:l[0])==null?void 0:c.data;else if((h=(u=C[4])==null?void 0:u[0])!=null&&h.data&&t!=1)A=(p=(f=C[4])==null?void 0:f[0])==null?void 0:p.data,R=(v=(y=C[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=x?4:1,k=Ug(A),F=[],N=0;N<A.length/2;++N){var j=k.getUint16(N*2,!0);j<65535&&F.push([N,j])}if(F.length!=_)throw"Expected ".concat(_," cells, found ").concat(F.length);var ee=[];for(N=0;N<F.length-1;++N)ee[F[N][0]]=R.subarray(F[N][1]*O,F[N+1][1]*O);return F.length>=1&&(ee[F[F.length-1][0]]=R.subarray(F[F.length-1][1]*O)),{R:S,cells:ee}}function d9e(e,t){var i,s=Js(t.data),r=(i=s==null?void 0:s[7])!=null&&i[0]?kn(s[7][0].data)>>>0>0?1:0:-1,n=_2(s[5],function(o){return u9e(o,r)});return{nrows:kn(s[4][0].data)>>>0,data:n.reduce(function(o,a){return o[a.R]||(o[a.R]=[]),a.cells.forEach(function(l,c){if(o[a.R][c])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(c));o[a.R][c]=l}),o},[])}}function h9e(e,t,i){var s,r=Js(t.data),n={s:{r:0,c:0},e:{r:0,c:0}};if(n.e.r=(kn(r[6][0].data)>>>0)-1,n.e.r<0)throw new Error("Invalid row varint ".concat(r[6][0].data));if(n.e.c=(kn(r[7][0].data)>>>0)-1,n.e.c<0)throw new Error("Invalid col varint ".concat(r[7][0].data));i["!ref"]=us(n);var o=Js(r[4][0].data),a=Q6(e,e[Qo(o[4][0].data)][0]),l=(s=o[17])!=null&&s[0]?Q6(e,e[Qo(o[17][0].data)][0]):[],c=Js(o[3][0].data),u=0;c[1].forEach(function(h){var f=Js(h.data),p=e[Qo(f[2][0].data)][0],y=kn(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=d9e(e,p);v.data.forEach(function(C,S){C.forEach(function(_,x){var A=Vi({r:u+S,c:x}),R=c9e(_,a,l);R&&(i[A]=R)})}),u+=v.nrows})}function f9e(e,t){var i=Js(t.data),s={"!ref":"A1"},r=e[Qo(i[2][0].data)],n=kn(r[0].meta[1][0].data);if(n!=6001)throw new Error("6000 unexpected reference to ".concat(n));return h9e(e,r[0],s),s}function p9e(e,t){var i,s=Js(t.data),r={name:(i=s[1])!=null&&i[0]?iL(s[1][0].data):"",sheets:[]},n=_2(s[2],Qo);return n.forEach(function(o){e[o].forEach(function(a){var l=kn(a.meta[1][0].data);l==6e3&&r.sheets.push(f9e(e,a))})}),r}function g9e(e,t){var i=R2(),s=Js(t.data),r=_2(s[1],Qo);if(r.forEach(function(n){e[n].forEach(function(o){var a=kn(o.meta[1][0].data);if(a==2){var l=p9e(e,o);l.sheets.forEach(function(c,u){P2(i,c,u==0?l.name:l.name+"_"+u,!0)})}})}),i.SheetNames.length==0)throw new Error("Empty NUMBERS file");return i}function PP(e){var t,i,s,r,n={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=ql(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var u;try{u=Xl(c)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){n[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var a=((r=(s=(i=(t=n==null?void 0:n[1])==null?void 0:t[0])==null?void 0:i.meta)==null?void 0:s[1])==null?void 0:r[0].data)&&kn(n[1][0].meta[1][0].data)==1&&n[1][0];if(a||o.forEach(function(l){n[l].forEach(function(c){var u=kn(c.meta[1][0].data)>>>0;if(u==1)if(!a)a=c;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return g9e(n,a)}function m9e(e,t,i){var s,r,n,o;if(!((s=e[6])!=null&&s[0])||!((r=e[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(n=e[8])==null?void 0:n[0])==null?void 0:o.data)&&kn(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=Ug(e[7][0].data),u=0,h=[],f=Ug(e[4][0].data),p=0,y=[],v=0;v<t.length;++v){if(t[v]==null){c.setUint16(v*2,65535,!0),f.setUint16(v*2,65535);continue}c.setUint16(v*2,u,!0),f.setUint16(v*2,p,!0);var C,S;switch(typeof t[v]){case"string":C=DP({t:"s",v:t[v]},i),S=RP({t:"s",v:t[v]},i);break;case"number":C=DP({t:"n",v:t[v]},i),S=RP({t:"n",v:t[v]},i);break;case"boolean":C=DP({t:"b",v:t[v]},i),S=RP({t:"b",v:t[v]},i);break;default:throw new Error("Unsupported value "+t[v])}h.push(C),u+=C.length,y.push(S),p+=S.length,++l}for(e[2][0].data=vr(l);v<e[7][0].data.length/2;++v)c.setUint16(v*2,65535,!0),f.setUint16(v*2,65535,!0);return e[6][0].data=Lf(h),e[3][0].data=Lf(y),l}function v9e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var i=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=ll(i["!ref"]);s.s.r=s.s.c=0;var r=!1;s.e.c>9&&(r=!0,s.e.c=9),s.e.r>49&&(r=!0,s.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(us(s)));var n=oT(i,{range:s,header:1}),o=["~Sh33tJ5~"];n.forEach(function(Ee){return Ee.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var a={},l=[],c=ki.read(t.numbers,{type:"base64"});c.FileIndex.map(function(Ee,Y){return[Ee,c.FullPaths[Y]]}).forEach(function(Ee){var Y=Ee[0],Z=Ee[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var Se=Y.content,ye=ql(Se),ke=Xl(ye);ke.forEach(function(Oe){l.push(Oe.id),a[Oe.id]={deps:[],location:Z,type:kn(Oe.messages[0].meta[1][0].data)}})}}),l.sort(function(Ee,Y){return Ee-Y});var u=l.filter(function(Ee){return Ee>1}).map(function(Ee){return[Ee,vr(Ee)]});c.FileIndex.map(function(Ee,Y){return[Ee,c.FullPaths[Y]]}).forEach(function(Ee){var Y=Ee[0];if(Ee[1],!!Y.name.match(/\.iwa/)){var Z=Xl(ql(Y.content));Z.forEach(function(Se){Se.messages.forEach(function(ye){u.forEach(function(ke){Se.messages.some(function(Oe){return kn(Oe.meta[1][0].data)!=11006&&s9e(Oe.data,ke[1])})&&a[ke[0]].deps.push(Se.id)})})})}});for(var h=ki.find(c,a[1].location),f=Xl(ql(h.content)),p,y=0;y<f.length;++y){var v=f[y];v.id==1&&(p=v)}var C=Qo(Js(p.messages[0].data)[1][0].data);for(h=ki.find(c,a[C].location),f=Xl(ql(h.content)),y=0;y<f.length;++y)v=f[y],v.id==C&&(p=v);for(C=Qo(Js(p.messages[0].data)[2][0].data),h=ki.find(c,a[C].location),f=Xl(ql(h.content)),y=0;y<f.length;++y)v=f[y],v.id==C&&(p=v);for(C=Qo(Js(p.messages[0].data)[2][0].data),h=ki.find(c,a[C].location),f=Xl(ql(h.content)),y=0;y<f.length;++y)v=f[y],v.id==C&&(p=v);var S=Js(p.messages[0].data);{S[6][0].data=vr(s.e.r+1),S[7][0].data=vr(s.e.c+1);var _=Qo(S[46][0].data),x=ki.find(c,a[_].location),A=Xl(ql(x.content));{for(var R=0;R<A.length&&A[R].id!=_;++R);if(A[R].id!=_)throw"Bad ColumnRowUIDMapArchive";var O=Js(A[R].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var k=0;k<=s.e.c;++k){var F=[];F[1]=F[2]=[{type:0,data:vr(k+420690)}],O[1].push({type:2,data:Lo(F)}),O[2].push({type:0,data:vr(k)}),O[3].push({type:0,data:vr(k)})}O[4]=[],O[5]=[],O[6]=[];for(var N=0;N<=s.e.r;++N)F=[],F[1]=F[2]=[{type:0,data:vr(N+726270)}],O[4].push({type:2,data:Lo(F)}),O[5].push({type:0,data:vr(N)}),O[6].push({type:0,data:vr(N)});A[R].messages[0].data=Lo(O)}x.content=hv(dv(A)),x.size=x.content.length,delete S[46];var j=Js(S[4][0].data);{j[7][0].data=vr(s.e.r+1);var ee=Js(j[1][0].data),K=Qo(ee[2][0].data);x=ki.find(c,a[K].location),A=Xl(ql(x.content));{if(A[0].id!=K)throw"Bad HeaderStorageBucket";var Q=Js(A[0].messages[0].data);for(N=0;N<n.length;++N){var be=Js(Q[2][0].data);be[1][0].data=vr(N),be[4][0].data=vr(n[N].length),Q[2][N]={type:Q[2][0].type,data:Lo(be)}}A[0].messages[0].data=Lo(Q)}x.content=hv(dv(A)),x.size=x.content.length;var te=Qo(j[2][0].data);x=ki.find(c,a[te].location),A=Xl(ql(x.content));{if(A[0].id!=te)throw"Bad HeaderStorageBucket";for(Q=Js(A[0].messages[0].data),k=0;k<=s.e.c;++k)be=Js(Q[2][0].data),be[1][0].data=vr(k),be[4][0].data=vr(s.e.r+1),Q[2][k]={type:Q[2][0].type,data:Lo(be)};A[0].messages[0].data=Lo(Q)}x.content=hv(dv(A)),x.size=x.content.length;var ne=Qo(j[4][0].data);(function(){for(var Ee=ki.find(c,a[ne].location),Y=Xl(ql(Ee.content)),Z,Se=0;Se<Y.length;++Se){var ye=Y[Se];ye.id==ne&&(Z=ye)}var ke=Js(Z.messages[0].data);{ke[3]=[];var Oe=[];o.forEach(function(we,de){Oe[1]=[{type:0,data:vr(de)}],Oe[2]=[{type:0,data:vr(1)}],Oe[3]=[{type:2,data:i9e(we)}],ke[3].push({type:2,data:Lo(Oe)})})}Z.messages[0].data=Lo(ke);var He=dv(Y),mt=hv(He);Ee.content=mt,Ee.size=Ee.content.length})();var H=Js(j[3][0].data);{var ie=H[1][0];delete H[2];var ue=Js(ie.data);{var Te=Qo(ue[2][0].data);(function(){for(var Ee=ki.find(c,a[Te].location),Y=Xl(ql(Ee.content)),Z,Se=0;Se<Y.length;++Se){var ye=Y[Se];ye.id==Te&&(Z=ye)}var ke=Js(Z.messages[0].data);{delete ke[6],delete H[7];var Oe=new Uint8Array(ke[5][0].data);ke[5]=[];for(var He=0,mt=0;mt<=s.e.r;++mt){var we=Js(Oe);He+=m9e(we,n[mt],o),we[1][0].data=vr(mt),ke[5].push({data:Lo(we),type:2})}ke[1]=[{type:0,data:vr(s.e.c+1)}],ke[2]=[{type:0,data:vr(s.e.r+1)}],ke[3]=[{type:0,data:vr(He)}],ke[4]=[{type:0,data:vr(s.e.r+1)}]}Z.messages[0].data=Lo(ke);var de=dv(Y),pe=hv(de);Ee.content=pe,Ee.size=Ee.content.length})()}ie.data=Lo(ue)}j[3][0].data=Lo(H)}S[4][0].data=Lo(j)}p.messages[0].data=Lo(S);var Ie=dv(f),he=hv(Ie);return h.content=he,h.size=h.content.length,c}function HZ(e){return function(i){for(var s=0;s!=e.length;++s){var r=e[s];i[r[0]]===void 0&&(i[r[0]]=r[1]),r[2]==="n"&&(i[r[0]]=Number(i[r[0]]))}}}function T2(e){HZ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function A2(e){HZ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function y9e(e){return Es.WS.indexOf(e)>-1?"sheet":e==Es.CS?"chart":e==Es.DS?"dialog":e==Es.MS?"macro":e&&e.length?e:"sheet"}function C9e(e,t){if(!e)return 0;try{e=t.map(function(s){return s.id||(s.id=s.strRelID),[s.name,e["!id"][s.id].Target,y9e(e["!id"][s.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function b9e(e,t,i,s,r,n,o,a,l,c,u,h){try{n[s]=ub(Tl(e,i,!0),t);var f=Jn(e,t),p;switch(a){case"sheet":p=$5e(f,t,r,l,n[s],c,u,h);break;case"chart":if(p=W5e(f,t,r,l,n[s],c,u,h),!p||!p["!drawel"])break;var y=RC(p["!drawel"].Target,t),v=Tw(y),C=D6e(Tl(e,y,!0),ub(Tl(e,v,!0),y)),S=RC(C,y),_=Tw(S);p=m5e(Tl(e,S,!0),S,l,ub(Tl(e,_,!0),S),c,p);break;case"macro":p=U5e(f,t,r,l,n[s],c,u,h);break;case"dialog":p=z5e(f,t,r,l,n[s],c,u,h);break;default:throw new Error("Unrecognized sheet type "+a)}o[s]=p;var x=[];n&&n[s]&&Pn(n[s]).forEach(function(A){var R="";if(n[s][A].Type==Es.CMNT){R=RC(n[s][A].Target,t);var O=X5e(Jn(e,R,!0),R,l);if(!O||!O.length)return;I6(p,O,!1)}n[s][A].Type==Es.TCMNT&&(R=RC(n[s][A].Target,t),x=x.concat(P6e(Jn(e,R,!0),l)))}),x&&x.length&&I6(p,x,!0,l.people||[])}catch(A){if(l.WTF)throw A}}function Kl(e){return e.charAt(0)=="/"?e.slice(1):e}function w9e(e,t){if(fy(),t=t||{},T2(t),ec(e,"META-INF/manifest.xml")||ec(e,"objectdata.xml"))return K6(e,t);if(ec(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof PP<"u"){if(e.FileIndex)return PP(e);var i=ki.utils.cfb_new();return s6(e).forEach(function(be){fs(i,be,FHe(e,be))}),PP(i)}throw new Error("Unsupported NUMBERS file")}if(!ec(e,"[Content_Types].xml"))throw ec(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ec(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var s=s6(e),r=_4e(Tl(e,"[Content_Types].xml")),n=!1,o,a;if(r.workbooks.length===0&&(a="xl/workbook.xml",Jn(e,a,!0)&&r.workbooks.push(a)),r.workbooks.length===0){if(a="xl/workbook.bin",!Jn(e,a,!0))throw new Error("Could not find workbook");r.workbooks.push(a),n=!0}r.workbooks[0].slice(-3)=="bin"&&(n=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(db=[],r.sst)try{db=Y5e(Jn(e,Kl(r.sst)),r.sst,t)}catch(be){if(t.WTF)throw be}t.cellStyles&&r.themes.length&&(l=K5e(Tl(e,r.themes[0].replace(/^\//,""),!0)||"",r.themes[0],t)),r.style&&(c=j5e(Jn(e,Kl(r.style)),r.style,l,t))}r.links.map(function(be){try{var te=ub(Tl(e,Tw(Kl(be))),be);return Q5e(Jn(e,Kl(be)),te,be,t)}catch{}});var u=H5e(Jn(e,Kl(r.workbooks[0])),r.workbooks[0],t),h={},f="";r.coreprops.length&&(f=Jn(e,Kl(r.coreprops[0]),!0),f&&(h=DJ(f)),r.extprops.length!==0&&(f=Jn(e,Kl(r.extprops[0]),!0),f&&F4e(f,h,t)));var p={};(!t.bookSheets||t.bookProps)&&r.custprops.length!==0&&(f=Tl(e,Kl(r.custprops[0]),!0),f&&(p=L4e(f,t)));var y={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(te){return te.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(y.Props=h,y.Custprops=p),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var v={};t.bookDeps&&r.calcchain&&(v=q5e(Jn(e,Kl(r.calcchain)),r.calcchain));var C=0,S={},_,x;{var A=u.Sheets;h.Worksheets=A.length,h.SheetNames=[];for(var R=0;R!=A.length;++R)h.SheetNames[R]=A[R].name}var O=n?"bin":"xml",k=r.workbooks[0].lastIndexOf("/"),F=(r.workbooks[0].slice(0,k+1)+"_rels/"+r.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");ec(e,F)||(F="xl/_rels/workbook."+O+".rels");var N=ub(Tl(e,F,!0),F.replace(/_rels.*/,"s5s"));(r.metadata||[]).length>=1&&(t.xlmeta=J5e(Jn(e,Kl(r.metadata[0])),r.metadata[0],t)),(r.people||[]).length>=1&&(t.people=M6e(Jn(e,Kl(r.people[0])),t)),N&&(N=C9e(N,u.Sheets));var j=Jn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=h.Worksheets;++C){var ee="sheet";if(N&&N[C]?(_="xl/"+N[C][1].replace(/[\/]?xl\//,""),ec(e,_)||(_=N[C][1]),ec(e,_)||(_=F.replace(/_rels\/.*$/,"")+N[C][1]),ee=N[C][2]):(_="xl/worksheets/sheet"+(C+1-j)+"."+O,_=_.replace(/sheet0\./,"sheet.")),x=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(C!=t.sheets)continue e;break;case"string":if(h.SheetNames[C].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var K=!1,Q=0;Q!=t.sheets.length;++Q)typeof t.sheets[Q]=="number"&&t.sheets[Q]==C&&(K=1),typeof t.sheets[Q]=="string"&&t.sheets[Q].toLowerCase()==h.SheetNames[C].toLowerCase()&&(K=1);if(!K)continue e}}b9e(e,_,x,h.SheetNames[C],C,S,o,ee,t,u,l,c)}return y={Directory:r,Workbook:u,Props:h,Custprops:p,Deps:v,Sheets:o,SheetNames:h.SheetNames,Strings:db,Styles:c,Themes:l,SSF:Qr(Li)},t&&t.bookFiles&&(e.files?(y.keys=s,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(be,te){be=be.replace(/^Root Entry[\/]/,""),y.keys.push(be),y.files[be]=e.FileIndex[te]}))),t&&t.bookVBA&&(r.vba.length>0?y.vbaraw=Jn(e,Kl(r.vba[0]),!0):r.defaults&&r.defaults.bin===H6e&&(y.vbaraw=Jn(e,"xl/vbaProject.bin",!0))),y}function S9e(e,t){var i=t||{},s="Workbook",r=ki.find(e,s);try{if(s="/!DataSpaces/Version",r=ki.find(e,s),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(J$e(r.content),s="/!DataSpaces/DataSpaceMap",r=ki.find(e,s),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+s);var n=eWe(r.content);if(n.length!==1||n[0].comps.length!==1||n[0].comps[0].t!==0||n[0].name!=="StrongEncryptionDataSpace"||n[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",r=ki.find(e,s),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+s);var o=tWe(r.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",r=ki.find(e,s),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+s);sWe(r.content)}catch{}if(s="/EncryptionInfo",r=ki.find(e,s),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+s);var a=rWe(r.content);if(s="/EncryptedPackage",r=ki.find(e,s),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],r.content,i.password||"",i);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],r.content,i.password||"",i);throw new Error("File is password-protected")}function x9e(e,t){return t.bookType=="ods"?GZ(e,t):t.bookType=="numbers"?v9e(e,t):t.bookType=="xlsb"?E9e(e,t):_9e(e,t)}function E9e(e,t){Dv=1024,e&&!e.SSF&&(e.SSF=Qr(Li)),e&&e.SSF&&(fy(),sk(e.SSF),t.revssf=nk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i=t.bookType=="xlsb"?"bin":"xml",s=pZ.indexOf(t.bookType)>-1,r=h2();A2(t=t||{});var n=JN(),o="",a=0;if(t.cellXfs=[],Zf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",fs(n,o,RJ(e.Props,t)),r.coreprops.push(o),Cr(t.rels,2,o,Es.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,fs(n,o,MJ(e.Props)),r.extprops.push(o),Cr(t.rels,3,o,Es.EXT_PROPS),e.Custprops!==e.Props&&Pn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",fs(n,o,LJ(e.Custprops)),r.custprops.push(o),Cr(t.rels,4,o,Es.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var u={"!id":{}},h=e.Sheets[e.SheetNames[a-1]],f=(h||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+a+"."+i,fs(n,o,e7e(a-1,o,t,e,u)),r.sheets.push(o),Cr(t.wbrels,-1,"worksheets/sheet"+a+"."+i,Es.WS[0])}if(h){var p=h["!comments"],y=!1,v="";p&&p.length>0&&(v="xl/comments"+a+"."+i,fs(n,v,s7e(p,v)),r.comments.push(v),Cr(u,-1,"../comments"+a+"."+i,Es.CMNT),y=!0),h["!legacy"]&&y&&fs(n,"xl/drawings/vmlDrawing"+a+".vml",hZ(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&fs(n,Tw(o),Uv(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+i,fs(n,o,i7e(t.Strings,o,t)),r.strs.push(o),Cr(t.wbrels,-1,"sharedStrings."+i,Es.SST)),o="xl/workbook."+i,fs(n,o,Z5e(e,o)),r.workbooks.push(o),Cr(t.rels,1,o,Es.WB),o="xl/theme/theme1.xml",fs(n,o,y2(e.Themes,t)),r.themes.push(o),Cr(t.wbrels,-1,"theme/theme1.xml",Es.THEME),o="xl/styles."+i,fs(n,o,t7e(e,o,t)),r.styles.push(o),Cr(t.wbrels,-1,"styles."+i,Es.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",fs(n,o,e.vbaraw),r.vba.push(o),Cr(t.wbrels,-1,"vbaProject.bin",Es.VBA)),o="xl/metadata."+i,fs(n,o,r7e(o)),r.metadata.push(o),Cr(t.wbrels,-1,"metadata."+i,Es.XLMETA),fs(n,"[Content_Types].xml",AJ(r,t)),fs(n,"_rels/.rels",Uv(t.rels)),fs(n,"xl/_rels/workbook."+i+".rels",Uv(t.wbrels)),delete t.revssf,delete t.ssf,n}function _9e(e,t){Dv=1024,e&&!e.SSF&&(e.SSF=Qr(Li)),e&&e.SSF&&(fy(),sk(e.SSF),t.revssf=nk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i="xml",s=pZ.indexOf(t.bookType)>-1,r=h2();A2(t=t||{});var n=JN(),o="",a=0;if(t.cellXfs=[],Zf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",fs(n,o,RJ(e.Props,t)),r.coreprops.push(o),Cr(t.rels,2,o,Es.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,fs(n,o,MJ(e.Props)),r.extprops.push(o),Cr(t.rels,3,o,Es.EXT_PROPS),e.Custprops!==e.Props&&Pn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",fs(n,o,LJ(e.Custprops)),r.custprops.push(o),Cr(t.rels,4,o,Es.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var h={"!id":{}},f=e.Sheets[e.SheetNames[a-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+i,fs(n,o,_Z(a-1,t,e,h)),r.sheets.push(o),Cr(t.wbrels,-1,"worksheets/sheet"+a+"."+i,Es.WS[0])}if(f){var y=f["!comments"],v=!1,C="";if(y&&y.length>0){var S=!1;y.forEach(function(_){_[1].forEach(function(x){x.T==!0&&(S=!0)})}),S&&(C="xl/threadedComments/threadedComment"+a+"."+i,fs(n,C,F6e(y,u,t)),r.threadedcomments.push(C),Cr(h,-1,"../threadedComments/threadedComment"+a+"."+i,Es.TCMNT)),C="xl/comments"+a+"."+i,fs(n,C,fZ(y)),r.comments.push(C),Cr(h,-1,"../comments"+a+"."+i,Es.CMNT),v=!0}f["!legacy"]&&v&&fs(n,"xl/drawings/vmlDrawing"+a+".vml",hZ(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&fs(n,Tw(o),Uv(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+i,fs(n,o,eZ(t.Strings,t)),r.strs.push(o),Cr(t.wbrels,-1,"sharedStrings."+i,Es.SST)),o="xl/workbook."+i,fs(n,o,RZ(e)),r.workbooks.push(o),Cr(t.rels,1,o,Es.WB),o="xl/theme/theme1.xml",fs(n,o,y2(e.Themes,t)),r.themes.push(o),Cr(t.wbrels,-1,"theme/theme1.xml",Es.THEME),o="xl/styles."+i,fs(n,o,lZ(e,t)),r.styles.push(o),Cr(t.wbrels,-1,"styles."+i,Es.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",fs(n,o,e.vbaraw),r.vba.push(o),Cr(t.wbrels,-1,"vbaProject.bin",Es.VBA)),o="xl/metadata."+i,fs(n,o,dZ()),r.metadata.push(o),Cr(t.wbrels,-1,"metadata."+i,Es.XLMETA),u.length>1&&(o="xl/persons/person.xml",fs(n,o,L6e(u)),r.people.push(o),Cr(t.wbrels,-1,"persons/person.xml",Es.PEOPLE)),fs(n,"[Content_Types].xml",AJ(r,t)),fs(n,"_rels/.rels",Uv(t.rels)),fs(n,"xl/_rels/workbook."+i+".rels",Uv(t.wbrels)),delete t.revssf,delete t.ssf,n}function k2(e,t){var i="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":i=Ll(e.slice(0,12));break;case"binary":i=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3),i.charCodeAt(4),i.charCodeAt(5),i.charCodeAt(6),i.charCodeAt(7)]}function T9e(e,t){return ki.find(e,"EncryptedPackage")?S9e(e,t):LZ(e,t)}function A9e(e,t){var i,s=e,r=t||{};return r.type||(r.type=bs&&Buffer.isBuffer(e)?"buffer":"base64"),i=iJ(s,r),w9e(i,r)}function $Z(e,t){var i=0;e:for(;i<e.length;)switch(e.charCodeAt(i)){case 10:case 13:case 32:++i;break;case 60:return eL(e.slice(i),t);default:break e}return L0.to_workbook(e,t)}function k9e(e,t){var i="",s=k2(e,t);switch(t.type){case"base64":i=Ll(e);break;case"binary":i=e;break;case"buffer":i=e.toString("binary");break;case"array":i=Gg(e);break;default:throw new Error("Unrecognized type "+t.type)}return s[0]==239&&s[1]==187&&s[2]==191&&(i=Dr(i)),t.type="binary",$Z(i,t)}function D9e(e,t){var i=e;return t.type=="base64"&&(i=Ll(i)),i=bw.utils.decode(1200,i.slice(2),"str"),t.type="binary",$Z(i,t)}function R9e(e){return e.match(/[^\x00-\x7F]/)?Lu(e):e}function FP(e,t,i,s){return s?(i.type="string",L0.to_workbook(e,i)):L0.to_workbook(t,i)}function sL(e,t){KN();var i=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return sL(new Uint8Array(e),(i=Qr(i),i.type="array",i));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!i.type&&(i.type=typeof Deno<"u"?"buffer":"array");var s=e,r=[0,0,0,0],n=!1;if(i.cellStyles&&(i.cellNF=!0,i.sheetStubs=!0),jv={},i.dateNF&&(jv.dateNF=i.dateNF),i.type||(i.type=bs&&Buffer.isBuffer(e)?"buffer":"base64"),i.type=="file"&&(i.type=bs?"buffer":"binary",s=EHe(e),typeof Uint8Array<"u"&&!bs&&(i.type="array")),i.type=="string"&&(n=!0,i.type="binary",i.codepage=65001,s=R9e(e)),i.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return i=Qr(i),i.type="array",sL(YN(s),i)}switch((r=k2(s,i))[0]){case 208:if(r[1]===207&&r[2]===17&&r[3]===224&&r[4]===161&&r[5]===177&&r[6]===26&&r[7]===225)return T9e(ki.read(s,i),i);break;case 9:if(r[1]<=8)return LZ(s,i);break;case 60:return eL(s,i);case 73:if(r[1]===73&&r[2]===42&&r[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(r[1]===68)return O$e(s,i);break;case 84:if(r[1]===65&&r[2]===66&&r[3]===76)return JJ.to_workbook(s,i);break;case 80:return r[1]===75&&r[2]<9&&r[3]<9?A9e(s,i):FP(e,s,i,n);case 239:return r[3]===60?eL(s,i):FP(e,s,i,n);case 255:if(r[1]===254)return D9e(s,i);if(r[1]===0&&r[2]===2&&r[3]===0)return hg.to_workbook(s,i);break;case 0:if(r[1]===0&&(r[2]>=2&&r[3]===0||r[2]===0&&(r[3]===8||r[3]===9)))return hg.to_workbook(s,i);break;case 3:case 131:case 139:case 140:return ZM.to_workbook(s,i);case 123:if(r[1]===92&&r[2]===114&&r[3]===116)return nZ.to_workbook(s,i);break;case 10:case 13:case 32:return k9e(s,i);case 137:if(r[1]===80&&r[2]===78&&r[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return L$e.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?ZM.to_workbook(s,i):FP(e,s,i,n)}function WZ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return AS(t.file,ki.write(e,{type:bs?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ki.write(e,t)}function P9e(e,t){var i=Qr(t||{}),s=x9e(e,i);return F9e(s,i)}function F9e(e,t){var i={},s=bs?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(i.compression="DEFLATE"),t.password)i.type=s;else switch(t.type){case"base64":i.type="base64";break;case"binary":i.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":i.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var r=e.FullPaths?ki.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[i.type]||i.type,compression:!!t.compression}):e.generate(i);if(typeof Deno<"u"&&typeof r=="string"){if(t.type=="binary"||t.type=="base64")return r;r=new Uint8Array(ik(r))}return t.password&&typeof encrypt_agile<"u"?WZ(encrypt_agile(r,t.password),t):t.type==="file"?AS(t.file,r):t.type=="string"?Dr(r):r}function M9e(e,t){var i=t||{},s=R7e(e,i);return WZ(s,i)}function Su(e,t,i){i||(i="");var s=i+e;switch(t.type){case"base64":return ww(Lu(s));case"binary":return Lu(s);case"string":return e;case"file":return AS(t.file,s,"utf8");case"buffer":return bs?ph(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):Su(s,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function L9e(e,t){switch(t.type){case"base64":return ww(e);case"binary":return e;case"string":return e;case"file":return AS(t.file,e,"binary");case"buffer":return bs?ph(e,"binary"):e.split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function I1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var i="",s=0;s<e.length;++s)i+=String.fromCharCode(e[s]);return t.type=="base64"?ww(i):t.type=="string"?Dr(i):i;case"file":return AS(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function UZ(e,t){KN(),T5e(e);var i=Qr(t||{});if(i.cellStyles&&(i.cellNF=!0,i.sheetStubs=!0),i.type=="array"){i.type="binary";var s=UZ(e,i);return i.type="array",ik(s)}var r=0;if(i.sheet&&(typeof i.sheet=="number"?r=i.sheet:r=e.SheetNames.indexOf(i.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+i.sheet+" : "+typeof i.sheet);switch(i.bookType||"xlsb"){case"xml":case"xlml":return Su(x7e(e,i),i);case"slk":case"sylk":return Su(QJ.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"htm":case"html":return Su(IZ(e.Sheets[e.SheetNames[r]],i),i);case"txt":return L9e(zZ(e.Sheets[e.SheetNames[r]],i),i);case"csv":return Su(D2(e.Sheets[e.SheetNames[r]],i),i,"\uFEFF");case"dif":return Su(JJ.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"dbf":return I1(ZM.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"prn":return Su(L0.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"rtf":return Su(nZ.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"eth":return Su(ZJ.from_sheet(e.Sheets[e.SheetNames[r]],i),i);case"fods":return Su(GZ(e,i),i);case"wk1":return I1(hg.sheet_to_wk1(e.Sheets[e.SheetNames[r]],i),i);case"wk3":return I1(hg.book_to_wk3(e,i),i);case"biff2":i.biff||(i.biff=2);case"biff3":i.biff||(i.biff=3);case"biff4":return i.biff||(i.biff=4),I1(OZ(e,i),i);case"biff5":i.biff||(i.biff=5);case"biff8":case"xla":case"xls":return i.biff||(i.biff=8),M9e(e,i);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return P9e(e,i);default:throw new Error("Unrecognized bookType |"+i.bookType+"|")}}function O9e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},i=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();i.match(/^\.[a-z]+$/)&&(e.bookType=i.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function J6(e,t,i){var s=i||{};return s.type="file",s.file=t,O9e(s),UZ(e,s)}function I9e(e,t,i,s,r,n,o,a){var l=$n(i),c=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),h=!0,f=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:i,enumerable:!1})}catch{f.__rowNum__=i}else f.__rowNum__=i;if(!o||e[i])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[i][p]:e[s[p]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;n[p]!=null&&(f[n[p]]=c);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(n[p]!=null){if(v==null)if(y.t=="e"&&v===null)f[n[p]]=null;else if(c!==void 0)f[n[p]]=c;else if(u&&v===null)f[n[p]]=null;else continue;else f[n[p]]=u&&(y.t!=="n"||y.t==="n"&&a.rawNumbers!==!1)?v:Jd(y,v,a);v!=null&&(h=!1)}}return{row:f,isempty:h}}function oT(e,t){if(e==null||e["!ref"]==null)return[];var i={t:"n",v:0},s=0,r=1,n=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?s=1:c.header==="A"?s=2:Array.isArray(c.header)?s=3:c.header==null&&(s=0),typeof u){case"string":l=Ks(u);break;case"number":l=Ks(e["!ref"]),l.s.r=u;break;default:l=u}s>0&&(r=0);var h=$n(l.s.r),f=[],p=[],y=0,v=0,C=Array.isArray(e),S=l.s.r,_=0,x={};C&&!e[S]&&(e[S]=[]);var A=c.skipHidden&&e["!cols"]||[],R=c.skipHidden&&e["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(A[_]||{}).hidden)switch(f[_]=gn(_),i=C?e[S][_]:e[f[_]+h],s){case 1:n[_]=_-l.s.c;break;case 2:n[_]=f[_];break;case 3:n[_]=c.header[_-l.s.c];break;default:if(i==null&&(i={w:"__EMPTY",t:"s"}),a=o=Jd(i,null,c),v=x[o]||0,!v)x[o]=1;else{do a=o+"_"+v++;while(x[a]);x[o]=v,x[a]=1}n[_]=a}for(S=l.s.r+r;S<=l.e.r;++S)if(!(R[S]||{}).hidden){var O=I9e(e,l,S,f,s,n,C,c);(O.isempty===!1||(s===1?c.blankrows!==!1:c.blankrows))&&(p[y++]=O.row)}return p.length=y,p}var Z6=/"/g;function N9e(e,t,i,s,r,n,o,a){for(var l=!0,c=[],u="",h=$n(i),f=t.s.c;f<=t.e.c;++f)if(s[f]){var p=a.dense?(e[i]||[])[f]:e[s[f]+h];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(a.rawNumbers&&p.t=="n"?p.v:Jd(p,null,a));for(var y=0,v=0;y!==u.length;++y)if((v=u.charCodeAt(y))===r||v===n||v===34||a.forceQuotes){u='"'+u.replace(Z6,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(Z6,'""')+'"')):u="";c.push(u)}return a.blankrows===!1&&l?null:c.join(o)}function D2(e,t){var i=[],s=t??{};if(e==null||e["!ref"]==null)return"";var r=Ks(e["!ref"]),n=s.FS!==void 0?s.FS:",",o=n.charCodeAt(0),a=s.RS!==void 0?s.RS:`
`,l=a.charCodeAt(0),c=new RegExp((n=="|"?"\\|":n)+"+$"),u="",h=[];s.dense=Array.isArray(e);for(var f=s.skipHidden&&e["!cols"]||[],p=s.skipHidden&&e["!rows"]||[],y=r.s.c;y<=r.e.c;++y)(f[y]||{}).hidden||(h[y]=gn(y));for(var v=0,C=r.s.r;C<=r.e.r;++C)(p[C]||{}).hidden||(u=N9e(e,r,C,h,o,l,n,s),u!=null&&(s.strip&&(u=u.replace(c,"")),(u||s.blankrows!==!1)&&i.push((v++?a:"")+u)));return delete s.dense,i.join("")}function zZ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var i=D2(e,t);return i}function V9e(e){var t="",i,s="";if(e==null||e["!ref"]==null)return[];var r=Ks(e["!ref"]),n="",o=[],a,l=[],c=Array.isArray(e);for(a=r.s.c;a<=r.e.c;++a)o[a]=gn(a);for(var u=r.s.r;u<=r.e.r;++u)for(n=$n(u),a=r.s.c;a<=r.e.c;++a)if(t=o[a]+n,i=c?(e[u]||[])[a]:e[t],s="",i!==void 0){if(i.F!=null){if(t=i.F,!i.f)continue;s=i.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(i.f!=null)s=i.f;else{if(i.t=="z")continue;if(i.t=="n"&&i.v!=null)s=""+i.v;else if(i.t=="b")s=i.v?"TRUE":"FALSE";else if(i.w!==void 0)s="'"+i.w;else{if(i.v===void 0)continue;i.t=="s"?s="'"+i.v:s=""+i.v}}l[l.length]=t+"="+s}return l}function jZ(e,t,i){var s=i||{},r=+!s.skipHeader,n=e||{},o=0,a=0;if(n&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var l=typeof s.origin=="string"?mn(s.origin):s.origin;o=l.r,a=l.c}var c,u={s:{c:0,r:0},e:{c:a,r:o+t.length-1+r}};if(n["!ref"]){var h=Ks(n["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+t.length-1+r)}else o==-1&&(o=0,u.e.r=t.length-1+r);var f=s.header||[],p=0;t.forEach(function(v,C){Pn(v).forEach(function(S){(p=f.indexOf(S))==-1&&(f[p=f.length]=S);var _=v[S],x="z",A="",R=Vi({c:a+p,r:o+C+r});c=Mw(n,R),_&&typeof _=="object"&&!(_ instanceof Date)?n[R]=_:(typeof _=="number"?x="n":typeof _=="boolean"?x="b":typeof _=="string"?x="s":_ instanceof Date?(x="d",s.cellDates||(x="n",_=yo(_)),A=s.dateNF||Li[14]):_===null&&s.nullError&&(x="e",_=0),c?(c.t=x,c.v=_,delete c.w,delete c.R,A&&(c.z=A)):n[R]=c={t:x,v:_},A&&(c.z=A))})}),u.e.c=Math.max(u.e.c,a+f.length-1);var y=$n(o);if(r)for(p=0;p<f.length;++p)n[gn(p+a)+y]={t:"s",v:f[p]};return n["!ref"]=us(u),n}function B9e(e,t){return jZ(null,e,t)}function Mw(e,t,i){if(typeof t=="string"){if(Array.isArray(e)){var s=mn(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Mw(e,Vi(t)):Mw(e,Vi({r:t,c:i||0}))}function G9e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var i=e.SheetNames.indexOf(t);if(i>-1)return i;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function R2(){return{SheetNames:[],Sheets:{}}}function P2(e,t,i,s){var r=1;if(!i)for(;r<=65535&&e.SheetNames.indexOf(i="Sheet"+r)!=-1;++r,i=void 0);if(!i||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(i)>=0){var n=i.match(/(^.*?)(\d+)$/);r=n&&+n[2]||0;var o=n&&n[1]||i;for(++r;r<=65535&&e.SheetNames.indexOf(i=o+r)!=-1;++r);}if(DZ(i),e.SheetNames.indexOf(i)>=0)throw new Error("Worksheet with name |"+i+"| already exists!");return e.SheetNames.push(i),e.Sheets[i]=t,i}function H9e(e,t,i){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=G9e(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),i){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+i)}e.Workbook.Sheets[s].Hidden=i}function $9e(e,t){return e.z=t,e}function KZ(e,t,i){return t?(e.l={Target:t},i&&(e.l.Tooltip=i)):delete e.l,e}function W9e(e,t,i){return KZ(e,"#"+t,i)}function U9e(e,t,i){e.c||(e.c=[]),e.c.push({t,a:i||"SheetJS"})}function z9e(e,t,i,s){for(var r=typeof t!="string"?t:Ks(t),n=typeof t=="string"?t:us(t),o=r.s.r;o<=r.e.r;++o)for(var a=r.s.c;a<=r.e.c;++a){var l=Mw(e,o,a);l.t="n",l.F=n,delete l.v,o==r.s.r&&a==r.s.c&&(l.f=i,s&&(l.D=!0))}return e}var cC={encode_col:gn,encode_row:$n,encode_cell:Vi,encode_range:us,decode_col:o2,decode_row:n2,split_cell:i4e,decode_cell:mn,decode_range:ll,format_cell:Jd,sheet_add_aoa:bJ,sheet_add_json:jZ,sheet_add_dom:NZ,aoa_to_sheet:py,json_to_sheet:B9e,table_to_sheet:VZ,table_to_book:J7e,sheet_to_csv:D2,sheet_to_txt:zZ,sheet_to_json:oT,sheet_to_html:IZ,sheet_to_formulae:V9e,sheet_to_row_object_array:oT,sheet_get_cell:Mw,book_new:R2,book_append_sheet:P2,book_set_sheet_visibility:H9e,cell_set_number_format:$9e,cell_set_hyperlink:KZ,cell_set_internal_link:W9e,cell_add_comment:U9e,sheet_set_array_formula:z9e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const j9e=dt({components:{"vue-excel-filter":XLe,"panel-filter":SOe,"panel-setting":MIe,"panel-find":VIe,"date-picker":UN},props:{disablePanelSetting:{type:Boolean,default(){return!1}},disablePanelFilter:{type:Boolean,default(){return!1}},modelValue:{type:Array,default(){return[]}},rowStyle:{type:Function,default(){return{}}},cellStyle:{type:Function,default(){return{}}},headerLabel:{type:Function,default(e){return e}},recordLabel:{type:Function,default(e){return e}},noFinding:{type:Boolean,default:!1},noFindingNext:{type:Boolean,default:!1},noSorting:{type:Boolean,default:!1},noMassUpdate:{type:Boolean,default:!1},filterRow:{type:Boolean,default:!1},freeSelect:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noPaging:{type:Boolean,default:!1},noNumCol:{type:Boolean,default:!1},noMouseScroll:{type:Boolean,default:!1},page:{type:Number,default:0},enterToSouth:{type:Boolean,default:!1},nFilterCount:{type:Number,default:1e3},height:{type:String,default:""},width:{type:String,default:"100%"},wheelSensitivity:{type:Number,default:30},autocomplete:{type:Boolean,default:!1},autocompleteCount:{type:Number,default:50},readonly:{type:Boolean,default:!1},readonlyStyle:{type:Object,default(){return{}}},remember:{type:Boolean,default:!1},register:{type:Function,default:null},allowAddCol:{type:Boolean,default:!1},noHeaderEdit:{type:Boolean,default:!1},addColumn:{type:Function,default:null},spellcheck:{type:Boolean,default:!1},newIfBottom:{type:Boolean,default:!1},validate:{type:Function,default:null},localizedLabel:{type:Object,default(){return{footerLeft:(e,t,i)=>`Record ${e} to ${t} of ${i}`,first:"First",previous:"Previous",next:"Next",last:"Last",footerRight:{selected:"Selected:",filtered:"Filtered:",loaded:"Loaded:"},processing:"Processing",tableSetting:"Table Setting",exportExcel:"Export Excel",importExcel:"Import Excel",back:"Back",reset:"Default",sortingAndFiltering:"Sorting And Filtering",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",near:" Near",exactMatch:"= Exact Match",notMatch:" Not Match",greaterThan:"&gt; Greater Than",greaterThanOrEqualTo:" Greater Than or Equal To",lessThan:"&lt; Less Than",lessThanOrEqualTo:" Less Than Or Equal To",regularExpression:"~ Regular Expression",customFilter:"Custom Filter",listFirstNValuesOnly:e=>`List first ${e} values only`,apply:"Apply",noRecordIsRead:"No record is read",readonlyColumnDetected:"Readonly column detected",columnHasValidationError:(e,t)=>`Column ${e} has validation error: ${t}`,rowHasValidationError:(e,t,i)=>`Row ${e} has validation error for column ${t}: ${i}`,noMatchedColumnName:"No matched column name",invalidInputValue:"Invalid input value",missingKeyColumn:"Missing key column",noRecordIndicator:"No record"}}},recordFilter:{type:Function,default(){return!0}}},data(){return{version:"1.3",tableContent:null,systable:null,colgroupTr:null,labelTr:null,filterTr:null,recordBody:null,footer:null,pageSize:this.noPaging?999999:20,pageTop:0,selected:{},_selectedCount:0,prevSelect:-1,processing:!1,rowIndex:{},currentRecord:null,currentRowPos:0,currentColPos:0,currentField:null,currentCell:null,inputBox:null,inputBoxShow:0,inputSquare:null,autocompleteInputs:[],autocompleteSelect:-1,errmsg:{},rowerr:{},tip:"",textTip:"",colHash:"",fields:[],focused:!1,mousein:!1,inputBoxChanged:!1,columnFilter:{},inputFind:"",calCellLeft:0,calCellTop:0,calCellTop2:29,frontdrop:null,sortPos:0,sortDir:0,redo:[],lazyTimeout:{},lazyBuffer:{},hScroller:{},vScroller:{},leftMost:0,showDatePicker:!1,inputDateTime:new Date,table:[],filteredValue:[],lastFilterTime:"",summaryRow:!1,summary:{},showFilteredOnly:!0,showSelectedOnly:!1,ungroup:{}}},computed:{numColWidth(){return this.noNumCol?0:40},selectedCount:{get(){return this._selectedCount},set(e){this._selectedCount=e,this.$emit("update:selectedCount",e)}},token(){return`vue-excel-editor-${Array.from(document.querySelectorAll(".vue-excel-editor")).indexOf(this.$el)}`},columnFilterString(){return Object.keys(this.columnFilter).forEach(e=>{this.columnFilter[e].trim()===""&&delete this.columnFilter[e]}),JSON.stringify(this.columnFilter)},pagingTable(){return this.table.slice(this.pageTop,this.pageTop+this.pageSize)},pageBottom(){return this.filteredValue.length===0?0:this.pageTop+this.pageSize>this.table.length?this.table.length:this.pageTop+this.pageSize},setting:{get(){return null},set(e){var t;if(e.fields){if(e.fields.length!==this.fields.length)return;let i=!0;const s=e.fields.map(r=>{const n=this.fields.find(o=>o.name===r.name);return n?(typeof r.invisible<"u"&&(n.invisible=r.invisible),typeof r.width<"u"&&(n.width=r.width),typeof r.label<"u"&&(n.label=r.label)):i=!1,n});if(i){this.fields=s;const r=Di();(t=r==null?void 0:r.proxy)==null||t.$forceUpdate()}}}}},watch:{modelValue(e){this.lazy(()=>{e.length===0&&(this.clearFilter(),this.sortPos=0,this.sortDir=0),this.refresh(),this.pageTop>this.table.length&&this.lastPage()})},columnFilterString(){this.lastFilterTime=String(new Date().getTime()%1e8),this.processing=!0,setTimeout(()=>{this.pageTop=0,this.refresh(),this.processing=!1},0)},fields:{handler(){this.lazy(()=>{const e=this.getSetting();this.remember&&(localStorage[window.location.pathname+window.location.hash+"."+this.token]=JSON.stringify(e)),this.$emit("setting",e)})},deep:!0},processing(e){if(e){const t=this.$el.children[0].getBoundingClientRect();this.frontdrop.style.top=t.top+"px",this.frontdrop.style.left=t.left+"px",this.frontdrop.style.height=t.height+"px",this.frontdrop.style.width=t.width+"px"}},pageTop(e){this.$emit("page-changed",e,e+this.pageSize-1)},pageSize(e){this.$emit("page-changed",this.pageTop,this.pageTop+e-1)}},activated(){this.addEventListener()},deactivated(){this.removeEventListener()},beforeUnmount(){this.removeEventListener()},mounted(){if(this.editor=this.$refs.editor,this.tableContent=this.$refs.tableContent,this.systable=this.$refs.systable,this.colgroupTr=this.systable.children[0],this.labelTr=this.systable.children[1].children[0],this.filterTr=this.systable.children[1].children[1],this.recordBody=this.systable.children[2],this.footer=this.$refs.footer,this.inputSquare=this.$refs.inputSquare,this.inputBox=this.$refs.inputBox,this.frontdrop=this.$refs.frontdrop,this.height&&(this.systable.parentNode.style.height=this.height),this.reset(),this.lazy(()=>{this.labelTr.children[0].style.height=this.labelTr.offsetHeight+"px",this.calCellTop2=this.labelTr.offsetHeight,this.refreshPageSize(),this.tableContent.scrollTo(0,this.tableContent.scrollTop),this.calStickyLeft()},200),ResizeObserver&&new ResizeObserver(this.winResize).observe(this.editor),this.addEventListener(),this.remember){const e=localStorage[window.location.pathname+window.location.hash+"."+this.token];if(e){const t=JSON.parse(e);t.colHash===this.colHash&&(this.setting=t)}}},methods:{addEventListener(){window.addEventListener("resize",this.winResize),window.addEventListener("paste",this.winPaste),window.addEventListener("keydown",this.winKeydown),window.addEventListener("keyup",this.winKeyup),window.addEventListener("scroll",this.winScroll),window.addEventListener("wheel",this.mousewheel,{passive:!1})},removeEventListener(){window.removeEventListener("resize",this.winResize),window.removeEventListener("paste",this.winPaste),window.removeEventListener("keydown",this.winKeydown),window.removeEventListener("keyup",this.winKeyup),window.removeEventListener("scroll",this.winScroll),window.removeEventListener("wheel",this.mousewheel)},isSameSinceLeft(e,t,i){for(let s=0;s<=e;s++)if(!this.fields[s].invisible&&this.fields[s].hideDuplicate){const r=this.fields[s].name;if(t[r]!==i[r])return!1}return!0},componentTabInto(e){e.keyCode===9&&(this.moveInputSquare(this.currentRowPos,this.currentColPos)||this.moveInputSquare(0,0))},reset(){this.errmsg={},this.redo=[],this.showFilteredOnly=!0,this.showSelectedOnly=!1,this.columnFilter={},this.sortPos=0,this.sortDir=0,this.inputFind="",this.pageTop=0,this.selected={},this.selectedCount=0,this.prevSelect=-1,this.processing=!1,this.rowIndex={},this.refresh()},toggleSelectView(e){return e&&e.stopPropagation(),this.showSelectedOnly=!this.showSelectedOnly,this.firstPage(),this.refresh()},toggleFilterView(e){return e&&e.stopPropagation(),this.showFilteredOnly=!this.showFilteredOnly,this.refresh()},resetColumn(){this.fields=[],this.tableContent.scrollTo(0,this.tableContent.scrollTop),this.calStickyLeft()},registerColumn(e){let t=this.fields.findIndex(i=>i.pos>e.pos);t===-1&&(t=this.fields.length),this.fields.splice(t,0,e),this.register&&this.register(e,t),e.register&&e.register(e,t),e.summary&&(this.summaryRow=!0),this.colHash=this.hashCode(this.version+JSON.stringify(this.fields))},insertColumn(e){const t="COL-"+Math.random().toString().slice(2,6);let i={name:t,label:t,type:"string",width:"100px",validate:null,change:null,link:null,sort:null,keyField:!1,sticky:!1,allowKeys:null,mandatory:!1,lengthLimit:0,autocomplete:this.autocomplete,textTransform:null,initStyle:"left",invisible:!1,readonly:this.readonly,pos:0,options:null,summary:null,toValue:s=>s,toText:s=>s,register:null};this.addColumn&&(i=this.addColumn(i)),this.newColumn(i,e)},newColumn(e,t){this.fields.splice(t,0,e),this.register&&this.register(e,t),e.register&&e.register(e,t),e.summary&&(this.summaryRow=!0),this.colHash=this.hashCode(this.version+JSON.stringify(this.fields))},autoRegisterAllColumns(e){const t=e.slice(0,25).reduce((i,s)=>Object.keys(s).map((r,n)=>!i||s[r].length>i[n]?s[r].length:i[n]),0).map(i=>Math.min(Math.max(i*8.2,55),250));Object.keys(e[0]).forEach((i,s)=>{i!=="$id"&&this.registerColumn({name:i,label:i,type:t[s]?"string":"number",width:(t[s]?t[s]:75)+"px",validate:null,change:null,link:null,keyField:!1,sticky:!1,tabStop:!0,allowKeys:null,mandatory:!1,lengthLimit:0,autocomplete:this.autocomplete,initStyle:{textAlign:t[s]?"left":"right"},invisible:!1,readonly:this.readonly,pos:0,options:null,summary:null,sort:null,toValue:r=>r,toText:r=>r,register:null})})},refresh(){this.prevSelect=-1,this.fields.length===0&&this.modelValue.length&&Object.keys(this.modelValue[0])&&this.autoRegisterAllColumns(this.modelValue),this.calTable(),this.calStickyLeft(),this.refreshPageSize()},calTable(){this.textTip="";let e=String(new Date().getTime()%1e8);if(this.modelValue.forEach((t,i)=>{t.$id||(t.$id=e+"-"+("000000"+i).slice(-7))}),this.showFilteredOnly===!1)this.table=this.modelValue;else{const t=Object.keys(this.columnFilter),i={};t.forEach(s=>{switch(!0){case this.columnFilter[s].startsWith("<="):i[s]={type:1,modelValue:this.columnFilter[s].slice(2).trim().toUpperCase()},this.fields[s].type==="number"&&(i[s].modelValue=Number(i[s].modelValue));break;case this.columnFilter[s].startsWith("<>"):i[s]={type:9,modelValue:this.columnFilter[s].slice(2).trim().toUpperCase()};break;case this.columnFilter[s].startsWith("<"):i[s]={type:2,modelValue:this.columnFilter[s].slice(1).trim().toUpperCase()},this.fields[s].type==="number"&&(i[s].modelValue=Number(i[s].modelValue));break;case this.columnFilter[s].startsWith(">="):i[s]={type:3,modelValue:this.columnFilter[s].slice(2).trim().toUpperCase()},this.fields[s].type==="number"&&(i[s].modelValue=Number(i[s].modelValue));break;case this.columnFilter[s].startsWith(">"):i[s]={type:4,modelValue:this.columnFilter[s].slice(1).trim().toUpperCase()},this.fields[s].type==="number"&&(i[s].modelValue=Number(i[s].modelValue));break;case this.columnFilter[s].startsWith("="):i[s]={type:0,modelValue:this.columnFilter[s].slice(1).trim().toUpperCase()};break;case(this.columnFilter[s].startsWith("*")&&this.columnFilter[s].endsWith("*")):i[s]={type:5,modelValue:this.columnFilter[s].slice(1).slice(0,-1).trim().toUpperCase()};break;case(this.columnFilter[s].startsWith("*")&&!this.columnFilter[s].slice(1).includes("*")):i[s]={type:6,modelValue:this.columnFilter[s].slice(1).trim().toUpperCase()};break;case this.columnFilter[s].startsWith("~"):i[s]={type:8,modelValue:this.columnFilter[s].slice(1).trim()};break;case(this.columnFilter[s].endsWith("*")&&!this.columnFilter[s].slice(0,-1).includes("*")):i[s]={type:7,modelValue:this.columnFilter[s].slice(0,-1).trim().toUpperCase()};break;case(this.columnFilter[s].includes("*")||this.columnFilter[s].includes("?")):i[s]={type:8,modelValue:"^"+this.columnFilter[s].replace(/\*/g,".*").replace(/\?/g,".").trim()+"$"};break;default:i[s]={type:5,modelValue:this.columnFilter[s].trim().toUpperCase()};break}}),this.filteredValue=this.modelValue.filter(s=>this.recordFilter(s)),this.filteredValue=this.filteredValue.filter((s,r)=>this.filterGrouping(s,r,this.modelValue)),t.length===0?this.table=this.filteredValue:this.table=this.filteredValue.filter(s=>{if(s.$id>this.lastFilterTime)return!0;const r={};t.forEach(n=>{const o=s[this.fields[n].name];this.fields[n].type==="number"&&i[n].type<=4?r[n]=o:r[n]=typeof o>"u"||o===null?"":String(o).toUpperCase()});for(let n=0;n<t.length;n++){const o=t[n];switch(i[o].type){case 0:if(`${r[o]}`!=`${i[o].modelValue}`)return!1;break;case 1:if(i[o].modelValue<r[o])return!1;break;case 2:if(i[o].modelValue<=r[o])return!1;break;case 3:if(i[o].modelValue>r[o])return!1;break;case 4:if(i[o].modelValue>=r[o])return!1;break;case 5:if(!r[o].includes(i[o].modelValue))return!1;break;case 6:if(!r[o].endsWith(i[o].modelValue))return!1;break;case 7:if(!r[o].startsWith(i[o].modelValue))return!1;break;case 8:if(!new RegExp(i[o].modelValue,"i").test(r[o]))return!1;break;case 9:if(`${r[o]}`==`${i[o].modelValue}`)return!1;break}}return!0})}this.reviseSelectedAfterTableChange(),this.showSelectedOnly&&(this.table=this.table.filter((t,i)=>this.selected[i]),this.reviseSelectedAfterTableChange()),this.calSummary()},filterGrouping(e,t,i){if(t===0)return!0;const s=i[t-1];let r=!0;return this.fields.forEach(n=>{const o=n.name;n.grouping&&e[o]===s[o]&&(n.grouping==="collapse"&&this.ungroup[n.name+e[o]]!==!0||n.grouping==="expand"&&this.ungroup[n.name+e[o]])&&(r=!1)}),r},calStickyLeft(){var s;let e=0,t=0;this.leftMost=-1,Array.from(this.labelTr.children).forEach(r=>{e+=r.offsetWidth;const n=this.fields[t++];n&&(n.sticky?(n.left=e+"px",this.leftMost=-1):this.leftMost===-1&&(this.leftMost=e))});const i=Di();(s=i==null?void 0:i.proxy)==null||s.$forceUpdate()},renderColumnCellStyle(e,t){let i=e.initStyle;return typeof i=="function"&&(i=i(t,e)),e.readonly&&(i=Object.assign(i,this.readonlyStyle)),e.left&&(i.left=e.left),t&&e.color&&(i.color=typeof e.color=="function"?e.color(t):e.color),i},localeDate(e){typeof e>"u"&&(e=new Date);const t=i=>i<10?"0"+i:i;return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())},calSummary(e){this.fields.forEach(t=>{if(!t.summary)return;const i=t.name;if(e&&e!==i)return;let s="";const r=new Date().getTime(),n=this.localeDate(),o=n.slice(0,19),a=n.slice(0,10);switch(t.summary){case"sum":s=this.table.reduce((l,c)=>l+Number(c[i]?c[i]:0),0),s=+(Math.round(s+"e+5")+"e-5");break;case"avg":s=this.table.reduce((l,c)=>l+Number(c[i]?c[i]:0),0)/this.table.length,s=+(Math.round(s+"e+5")+"e-5");break;case"max":s=this.table.reduce((l,c)=>l>c[i]?l:c[i],Number.MIN_VALUE);break;case"min":s=this.table.reduce((l,c)=>l<c[i]?l:c[i],Number.MAX_VALUE);break;case"count":switch(t.type){case"checkYN":s=this.table.reduce((l,c)=>l+(c[i]==="Y"?1:0),0);break;case"check10":s=this.table.reduce((l,c)=>l+(c[i]==="1"?1:0),0);break;case"checkTF":s=this.table.reduce((l,c)=>l+(c[i]==="T"?1:0),0);break;case"date":s=this.table.reduce((l,c)=>l+(c[i]>=a?1:0),0),this.summary[i]=s;return;case"datetime":s=this.table.reduce((l,c)=>l+(c[i]>=o?1:0),0),this.summary[i]=s;return;case"datetimesec":s=this.table.reduce((l,c)=>l+(c[i]>=n?1:0),0),this.summary[i]=s;return;case"datetick":case"datetimetick":case"datetimesectick":s=this.table.reduce((l,c)=>l+(c[i]>=r?1:0),0),this.summary[i]=s;return;default:s=this.table.reduce((l,c)=>l+(c[i]?1:0),0);break}break}t.type==="number"&&isNaN(s)||(this.summary[i]=t.toText(s))})},getKeys(e){e||(e=this.currentRecord);const t=this.fields.filter(i=>i.keyField).map(i=>e[i.name]);return t.length&&t.join()!==""?t:[e.$id]},getFieldByName(e){return this.fields.find(t=>t.name===e)},getFieldByLabel(e){return this.fields.find(t=>t.label===e)},setFilter(e,t){const i=this.$refs[`filter-${e}`][0];i.$el.textContent=t,i.$emit("update:modelValue",t)},clearFilter(e){e?this.setFilter(e,""):this.columnFilter={}},columnSuppress(){if(this.table.length===0)return;const e={};this.table.forEach(i=>{Object.keys(i).forEach(s=>{i[s]&&(e[s]=1)})});const t=Object.keys(e);this.fields.forEach(i=>{t.includes(i.name)||(i.invisible=!0)})},columnAutoWidth(e){if(this.table.length===0)return;let t=this.fields;e&&(t=[this.fields.find(s=>s.name===e)]);const i={};this.table.forEach(s=>{t.forEach(r=>{s[r.name]&&(!i[r.name]||i[r.name]<s[r.name].length)&&(i[r.name]=s[r.name].length)})}),t.forEach(s=>{let r=i[s.name]*12;r>450&&(r=450),s.width=r+"px"})},columnFillWidth(){if(this.table.length===0||!this.editor)return;const e=this.fields.filter(i=>i.autoFillWidth),t=e.length;t&&this.lazy(()=>{let i=this.editor.getBoundingClientRect().width,s=this.fields.filter(n=>!n.invisible).reduce((n,o)=>n+parseFloat(o.width),0);s+=this.numColWidth,this.vScroller.buttonHeight<this.vScroller.height&&(i-=13);const r=s-i+2;Math.abs(r)>1&&e.forEach(n=>{const o=parseFloat(n.width)-r/t;n.width=(o>parseFloat(n.origWidth)?o:parseFloat(n.origWidth))+"px"})})},showDatePickerDiv(){if(!this.$refs.dpContainer)return;const e=this.currentCell.getBoundingClientRect();this.$refs.dpContainer.style.left=e.left+"px",this.$refs.dpContainer.style.top=e.bottom+"px",this.inputDateTime=new Date(this.currentCell.textContent),this.showDatePicker=!0,this.lazy(()=>{if(!this.$refs.dpContainer)return;const t=this.$refs.dpContainer.getBoundingClientRect();t.bottom>window.innerHeight&&(this.$refs.dpContainer.style.top=e.top-t.height+"px"),t.right>window.innerWidth&&(this.$refs.dpContainer.style.left=window.innerWidth-t.width+"px")})},datepickerClick(){const e=new Date().getTimezoneOffset()*60*1e3;switch(this.currentField.type){case"date":this.inputBox.value=new Date(new Date(this.inputDateTime)-e).toISOString().slice(0,10);break;case"datetime":this.inputBox.value=new Date(new Date(this.inputDateTime)-e).toISOString().replace("T"," ").slice(0,16)+":00";break;case"datetimesec":this.inputBox.value=new Date(new Date(this.inputDateTime)-e).toISOString().replace("T"," ").slice(0,19);break;case"datetick":case"datetimetick":case"datetimesectick":this.inputBox.value=new Date(new Date(this.inputDateTime)-e).getTime();break}this.inputBoxShow=0,this.inputCellWrite(this.inputBox.value),this.showDatePicker=!1,this.focused=!0},calVScroll(){var n;let e=this.labelTr.getBoundingClientRect().height;this.filterRow&&(e+=29),this.vScroller.top=e-1,this.noFooter||(e+=25),this.summaryRow&&(e+=27);const t=this.$el.getBoundingClientRect().height;this.vScroller.height=t-e;const i=this.vScroller.height/(this.table.length*24);this.vScroller.buttonHeight=Math.max(24,this.vScroller.height*i);const s=(this.tableContent.scrollTop+this.pageTop*24)/(this.table.length*24-this.vScroller.height);this.vScroller.buttonTop=(this.vScroller.height-this.vScroller.buttonHeight)*s;const r=Di();(n=r==null?void 0:r.proxy)==null||n.$forceUpdate()},vsMouseDown(e){e.stopPropagation();const t=e.offsetY-this.vScroller.buttonHeight/2;let i=Math.max(0,t);i=Math.min(i,this.vScroller.height-this.vScroller.buttonHeight),i=i/(this.vScroller.height-this.vScroller.buttonHeight),this.noPaging?this.tableContent.scrollTo(this.tableContent.scrollLeft,this.table.length*24*i):(this.vScroller.buttonTop=i*(this.vScroller.height-this.vScroller.buttonHeight),this.$refs.vScrollButton.style.marginTop=this.vScroller.buttonTop+"px",this.pageTop=Math.round((this.table.length-this.pageSize)*i))},vsbMouseDown(e){e.stopPropagation(),this.vScroller.mouseY||(this.vScroller.saveButtonTop=this.vScroller.buttonTop,this.vScroller.mouseY=e.clientY,window.addEventListener("mousemove",this.vsbMouseMove),window.addEventListener("mouseup",this.vsbMouseUp),this.$refs.vScrollButton.classList.add("focus"))},vsbMouseUp(){var t;if(window.removeEventListener("mousemove",this.vsbMouseMove),window.removeEventListener("mouseup",this.vsbMouseUp),this.lazy(()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")}),this.vScroller.mouseY=0,!this.noPaging){const i=this.vScroller.buttonTop/(this.vScroller.height-this.vScroller.buttonHeight);this.pageTop=Math.round((this.table.length-this.pageSize)*i)}this.vScroller.runner="";const e=Di();(t=e==null?void 0:e.proxy)==null||t.$forceUpdate()},vsbMouseMove(e){var t;if(e.buttons===0)this.vsbMouseUp();else{const i=e.clientY-this.vScroller.mouseY;if(this.noPaging){const s=(this.vScroller.saveButtonTop+i)/(this.vScroller.height-this.vScroller.buttonHeight);this.tableContent.scrollTo(this.tableContent.scrollLeft,this.table.length*24*s)}else{this.vScroller.buttonTop=Math.max(0,Math.min(this.vScroller.height-this.vScroller.buttonHeight,this.vScroller.saveButtonTop+i)),this.$refs.vScrollButton.style.marginTop=this.vScroller.buttonTop+"px";const s=this.vScroller.buttonTop/(this.vScroller.height-this.vScroller.buttonHeight),r=Math.round((this.table.length-this.pageSize)*s)+1,n=this.table[r];this.vScroller.runner=r+"<br>"+this.fields.filter((a,l)=>a.keyField||a.sticky||this.sortPos===l).map(a=>a.label+": "+n[a.name]).join("<br>");const o=Di();(t=o==null?void 0:o.proxy)==null||t.$forceUpdate()}}},ftMouseDown(e){const t=this.footer.getBoundingClientRect(),i=(e.x-t.left-this.numColWidth)/(t.width-this.numColWidth),s=this.systable.getBoundingClientRect().width,r=this.tableContent.getBoundingClientRect().width;this.tableContent.scrollTo(s*i-r/2,this.tableContent.scrollTop)},sbMouseDown(e){if(e.stopPropagation(),!this.hScroller.mouseX){const t=this.$refs.hScroll.getBoundingClientRect().left,i=this.footer.getBoundingClientRect().left+this.numColWidth;this.hScroller.left=t-i,this.hScroller.mouseX=e.clientX,window.addEventListener("mousemove",this.sbMouseMove),window.addEventListener("mouseup",this.sbMouseUp),this.$refs.hScroll.classList.add("focus")}},sbMouseUp(){var t;window.removeEventListener("mousemove",this.sbMouseMove),window.removeEventListener("mouseup",this.sbMouseUp),this.lazy(()=>{this.$refs.hScroll&&this.$refs.hScroll.classList.remove("focus")}),this.hScroller.mouseX=0;const e=Di();(t=e==null?void 0:e.proxy)==null||t.$forceUpdate()},sbMouseMove(e){if(e.buttons===0)this.sbMouseUp();else{const t=e.clientX-this.hScroller.mouseX,i=(this.hScroller.left+t)/this.hScroller.scrollerUnseenWidth;this.tableContent.scrollTo(this.hScroller.tableUnseenWidth*i,this.tableContent.scrollTop)}},tableScroll(){if(this.showDatePicker=!1,this.autocompleteInputs=[],this.focused&&this.currentField&&(this.inputSquare.style.marginLeft=(this.currentField.sticky?this.tableContent.scrollLeft-this.squareSavedLeft:0)+"px"),this.tableContent.scrollTop!==this.vScroller.lastTop&&(this.calVScroll(),this.$refs.vScrollButton&&(this.$refs.vScrollButton.classList.add("focus"),this.lazy(()=>this.$refs.vScrollButton.classList.remove("focus"),1e3))),this.vScroller.lastTop=this.tableContent.scrollTop,this.tableContent.scrollLeft!==this.hScroller.lastLeft&&this.$refs.hScroll&&this.hScroller.tableUnseenWidth){this.$refs.hScroll.classList.add("focus"),this.lazy(()=>this.$refs.hScroll.classList.remove("focus"),1e3);const e=this.tableContent.scrollLeft/this.hScroller.tableUnseenWidth;this.$refs.hScroll.style.left=this.hScroller.scrollerUnseenWidth*e+"px"}this.hScroller.lastLeft=this.tableContent.scrollLeft},winScroll(){this.showDatePicker=!1,this.autocompleteInputs=[]},mousewheel(e){if(this.noMouseScroll||!this.mousein||!e.deltaY)return;let t=0;return e.deltaY>1*this.wheelSensitivity&&this.pageTop+this.pageSize<this.table.length?t=1:e.deltaY<-1*this.wheelSensitivity&&this.pageTop>0&&(t=-1),t&&(this.pageTop+=t,setTimeout(this.calVScroll),this.$refs.vScrollButton&&(this.$refs.vScrollButton.classList.add("focus"),this.lazy(()=>this.$refs.vScrollButton.classList.remove("focus"),1e3))),e.preventDefault(),e.stopPropagation(),!1},winResize(){this.lazy(this.refreshPageSize,500)},winPaste(e){if(e.target.tagName!=="TEXTAREA"||!this.mousein&&!this.focused||!this.currentField||this.currentField.readonly)return;if(this.inputBoxShow){this.inputBoxChanged=!0;return}let t=(e.originalEvent||e).clipboardData.getData("text/plain");t=t.replace(/^\s+|\s+$/g,""),this.inputCellWrite(t),e.preventDefault()},winKeyup(e){e.altKey||this.systable.classList.remove("alt"),this.inputBoxShow&&this.currentField.type==="password"&&setTimeout(()=>{const t=this.inputBox.value.split("").map((i,s)=>i===this.currentField.masking?this.inputBox._value[s]:i);this.inputBox._value=t.join(""),this.inputBox.value=this.currentField.masking.repeat(t.length)})},winKeydown(e){if(e.altKey&&this.systable.classList.add("alt"),!(!this.mousein&&!this.focused))if(e.ctrlKey||e.metaKey)switch(e.keyCode){case 90:this.undoTransaction(),e.preventDefault();break;case 65:this.toggleSelectAllRecords(),e.preventDefault();break;case 67:this.inputBox.value=this.currentCell.textContent,this.inputBox.focus(),this.inputBox.select(),document.execCommand("copy"),e.preventDefault();break;case 70:this.noFinding||(this.$refs.panelFind.showPanel(),e.preventDefault());break;case 71:!this.noFindingNext&&this.inputFind!==""&&(this.doFindNext(),e.preventDefault());break;case 76:e.preventDefault(),this.calAutocompleteList(!0);break}else{if(this.currentRowPos<0)return;switch(e.keyCode){case 37:if(!this.focused)return;this.inputBoxShow?this.inputBox.selectionStart===0&&(this.moveWest(e),e.preventDefault()):(this.moveWest(e),e.preventDefault());break;case 38:if(!this.focused)return;if(e.preventDefault(),this.autocompleteInputs.length===0)this.moveNorth();else if(this.autocompleteSelect>0){this.autocompleteSelect--;const t=this.autocompleteSelect*23;t<this.$refs.autocomplete.scrollTop&&(this.$refs.autocomplete.scrollTop=t)}else this.autocompleteSelect===-1&&(this.autocompleteSelect=0);break;case 9:if(!this.focused)return;if(e.shiftKey){if(!this.moveWest(e))if(this.moveNorth(e))this.moveToEast(e);else return this.inputBoxBlur()}else if(!this.moveEast(e))if(this.moveSouth(e))this.moveToWest(e);else return this.inputBoxBlur();e.preventDefault();break;case 39:if(!this.focused)return;this.inputBoxShow?this.inputBox.selectionEnd===this.inputBox.value.length&&(this.moveEast(e),e.preventDefault()):(this.moveEast(e),e.preventDefault());break;case 40:if(!this.focused)return;if(e.preventDefault(),this.autocompleteInputs.length===0)this.moveSouth(e);else if(this.autocompleteSelect<this.autocompleteInputs.length-1&&(this.autocompleteSelect++,this.autocompleteSelect>=10)){const t=this.autocompleteSelect*23-206;this.$refs.autocomplete.scrollTop<t&&(this.$refs.autocomplete.scrollTop=t)}break;case 13:if(!this.focused)return;e.preventDefault(),this.autocompleteInputs.length===0||this.autocompleteSelect===-1?this.enterToSouth?this.moveSouth(e):this.moveEast(e):this.autocompleteSelect!==-1&&this.autocompleteSelect<this.autocompleteInputs.length?this.inputAutocompleteText(this.autocompleteInputs[this.autocompleteSelect]):(this.inputBox.value=this.currentCell.textContent,this.inputBoxShow=0,this.inputBoxChanged=!1),this.inputBoxComplete();break;case 27:if(!this.focused)return;this.showDatePicker=!1,this.autocompleteInputs=[],this.autocompleteSelect=-1,this.inputBoxShow&&(e.preventDefault(),this.inputBox.value=this.currentCell.textContent,this.inputBoxShow=0,this.inputBoxChanged=!1);break;case 33:this.prevPage(),e.preventDefault();break;case 34:this.nextPage(),e.preventDefault();break;case 8:case 46:if(!this.focused)return;if(this.inputBoxShow){this.inputBoxChanged=!0,setTimeout(()=>this.calAutocompleteList(!0));return}if(this.currentField.readonly||this.autocompleteInputs.length)return;this.inputBoxChanged=!0,this.inputBox.value="",this.inputBoxComplete();break;default:if(!this.focused||this.currentField.readonly||e.altKey||e.key!=="Process"&&e.key.length>1)return;if(!this.inputBoxShow&&this.currentField.type==="date"){this.showDatePickerDiv();return}if(this.currentField.allowKeys){if(this.currentField.allowKeys.constructor.name==="Function"){if(!this.currentField.allowKeys(e.key.toUpperCase()))return e.preventDefault()}else if(this.currentField.allowKeys.indexOf(e.key.toUpperCase())===-1)return e.preventDefault()}if(this.inputBoxShow&&this.currentField.lengthLimit&&this.inputBox.value.length>=this.currentField.lengthLimit)return e.preventDefault();if(this.inputBoxShow)setTimeout(()=>this.calAutocompleteList(this.autocompleteInputs.length));else{if(["select","map","action"].includes(this.currentField.type)){if(setTimeout(()=>this.calAutocompleteList(!0)),e.keyCode===32)return e.preventDefault();this.inputBox.value="",this.inputBoxShow=1,this.inputBox.focus();return}this.inputBox.value="",this.inputBoxShow=1,this.inputBox.focus(),setTimeout(this.calAutocompleteList)}this.inputBoxChanged=!0;break}}},colSepMouseDown(e){if(e.preventDefault(),e.stopPropagation(),this.allowAddCol&&!e.target.classList.contains("col-sep")){e.target.style.display="none";const r=e.target.parentElement.parentElement,n=Array.from(r.parentElement.children).findIndex(o=>o===r);this.insertColumn(n)}this.focused=!1;const t=(r,n)=>{window.getComputedStyle(r,null).getPropertyValue(n)},i=Array.from(this.labelTr.children).indexOf(e.target.parentElement);this.sep={},this.sep.curCol=this.colgroupTr.children[i-(this.noNumCol?1:0)],this.sep.curField=this.fields[i-1],this.sep.pageX=e.pageX;let s=0;if(t(this.sep.curCol,"box-sizing")!=="border-box"){const r=t(this.sep.curCol,"padding-left"),n=t(this.sep.curCol,"padding-right");r&&n&&(s=parseInt(r)+parseInt(n))}this.sep.curColWidth=e.target.parentElement.offsetWidth-s,window.addEventListener("mousemove",this.colSepMouseMove),window.addEventListener("mouseup",this.colSepMouseUp)},colSepMouseOver(e){e.target.classList.contains("col-sep")?(e.target.style.borderRight="5px solid #cccccc",e.target.style.height=this.systable.getBoundingClientRect().height+"px",this.allowAddCol&&(e.target.children[0].style.display="block")):(this.addColBtnTimeout&&clearTimeout(this.addColBtnTimeout),this.allowAddCol&&(e.target.style.display="block"))},colSepMouseOut(e){e.target.classList.contains("col-sep")?(e.target.style.borderRight="5px solid transparent",e.target.style.height="100%",this.addColBtnTimeout=setTimeout(()=>{e.target.children[0].style.display="none"},500)):e.target.style.display="none"},colSepMouseMove(e){if(!this.sep||!this.sep.curCol)return;const t=e.pageX-this.sep.pageX,i=this.sep.curColWidth+t+"px";this.sep.curCol.style.width=i,this.sep.curField.width=i,this.lazy(this.calStickyLeft,200)},colSepMouseUp(e){e.preventDefault(),e.stopPropagation(),delete this.sep,window.removeEventListener("mousemove",this.colSepMouseMove),window.removeEventListener("mouseup",this.colSepMouseUp);const t=this.getSetting();this.remember&&(localStorage[window.location.pathname+window.location.hash+"."+this.token]=JSON.stringify(t)),this.$emit("setting",t)},doFindNext(){return this.doFind()},doFind(e){typeof e>"u"?e=this.inputFind:this.inputFind=e,e=e.toUpperCase();const t=Math.max(0,this.currentRowPos);for(let i=t+this.pageTop;i<this.table.length;i++){const s=this.table[i];for(let r=i===t+this.pageTop?this.currentColPos+1:0;r<this.fields.length;r++){const n=this.fields[r].name;if(typeof s[n]<"u"&&String(s[n]).toUpperCase().indexOf(e)>=0)return this.pageTop=this.findPageTop(i),setTimeout(()=>{this.moveInputSquare(i-this.pageTop,r),setTimeout(()=>this.inputBox.focus()),this.focused=!0}),!0}}for(let i=0;i<=t+this.pageTop;i++){const s=this.table[i];for(let r=0;r<(i===t+this.pageTop?this.currentColPos:this.fields.length);r++){const n=this.fields[r].name;if(typeof s[n]<"u"&&String(s[n]).toUpperCase().indexOf(e)>=0)return this.pageTop=this.findPageTop(i),this.moveInputSquare(i-this.pageTop,r),setTimeout(()=>{this.focused=!0}),!0}}return!1},findPageTop(e){for(let t=this.pageTop;t<this.table.length;t+=this.pageSize)if(e>=t&&e<t+this.pageSize)return t;for(let t=this.pageTop;t>0;t-=this.pageSize)if(e>=t&&e<t+this.pageSize)return t;return this.pageTop},headerClick(e,t){if(!this.noHeaderEdit&&e.target.tagName==="SPAN"){e.target.contentEditable=!0,e.target.addEventListener("focusout",this.completeHeaderChange);return}e.which===1&&(e.preventDefault(),this.sortPos===t&&this.sortDir>0?this.sort(-1,t):this.sortDir===0?this.sort(1,t):this.sort(0,t))},completeHeaderChange(e){const t=e.target.parentElement.parentElement,i=Array.from(t.parentElement.children).findIndex(s=>s===t);this.fields[i-1].label=e.target.textContent},sort(e,t){const i=typeof t>"u"?this.columnFilterRef.colPos:t,s=this.fields[i];if(s.noSorting)return;this.processing=!0;const r=s.name;setTimeout(()=>{let n=s.sorting;n||(s.type==="number"?n=(o,a)=>Number(o)>Number(a)?1:Number(o)<Number(a)?-1:0:n=(o,a)=>String(o).localeCompare(String(a))),e===0?(this.modelValue.sort((o,a)=>o.$id>a.$id?1:-1),this.sortPos=0):(this.modelValue.sort((o,a)=>s.sort?s.sort(o,a)*-e:n(o[r],a[r])*-e),this.sortPos=i),this.sortDir=e,this.refresh(),this.processing=!1},0)},refreshPageSize(){if(this.$refs.hScroll){const r=this.systable.getBoundingClientRect().width,n=this.tableContent.getBoundingClientRect().width;this.hScroller.tableUnseenWidth=r-n,this.$refs.hScroll.style.width=100*n/r+"%";const o=this.$refs.hScroll.getBoundingClientRect().width;this.hScroller.scrollerUnseenWidth=this.footer.getBoundingClientRect().width-this.numColWidth-o}let e=this.editor,t=0;if(this.height!=="auto")for(;e&&!e.style.height&&e.style.height!=="auto";){const r=getComputedStyle(e);t+=parseInt(r.marginBottom),t+=parseInt(r.paddingBottom),t+=parseInt(r.borderBottomWidth),e=e.parentElement}if(e){const r=getComputedStyle(e);t+=parseInt(r.paddingBottom),t+=parseInt(r.borderBottomWidth)}const i=(e==null?void 0:e.clientHeight)||window.innerHeight,s=(e==null?void 0:e.getBoundingClientRect().top)||0;if(this.noPaging){if(this.height==="auto"){let r=Math.floor(window.innerHeight-this.tableContent.getBoundingClientRect().top-25),n=4;this.filterRow&&(n+=29),this.summaryRow&&(n+=25),this.footerRow||(n+=25),r=Math.min(24*(this.table.length-this.pageTop)+n,r),this.systable.parentNode.style.height=r+"px"}}else{const r=t+(this.summaryRow?25:0)+(this.noFooter?0:25);let n=i-(this.recordBody.getBoundingClientRect().top-s)-r;if(this.height)if(this.height==="auto"){const o=this.editor.parentElement;o&&o.scrollHeight>o.clientHeight&&(n+=o.clientHeight-o.scrollHeight)}else{const o=parseInt(this.height)+this.systable.getBoundingClientRect().top-this.recordBody.getBoundingClientRect().top;n>o&&(n=o)}this.pageSize=this.page||Math.floor(n/24)}this.columnFillWidth(),setTimeout(this.calVScroll)},firstPage(e){e&&e.stopPropagation(),this.pageTop=0,this.calVScroll(),this.$refs.vScrollButton&&setTimeout(()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy(()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")},1e3)})},lastPage(e){e&&e.stopPropagation(),this.pageTop=this.table.length-this.pageSize<0?0:this.table.length-this.pageSize,this.calVScroll(),this.$refs.vScrollButton&&setTimeout(()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy(()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")},1e3)})},prevPage(e){e&&e.stopPropagation(),this.pageTop=this.pageTop<this.pageSize?0:this.pageTop-this.pageSize,this.calVScroll(),this.$refs.vScrollButton&&setTimeout(()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy(()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")},1e3)})},nextPage(e){e&&e.stopPropagation(),this.pageTop+this.pageSize<this.table.length&&(this.pageTop=Math.min(this.pageTop+this.pageSize,this.table.length-this.pageSize)),this.calVScroll(),this.$refs.vScrollButton&&setTimeout(()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy(()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")},1e3)})},getSetting(){const e=Array.from(this.colgroupTr.children).map(i=>i.style.width),t=this.fields.map((i,s)=>({name:i.name,invisible:i.invisible,width:e[s+1],label:i.label}));return{colHash:this.colHash,fields:t}},settingClick(){this.disablePanelSetting||this.$refs.panelSetting.showPanel()},panelFilterClick(e){this.disablePanelFilter||this.$refs.panelFilter.showPanel(this.$refs[`filter-${e.name}`][0])},importTable(e,t){this.$refs.importFile.click(),this.importCallback=e,this.importErrorCallback=t},doImport(e){this.processing=!0,this.clearAllSelected(),setTimeout(()=>{const t=e.target.files;if(!t||t.length===0)return;const i=t[0],s=new FileReader;s.onload=async r=>{try{const n=r.target.result,o=sL(n,{type:"binary",cellDates:!0,cellStyle:!1}),a=o.SheetNames[0];let l=cC.sheet_to_row_object_array(o.Sheets[a]);l=l.filter(p=>Object.keys(p).length>0).map(p=>(p.key_1&&(p.key=p.key_1,delete p.key_1),Object.keys(p).forEach(y=>{typeof p[y]=="string"&&(p[y]=p[y].replace(/[ \r\n\t]+$/g,""))}),p));const c=String(new Date().getTime()%1e8);if(l.length===0)throw this.importErrorCallback&&this.importErrorCallback("noRecordIsRead"),new Error("VueExcelEditor: "+this.localizedLabel.noRecordIsRead);if(this.fields.filter(p=>p.keyField).filter(p=>typeof l[0][p.name]>"u"&&typeof l[0][p.label]>"u").length>0)throw this.importErrorCallback&&this.importErrorCallback("missingKeyColumn"),new Error(`VueExcelEditor: ${this.localizedLabel.missingKeyColumn}`);let u=0,h=0,f=0;for(;u<2;){const p=this.fields.filter(v=>v.keyField);let y=[];await Promise.all(l.map(async(v,C)=>{let S=-1;if(p.length&&(S=this.table.findIndex(x=>p.filter(A=>typeof x[A.name]<"u"&&(x[A.name]===v[A.name]||x[A.name]===v[A.label])).length===p.length),S===-1)){const x=p.map(A=>v[A.name]||v[A.label]).join(":");if(x){if(y.includes(x))return;y.push(x)}}S===-1&&(S=this.table.findIndex(x=>Object.keys(x).filter(A=>!A.startsWith("$")).length===0));const _={$id:typeof v.$id>"u"?c+"-"+("000000"+C).slice(-7):v.$id};await Promise.all(this.fields.map(async x=>{if(x.name.startsWith("$"))return;let A=v[x.name];if(typeof A>"u"&&(A=v[x.label]),typeof A>"u")A=null;else{if(x.readonly)throw this.importErrorCallback&&this.importErrorCallback("readonlyColumnDetected",C+1),new Error(`VueExcelEditor: [row=${C+1}] `+this.localizedLabel.readonlyColumnDetected+": "+x.name);if(x.change&&await x.change(A,_[x.name],_,x)===!1)throw this.importErrorCallback&&this.importErrorCallback("columnHasValidationError",C+1),new Error(`VueExcelEditor: [row=${C+1}, val=${A}] `+this.localizedLabel.columnHasValidationError(x.name,""));if(x.validate){let R;if(R=x.validate(A,_[x.name],_,x))throw this.importErrorCallback&&this.importErrorCallback("columnHasValidationError",C+1,A),new Error(`VueExcelEditor: [row=${C+1}, val=${A}] `+this.localizedLabel.columnHasValidationError(x.name,R))}if(this.validate){let R;if(R=this.validate(A,_[x.name],_,x))throw this.importErrorCallback&&this.importErrorCallback("rowHasValidationError",C+1,A),new Error(`VueExcelEditor: [row=${C+1}, val=${A}] `+this.localizedLabel.rowHasValidationError(C+1,x.name,R))}}if(A!==null)_[x.name]=A;else if(x.mandatory)throw this.importErrorCallback&&this.importErrorCallback(x.mandatory,C+1,A),new Error(`VueExcelEdutor: [row=${C+1}, val=${A}] `+x.mandatory)})),u===1&&(S>=0?(f++,Object.keys(_).forEach(x=>{x.startsWith("$")||this.updateCell(S,x,_[x])}),this.selected[S]=this.table[S].$id):(this.newRecord(_,!0),h++))})),u++}u===2&&this.importCallback&&this.importCallback({inserted:h,updated:f,recordAffected:h+f})}catch(n){throw this.importErrorCallback&&this.importErrorCallback(n.message),new Error("VueExcelEditor: "+n.stack)}finally{this.processing=!1,this.$refs.importFile.modelValue=""}},s.onerror=r=>{throw this.processing=!1,this.$refs.importFile.modelValue="",this.importErrorCallback&&this.importErrorCallback(r.message),new Error("VueExcelEditor: "+r.stack)},s.readAsBinaryString(i)},500)},exportTable(e,t,i){this.processing=!0,setTimeout(()=>{const s=cC.book_new();let r=null,n=this.table;t&&(n=this.table.filter((l,c)=>this.selected[c]));const o=n.map(l=>{const c={};return this.fields.forEach(u=>c[u.name]=l[u.name]),c});r=cC.json_to_sheet(o,{header:this.fields.map(l=>l.name)});const a=Array.from(this.labelTr.children).slice(1).map(l=>l.children[0].innerText);switch(cC.sheet_add_aoa(r,[a],{origin:0}),r["!cols"]=Array.from(this.labelTr.children).slice(1).map(l=>({width:l.getBoundingClientRect().width/6.5})),cC.book_append_sheet(s,r,"Sheet1"),i=i||"export",e){case"csv":i.endsWith(".csv")||(i=i+".csv");break;case"xls":i.endsWith(".xls")||(i=i+".xls");break;case"xlsx":case"excel":default:i.endsWith(".xlsx")||(i=i+".xlsx");break}i.endsWith(".xlsx")?J6(s,i,{compression:"DEFLATE",compressionOptions:{level:6}}):J6(s,i),this.processing=!1},500)},getSelectedRecords(){return this.table.filter((e,t)=>this.selected[t])},rowLabelClick(e){let t=e.target;for(;t.tagName!=="TD";)t=t.parentNode;const i=Number(t.getAttribute("pos"))+this.pageTop;if(e.shiftKey){if(document.getSelection().removeAllRanges(),this.prevSelect!==-1&&this.prevSelect!==i)if(e.preventDefault(),i>this.prevSelect)for(let s=this.prevSelect;s<=i;s++)this.selectRecord(s);else for(let s=i;s<=this.prevSelect;s++)this.selectRecord(s)}else{const s=this.selected[i];!this.freeSelect&&!(e.ctrlKey||e.metaKey)&&this.clearAllSelected(),s?this.unSelectRecord(i):this.selectRecord(i)}this.prevSelect=i},selectAllClick(){this.toggleSelectAllRecords()},reviseSelectedAfterTableChange(){this.rowIndex={},this.table.forEach((t,i)=>this.rowIndex[t.$id]=i);const e=Object.assign(this.selected);this.selected={},Object.keys(e).forEach(t=>{const i=e[t];typeof this.rowIndex[i]<"u"&&(this.selected[this.rowIndex[i]]=i)}),this.selectedCount=Object.keys(this.selected).length},toggleSelectRecord(e){typeof this.selected[e]<"u"?this.unSelectRecord(e):this.selectRecord(e)},selectRecord(e){typeof this.selected[e]>"u"&&(this.selectedCount++,this.selected[e]=this.table[e].$id,this.recordBody.children[e-this.pageTop]&&this.recordBody.children[e-this.pageTop].classList.add("select"),this.lazy(e,t=>{this.$emit("select",t,!0)}))},selectRecordByKeys(e){const t=this.table.findIndex(i=>this.fields.filter(s=>s.keyField).filter(s=>i[s.name]===e[s.name]).length===e.length);t>=0&&this.selectRecord(t)},selectRecordById(e){const t=this.table.findIndex(i=>i.$id===e);t>=0&&this.selectRecord(t)},unSelectRecord(e){typeof this.selected[e]<"u"&&(delete this.selected[e],this.selectedCount--,this.recordBody.children[e-this.pageTop]&&this.recordBody.children[e-this.pageTop].classList.remove("select"),this.lazy(e,t=>{this.$emit("select",t,!1)}))},toggleSelectAllRecords(e){if(e&&e.preventDefault(),this.selectedCount>0)this.clearAllSelected();else{for(let t=0;t<this.table.length;t++)this.selectRecord(t);this.selectedCount=this.table.length}},clearAllSelected(){this.selectedCount>0&&this.$emit("select",Object.keys(this.selected).map(e=>Number(e)),!1),this.selected={},this.selectedCount=0},moveTo(e,t){t=t||0;const i=this.moveInputSquare(e-this.pageTop,t);return this.focused=!0,setTimeout(()=>this.inputBox.focus()),i},moveToNorthWest(){let e=0;for(;this.fields[e].invisible&&e<this.fields.length-1;)e++;return this.moveTo(0,e)},moveToNorthEast(){let e=this.fields.length-1;for(;this.fields[e].invisible&&e>0;)e--;return this.moveTo(0,e)},moveToSouthWest(){let e=this.table.length-1,t=0;for(;this.fields[t].invisible&&t<this.fields.length-1;)t++;return this.moveTo(e,t)},moveToSouthEast(){let e=this.table.length-1,t=this.fields.length-1;for(;this.fields[t].invisible&&t>0;)t--;return this.moveTo(e,t)},moveToWest(){let e=this.currentRowPos,t=0;for(;this.fields[t].invisible&&t<this.fields.length-1;)t++;return this.moveTo(e,t)},moveToEast(){let e=this.currentRowPos,t=this.fields.length-1;for(;this.fields[t].invisible&&t>0;)t--;return this.moveTo(e,t)},moveWest(){if(this.focused&&this.currentColPos>0){let e=this.currentColPos-1;for(;this.fields[e].invisible&&e>0;)e--;return e===-1||this.fields[e].invisible?!1:this.moveInputSquare(this.currentRowPos,e)}return!1},moveEast(){if(this.focused&&this.currentColPos<this.fields.length-1){let e=this.currentColPos+1;for(;this.fields[e].invisible&&e<this.fields.length-1;)e++;return e===this.fields.length||this.fields[e].invisible?!1:this.moveInputSquare(this.currentRowPos,e)}return!1},moveNorth(){if(this.focused){const e=this.moveInputSquare(this.currentRowPos-1,this.currentColPos);return this.calVScroll(),this.$refs.vScrollButton&&setTimeout(()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy(()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")},1e3)}),e}return!1},moveSouth(){if(this.focused){if(this.currentRowPos+1>=this.pageBottom-this.pageTop&&this.pageBottom>=this.table.length)return this.readonly||!this.newIfBottom?!1:(this.newRecord({},!1,!0),setTimeout(this.moveSouth,0),!0);const e=this.moveInputSquare(this.currentRowPos+1,this.currentColPos);return this.calVScroll(),this.$refs.vScrollButton&&setTimeout(()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy(()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")},1e3)}),e}return!1},mouseDown(e){if(e.target.parentNode.parentNode.tagName==="TBODY"&&!e.target.classList.contains("first-col")){e.preventDefault();const t=e.target.parentNode,i=Array.from(t.children).indexOf(e.target)-1,s=Array.from(t.parentNode.children).indexOf(t);if((i!==this.currentColPos||s!==this.currentRowPos)&&this.inputBoxBlur(),this.currentField=this.fields[i],this.currentCell=t.children[i+1],this.currentRecord=this.table[this.pageTop+s],this.$emit("cell-click",{rowPos:s,colPos:i},this.currentCell.textContent,this.currentRecord,this.currentField,this),typeof this.currentField.cellClick=="function"&&this.currentField.cellClick(this.currentCell.textContent,this.currentRecord,s,i,this.currentField,this),this.currentField&&this.currentField.link&&this.currentCell.textContent)return setTimeout(()=>this.currentField.link(this.currentCell.textContent,this.currentRecord,s,i,this.currentField,this));if(this.currentField.grouping){this.ungroup[this.currentField.name+this.currentCell.textContent]=!this.ungroup[this.currentField.name+this.currentCell.textContent],this.refresh();return}if(setTimeout(()=>this.inputBox.focus()),this.focused=!0,this.moveInputSquare(s,i),this.currentField.listByClick)return this.calAutocompleteList(!0);if(e.target.offsetWidth-e.offsetX>25)return;if(e.target.offsetWidth<e.target.scrollWidth){this.textTip=this.currentCell.textContent,this.$refs.texttip.style.opacity=0;const r=e.target.getBoundingClientRect();setTimeout(()=>{const n=this.$refs.texttip.getBoundingClientRect();r.bottom+n.height>window.innerHeight?this.$refs.texttip.style.top=r.top-n.height+"px":this.$refs.texttip.style.top=r.bottom+"px",r.left+n.width>window.innerWidth?this.$refs.texttip.style.left=r.right-n.width+"px":this.$refs.texttip.style.left=r.left+"px",this.$refs.texttip.style.opacity=1})}if(this.currentField.readonly)return;this.inputBox.value=this.currentCell.textContent,e.target.classList.contains("select")&&this.calAutocompleteList(!0),e.target.classList.contains("datepick")&&this.showDatePickerDiv()}},cellMouseMove(e){let t="cell";this.inputBoxShow&&(t="default"),e.target.offsetWidth-e.offsetX<25&&(!e.target.classList.contains("readonly")&&(e.target.classList.contains("select")||e.target.classList.contains("datepick"))&&(t="pointer"),e.target.offsetWidth<e.target.scrollWidth&&(t="pointer"));const i=e.target.parentNode,s=Array.from(i.children).indexOf(e.target)-1,r=this.fields[s];((r==null?void 0:r.type)==="action"||r!=null&&r.grouping)&&(t="pointer"),e.target.style.cursor=t},cellMouseOver(e){const t=e.target;if(!t.classList.contains("error")||(this.tipTimeout&&clearTimeout(this.tipTimeout),(this.tip=this.errmsg[t.getAttribute("id")])===""))return;const i=t.getBoundingClientRect();this.$refs.tooltip.style.top=i.top-14+"px",this.$refs.tooltip.style.left=i.right+8+"px",t.addEventListener("mouseout",this.cellMouseOut)},numcolMouseOver(e){const t=e.target;if(!t.classList.contains("error")||(this.tipTimeout&&clearTimeout(this.tipTimeout),(this.tip=this.rowerr[t.getAttribute("id")])===""))return;const i=t.getBoundingClientRect();this.$refs.tooltip.style.top=i.top-14+"px",this.$refs.tooltip.style.left=i.right+8+"px",t.addEventListener("mouseout",this.cellMouseOut)},cellMouseOut(e){this.tipTimeout=setTimeout(()=>{this.tip=""},1e3),e.target.removeEventListener(e.type,this.cellMouseOut)},mouseOver(){this.mousein=!0,this.systable.classList.add("mouseover")},mouseOut(){this.mousein=!1,this.systable.classList.remove("mouseover")},moveInputSquare(e,t){var a;if(this.textTip="",t<0)return!1;const i=this.pageTop;let s=this.recordBody.children[e];if(!s)if(e>this.currentRowPos){if(this.pageTop+this.pageSize<this.table.length)this.pageTop+=1;else return!1;s=this.recordBody.children[--e]}else{if(this.pageTop-1>=0)this.pageTop-=1;else return!1;s=this.recordBody.children[++e]}if(this.labelTr.children[this.currentColPos+1].classList.remove("focus"),this.currentRowPos>=0&&this.currentRowPos<this.pagingTable.length&&this.recordBody.children[this.currentRowPos].children[0].classList.remove("focus"),(a=this.lastCell)==null||a.classList.remove("focus"),this.inputBoxShow&&(this.inputBoxShow=0),this.inputBoxChanged){const l=this.inputBox._value||this.inputBox.value;this.inputBox._value="",this.inputCellWrite(l,this.currentColPos,i+this.currentRowPos),this.inputBoxChanged=!1}const r=s.children[t+1];if(!r)return!1;this.currentField=this.fields[t];const n=r.getBoundingClientRect(),o=this.systable.getBoundingClientRect();if(this.squareSavedLeft=this.tableContent.scrollLeft,this.inputSquare.style.marginLeft=0,this.inputSquare.style.left=n.left-o.left-1+"px",this.inputSquare.style.top=n.top-o.top-1+"px",this.inputSquare.style.width=n.width+1+"px",this.inputSquare.style.height=n.height+1+"px",this.inputSquare.style.zIndex=this.currentField.sticky?3:1,!this.currentField.sticky){const l=this.$el.getBoundingClientRect();n.right>=l.right-12&&this.tableContent.scrollBy(n.right-l.right+13,0),n.left<=l.left+this.leftMost&&this.tableContent.scrollBy(n.left-l.left-this.leftMost-1,0)}return this.currentRowPos=e,this.currentColPos=t,this.currentCell=r,this.currentRecord=this.table[i+e],this.lastRecord=this.currentRecord,this.$emit("cell-focus",{rowPos:e,colPos:t,cell:r,record:this.currentRecord}),this.currentCell.classList.add("focus"),this.lastCell=this.currentCell,this.showDatePicker&&(this.showDatePicker=!1),this.autocompleteInputs.length&&(this.autocompleteInputs=[],this.autocompleteSelect=-1),this.recalAutoCompleteList&&clearTimeout(this.recalAutoCompleteList),this.currentRowPos>=0&&this.currentRowPos<this.pagingTable.length&&(this.inputBox.value=this.currentCell.textContent,this.inputBox.focus(),this.focused=!0,s.children[0].classList.add("focus"),this.labelTr.children[t+1].classList.add("focus")),!0},inputSquareClick(){!this.currentField.readonly&&!this.inputBoxShow&&this.currentField.type!=="select"&&(this.inputBox.value=this.currentCell.textContent,this.inputBoxShow=1,this.inputBox.focus(),this.inputBoxChanged=!1,this.focused=!0)},inputBoxMouseMove(e){let t="text";!this.currentField.readonly&&(this.currentField.options||this.currentField.type==="date")&&e.target.offsetWidth-e.offsetX<15&&(t="pointer"),e.target.style.cursor=t},inputBoxMouseDown(e){e.target.offsetWidth-e.offsetX>15||this.currentField.readonly||(this.currentField.options&&(e.preventDefault(),this.calAutocompleteList(!0)),this.currentField.type==="date"&&(e.preventDefault(),this.showDatePickerDiv()))},inputCellWrite(e,t,i){let s=this.currentField;typeof t<"u"&&(s=this.fields[t]),typeof i>"u"&&(i=this.pageTop+this.currentRowPos),!this.noMassUpdate&&typeof this.selected[i]<"u"?this.updateSelectedRows(s,e):this.updateCell(i,s,s.toValue(e,this.table[i],s))},inputBoxBlur(){var e;this.$refs.dpContainer&&(this.$refs.dpContainer.querySelector(":hover")||(this.inputBoxComplete(),this.focused=!1,this.$emit("cell-blur",{rowPos:this.currentRowPos,colPos:this.currentColPos,cell:this.lastCell,record:this.lastRecord}),this.currentRowPos!==-1&&this.currentRowPos<this.recordBody.children.length&&(this.recordBody.children[this.currentRowPos].children[0].classList.remove("focus"),this.labelTr.children[this.currentColPos+1].classList.remove("focus")),(e=this.lastCell)==null||e.classList.remove("focus")))},inputBoxComplete(){if(this.inputBoxChanged){const e=this.inputBox._value||this.inputBox.value;this.inputBox._value="",this.inputCellWrite(e),this.inputBoxChanged=!1}this.inputBoxShow=0,this.showDatePicker=!1,this.focused=!1,this.focused=!0},undoTransaction(e){if(e&&e.preventDefault(),this.redo.length===0)return;this.redo.pop().every(i=>{try{if(i.type==="d")this.newRecord(i.rec,!1,!0,!0);else if(i.field&&i.field.keyField&&i.oldKeys.includes(i.newVal)){const s=this.modelValue.findIndex(r=>r.$id===i.$id);s>=0&&this.deleteRecord(s,!0)}else this.updateCell(i.$id,i.field.name,i.oldVal,!0);return!0}catch{return!1}})},newRecord(e,t,i,s){typeof e>"u"&&(e={}),this.fields.map(o=>{typeof e[o.name]>"u"&&(o.keyField?e[o.name]=""+this.tempKey():e[o.name]=null)});const r=e.$id||this.tempKey();e.$id=r,this.modelValue.push(e);const n=this.table.push(e)-1;return t&&(this.selected[n]=r),Object.keys(e).forEach(o=>{const a=this.fields.find(l=>l.name===o);a&&this.updateCell(e,a,e[o],s)}),i||this.lazy(()=>{this.lastPage(),this.moveToSouthWest()}),e},deleteSelectedRecords(){Object.values(this.selected).forEach(e=>{const t=this.modelValue.findIndex(i=>i.$id===e);t>=0&&this.deleteRecord(t)}),this.selected={},this.selectedCount=0},deleteRecord(e,t){this.currentRowPos===e&&this.moveNorth();const i=this.modelValue.splice(e,1)[0];setTimeout(()=>{this.lazy(i,s=>{this.$emit("delete",s),t||this.redo.push(s.map(r=>({type:"d",rec:r}))),this.refresh()})},100)},async updateCell(e,t,i,s){switch(e.constructor.name){case"String":e=this.modelValue.find(o=>o.$id===e);break;case"Number":e=this.table[e];break;case"Object":break;default:throw new Error("Invalid row argument type")}switch(t.constructor.name){case"String":t=this.fields.find(o=>o.name===t);break;case"Number":t=this.fields[t];break;case"Object":break;default:throw new Error("Invalid field argument type")}if(!t)throw new Error("Invalid field argument");if(!e)return;const r=e[t.name],n=this.getKeys(e);t.change&&await t.change(i,r,e,t)===!1||(e[t.name]=i,setTimeout(()=>{const o={$id:e.$id,keys:this.getKeys(e),oldKeys:n,name:t.name,field:t,oldVal:typeof r<"u"?r:"",newVal:i,err:""};t.validate!==null&&(o.err=t.validate(i,r,e,t)),t.mandatory&&i===""&&(o.err+=(o.err?`
`:"")+t.mandatory),this.setFieldError(o.err,e,t),this.validate!==null&&(o.rowerr=this.validate(i,r,e,t),this.setRowError(o.rowerr,e)),t.summary&&this.calSummary(t.name),this.lazy(o,a=>{this.$emit("update",a),s||this.redo.push(a)},50)}))},updateSelectedRows(e,t){this.processing=!0,setTimeout(()=>{Object.keys(this.selected).forEach(i=>{const s=parseInt(i);this.updateCell(s,e,e.toValue(t,this.table[s],e))}),this.processing=!1},0)},setFieldError(e,t,i){const s=`id-${t.$id}-${i.name}`,r=this.systable.querySelector("td#"+s);e?(this.errmsg[s]=e,this.$emit("validate-error",e,t,i),r&&r.classList.add("error")):this.errmsg[s]&&(delete this.errmsg[s],this.$emit("validate-error","",t,i),r&&r.classList.remove("error"))},setRowError(e,t){const i=`rid-${t.$id}`,s=this.systable.querySelector("td#"+i);e?(this.rowerr[i]=e,this.$emit("validate-error",e,t),s&&s.classList.add("error")):this.rowerr[i]&&(delete this.rowerr[i],this.$emit("validate-error","",t),s&&s.classList.remove("error"))},validateAll(){return this.errmsg={},this.rowerr={},Promise.all(this.table.map(e=>Promise.all(Object.keys(e).map(t=>this.updateCell(e,t,e[t],!1)))))},async calAutocompleteList(e){if(this.currentField.autocomplete&&(e||this.inputBoxChanged&&this.inputBox.value.length>0)){typeof this.recalAutoCompleteList<"u"&&clearTimeout(this.recalAutoCompleteList);const t=async()=>{if(!e&&(!this.focused||!this.inputBoxShow||!this.inputBoxChanged||!this.inputBox.value.length)){this.autocompleteInputs=[];return}const i=this.currentField,s=i.name,r=this.inputBox.value.toUpperCase(),n=this.autocompleteCount;let o=[];if(i.options)i.options.constructor.name.endsWith("Function")?(o=await i.options(r,this.currentRecord),i.type==="map"?o=Object.values(o):o=o.slice(),this.inputBoxShow&&(o=o.filter(l=>l.toUpperCase().includes(r))),o.sort().splice(n)):Object.values(i.options).length>0&&(o=i.options,i.type==="map"?o=Object.values(o):o=o.slice(),this.inputBoxShow&&(o=o.filter(l=>l.toUpperCase().includes(r))),o.sort().splice(n));else{for(let l=0;l<this.modelValue.length;l++){const c=this.modelValue[l];if(typeof c[s]<"u"&&c[s].toString().toUpperCase().startsWith(r)&&o.indexOf(c[s])===-1&&o.push(c[s]),o.length>=n)break}o.sort()}this.autocompleteSelect=o.findIndex(l=>l==null?void 0:l.toString().toUpperCase().startsWith(r)),this.autocompleteInputs=o;const a=this.currentCell.getBoundingClientRect();return this.lazy(()=>{if(!this.$refs.autocomplete)return;this.$refs.autocomplete.style.minWidth=a.width+"px";const l=this.$refs.autocomplete.getBoundingClientRect();a.bottom+l.height>window.innerHeight?(this.autocompleteInputs.reverse(),this.autocompleteSelect=this.autocompleteInputs.length-this.autocompleteSelect-1,this.$refs.autocomplete.style.top=a.top-l.height+"px"):this.$refs.autocomplete.style.top=a.bottom+"px",a.left+l.width>window.innerWidth?this.$refs.autocomplete.style.left=a.right-l.width+"px":this.$refs.autocomplete.style.left=a.left+"px";const c=this.autocompleteSelect*23-206;this.$refs.autocomplete.scrollTop=c>0?c:0}),this.autocompleteSelect};e?t():this.lazy(t,700)}},inputAutocompleteText(e,t){t&&t.preventDefault(),this.autocompleteInputs=[],this.autocompleteSelect=-1,this.inputBoxShow=0,this.inputBoxChanged=!1,setTimeout(()=>{this.inputCellWrite(e)})},tempKey(){return new Date().getTime()%1e8+"-"+Math.random().toString().slice(2,7)},hashCode(e){return e.split("").reduce((t,i)=>t=(t<<5)-t+i.charCodeAt(0)|0,0)},lazy(e,t,i){if(typeof e!="function")return this.lazyBuf(e,t,i);t||(t=20);const s=this.hashCode(e.name+e.toString());this.lazyTimeout[s]&&clearTimeout(this.lazyTimeout[s]),this.lazyTimeout[s]=setTimeout(()=>{e(),delete this.lazyTimeout[s]},t)},lazyBuf(e,t,i){i||(i=20);const s=this.hashCode(t.name+t.toString());this.lazyBuffer[s]?this.lazyBuffer[s].push(e):this.lazyBuffer[s]=[e],this.lazyTimeout[s]&&clearTimeout(this.lazyTimeout[s]),this.lazyTimeout[s]=setTimeout(()=>{this.$nextTick(()=>{t(this.lazyBuffer[s]),delete this.lazyTimeout[s],delete this.lazyBuffer[s]})},i)}}}),K9e={class:"component-content"},Y9e={key:0,style:{width:"40px"}},X9e={key:1,style:{width:"12px"}},q9e={class:"center-text"},Q9e={style:{width:"100%"}},J9e={key:0,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-times-circle fa-w-16 fa-sm"},Z9e={key:1,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"bars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-bars fa-w-14 fa-sm"},eje=["colspan","onMousedown","onContextmenu"],tje=["innerHTML"],ije={key:0},sje={key:0},rje=["id","pos"],nje=["innerHTML"],oje=["id","cell-RC"],aje=["innerHTML"],lje={key:0,class:"last-col"},cje=["colspan"],uje={style:{position:"relative",height:"100%",padding:"2px 2px 1px"}},dje=["spellcheck"],hje={ref:"dpContainer",style:{"z-index":"20",position:"fixed"}},fje={ref:"frontdrop",class:"front-drop"},pje=["innerHTML"],gje={ref:"autocomplete",class:"autocomplete-results"},mje={class:"footer-left"},vje=["innerHTML"],yje=["innerHTML"],Cje=["innerHTML"],bje=["innerHTML"],wje=["innerHTML"],Sje=["innerHTML"],xje={class:"footer-right"},Eje=["innerHTML"],_je=["innerHTML"],Tje={class:Et({disabled:!0})},Aje=["innerHTML"];function kje(e,t,i,s,r,n){const o=xn("vue-excel-filter"),a=xn("date-picker"),l=xn("panel-filter"),c=xn("panel-setting"),u=xn("panel-find");return q(),ve("div",{ref:"editor",class:"vue-excel-editor",style:St({display:"inline-block",width:e.width})},[me("div",K9e,[e.localizedLabel.noRecordIndicator&&e.pagingTable.length==0?(q(),ve("div",{key:0,class:"norecord",style:St({bottom:e.noFooter?"12px":"37px"})},Mt(e.localizedLabel.noRecordIndicator),5)):Le("",!0),me("div",{ref:"tableContent",class:Et(["table-content",{"no-footer":e.noFooter}]),onScroll:t[16]||(t[16]=(...h)=>e.tableScroll&&e.tableScroll(...h)),onMouseover:t[17]||(t[17]=(...h)=>e.mouseOver&&e.mouseOver(...h)),onMouseout:t[18]||(t[18]=(...h)=>e.mouseOut&&e.mouseOut(...h))},[me("table",{ref:"systable",id:"systable",style:{"table-layout":"fixed",width:"0"},class:Et(["systable",{"no-number":e.noNumCol}]),ondragenter:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'",ondragover:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'"},[me("colgroup",null,[e.noNumCol?Le("",!0):(q(),ve("col",Y9e)),(q(!0),ve(kt,null,si(e.fields,(h,f)=>Ss((q(),ve("col",{key:f,style:St({width:h.width})},null,4)),[[or,!h.invisible]])),128)),e.vScroller.buttonHeight<e.vScroller.height?(q(),ve("col",X9e)):Le("",!0)]),me("thead",q9e,[me("tr",null,[me("th",{class:Et(["center-text first-col tl-setting",{hide:e.noNumCol}]),style:{top:"0"},onMousedown:t[0]||(t[0]=Dt((...h)=>e.selectAllClick&&e.selectAllClick(...h),["left"])),onContextmenu:t[1]||(t[1]=Dt((...h)=>e.settingClick&&e.settingClick(...h),["prevent"]))},[me("span",Q9e,[e.selectedCount>0?(q(),ve("svg",J9e,t[33]||(t[33]=[me("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},null,-1)]))):(q(),ve("svg",Z9e,t[34]||(t[34]=[me("path",{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},null,-1)])))])],34),(q(!0),ve(kt,null,si(e.fields,(h,f)=>Ss((q(),ve("th",{key:`th-${f}`,colspan:f===e.fields.length-1&&e.vScroller.buttonHeight<e.vScroller.height?2:1,class:Et({"sort-asc-sign":e.sortPos==f&&e.sortDir==1,"sort-des-sign":e.sortPos==f&&e.sortDir==-1,"sticky-column":h.sticky,"no-sorting":h.noSorting}),style:St({left:h.left}),onMousedown:p=>e.headerClick(p,f),onContextmenu:Dt(p=>e.panelFilterClick(h),["prevent"])},[me("div",{class:Et({"filter-sign":e.columnFilter[f]})},[me("span",{class:Et({"table-col-header":!e.noHeaderEdit}),innerHTML:e.headerLabel(h.label,h)},null,10,tje)],2),me("div",{class:"col-sep",onMousedown:t[2]||(t[2]=(...p)=>e.colSepMouseDown&&e.colSepMouseDown(...p)),onMouseover:t[3]||(t[3]=(...p)=>e.colSepMouseOver&&e.colSepMouseOver(...p)),onMouseout:t[4]||(t[4]=(...p)=>e.colSepMouseOut&&e.colSepMouseOut(...p))},t[35]||(t[35]=[me("div",{class:"add-col-btn"}," + ",-1)]),32)],46,eje)),[[or,!h.invisible]])),128))]),me("tr",{class:Et({hide:!e.filterRow})},[me("td",{class:Et(["center-text first-col tl-filter",{hide:e.noNumCol}]),style:St([{"vertical-align":"middle",padding:"0"},{top:e.calCellTop2+"px"}]),onClick:t[5]||(t[5]=h=>e.columnFilter={})},[Object.keys(e.columnFilter).length>0?(q(),ve("span",ije,t[36]||(t[36]=[me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"eraser",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-eraser fa-w-16 fa-sm"},[me("path",{fill:"currentColor",d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"})],-1)]))):Le("",!0)],6),(q(!0),ve(kt,null,si(e.fields,(h,f)=>Ss((q(),nt(o,{ref_for:!0,ref:`filter-${h.name}`,colspan:f===e.fields.length-1?2:1,key:`th2-${f}`,modelValue:e.columnFilter[f],"onUpdate:modelValue":p=>e.columnFilter[f]=p,class:Et([{"sticky-column":h.sticky},"column-filter"]),style:St({left:h.left})},null,8,["colspan","modelValue","onUpdate:modelValue","class","style"])),[[or,!h.invisible]])),128))],2)]),me("tbody",{onMousedown:t[10]||(t[10]=(...h)=>e.mouseDown&&e.mouseDown(...h))},[e.localizedLabel.noRecordIndicator&&e.pagingTable.length==0?(q(),ve("tr",sje,t[37]||(t[37]=[me("td",{colspan:"100%",style:{height:"40px","vertical-align":"middle","text-align":"center"}},null,-1)]))):(q(!0),ve(kt,{key:1},si(e.pagingTable,(h,f)=>(q(),ve("tr",{key:f,class:Et({select:typeof e.selected[e.pageTop+f]<"u"}),style:St(e.rowStyle(h))},[me("td",{class:Et(["center-text first-col",{hide:e.noNumCol,error:e.rowerr[`rid-${h.$id}`]}]),id:`rid-${h.$id}`,pos:f,onMouseover:t[6]||(t[6]=(...p)=>e.numcolMouseOver&&e.numcolMouseOver(...p)),onClick:t[7]||(t[7]=(...p)=>e.rowLabelClick&&e.rowLabelClick(...p))},[me("span",{innerHTML:e.recordLabel(e.pageTop+f+1,h)},null,8,nje)],42,rje),(q(!0),ve(kt,null,si(e.fields,(p,y)=>Ss((q(),ve("td",{id:`id-${h.$id}-${p.name}`,"cell-RC":`${f}-${p.name}`,class:Et({readonly:p.readonly,error:e.errmsg[`id-${h.$id}-${p.name}`],link:p.link&&p.isLink&&p.isLink(h),select:p.options,grouping:p.grouping,expand:p.grouping&&e.ungroup[p.name+h[p.name]],datepick:p.type=="date","sticky-column":p.sticky,hideDuplicate:p.hideDuplicate&&f>0&&e.isSameSinceLeft(y,h,e.pagingTable[f-1])}),key:y,style:St(Object.assign(e.cellStyle(h,p),e.renderColumnCellStyle(p,h))),onMouseover:t[8]||(t[8]=(...v)=>e.cellMouseOver&&e.cellMouseOver(...v)),onMousemove:t[9]||(t[9]=(...v)=>e.cellMouseMove&&e.cellMouseMove(...v))},[p.format=="html"?(q(),ve("span",{key:0,innerHTML:p.toText(h[p.name],h,p,y)},null,8,aje)):(q(),ve(kt,{key:1},[oi(Mt(p.toText(h[p.name],h,p,y)),1)],64))],46,oje)),[[or,!p.invisible]])),128)),e.vScroller.buttonHeight<e.vScroller.height?(q(),ve("td",lje)):Le("",!0)],6))),128))],32),me("tfoot",null,[Ss(me("tr",null,[me("td",{class:Et(["row-summary first-col",{hide:e.noNumCol}])},"",2),(q(!0),ve(kt,null,si(e.fields,(h,f)=>Ss((q(),ve("td",{class:Et(["row-summary",{"sticky-column":h.sticky,"summary-column1":f+1<e.fields.length&&e.fields[f+1].summary,"summary-column2":h.summary}]),colspan:f===e.fields.length-1&&e.vScroller.buttonHeight<e.vScroller.height?2:1,key:`f${f}`,style:St(e.renderColumnCellStyle(h))},Mt(e.summary[h.name]),15,cje)),[[or,!h.invisible]])),128))],512),[[or,e.pagingTable.length&&e.summaryRow]])]),Fe(e.$slots,"default",{},void 0,!0)],2),Ss(me("div",{ref:"tooltip",class:"tool-tip"},Mt(e.tip),513),[[or,e.tip]]),Ss(me("div",{ref:"texttip",class:"text-tip"},Mt(e.textTip),513),[[or,e.textTip]]),Ss(me("div",{ref:"inputSquare",class:"input-square",onMousedown:t[14]||(t[14]=(...h)=>e.inputSquareClick&&e.inputSquareClick(...h))},[me("div",uje,[t[38]||(t[38]=me("div",{class:"rb-square"},null,-1)),me("textarea",{ref:"inputBox",id:"inputBox",class:"input-box",style:St({opacity:e.inputBoxShow}),onBlur:t[11]||(t[11]=(...h)=>e.inputBoxBlur&&e.inputBoxBlur(...h)),onMousemove:t[12]||(t[12]=(...h)=>e.inputBoxMouseMove&&e.inputBoxMouseMove(...h)),onMousedown:t[13]||(t[13]=(...h)=>e.inputBoxMouseDown&&e.inputBoxMouseDown(...h)),trim:"",autocomplete:"off",autocorrect:"off",autocompitaize:"off",spellcheck:e.spellcheck},null,44,dje)])],544),[[or,e.focused]]),Ss(me("div",hje,[wt(a,{ref:"datepicker",inline:"","auto-apply":"",modelValue:e.inputDateTime,"onUpdate:modelValue":[t[15]||(t[15]=h=>e.inputDateTime=h),e.datepickerClick],valueType:"format"},null,8,["modelValue","onUpdate:modelValue"])],512),[[or,e.showDatePicker]]),Ss(me("div",fje,t[39]||(t[39]=[me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-spinner fa-w-16 fa-spin fa-3x"},[me("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"})],-1)]),512),[[or,e.processing]])],34),Ss(me("div",{ref:"vScroll",class:"v-scroll",style:St({top:`${e.vScroller.top}px`,height:`${e.vScroller.height}px`}),onMousedown:t[20]||(t[20]=(...h)=>e.vsMouseDown&&e.vsMouseDown(...h))},[me("div",{ref:"vScrollButton",class:"v-scroll-button",style:St({marginTop:`${e.vScroller.buttonTop}px`,height:`${e.vScroller.buttonHeight}px`}),onMousedown:t[19]||(t[19]=(...h)=>e.vsbMouseDown&&e.vsbMouseDown(...h))},[Ss(me("div",{class:"runner",innerHTML:e.vScroller.runner},null,8,pje),[[or,e.vScroller.runner]])],36)],36),[[or,e.vScroller.buttonHeight<e.vScroller.height]]),Ss(me("ul",gje,[(q(!0),ve(kt,null,si(e.autocompleteInputs,(h,f)=>(q(),ve("li",{key:f,class:Et([{select:e.autocompleteSelect===f},"autocomplete-result"]),onMousedown:t[21]||(t[21]=Dt(p=>e.inputAutocompleteText(p.target.textContent,p),["left","prevent"]))},Mt(h),35))),128))],512),[[or,e.focused&&e.autocompleteInputs.length]]),me("div",{ref:"footer",class:Et(["footer center-text",{hide:e.noFooter}]),style:{position:"relative"},onMousedown:t[29]||(t[29]=(...h)=>e.ftMouseDown&&e.ftMouseDown(...h))},[me("div",{ref:"hScroll",class:"h-scroll",onMousedown:t[22]||(t[22]=(...h)=>e.sbMouseDown&&e.sbMouseDown(...h))},null,544),me("span",{class:Et(["left-block",{hide:e.noNumCol}])},null,2),Ss(me("span",mje,[me("span",{innerHTML:e.localizedLabel.footerLeft(e.pageTop+1,e.pageBottom,e.table.length)},null,8,vje)],512),[[or,!e.noPaging]]),Ss(me("span",null,[e.processing?(q(),ve(kt,{key:0},[t[40]||(t[40]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-spinner fa-w-16 fa-spin fa-sm"},[me("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"})],-1)),t[41]||(t[41]=oi("  ",-1)),me("span",{innerHTML:e.localizedLabel.processing},null,8,yje)],64)):(q(),ve(kt,{key:1},[me("a",{class:Et({disabled:e.pageTop<=0}),onMousedown:t[23]||(t[23]=(...h)=>e.firstPage&&e.firstPage(...h))},[t[42]||(t[42]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"step-backward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-step-backward fa-w-14 fa-sm"},[me("path",{fill:"currentColor",d:"M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"})],-1)),t[43]||(t[43]=oi("  ",-1)),me("span",{innerHTML:e.localizedLabel.first},null,8,Cje)],34),t[50]||(t[50]=oi(" | ",-1)),me("a",{class:Et({disabled:e.pageTop<=0}),onMousedown:t[24]||(t[24]=(...h)=>e.prevPage&&e.prevPage(...h))},[t[44]||(t[44]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"backward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-backward fa-w-16 fa-sm"},[me("path",{fill:"currentColor",d:"M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"})],-1)),t[45]||(t[45]=oi("  ",-1)),me("span",{innerHTML:e.localizedLabel.previous},null,8,bje)],34),t[51]||(t[51]=oi(" | ",-1)),me("a",{class:Et({disabled:e.pageTop+e.pageSize>=e.table.length}),onMousedown:t[25]||(t[25]=(...h)=>e.nextPage&&e.nextPage(...h))},[me("span",{innerHTML:e.localizedLabel.next},null,8,wje),t[46]||(t[46]=oi("  ",-1)),t[47]||(t[47]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"forward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-forward fa-w-16 fa-sm"},[me("path",{fill:"currentColor",d:"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"})],-1))],34),t[52]||(t[52]=oi(" | ",-1)),me("a",{class:Et({disabled:e.pageTop+e.pageSize>=e.table.length}),onMousedown:t[26]||(t[26]=(...h)=>e.lastPage&&e.lastPage(...h))},[me("span",{innerHTML:e.localizedLabel.last},null,8,Sje),t[48]||(t[48]=oi("  ",-1)),t[49]||(t[49]=me("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"step-forward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-step-forward fa-w-14 fa-sm"},[me("path",{fill:"currentColor",d:"M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"})],-1))],34)],64))],512),[[or,!e.noPaging&&e.pageBottom-e.pageTop<e.table.length]]),me("span",xje,[me("a",{class:Et({disabled:!e.showSelectedOnly&&e.selectedCount<=1}),onMousedown:t[27]||(t[27]=(...h)=>e.toggleSelectView&&e.toggleSelectView(...h))},[me("span",{innerHTML:e.localizedLabel.footerRight.selected},null,8,Eje),me("span",{style:St({color:e.selectedCount>0?"red":"inherit"})},Mt(e.selectedCount),5)],34),t[53]||(t[53]=oi(" | ",-1)),me("a",{class:Et({disabled:e.columnFilterString==="{}"}),onMousedown:t[28]||(t[28]=(...h)=>e.toggleFilterView&&e.toggleFilterView(...h))},[me("span",{innerHTML:e.localizedLabel.footerRight.filtered},null,8,_je),me("span",{style:St({color:e.table.length!==e.filteredValue.length?"red":"inherit"})},Mt(e.table.length),5)],34),t[54]||(t[54]=oi(" | ",-1)),me("a",Tje,[me("span",{innerHTML:e.localizedLabel.footerRight.loaded},null,8,Aje),me("span",null,Mt(e.filteredValue.length),1)])])],34),me("input",{type:"file",ref:"importFile",accept:".xlsx, .xls, xlsm, .csv",style:{position:"absolute",top:"0",left:"0",width:"0",height:"0",opacity:"0","z-index":"-1"},onKeyup:t[30]||(t[30]=(...h)=>e.componentTabInto&&e.componentTabInto(...h)),onChange:t[31]||(t[31]=(...h)=>e.doImport&&e.doImport(...h))},null,544),wt(l,{ref:"panelFilter","n-filter-count":e.nFilterCount,"localized-label":e.localizedLabel},null,8,["n-filter-count","localized-label"]),wt(c,{ref:"panelSetting",modelValue:e.fields,"onUpdate:modelValue":t[32]||(t[32]=h=>e.fields=h),"localized-label":e.localizedLabel},null,8,["modelValue","localized-label"]),wt(u,{ref:"panelFind","localized-label":e.localizedLabel},null,8,["localized-label"])])],4)}const Dje=lm(j9e,[["render",kje],["__scopeId","data-v-14e1269b"]]),Rje={props:{field:{type:String,default:"dummy"},label:{type:String,default:null},type:{type:String,default:"string"},initStyle:{type:[Object,Function],default:null},width:{type:String,default:"100px"},invisible:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},textTransform:{type:String,default:null},textAlign:{type:String,default:null},keyField:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},listByClick:{type:Boolean,default:null},validate:{type:Function,default:null},change:{type:Function,default:null},link:{type:Function,default:null},isLink:{type:Function,default:null},format:{type:String,default:"text"},cellClick:{type:Function,default:null},autoFillWidth:{type:Boolean,default:!1},hideDuplicate:{type:Boolean,default:!1},grouping:{type:String,default:null},allowKeys:{type:[Array,Function],default(){return null}},mandatory:{type:String,default:""},lengthLimit:{type:Number,default:0},autocomplete:{type:Boolean,default:null},pos:{type:Number,default:0},options:{type:[Array,Object,Function],default(){return null}},summary:{type:String,default:null},sort:{type:Function,default:null},sorting:{type:Function,default:null},noSorting:{type:Boolean,default:null},masking:{type:String,default:""},placeholder:{type:String,default:""},color:{type:[String,Function],default:null},bgcolor:{type:[String,Function],default:null},toValue:{type:Function,default(e){switch(this.textTransform){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break}switch(this.type){case"datetick":return new Date(e+" GMT+0").getTime();case"datetimetick":return new Date(e+" GMT+0").getTime();case"datetimesectick":return new Date(e+" GMT+0").getTime();case"check10":case"checkYN":case"checkTF":return e.toUpperCase();case"map":if(this.options.constructor.name.endsWith("Function")){const t=this.options(e);return Object.keys(t).find(i=>t[i]===e)}else return Object.keys(this.options).find(t=>this.options[t]===e);default:return e}}},toText:{type:Function,default(e){if(this.keyField&&e&&e.toString().startsWith(""))return"";const t=new Date().getTimezoneOffset()*60*1e3;let i;switch(this.type){case"date":return i=new Date(e).getTime(),i?new Date(i-t).toISOString().slice(0,10):"";case"datetick":return i=new Date(e*1?e*1:e).getTime(),i?new Date(i-t).toISOString().slice(0,10):"";case"datetimetick":return i=new Date(e*1?e*1:e).getTime(),i?new Date(i-t).toISOString().replace("T"," ").slice(0,16):"";case"datetimesectick":return i=new Date(e*1?e*1:e).getTime(),i?new Date(i-t).toISOString().replace("T"," ").slice(0,19):"";case"map":return this.options.constructor.name.endsWith("Function")?this.options(e)[e]:this.options[e];case"password":return this.masking.repeat((e==null?void 0:e.length)||0);case"action":return"";case"badge":if(this.bgcolor){let s=this.bgcolor;return typeof s=="function"&&(s=s(e)),`<span class='badge' style='background-color:${s}'>${e}</span>`}else return`<span class='badge'>${e}</span>`;default:return e}}},register:{type:Function,default:null}},created(){this.init()},methods:{init(){const e=this;let t=this.initStyle||{},i=this.validate,s=this.allowKeys,r=this.lengthLimit;switch(this.type){case"number":t.textAlign="right",s=s||["0","1","2","3","4","5","6","7","8","9",".","-"];break;case"date":s=s||["0","1","2","3","4","5","6","7","8","9","-"];break;case"datetime":s=s||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"datetimesec":s=s||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"datetick":s=s||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"datetimetick":s=s||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"datetimesectick":s=s||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"check10":t.textAlign="center",t.textTransform="uppercase",s=s||["0","1"],r=r||1;break;case"checkYN":t.textAlign="center",t.textTransform="uppercase",s=s||["Y","N"],r=r||1;break;case"checkTF":t.textAlign="center",t.textTransform="uppercase",s=s||["T","F"],r=r||1;break;case"map":if(this.options.constructor.name==="AsyncFunction")throw new Error("VueExcelColumn: Map does not support Async Function");break;case"select":break;case"string":break;case"password":break;case"action":this._listByClick=!0;break;case"badge":this._color="white",this._bgcolor="blue",this._format="html",t.textAlign="center";break;default:throw new Error("VueExcelColumn: Not supported type:"+this.type)}this.textTransform&&(t.textTransform=this.textTransform),this.textAlign&&(t.textAlign=this.textAlign),this._autocomplete=e.autocomplete||e.type==="action",this._readonly=e.readonly,this.$parent.registerColumn({name:this.field,label:this.label===null?this.field:this.label,type:this.type,width:this.width,origWidth:this.width,autoFillWidth:this.autoFillWidth,validate:i,change:this.change,link:this.link,isLink:this.isLink||(this.link?()=>!0:null),sort:this.sort,sorting:this.sorting,noSorting:this.noSorting!==null?this.noSorting:e.$parent.noSorting,keyField:this.keyField,sticky:this.sticky,allowKeys:s,mandatory:this.mandatory,lengthLimit:Number(r),textTransform:this.textTransform,get autocomplete(){return e.type==="map"||e.type==="select"?!0:e.type==="password"?!1:e._autocomplete===null?e.$parent.autocomplete:e._autocomplete},set autocomplete(n){e._autocomplete=n},initStyle:t,invisible:this.invisible,get readonly(){return e.link?!0:e.type==="action"?!1:e._readonly===null?e.$parent.readonly:e._readonly},set readonly(n){e._readonly=n},pos:Number(this.pos),options:this.options,summary:this.summary,masking:this.masking,format:this._format||this.format,toValue:this.toValue,toText:(...n)=>{const o=this.toText(...n);return this.placeholder&&o===""?this.placeholder:o},register:this.register,placeholder:this.placeholder,cellClick:this.cellClick,listByClick:this.listByClick||this._listByClick,color:this.color||this._color,bgcolor:this.bgcolor||this._bgcolor,hideDuplicate:this.hideDuplicate||this.grouping,grouping:this.grouping})}}};function Pje(e,t,i,s,r,n){return q(),ve("div")}const Fje=lm(Rje,[["render",Pje]]),Mje={install(e){e.component("vue-excel-editor",Dje),e.component("vue-excel-column",Fje)}};var MP={exports:{}},wE={exports:{}},Lje=wE.exports,e8;function Oje(){return e8||(e8=1,function(e,t){(function(i,s){i._Highcharts=s(),e.exports=i._Highcharts})(typeof window>"u"?Lje:window,()=>(()=>{var fB;let i,s;var r,n,o,a,l,c,u,h,f,p,y,v,C,S,_,x,A,R,O={};O.d=(L,d)=>{for(var g in d)O.o(d,g)&&!O.o(L,g)&&Object.defineProperty(L,g,{enumerable:!0,get:d[g]})},O.o=(L,d)=>Object.prototype.hasOwnProperty.call(L,d);var k={};O.d(k,{default:()=>Wse}),function(L){var d,g,m,b,w,E,T;L.SVG_NS="http://www.w3.org/2000/svg",L.product="Highcharts",L.version="12.3.0",L.win=typeof window<"u"?window:{},L.doc=L.win.document,L.svg=!!((m=(g=(d=L.doc)==null?void 0:d.createElementNS)==null?void 0:g.call(d,L.SVG_NS,"svg"))!=null&&m.createSVGRect),L.pageLang=(E=(w=(b=L.doc)==null?void 0:b.documentElement)==null?void 0:w.closest("[lang]"))==null?void 0:E.lang,L.userAgent=((T=L.win.navigator)==null?void 0:T.userAgent)||"",L.isChrome=L.win.chrome,L.isFirefox=L.userAgent.indexOf("Firefox")!==-1,L.isMS=/(edge|msie|trident)/i.test(L.userAgent)&&!L.win.opera,L.isSafari=!L.isChrome&&L.userAgent.indexOf("Safari")!==-1,L.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(L.userAgent),L.isWebKit=L.userAgent.indexOf("AppleWebKit")!==-1,L.deg2rad=2*Math.PI/360,L.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],L.noop=function(){},L.supportsPassiveEvents=function(){let D=!1;if(!L.isMS){let M=Object.defineProperty({},"passive",{get:function(){D=!0}});L.win.addEventListener&&L.win.removeEventListener&&(L.win.addEventListener("testPassive",L.noop,M),L.win.removeEventListener("testPassive",L.noop,M))}return D}(),L.charts=[],L.composed=[],L.dateFormats={},L.seriesTypes={},L.symbolSizes={},L.chartCount=0}(r||(r={}));let F=r,{charts:N,doc:j,win:ee}=F;function K(L,d,g,m){let b=d?"Highcharts error":"Highcharts warning";L===32&&(L=`${b}: Deprecated member`);let w=ue(L),E=w?`${b} #${L}: www.highcharts.com/errors/${L}/`:L.toString();if(m!==void 0){let T="";w&&(E+="?"),Oe(m,function(D,M){T+=`
 - ${M}: ${D}`,w&&(E+=encodeURI(M)+"="+encodeURI(D))}),E+=T}mt(F,"displayError",{chart:g,code:L,message:E,params:m},function(){if(d)throw Error(E);ee.console&&K.messages.indexOf(E)===-1&&console.warn(E)}),K.messages.push(E)}function Q(L,d){return parseInt(L,d||10)}function be(L){return typeof L=="string"}function te(L){let d=Object.prototype.toString.call(L);return d==="[object Array]"||d==="[object Array Iterator]"}function ne(L,d){return!!L&&typeof L=="object"&&(!d||!te(L))}function H(L){return ne(L)&&typeof L.nodeType=="number"}function ie(L){let d=L==null?void 0:L.constructor;return!!(ne(L,!0)&&!H(L)&&(d!=null&&d.name)&&d.name!=="Object")}function ue(L){return typeof L=="number"&&!isNaN(L)&&L<1/0&&L>-1/0}function Te(L){return L!=null}function Ie(L,d,g){let m,b=be(d)&&!Te(g),w=(E,T)=>{Te(E)?L.setAttribute(T,E):b?(m=L.getAttribute(T))||T!=="class"||(m=L.getAttribute(T+"Name")):L.removeAttribute(T)};return be(d)?w(g,d):Oe(d,w),m}function he(L){return te(L)?L:[L]}function Ee(L,d){let g;for(g in L||(L={}),d)L[g]=d[g];return L}function Y(){let L=arguments,d=L.length;for(let g=0;g<d;g++){let m=L[g];if(m!=null)return m}}function Z(L,d){Ee(L.style,d)}function Se(L){return Math.pow(10,Math.floor(Math.log(L)/Math.LN10))}function ye(L,d){return L>1e14?L:parseFloat(L.toPrecision(d||14))}(K||(K={})).messages=[],Math.easeInOutSine=function(L){return-.5*(Math.cos(Math.PI*L)-1)};let ke=Array.prototype.find?function(L,d){return L.find(d)}:function(L,d){let g,m=L.length;for(g=0;g<m;g++)if(d(L[g],g))return L[g]};function Oe(L,d,g){for(let m in L)Object.hasOwnProperty.call(L,m)&&d.call(g||L[m],L[m],m,L)}function He(L,d,g){function m(E,T){let D=L.removeEventListener;D&&D.call(L,E,T,!1)}function b(E){let T,D;L.nodeName&&(d?(T={})[d]=!0:T=E,Oe(T,function(M,G){if(E[G])for(D=E[G].length;D--;)m(G,E[G][D].fn)}))}let w=typeof L=="function"&&L.prototype||L;if(Object.hasOwnProperty.call(w,"hcEvents")){let E=w.hcEvents;if(d){let T=E[d]||[];g?(E[d]=T.filter(function(D){return g!==D.fn}),m(d,g)):(b(E),E[d]=[])}else b(E),delete w.hcEvents}}function mt(L,d,g,m){if(g=g||{},(j==null?void 0:j.createEvent)&&(L.dispatchEvent||L.fireEvent&&L!==F)){let b=j.createEvent("Events");b.initEvent(d,!0,!0),g=Ee(b,g),L.dispatchEvent?L.dispatchEvent(g):L.fireEvent(d,g)}else if(L.hcEvents){g.target||Ee(g,{preventDefault:function(){g.defaultPrevented=!0},target:L,type:d});let b=[],w=L,E=!1;for(;w.hcEvents;)Object.hasOwnProperty.call(w,"hcEvents")&&w.hcEvents[d]&&(b.length&&(E=!0),b.unshift.apply(b,w.hcEvents[d])),w=Object.getPrototypeOf(w);E&&b.sort((T,D)=>T.order-D.order),b.forEach(T=>{T.fn.call(L,g)===!1&&g.preventDefault()})}m&&!g.defaultPrevented&&m.call(L,g)}let we=function(){let L=Math.random().toString(36).substring(2,9)+"-",d=0;return function(){return"highcharts-"+(i?"":L)+d++}}();ee.jQuery&&(ee.jQuery.fn.highcharts=function(){let L=[].slice.call(arguments);if(this[0])return L[0]?(new F[be(L[0])?L.shift():"Chart"](this[0],L[0],L[1]),this):N[Ie(this[0],"data-highcharts-chart")]});let de={addEvent:function(L,d,g,m={}){let b=typeof L=="function"&&L.prototype||L;Object.hasOwnProperty.call(b,"hcEvents")||(b.hcEvents={});let w=b.hcEvents;F.Point&&L instanceof F.Point&&L.series&&L.series.chart&&(L.series.chart.runTrackerClick=!0);let E=L.addEventListener;E&&E.call(L,d,g,!!F.supportsPassiveEvents&&{passive:m.passive===void 0?d.indexOf("touch")!==-1:m.passive,capture:!1}),w[d]||(w[d]=[]);let T={fn:g,order:typeof m.order=="number"?m.order:1/0};return w[d].push(T),w[d].sort((D,M)=>D.order-M.order),function(){He(L,d,g)}},arrayMax:function(L){let d=L.length,g=L[0];for(;d--;)L[d]>g&&(g=L[d]);return g},arrayMin:function(L){let d=L.length,g=L[0];for(;d--;)L[d]<g&&(g=L[d]);return g},attr:Ie,clamp:function(L,d,g){return L>d?L<g?L:g:d},clearTimeout:function(L){Te(L)&&clearTimeout(L)},correctFloat:ye,createElement:function(L,d,g,m,b){let w=j.createElement(L);return d&&Ee(w,d),b&&Z(w,{padding:"0",border:"none",margin:"0"}),g&&Z(w,g),m&&m.appendChild(w),w},crisp:function(L,d=0,g){let m=d%2/2,b=g?-1:1;return(Math.round(L*b-m)+m)*b},css:Z,defined:Te,destroyObjectProperties:function(L,d,g){Oe(L,function(m,b){m!==d&&(m!=null&&m.destroy)&&m.destroy(),(m!=null&&m.destroy||!g)&&delete L[b]})},diffObjects:function(L,d,g,m){let b={};return function w(E,T,D,M){let G=g?T:E;Oe(E,function(I,U){if(!M&&m&&m.indexOf(U)>-1&&T[U]){I=he(I),D[U]=[];for(let z=0;z<Math.max(I.length,T[U].length);z++)T[U][z]&&(I[z]===void 0?D[U][z]=T[U][z]:(D[U][z]={},w(I[z],T[U][z],D[U][z],M+1)))}else ne(I,!0)&&!I.nodeType?(D[U]=te(I)?[]:{},w(I,T[U]||{},D[U],M+1),Object.keys(D[U]).length===0&&(U!=="colorAxis"||M!==0)&&delete D[U]):(E[U]!==T[U]||U in E&&!(U in T))&&U!=="__proto__"&&U!=="constructor"&&(D[U]=G[U])})}(L,d,b,0),b},discardElement:function(L){var d;(d=L==null?void 0:L.parentElement)==null||d.removeChild(L)},erase:function(L,d){let g=L.length;for(;g--;)if(L[g]===d){L.splice(g,1);break}},error:K,extend:Ee,extendClass:function(L,d){let g=function(){};return g.prototype=new L,Ee(g.prototype,d),g},find:ke,fireEvent:mt,getAlignFactor:(L="")=>({center:.5,right:1,middle:.5,bottom:1})[L]||0,getClosestDistance:function(L,d){let g,m,b,w=!d;return L.forEach(E=>{if(E.length>1)for(b=E.length-1;b>0;b--)(m=E[b]-E[b-1])<0&&!w?(d==null||d(),d=void 0):m&&(g===void 0||m<g)&&(g=m)}),g},getMagnitude:Se,getNestedProperty:function(L,d){let g=L.split(".");for(;g.length&&Te(d);){let m=g.shift();if(m===void 0||m==="__proto__")return;if(m==="this"){let w;return ne(d)&&(w=d["@this"]),w??d}let b=d[m.replace(/[\\'"]/g,"")];if(!Te(b)||typeof b=="function"||typeof b.nodeType=="number"||b===ee)return;d=b}return d},getStyle:function L(d,g,m){var E;let b;if(g==="width"){let T=Math.min(d.offsetWidth,d.scrollWidth),D=(E=d.getBoundingClientRect)==null?void 0:E.call(d).width;return D<T&&D>=T-1&&(T=Math.floor(D)),Math.max(0,T-(L(d,"padding-left",!0)||0)-(L(d,"padding-right",!0)||0))}if(g==="height")return Math.max(0,Math.min(d.offsetHeight,d.scrollHeight)-(L(d,"padding-top",!0)||0)-(L(d,"padding-bottom",!0)||0));let w=ee.getComputedStyle(d,void 0);return w&&(b=w.getPropertyValue(g),Y(m,g!=="opacity")&&(b=Q(b))),b},insertItem:function(L,d){let g,m=L.options.index,b=d.length;for(g=L.options.isInternal?b:0;g<b+1;g++)if(!d[g]||ue(m)&&m<Y(d[g].options.index,d[g]._i)||d[g].options.isInternal){d.splice(g,0,L);break}return g},isArray:te,isClass:ie,isDOMElement:H,isFunction:function(L){return typeof L=="function"},isNumber:ue,isObject:ne,isString:be,merge:function(L,...d){let g,m=[L,...d],b={},w=function(T,D){return typeof T!="object"&&(T={}),Oe(D,function(M,G){G!=="__proto__"&&G!=="constructor"&&(!ne(M,!0)||ie(M)||H(M)?T[G]=D[G]:T[G]=w(T[G]||{},M))}),T};L===!0&&(b=m[1],m=Array.prototype.slice.call(m,2));let E=m.length;for(g=0;g<E;g++)b=w(b,m[g]);return b},normalizeTickInterval:function(L,d,g,m,b){let w,E=L;g=Y(g,Se(L));let T=L/g;for(!d&&(d=b?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],m===!1&&(g===1?d=d.filter(function(D){return D%1==0}):g<=.1&&(d=[1/g]))),w=0;w<d.length&&(E=d[w],(!b||!(E*g>=L))&&(b||!(T<=(d[w]+(d[w+1]||d[w]))/2)));w++);return ye(E*g,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Oe,offset:function(L){let d=j.documentElement,g=L.parentElement||L.parentNode?L.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:g.top+(ee.pageYOffset||d.scrollTop)-(d.clientTop||0),left:g.left+(ee.pageXOffset||d.scrollLeft)-(d.clientLeft||0),width:g.width,height:g.height}},pad:function(L,d,g){return Array((d||2)+1-String(L).replace("-","").length).join(g||"0")+L},pick:Y,pInt:Q,pushUnique:function(L,d){return 0>L.indexOf(d)&&!!L.push(d)},relativeLength:function(L,d,g){return/%$/.test(L)?d*parseFloat(L)/100+(g||0):parseFloat(L)},removeEvent:He,replaceNested:function(L,...d){let g,m;do for(m of(g=L,d))L=L.replace(m[0],m[1]);while(L!==g);return L},splat:he,stableSort:function(L,d){let g,m,b=L.length;for(m=0;m<b;m++)L[m].safeI=m;for(L.sort(function(w,E){return(g=d(w,E))===0?w.safeI-E.safeI:g}),m=0;m<b;m++)delete L[m].safeI},syncTimeout:function(L,d,g){return d>0?setTimeout(L,d,g):(L.call(0,g),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(L){return be(L)?L.substring(0,1).toUpperCase()+L.substring(1):String(L)},uniqueKey:we,useSerialIds:function(L){return i=Y(L,i)},wrap:function(L,d,g){let m=L[d];L[d]=function(){let b=arguments,w=this;return g.apply(this,[function(){return m.apply(w,arguments.length?arguments:b)}].concat([].slice.call(arguments)))}}},{pageLang:pe,win:Ve}=F,{defined:Qe,error:Ge,extend:Ze,isNumber:ot,isObject:xe,isString:Ae,merge:Ke,objectEach:yt,pad:Ct,splat:ft,timeUnits:Je,ucfirst:ht}=de,Yt=F.isSafari&&Ve.Intl&&!Ve.Intl.DateTimeFormat.prototype.formatRange,$e=L=>L.main===void 0,Me=class{constructor(L,d){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Ve.Date,this.update(L),this.lang=d}update(L={}){this.dTLCache={},this.options=L=Ke(!0,this.options,L);let{timezoneOffset:d,useUTC:g,locale:m}=L;this.Date=L.Date||Ve.Date||Date;let b=L.timezone;Qe(g)&&(b=g?"UTC":void 0),d&&d%60==0&&(b="Etc/GMT"+(d>0?"+":"")+d/60),this.variableTimezone=b!=="UTC"&&(b==null?void 0:b.indexOf("Etc/GMT"))!==0,this.timezone=b,this.lang&&m&&(this.lang.locale=m),["months","shortMonths","weekdays","shortWeekdays"].forEach(w=>{let E=/months/i.test(w),T=/short/.test(w),D={timeZone:"UTC"};D[E?"month":"weekday"]=T?"short":"long",this[w]=(E?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(M=>this.dateFormat(D,(E?31:1)*24*36e5*M))})}toParts(L){let[d,g,m,b,w,E,T]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},L,"es").split(/(?:, | |\/|:)/g);return[b,m-1,g,w,E,T,Math.floor(Number(L)||0)%1e3,"DLMXJVS".indexOf(d)].map(Number)}dateTimeFormat(L,d,g=this.options.locale||pe){let m=JSON.stringify(L)+g;Ae(L)&&(L=this.str2dtf(L));let b=this.dTLCache[m];if(!b){L.timeZone??(L.timeZone=this.timezone);try{b=new Intl.DateTimeFormat(g,L)}catch(w){/Invalid time zone/i.test(w.message)?(Ge(34),L.timeZone="UTC",b=new Intl.DateTimeFormat(g,L)):Ge(w.message,!1)}}return this.dTLCache[m]=b,(b==null?void 0:b.format(d))||""}str2dtf(L,d={}){let g={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(g).forEach(m=>{L.indexOf(m)!==-1&&Ze(d,g[m])}),d}makeTime(L,d,g=1,m=0,b,w,E){let T=this.Date.UTC(L,d,g,m,b||0,w||0,E||0);if(this.timezone!=="UTC"){let D=this.getTimezoneOffset(T);if(T+=D,[2,3,8,9,10,11].indexOf(d)!==-1&&(m<5||m>20)){let M=this.getTimezoneOffset(T);D!==M?T+=M-D:D-36e5!==this.getTimezoneOffset(T-36e5)||Yt||(T-=36e5)}}return T}parse(L){if(!Ae(L))return L??void 0;let d=(L=L.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(L),g=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(L);d||g||(L+="Z");let m=Date.parse(L);if(ot(m))return m+(!d||g?this.getTimezoneOffset(m):0)}getTimezoneOffset(L){if(this.timezone!=="UTC"){let[d,g,m,b,w=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},L,"en").split(/(GMT|:)/).map(Number),E=-(60*(m+w/60)*6e4);if(ot(E))return E}return 0}dateFormat(L,d,g){let m=this.lang;if(!Qe(d)||isNaN(d))return(m==null?void 0:m.invalidDate)||"";if(Ae(L=L??"%Y-%m-%d %H:%M:%S")){let b,w=/%\[([a-zA-Z]+)\]/g;for(;b=w.exec(L);)L=L.replace(b[0],this.dateTimeFormat(b[1],d,m==null?void 0:m.locale))}if(Ae(L)&&L.indexOf("%")!==-1){let b=this,[w,E,T,D,M,G,I,U]=this.toParts(d),z=(m==null?void 0:m.weekdays)||this.weekdays,J=(m==null?void 0:m.shortWeekdays)||this.shortWeekdays,le=(m==null?void 0:m.months)||this.months,ae=(m==null?void 0:m.shortMonths)||this.shortMonths;yt(Ze({a:J?J[U]:z[U].substr(0,3),A:z[U],d:Ct(T),e:Ct(T,2," "),w:U,v:(m==null?void 0:m.weekFrom)??"",b:ae[E],B:le[E],m:Ct(E+1),o:E+1,y:w.toString().substr(2,2),Y:w,H:Ct(D),k:D,I:Ct(D%12||12),l:D%12||12,M:Ct(M),p:D<12?"AM":"PM",P:D<12?"am":"pm",S:Ct(G),L:Ct(I,3)},F.dateFormats),function(oe,ge){if(Ae(L))for(;L.indexOf("%"+ge)!==-1;)L=L.replace("%"+ge,typeof oe=="function"?oe.call(b,d):oe)})}else if(xe(L)){let b=(this.getTimezoneOffset(d)||0)/36e5,w=this.timezone||"Etc/GMT"+(b>=0?"+":"")+b,{prefix:E="",suffix:T=""}=L;L=E+this.dateTimeFormat(Ze({timeZone:w},L),d)+T}return g?ht(L):L}resolveDTLFormat(L){return xe(L,!0)?xe(L,!0)&&$e(L)?{main:L}:L:{main:(L=ft(L))[0],from:L[1],to:L[2]}}getDateFormat(L,d,g,m){let b=this.dateFormat("%m-%d %H:%M:%S.%L",d),w="01-01 00:00:00.000",E={millisecond:15,second:12,minute:9,hour:6,day:3},T="millisecond",D=T;for(T in Je){if(L&&L===Je.week&&+this.dateFormat("%w",d)===g&&b.substr(6)===w.substr(6)){T="week";break}if(L&&Je[T]>L){T=D;break}if(E[T]&&b.substr(E[T])!==w.substr(E[T]))break;T!=="week"&&(D=T)}return this.resolveDTLFormat(m[T]).main}},{defined:qe,extend:pt,timeUnits:vt}=de,_i=class extends Me{getTimeTicks(L,d,g,m){let b=this,w=[],E={},{count:T=1,unitRange:D}=L,[M,G,I,U,z,J]=b.toParts(d),le=(d||0)%1e3,ae;if(m??(m=1),qe(d)){if(le=D>=vt.second?0:T*Math.floor(le/T),D>=vt.second&&(J=D>=vt.minute?0:T*Math.floor(J/T)),D>=vt.minute&&(z=D>=vt.hour?0:T*Math.floor(z/T)),D>=vt.hour&&(U=D>=vt.day?0:T*Math.floor(U/T)),D>=vt.day&&(I=D>=vt.month?1:Math.max(1,T*Math.floor(I/T))),D>=vt.month&&(G=D>=vt.year?0:T*Math.floor(G/T)),D>=vt.year&&(M-=M%T),D===vt.week){T&&(d=b.makeTime(M,G,I,U,z,J,le));let Ce=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},d,"es"),Ye="DLMXJVS".indexOf(Ce);I+=-Ye+m+(Ye<m?-7:0)}d=b.makeTime(M,G,I,U,z,J,le),b.variableTimezone&&qe(g)&&(ae=g-d>4*vt.month||b.getTimezoneOffset(d)!==b.getTimezoneOffset(g));let oe=d,ge=1;for(;oe<g;)w.push(oe),D===vt.year?oe=b.makeTime(M+ge*T,0):D===vt.month?oe=b.makeTime(M,G+ge*T):ae&&(D===vt.day||D===vt.week)?oe=b.makeTime(M,G,I+ge*T*(D===vt.day?1:7)):ae&&D===vt.hour&&T>1?oe=b.makeTime(M,G,I,U+ge*T):oe+=D*T,ge++;w.push(oe),D<=vt.hour&&w.length<1e4&&w.forEach(Ce=>{Ce%18e5==0&&b.dateFormat("%H%M%S%L",Ce)==="000000000"&&(E[Ce]="day")})}return w.info=pt(L,{higherRanks:E,totalRange:D*T}),w}},{isTouchDevice:dr}=F,{fireEvent:gt,merge:Xt}=de,Xi={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:L=>Math.sqrt(1-Math.pow(L-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:dr?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},$s=new _i(Xi.time,Xi.lang),Ls={defaultOptions:Xi,defaultTime:$s,getOptions:function(){return Xi},setOptions:function(L){var d;return gt(F,"setOptions",{options:L}),Xt(!0,Xi,L),L.time&&$s.update(Xi.time),L.lang&&"locale"in L.lang&&$s.update({locale:L.lang.locale}),(d=L.lang)!=null&&d.chartTitle&&(Xi.title={...Xi.title,text:L.lang.chartTitle}),Xi}},{win:yi}=F,{isNumber:Hr,isString:bi,merge:ou,pInt:Pr,defined:ad}=de,ld=(L,d,g)=>`color-mix(in srgb,${L},${d} ${100*g}%)`,cd=L=>bi(L)&&!!L&&L!=="none";class hr{static parse(d){return d?new hr(d):hr.None}constructor(d){let g,m,b,w;this.rgba=[NaN,NaN,NaN,NaN],this.input=d;let E=F.Color;if(E&&E!==hr)return new E(d);if(typeof d=="object"&&d.stops!==void 0)this.stops=d.stops.map(T=>new hr(T[1]));else if(typeof d=="string")for(this.input=d=hr.names[d.toLowerCase()]||d,b=hr.parsers.length;b--&&!m;)(g=(w=hr.parsers[b]).regex.exec(d))&&(m=w.parse(g));m&&(this.rgba=m)}get(d){let g=this.input,m=this.rgba;if(this.output)return this.output;if(typeof g=="object"&&this.stops!==void 0){let b=ou(g);return b.stops=[].slice.call(b.stops),this.stops.forEach((w,E)=>{b.stops[E]=[b.stops[E][0],w.get(d)]}),b}return m&&Hr(m[0])?d!=="rgb"&&(d||m[3]!==1)?d==="a"?`${m[3]}`:"rgba("+m.join(",")+")":"rgb("+m[0]+","+m[1]+","+m[2]+")":g}brighten(d){let g=this.rgba;if(this.stops)this.stops.forEach(function(m){m.brighten(d)});else if(Hr(d)&&d!==0)if(Hr(g[0]))for(let m=0;m<3;m++)g[m]+=Pr(255*d),g[m]<0&&(g[m]=0),g[m]>255&&(g[m]=255);else hr.useColorMix&&cd(this.input)&&(this.output=ld(this.input,d>0?"white":"black",Math.abs(d)));return this}setOpacity(d){return this.rgba[3]=d,this}tweenTo(d,g){let m=this.rgba,b=d.rgba;if(!Hr(m[0])||!Hr(b[0]))return hr.useColorMix&&cd(this.input)&&cd(d.input)&&g<.99?ld(this.input,d.input,g):d.input||"none";let w=b[3]!==1||m[3]!==1,E=(D,M)=>D+(m[M]-D)*(1-g),T=b.slice(0,3).map(E).map(Math.round);return w&&T.push(E(b[3],3)),(w?"rgba(":"rgb(")+T.join(",")+")"}}hr.names={white:"#ffffff",black:"#000000"},hr.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(L){return[Pr(L[1]),Pr(L[2]),Pr(L[3]),parseFloat(L[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(L){return[Pr(L[1]),Pr(L[2]),Pr(L[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(L){return[Pr(L[1]+L[1],16),Pr(L[2]+L[2],16),Pr(L[3]+L[3],16),ad(L[4])?Pr(L[4]+L[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(L){return[Pr(L[1],16),Pr(L[2],16),Pr(L[3],16),ad(L[4])?Pr(L[4],16)/255:1]}}],hr.useColorMix=(fB=yi.CSS)==null?void 0:fB.supports("color","color-mix(in srgb,red,blue 9%)"),hr.None=new hr("");let{parse:vh}=hr,{win:au}=F,{isNumber:fl,objectEach:lu}=de;class Fn{constructor(d,g,m){this.pos=NaN,this.options=g,this.elem=d,this.prop=m}dSetter(){let d=this.paths,g=d==null?void 0:d[0],m=d==null?void 0:d[1],b=this.now||0,w=[];if(b!==1&&g&&m)if(g.length===m.length&&b<1)for(let E=0;E<m.length;E++){let T=g[E],D=m[E],M=[];for(let G=0;G<D.length;G++){let I=T[G],U=D[G];fl(I)&&fl(U)&&(D[0]!=="A"||G!==4&&G!==5)?M[G]=I+b*(U-I):M[G]=U}w.push(M)}else w=m;else w=this.toD||[];this.elem.attr("d",w,void 0,!0)}update(){let d=this.elem,g=this.prop,m=this.now,b=this.options.step;this[g+"Setter"]?this[g+"Setter"]():d.attr?d.element&&d.attr(g,m,null,!0):d.style[g]=m+this.unit,b&&b.call(d,m,this)}run(d,g,m){let b=this,w=b.options,E=function(M){return!E.stopped&&b.step(M)},T=au.requestAnimationFrame||function(M){setTimeout(M,13)},D=function(){for(let M=0;M<Fn.timers.length;M++)Fn.timers[M]()||Fn.timers.splice(M--,1);Fn.timers.length&&T(D)};d!==g||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=d,this.end=g,this.unit=m,this.now=this.start,this.pos=0,E.elem=this.elem,E.prop=this.prop,E()&&Fn.timers.push(E)===1&&T(D)):(delete w.curAnim[this.prop],w.complete&&Object.keys(w.curAnim).length===0&&w.complete.call(this.elem))}step(d){let g,m,b=+new Date,w=this.options,E=this.elem,T=w.complete,D=w.duration,M=w.curAnim;return E.attr&&!E.element?g=!1:d||b>=D+this.startTime?(this.now=this.end,this.pos=1,this.update(),M[this.prop]=!0,m=!0,lu(M,function(G){G!==!0&&(m=!1)}),m&&T&&T.call(E),g=!1):(this.pos=w.easing((b-this.startTime)/D),this.now=this.start+(this.end-this.start)*this.pos,this.update(),g=!0),g}initPath(d,g,m){let b=d.startX,w=d.endX,E=m.slice(),T=d.isArea,D=T?2:1,M=g&&m.length>g.length&&m.hasStackedCliffs,G,I,U,z,J=g==null?void 0:g.slice();if(!J||M)return[E,E];function le(oe,ge){for(;oe.length<I;){let Ce=oe[0],Ye=ge[I-oe.length];if(Ye&&Ce[0]==="M"&&(Ye[0]==="C"?oe[0]=["C",Ce[1],Ce[2],Ce[1],Ce[2],Ce[1],Ce[2]]:oe[0]=["L",Ce[1],Ce[2]]),oe.unshift(Ce),T){let Ue=oe.pop();oe.push(oe[oe.length-1],Ue)}}}function ae(oe){for(;oe.length<I;){let ge=oe[Math.floor(oe.length/D)-1].slice();if(ge[0]==="C"&&(ge[1]=ge[5],ge[2]=ge[6]),T){let Ce=oe[Math.floor(oe.length/D)].slice();oe.splice(oe.length/2,0,ge,Ce)}else oe.push(ge)}}if(b&&w&&w.length){for(U=0;U<b.length;U++)if(b[U]===w[0]){G=U;break}else if(b[0]===w[w.length-b.length+U]){G=U,z=!0;break}else if(b[b.length-1]===w[w.length-b.length+U]){G=b.length-U;break}G===void 0&&(J=[])}return J.length&&fl(G)&&(I=E.length+G*D,z?(le(J,E),ae(E)):(le(E,J),ae(J))),[J,E]}fillSetter(){Fn.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,vh(this.start).tweenTo(vh(this.end),this.pos),void 0,!0)}}Fn.timers=[];let{defined:Bt,getStyle:fe,isArray:De,isNumber:_e,isObject:Re,merge:Ne,objectEach:Be,pick:lt}=de;function Tt(L){return Re(L)?Ne({duration:500,defer:0},L):{duration:500*!!L,defer:0}}function at(L,d){let g=Fn.timers.length;for(;g--;)Fn.timers[g].elem!==L||d&&d!==Fn.timers[g].prop||(Fn.timers[g].stopped=!0)}let st={animate:function(L,d,g){let m,b="",w,E,T;Re(g)||(T=arguments,g={duration:T[2],easing:T[3],complete:T[4]}),_e(g.duration)||(g.duration=400),g.easing=typeof g.easing=="function"?g.easing:Math[g.easing]||Math.easeInOutSine,g.curAnim=Ne(d),Be(d,function(D,M){at(L,M),E=new Fn(L,g,M),w=void 0,M==="d"&&De(d.d)?(E.paths=E.initPath(L,L.pathArray,d.d),E.toD=d.d,m=0,w=1):L.attr?m=L.attr(M):(m=parseFloat(fe(L,M))||0,M!=="opacity"&&(b="px")),w||(w=D),typeof w=="string"&&w.match("px")&&(w=w.replace(/px/g,"")),E.run(m,w,b)})},animObject:Tt,getDeferredAnimation:function(L,d,g){let m=Tt(d),b=g?[g]:L.series,w=0,E=0;return b.forEach(T=>{let D=Tt(T.options.animation);w=Re(d)&&Bt(d.defer)?m.defer:Math.max(w,D.duration+D.defer),E=Math.min(m.duration,D.duration)}),L.renderer.forExport&&(w=0),{defer:Math.max(0,w-E),duration:Math.min(w,E)}},setAnimation:function(L,d){d.renderer.globalAnimation=lt(L,d.options.chart.animation,!0)},stop:at},{SVG_NS:ct,win:Ut}=F,{attr:ei,createElement:ui,css:Kt,error:ni,isFunction:zi,isString:Er,objectEach:_r,splat:zn}=de,{trustedTypes:Sc}=Ut,jn=Sc&&zi(Sc.createPolicy)&&Sc.createPolicy("highcharts",{createHTML:L=>L}),cu=jn?jn.createHTML(""):"";class ds{static filterUserAttributes(d){return _r(d,(g,m)=>{let b=!0;ds.allowedAttributes.indexOf(m)===-1&&(b=!1),["background","dynsrc","href","lowsrc","src"].indexOf(m)!==-1&&(b=Er(g)&&ds.allowedReferences.some(w=>g.indexOf(w)===0)),b||(ni(33,!1,void 0,{"Invalid attribute in config":`${m}`}),delete d[m]),Er(g)&&d[m]&&(d[m]=g.replace(/</g,"&lt;"))}),d}static parseStyle(d){return d.split(";").reduce((g,m)=>{let b=m.split(":").map(E=>E.trim()),w=b.shift();return w&&b.length&&(g[w.replace(/-([a-z])/g,E=>E[1].toUpperCase())]=b.join(":")),g},{})}static setElementHTML(d,g){d.innerHTML=ds.emptyHTML,g&&new ds(g).addToDOM(d)}constructor(d){this.nodes=typeof d=="string"?this.parseMarkup(d):d}addToDOM(d){return function g(m,b){let w;return zn(m).forEach(function(E){let T,D=E.tagName,M=E.textContent?F.doc.createTextNode(E.textContent):void 0,G=ds.bypassHTMLFiltering;if(D)if(D==="#text")T=M;else if(ds.allowedTags.indexOf(D)!==-1||G){let I=D==="svg"?ct:b.namespaceURI||ct,U=F.doc.createElementNS(I,D),z=E.attributes||{};_r(E,function(J,le){le!=="tagName"&&le!=="attributes"&&le!=="children"&&le!=="style"&&le!=="textContent"&&(z[le]=J)}),ei(U,G?z:ds.filterUserAttributes(z)),E.style&&Kt(U,E.style),M&&U.appendChild(M),g(E.children||[],U),T=U}else ni(33,!1,void 0,{"Invalid tagName in config":D});T&&b.appendChild(T),w=T}),w}(this.nodes,d)}parseMarkup(d){let g,m=[];d=d.trim().replace(/ style=(["'])/g," data-style=$1");try{g=new DOMParser().parseFromString(jn?jn.createHTML(d):d,"text/html")}catch{}if(!g){let w=ui("div");w.innerHTML=d,g={body:w}}let b=(w,E)=>{let T=w.nodeName.toLowerCase(),D={tagName:T};T==="#text"&&(D.textContent=w.textContent||"");let M=w.attributes;if(M){let G={};[].forEach.call(M,I=>{I.name==="data-style"?D.style=ds.parseStyle(I.value):G[I.name]=I.value}),D.attributes=G}if(w.childNodes.length){let G=[];[].forEach.call(w.childNodes,I=>{b(I,G)}),G.length&&(D.children=G)}E.push(D)};return[].forEach.call(g.body.childNodes,w=>b(w,m)),m}}ds.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],ds.allowedReferences=["https://","http://","mailto:","/","../","./","#"],ds.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],ds.emptyHTML=cu,ds.bypassHTMLFiltering=!1;let{defaultOptions:uu,defaultTime:Na}=Ls,{pageLang:dk}=F,{extend:hk,getNestedProperty:fk,isArray:my,isNumber:OS,isObject:pk,isString:IS,pick:Pm,ucfirst:ep}=de,Fm={add:(L,d)=>L+d,divide:(L,d)=>d!==0?L/d:"",eq:(L,d)=>L==d,each:function(L){let d=arguments[arguments.length-1];return!!my(L)&&L.map((g,m)=>Mm(d.body,hk(pk(g)?g:{"@this":g},{"@index":m,"@first":m===0,"@last":m===L.length-1}))).join("")},ge:(L,d)=>L>=d,gt:(L,d)=>L>d,if:L=>!!L,le:(L,d)=>L<=d,lt:(L,d)=>L<d,multiply:(L,d)=>L*d,ne:(L,d)=>L!=d,subtract:(L,d)=>L-d,ucfirst:ep,unless:L=>!L},yh={},NS=L=>/^["'].+["']$/.test(L);function Mm(L="",d,g){var ae;let m=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,b=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,w=[],E=/f$/,T=/\.(\d)/,D=((ae=g==null?void 0:g.options)==null?void 0:ae.lang)||uu.lang,M=(g==null?void 0:g.time)||Na,G=(g==null?void 0:g.numberFormatter)||VS.bind(g),I=(oe="")=>{let ge;return oe==="true"||oe!=="false"&&((ge=Number(oe)).toString()===oe?ge:NS(oe)?oe.slice(1,-1):fk(oe,d))},U,z,J=0,le;for(;(U=m.exec(L))!==null;){let oe=U,ge=b.exec(U[1]);ge&&(U=ge,le=!0),z!=null&&z.isBlock||(z={ctx:d,expression:U[1],find:U[0],isBlock:U[1].charAt(0)==="#",start:U.index,startInner:U.index+U[0].length,length:U[0].length});let Ce=(z.isBlock?oe:U)[1].split(" ")[0].replace("#","");Fm[Ce]&&(z.isBlock&&Ce===z.fn&&J++,z.fn||(z.fn=Ce));let Ye=U[1]==="else";if(z.isBlock&&z.fn&&(U[1]===`/${z.fn}`||Ye))if(J)!Ye&&J--;else{let Ue=z.startInner,je=L.substr(Ue,U.index-Ue);z.body===void 0?(z.body=je,z.startInner=U.index+U[0].length):z.elseBody=je,z.find+=je+U[0],Ye||(w.push(z),z=void 0)}else z.isBlock||w.push(z);if(ge&&!(z!=null&&z.isBlock))break}return w.forEach(oe=>{let ge,Ce,{body:Ye,elseBody:Ue,expression:je,fn:rt}=oe;if(rt){let et=[oe],it=[],_t=je.length,Nt=0,Ht;for(Ce=0;Ce<=_t;Ce++){let jt=je.charAt(Ce);Ht||jt!=='"'&&jt!=="'"?Ht===jt&&(Ht=""):Ht=jt,Ht||jt!==" "&&Ce!==_t||(it.push(je.substr(Nt,Ce-Nt)),Nt=Ce+1)}for(Ce=Fm[rt].length;Ce--;)et.unshift(I(it[Ce+1]));ge=Fm[rt].apply(d,et),oe.isBlock&&typeof ge=="boolean"&&(ge=Mm(ge?Ye:Ue,d,g))}else{let et=NS(je)?[je]:je.split(":"),it=(ge=I(et.shift()||""))%1!=0;if(typeof ge=="number"&&(et.length||it)){let _t=et.join(":");if(E.test(_t)||it){let Nt=parseInt((_t.match(T)||["","-1"])[1],10);ge!==null&&(ge=G(ge,Nt,D.decimalPoint,_t.indexOf(",")>-1?D.thousandsSep:""))}else ge=M.dateFormat(_t,ge)}b.lastIndex=0,b.test(oe.find)&&IS(ge)&&(ge=`"${ge}"`)}L=L.replace(oe.find,Pm(ge,""))}),le?Mm(L,d,g):L}function VS(L,d,g,m){var le;d*=1;let b,w,[E,T]=(L=+L||0).toString().split("e").map(Number),D=((le=this==null?void 0:this.options)==null?void 0:le.lang)||uu.lang,M=(L.toString().split(".")[1]||"").split("e")[0].length,G=d,I={};g??(g=D.decimalPoint),m??(m=D.thousandsSep),d===-1?d=Math.min(M,20):OS(d)?d&&T<0&&((w=d+T)>=0?(E=+E.toExponential(w).split("e")[0],d=w):(E=Math.floor(E),L=d<20?+(E*Math.pow(10,T)).toFixed(d):0,T=0)):d=2,T&&(d??(d=2),L=E),OS(d)&&d>=0&&(I.minimumFractionDigits=d,I.maximumFractionDigits=d),m===""&&(I.useGrouping=!1);let U=m||g,z=U?"en":(this==null?void 0:this.locale)||D.locale||dk,J=JSON.stringify(I)+z;return b=(yh[J]??(yh[J]=new Intl.NumberFormat(z,I))).format(L),U&&(b=b.replace(/([,\.])/g,"_$1").replace(/_\,/g,m??",").replace("_.",g??".")),(d||+b!=0)&&(!(T<0)||G)||(b="0"),T&&+b!=0&&(b+="e"+(T<0?"":"+")+T),b}let Va={dateFormat:function(L,d,g){return Na.dateFormat(L,d,g)},format:Mm,helpers:Fm,numberFormat:VS};(function(L){let d;L.rendererTypes={},L.getRendererType=function(g=d){return L.rendererTypes[g]||L.rendererTypes[d]},L.registerRendererType=function(g,m,b){L.rendererTypes[g]=m,(!d||b)&&(d=g,F.Renderer=m)}})(n||(n={}));let tp=n,{clamp:gk,pick:mk,pushUnique:vy,stableSort:xc}=de;(o||(o={})).distribute=function L(d,g,m){let b=d,w=b.reducedLen||g,E=(Ce,Ye)=>Ce.target-Ye.target,T=[],D=d.length,M=[],G=T.push,I,U,z,J=!0,le,ae,oe=0,ge;for(I=D;I--;)oe+=d[I].size;if(oe>w){for(xc(d,(Ce,Ye)=>(Ye.rank||0)-(Ce.rank||0)),z=(ge=d[0].rank===d[d.length-1].rank)?D/2:-1,U=ge?z:D-1;z&&oe>w;)le=d[I=Math.floor(U)],vy(M,I)&&(oe-=le.size),U+=z,ge&&U>=d.length&&(z/=2,U=z);M.sort((Ce,Ye)=>Ye-Ce).forEach(Ce=>G.apply(T,d.splice(Ce,1)))}for(xc(d,E),d=d.map(Ce=>({size:Ce.size,targets:[Ce.target],align:mk(Ce.align,.5)}));J;){for(I=d.length;I--;)le=d[I],ae=(Math.min.apply(0,le.targets)+Math.max.apply(0,le.targets))/2,le.pos=gk(ae-le.size*le.align,0,g-le.size);for(I=d.length,J=!1;I--;)I>0&&d[I-1].pos+d[I-1].size>d[I].pos&&(d[I-1].size+=d[I].size,d[I-1].targets=d[I-1].targets.concat(d[I].targets),d[I-1].align=.5,d[I-1].pos+d[I-1].size>g&&(d[I-1].pos=g-d[I-1].size),d.splice(I,1),J=!0)}return G.apply(b,T),I=0,d.some(Ce=>{let Ye=0;return(Ce.targets||[]).some(()=>(b[I].pos=Ce.pos+Ye,m!==void 0&&Math.abs(b[I].pos-b[I].target)>m?(b.slice(0,I+1).forEach(Ue=>delete Ue.pos),b.reducedLen=(b.reducedLen||g)-.1*g,b.reducedLen>.1*g&&L(b,g,m),!0):(Ye+=b[I].size,I++,!1)))}),xc(b,E),b};let Lm=o,{animate:vk,animObject:yk,stop:BS}=st,{deg2rad:yy,doc:Ch,svg:GS,SVG_NS:Om,win:Ck,isFirefox:bk}=F,{addEvent:wk,attr:Cy,createElement:Sk,crisp:Im,css:HS,defined:Gl,erase:$S,extend:ip,fireEvent:by,getAlignFactor:Yi,isArray:Nm,isFunction:sp,isNumber:xk,isObject:Ek,isString:wy,merge:Sy,objectEach:bh,pick:Ec,pInt:Vm,pushUnique:_k,replaceNested:F2,syncTimeout:Tk,uniqueKey:WS}=de;class Kn{_defaultGetter(d){let g=Ec(this[d+"Value"],this[d],this.element?this.element.getAttribute(d):null,0);return/^-?[\d\.]+$/.test(g)&&(g=parseFloat(g)),g}_defaultSetter(d,g,m){m.setAttribute(g,d)}add(d){let g,m=this.renderer,b=this.element;return d&&(this.parentGroup=d),this.textStr!==void 0&&this.element.nodeName==="text"&&m.buildText(this),this.added=!0,(!d||d.handleZ||this.zIndex)&&(g=this.zIndexSetter()),g||(d?d.element:m.box).appendChild(b),this.onAdd&&this.onAdd(),this}addClass(d,g){let m=g?"":this.attr("class")||"";return(d=(d||"").split(/ /g).reduce(function(b,w){return m.indexOf(w)===-1&&b.push(w),b},m?[m]:[]).join(" "))!==m&&this.attr("class",d),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(d,g,m,b=!0){let w=this.renderer,E=w.alignedObjects,T=!!d;d?(this.alignOptions=d,this.alignByTranslate=g,this.alignTo=m):(d=this.alignOptions||{},g=this.alignByTranslate,m=this.alignTo);let D=!m||wy(m)?m||"renderer":void 0;D&&(T&&_k(E,this),m=void 0);let M=Ec(m,w[D],w),G=(M.x||0)+(d.x||0)+((M.width||0)-(d.width||0))*Yi(d.align),I=(M.y||0)+(d.y||0)+((M.height||0)-(d.height||0))*Yi(d.verticalAlign),U={"text-align":d==null?void 0:d.align};return U[g?"translateX":"x"]=Math.round(G),U[g?"translateY":"y"]=Math.round(I),b&&(this[this.placed?"animate":"attr"](U),this.placed=!0),this.alignAttr=U,this}alignSetter(d){let g={left:"start",center:"middle",right:"end"};g[d]&&(this.alignValue=d,this.element.setAttribute("text-anchor",g[d]))}animate(d,g,m){let b=yk(Ec(g,this.renderer.globalAnimation,!0)),w=b.defer;return Ch.hidden&&(b.duration=0),b.duration!==0?(m&&(b.complete=m),Tk(()=>{this.element&&vk(this,d,b)},w)):(this.attr(d,void 0,m||b.complete),bh(d,function(E,T){b.step&&b.step.call(this,E,{prop:T,pos:1,elem:this})},this)),this}applyTextOutline(d){let g=this.element;d.indexOf("contrast")!==-1&&(d=d.replace(/contrast/g,this.renderer.getContrast(g.style.fill)));let m=d.indexOf(" "),b=d.substring(m+1),w=d.substring(0,m);if(w&&w!=="none"&&F.svg){this.fakeTS=!0,w=w.replace(/(^[\d\.]+)(.*?)$/g,function(G,I,U){return 2*Number(I)+U}),this.removeTextOutline();let E=Ch.createElementNS(Om,"tspan");Cy(E,{class:"highcharts-text-outline",fill:b,stroke:b,"stroke-width":w,"stroke-linejoin":"round"});let T=g.querySelector("textPath")||g;[].forEach.call(T.childNodes,G=>{let I=G.cloneNode(!0);I.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(U=>I.removeAttribute(U)),E.appendChild(I)});let D=0;[].forEach.call(T.querySelectorAll("text tspan"),G=>{D+=Number(G.getAttribute("dy"))});let M=Ch.createElementNS(Om,"tspan");M.textContent="",Cy(M,{x:Number(g.getAttribute("x")),dy:-D}),E.appendChild(M),T.insertBefore(E,T.firstChild)}}attr(d,g,m,b){let{element:w}=this,E=Kn.symbolCustomAttribs,T,D,M=this,G;return typeof d=="string"&&g!==void 0&&(T=d,(d={})[T]=g),typeof d=="string"?M=(this[d+"Getter"]||this._defaultGetter).call(this,d,w):(bh(d,function(I,U){G=!1,b||BS(this,U),this.symbolName&&E.indexOf(U)!==-1&&(D||(this.symbolAttr(d),D=!0),G=!0),this.rotation&&(U==="x"||U==="y")&&(this.doTransform=!0),G||(this[U+"Setter"]||this._defaultSetter).call(this,I,U,w)},this),this.afterSetters()),m&&m.call(this),M}clip(d){if(d&&!d.clipPath){let g=WS()+"-",m=this.renderer.createElement("clipPath").attr({id:g}).add(this.renderer.defs);ip(d,{clipPath:m,id:g,count:0}),d.add(m)}return this.attr("clip-path",d?`url(${this.renderer.url}#${d.id})`:"none")}crisp(d,g){g=Math.round(g||d.strokeWidth||0);let m=d.x||this.x||0,b=d.y||this.y||0,w=(d.width||this.width||0)+m,E=(d.height||this.height||0)+b,T=Im(m,g),D=Im(b,g);return ip(d,{x:T,y:D,width:Im(w,g)-T,height:Im(E,g)-D}),Gl(d.strokeWidth)&&(d.strokeWidth=g),d}complexColor(d,g,m){let b=this.renderer,w,E,T,D,M,G,I,U,z,J,le=[],ae;by(this.renderer,"complexColor",{args:arguments},function(){if(d.radialGradient?E="radialGradient":d.linearGradient&&(E="linearGradient"),E){if(T=d[E],M=b.gradients,G=d.stops,z=m.radialReference,Nm(T)&&(d[E]=T={x1:T[0],y1:T[1],x2:T[2],y2:T[3],gradientUnits:"userSpaceOnUse"}),E==="radialGradient"&&z&&!Gl(T.gradientUnits)&&(D=T,T=Sy(T,b.getRadialAttr(z,D),{gradientUnits:"userSpaceOnUse"})),bh(T,function(oe,ge){ge!=="id"&&le.push(ge,oe)}),bh(G,function(oe){le.push(oe)}),M[le=le.join(",")])J=M[le].attr("id");else{T.id=J=WS();let oe=M[le]=b.createElement(E).attr(T).add(b.defs);oe.radAttr=D,oe.stops=[],G.forEach(function(ge){ge[1].indexOf("rgba")===0?(I=(w=hr.parse(ge[1])).get("rgb"),U=w.get("a")):(I=ge[1],U=1);let Ce=b.createElement("stop").attr({offset:ge[0],"stop-color":I,"stop-opacity":U}).add(oe);oe.stops.push(Ce)})}ae="url("+b.url+"#"+J+")",m.setAttribute(g,ae),m.gradient=le,d.toString=function(){return ae}}})}css(d){let g=this.styles,m={},b=this.element,w,E=!g;if(g&&bh(d,function(T,D){g&&g[D]!==T&&(m[D]=T,E=!0)}),E){g&&(d=ip(g,m)),d.width===null||d.width==="auto"?delete this.textWidth:b.nodeName.toLowerCase()==="text"&&d.width&&(w=this.textWidth=Vm(d.width)),ip(this.styles,d),w&&!GS&&this.renderer.forExport&&delete d.width;let T=bk&&d.fontSize||null;T&&(xk(T)||/^\d+$/.test(T))&&(d.fontSize+="px");let D=Sy(d);b.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(M=>D&&delete D[M]),D.color&&(D.fill=D.color,delete D.color)),HS(b,D)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),d.textOutline&&this.applyTextOutline(d.textOutline)),this}dashstyleSetter(d){let g,m=this["stroke-width"];if(m==="inherit"&&(m=1),d){let b=(d=d.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(g=b.length;g--;)b[g]=""+Vm(b[g])*Ec(m,NaN);d=b.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",d)}}destroy(){let d=this,g=d.element||{},m=d.renderer,b=g.ownerSVGElement,w=g.nodeName==="SPAN"&&d.parentGroup||void 0,E,T;if(g.onclick=g.onmouseout=g.onmouseover=g.onmousemove=g.point=null,BS(d),d.clipPath&&b){let D=d.clipPath;[].forEach.call(b.querySelectorAll("[clip-path],[CLIP-PATH]"),function(M){M.getAttribute("clip-path").indexOf(D.element.id)>-1&&M.removeAttribute("clip-path")}),d.clipPath=D.destroy()}if(d.stops){for(T=0;T<d.stops.length;T++)d.stops[T].destroy();d.stops.length=0,d.stops=void 0}for(d.safeRemoveChild(g);w!=null&&w.div&&w.div.childNodes.length===0;)E=w.parentGroup,d.safeRemoveChild(w.div),delete w.div,w=E;d.alignOptions&&$S(m.alignedObjects,d),bh(d,(D,M)=>{var G,I,U;(((G=d[M])==null?void 0:G.parentGroup)===d||["connector","foreignObject"].indexOf(M)!==-1)&&((U=(I=d[M])==null?void 0:I.destroy)==null||U.call(I)),delete d[M]})}dSetter(d,g,m){Nm(d)&&(typeof d[0]=="string"&&(d=this.renderer.pathToSegments(d)),this.pathArray=d,d=d.reduce((b,w,E)=>w!=null&&w.join?(E?b+" ":"")+w.join(" "):(w||"").toString(),"")),/(NaN| {2}|^$)/.test(d)&&(d="M 0 0"),this[g]!==d&&(m.setAttribute(g,d),this[g]=d)}fillSetter(d,g,m){typeof d=="string"?m.setAttribute(g,d):d&&this.complexColor(d,g,m)}hrefSetter(d,g,m){m.setAttributeNS("http://www.w3.org/1999/xlink",g,d)}getBBox(d,g){let m,b,w,E,{alignValue:T,element:D,renderer:M,styles:G,textStr:I}=this,{cache:U,cacheKeys:z}=M,J=D.namespaceURI===this.SVG_NS,le=Ec(g,this.rotation,0),ae=M.styledMode?D&&Kn.prototype.getStyle.call(D,"font-size"):G.fontSize;if(Gl(I)&&((E=I.toString()).indexOf("<")===-1&&(E=E.replace(/\d/g,"0")),E+=["",M.rootFontSize,ae,le,this.textWidth,T,G.lineClamp,G.textOverflow,G.fontWeight].join(",")),E&&!d&&(m=U[E]),!m||m.polygon){if(J||M.forExport){try{w=this.fakeTS&&function(ge){let Ce=D.querySelector(".highcharts-text-outline");Ce&&HS(Ce,{display:ge})},sp(w)&&w("none"),m=D.getBBox?ip({},D.getBBox()):{width:D.offsetWidth,height:D.offsetHeight,x:0,y:0},sp(w)&&w("")}catch{}(!m||m.width<0)&&(m={x:0,y:0,width:0,height:0})}else m=this.htmlGetBBox();b=m.height,J&&(m.height=b={"11px,17":14,"13px,20":16}[`${ae||""},${Math.round(b)}`]||b),le&&(m=this.getRotatedBox(m,le));let oe={bBox:m};by(this,"afterGetBBox",oe),m=oe.bBox}if(E&&(I===""||m.height>0)){for(;z.length>250;)delete U[z.shift()];U[E]||z.push(E),U[E]=m}return m}getRotatedBox(d,g){let{x:m,y:b,width:w,height:E}=d,{alignValue:T,translateY:D,rotationOriginX:M=0,rotationOriginY:G=0}=this,I=Yi(T),U=Number(this.element.getAttribute("y")||0)-(D?0:b),z=g*yy,J=(g-90)*yy,le=Math.cos(z),ae=Math.sin(z),oe=w*le,ge=w*ae,Ce=Math.cos(J),Ye=Math.sin(J),[[Ue,je],[rt,et]]=[M,G].map(Ts=>[Ts-Ts*le,Ts*ae]),it=m+I*(w-oe)+Ue+et+U*Ce,_t=it+oe,Nt=_t-E*Ce,Ht=Nt-oe,jt=b+U-I*ge-je+rt+U*Ye,fi=jt+ge,ai=fi-E*Ye,wi=ai-ge,Qt=Math.min(it,_t,Nt,Ht),Ei=Math.min(jt,fi,ai,wi),ys=Math.max(it,_t,Nt,Ht)-Qt,Cs=Math.max(jt,fi,ai,wi)-Ei;return{x:Qt,y:Ei,width:ys,height:Cs,polygon:[[it,jt],[_t,fi],[Nt,ai],[Ht,wi]]}}getStyle(d){return Ck.getComputedStyle(this.element||this,"").getPropertyValue(d)}hasClass(d){return(""+this.attr("class")).split(" ").indexOf(d)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(d,g){this.onEvents={},this.opacity=1,this.SVG_NS=Om,this.element=g==="span"||g==="body"?Sk(g):Ch.createElementNS(this.SVG_NS,g),this.renderer=d,this.styles={},by(this,"afterInit")}on(d,g){let{onEvents:m}=this;return m[d]&&m[d](),m[d]=wk(this.element,d,g),this}opacitySetter(d,g,m){let b=Number(Number(d).toFixed(3));this.opacity=b,m.setAttribute(g,b)}reAlign(){var d;(d=this.alignOptions)!=null&&d.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(d){return this.attr("class",(""+this.attr("class")).replace(wy(d)?RegExp(`(^| )${d}( |$)`):d," ").replace(/ +/g," ").trim())}removeTextOutline(){let d=this.element.querySelector("tspan.highcharts-text-outline");d&&this.safeRemoveChild(d)}safeRemoveChild(d){let g=d.parentNode;g&&g.removeChild(d)}setRadialReference(d){let g=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=d,g!=null&&g.radAttr&&g.animate(this.renderer.getRadialAttr(d,g.radAttr)),this}shadow(d){var w;let{renderer:g}=this,m=Sy(((w=this.parentGroup)==null?void 0:w.rotation)===90?{offsetX:-1,offsetY:-1}:{},Ek(d)?d:{}),b=g.shadowDefinition(m);return this.attr({filter:d?`url(${g.url}#${b})`:"none"})}show(d=!0){return this.attr({visibility:d?"inherit":"visible"})}"stroke-widthSetter"(d,g,m){this[g]=d,m.setAttribute(g,d)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let d=this.getStyle("stroke-width"),g=0,m;return/px$/.test(d)?g=Vm(d):d!==""&&(Cy(m=Ch.createElementNS(Om,"rect"),{width:d,"stroke-width":0}),this.element.parentNode.appendChild(m),g=m.getBBox().width,m.parentNode.removeChild(m)),g}symbolAttr(d){let g=this;Kn.symbolCustomAttribs.forEach(function(m){g[m]=Ec(d[m],g[m])}),g.attr({d:g.renderer.symbols[g.symbolName](g.x,g.y,g.width,g.height,g)})}textSetter(d){d!==this.textStr&&(delete this.textPxLength,this.textStr=d,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(d){let g=this.element,m=g.getElementsByTagName("title")[0]||Ch.createElementNS(this.SVG_NS,"title");g.insertBefore?g.insertBefore(m,g.firstChild):g.appendChild(m),m.textContent=F2(Ec(d,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let d=this.element;return d.parentNode.appendChild(d),this}translate(d,g){return this.attr({translateX:d,translateY:g})}updateTransform(d="transform"){let{element:g,foreignObject:m,matrix:b,padding:w,rotation:E=0,rotationOriginX:T,rotationOriginY:D,scaleX:M,scaleY:G,text:I,translateX:U=0,translateY:z=0}=this,J=["translate("+U+","+z+")"];Gl(b)&&J.push("matrix("+b.join(",")+")"),E&&(J.push("rotate("+E+" "+(T??g.getAttribute("x")??this.x??0)+" "+(D??g.getAttribute("y")??this.y??0)+")"),(I==null?void 0:I.element.tagName)!=="SPAN"||I!=null&&I.foreignObject||I.attr({rotation:E,rotationOriginX:(T||0)-w,rotationOriginY:(D||0)-w})),(Gl(M)||Gl(G))&&J.push("scale("+Ec(M,1)+" "+Ec(G,1)+")"),J.length&&!(I||this).textPath&&((m==null?void 0:m.element)||g).setAttribute(d,J.join(" "))}visibilitySetter(d,g,m){d==="inherit"?m.removeAttribute(g):this[g]!==d&&m.setAttribute(g,d),this[g]=d}xGetter(d){return this.element.nodeName==="circle"&&(d==="x"?d="cx":d==="y"&&(d="cy")),this._defaultGetter(d)}zIndexSetter(d,g){let m=this.renderer,b=this.parentGroup,w=(b||m).element||m.box,E=this.element,T=w===m.box,D,M,G,I=!1,U,z=this.added,J;if(Gl(d)?(E.setAttribute("data-z-index",d),d*=1,this[g]===d&&(z=!1)):Gl(this[g])&&E.removeAttribute("data-z-index"),this[g]=d,z){for((d=this.zIndex)&&b&&(b.handleZ=!0),J=(D=w.childNodes).length-1;J>=0&&!I;J--)U=!Gl(G=(M=D[J]).getAttribute("data-z-index")),M!==E&&(d<0&&U&&!T&&!J?(w.insertBefore(E,D[J]),I=!0):(Vm(G)<=d||U&&(!Gl(d)||d>=0))&&(w.insertBefore(E,D[J+1]),I=!0));I||(w.insertBefore(E,D[3*!!T]),I=!0)}return I}}Kn.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Kn.prototype.strokeSetter=Kn.prototype.fillSetter,Kn.prototype.yGetter=Kn.prototype.xGetter,Kn.prototype.matrixSetter=Kn.prototype.rotationOriginXSetter=Kn.prototype.rotationOriginYSetter=Kn.prototype.rotationSetter=Kn.prototype.scaleXSetter=Kn.prototype.scaleYSetter=Kn.prototype.translateXSetter=Kn.prototype.translateYSetter=Kn.prototype.verticalAlignSetter=function(L,d){this[d]=L,this.doTransform=!0};let Hl=Kn,{defined:US,extend:Ak,getAlignFactor:zS,isNumber:rp,merge:kk,pick:Bm,removeEvent:jS}=de;class ud extends Hl{constructor(d,g,m,b,w,E,T,D,M,G){let I;super(d,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=g,this.x=m,this.y=b,this.anchorX=E,this.anchorY=T,this.baseline=M,this.className=G,this.addClass(G==="button"?"highcharts-no-tooltip":"highcharts-label"),G&&this.addClass("highcharts-"+G),this.text=d.text(void 0,0,0,D).attr({zIndex:1}),typeof w=="string"&&((I=/^url\((.*?)\)$/.test(w))||this.renderer.symbols[w])&&(this.symbolKey=w),this.bBox=ud.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=d.styledMode||I,this.deferredAttr={},this.alignFactor=0}alignSetter(d){let g=zS(d);this.textAlign=d,g!==this.alignFactor&&(this.alignFactor=g,this.bBox&&rp(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(d,g){this.anchorX=d,this.boxAttr(g,Math.round(d)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(d,g){this.anchorY=d,this.boxAttr(g,d-this.ySetting)}boxAttr(d,g){this.box?this.box.attr(d,g):this.deferredAttr[d]=g}css(d){if(d){let g={};d=kk(d),ud.textProps.forEach(m=>{d[m]!==void 0&&(g[m]=d[m],delete d[m])}),this.text.css(g),"fontSize"in g||"fontWeight"in g?this.updateTextPadding():("width"in g||"textOverflow"in g)&&this.updateBoxSize()}return Hl.prototype.css.call(this,d)}destroy(){jS(this.element,"mouseenter"),jS(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Hl.prototype.destroy.call(this)}fillSetter(d,g){d&&(this.needsBox=!0),this.fill=d,this.boxAttr(g,d)}getBBox(d,g){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:m,height:b=0,translateX:w=0,translateY:E=0,width:T=0}=this,D=Bm(this.paddingLeft,m),M=g??(this.rotation||0),G={width:T,height:b,x:w+this.bBox.x-D,y:E+this.bBox.y-m+this.baselineOffset};return M&&(G=this.getRotatedBox(G,M)),G}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(d){this.heightSetting=d,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Bm(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&US(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(d,g){rp(d)?d!==this[g]&&(this[g]=d,this.updateTextPadding()):this[g]=void 0}rSetter(d,g){this.boxAttr(g,d)}strokeSetter(d,g){this.stroke=d,this.boxAttr(g,d)}"stroke-widthSetter"(d,g){d&&(this.needsBox=!0),this["stroke-width"]=d,this.boxAttr(g,d)}"text-alignSetter"(d){this.textAlign=this["text-align"]=d,this.updateTextPadding()}textSetter(d){d!==void 0&&this.text.attr({text:d}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let d,g=this.text,m={},b=this.padding,w=this.bBox=(!rp(this.widthSetting)||!rp(this.heightSetting)||this.textAlign)&&US(g.textStr)?g.getBBox(void 0,0):ud.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||w.height||0)+2*b;let E=this.renderer.fontMetrics(g);if(this.baselineOffset=b+Math.min((this.text.firstLineMetrics||E).b,w.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-E.h)/2),this.needsBox&&!g.textPath){if(!this.box){let T=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();T.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),T.add(this)}m.x=d=this.getCrispAdjust(),m.y=(this.baseline?-this.baselineOffset:0)+d,m.width=Math.round(this.width),m.height=Math.round(this.height),this.box.attr(Ak(m,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let d=this.text,g=d.styles.textAlign||this.textAlign;if(!d.textPath){this.updateBoxSize();let m=this.baseline?0:this.baselineOffset,b=(this.paddingLeft??this.padding)+zS(g)*(this.widthSetting??this.bBox.width);(b!==d.x||m!==d.y)&&(d.attr({align:g,x:b}),m!==void 0&&d.attr("y",m)),d.x=b,d.y=m}}widthSetter(d){this.widthSetting=rp(d)?d:void 0,this.doUpdate=!0}getPaddedWidth(){let d=this.padding,g=Bm(this.paddingLeft,d),m=Bm(this.paddingRight,d);return(this.widthSetting||this.bBox.width||0)+g+m}xSetter(d){this.x=d,this.alignFactor&&(d-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(d),this.attr("translateX",this.xSetting)}ySetter(d){this.ySetting=this.y=Math.round(d),this.attr("translateY",this.ySetting)}}ud.emptyBBox={width:0,height:0,x:0,y:0},ud.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:KS,isNumber:Dk,pick:np}=de;function YS(L,d,g,m,b){let w=[];if(b){let E=b.start||0,T=b.end||0,D=np(b.r,g),M=np(b.r,m||g),G=2e-4/(b.borderRadius?1:Math.max(D,1)),I=Math.abs(T-E-2*Math.PI)<G;I&&(E=Math.PI/2,T=2.5*Math.PI-G);let U=b.innerR,z=np(b.open,I),J=Math.cos(E),le=Math.sin(E),ae=Math.cos(T),oe=Math.sin(T),ge=np(b.longArc,T-E-Math.PI<G?0:1),Ce=["A",D,M,0,ge,np(b.clockwise,1),L+D*ae,d+M*oe];Ce.params={start:E,end:T,cx:L,cy:d},w.push(["M",L+D*J,d+M*le],Ce),KS(U)&&((Ce=["A",U,U,0,ge,KS(b.clockwise)?1-b.clockwise:0,L+U*J,d+U*le]).params={start:T,end:E,cx:L,cy:d},w.push(z?["M",L+U*ae,d+U*oe]:["L",L+U*ae,d+U*oe],Ce)),z||w.push(["Z"])}return w}function XS(L,d,g,m,b){return b!=null&&b.r?xy(L,d,g,m,b):[["M",L,d],["L",L+g,d],["L",L+g,d+m],["L",L,d+m],["Z"]]}function xy(L,d,g,m,b){let w=(b==null?void 0:b.r)||0;return[["M",L+w,d],["L",L+g-w,d],["A",w,w,0,0,1,L+g,d+w],["L",L+g,d+m-w],["A",w,w,0,0,1,L+g-w,d+m],["L",L+w,d+m],["A",w,w,0,0,1,L,d+m-w],["L",L,d+w],["A",w,w,0,0,1,L+w,d],["Z"]]}let Yn={arc:YS,callout:function(L,d,g,m,b){let w=Math.min((b==null?void 0:b.r)||0,g,m),E=w+6,T=b==null?void 0:b.anchorX,D=(b==null?void 0:b.anchorY)||0,M=xy(L,d,g,m,{r:w});if(!Dk(T)||T<g&&T>0&&D<m&&D>0)return M;if(L+T>g-E)if(D>d+E&&D<d+m-E)M.splice(3,1,["L",L+g,D-6],["L",L+g+6,D],["L",L+g,D+6],["L",L+g,d+m-w]);else if(T<g){let G=D<d+E,I=G?d:d+m;M.splice(G?2:5,0,["L",T,D],["L",L+g-w,I])}else M.splice(3,1,["L",L+g,m/2],["L",T,D],["L",L+g,m/2],["L",L+g,d+m-w]);else if(L+T<E)if(D>d+E&&D<d+m-E)M.splice(7,1,["L",L,D+6],["L",L-6,D],["L",L,D-6],["L",L,d+w]);else if(T>0){let G=D<d+E,I=G?d:d+m;M.splice(G?1:6,0,["L",T,D],["L",L+w,I])}else M.splice(7,1,["L",L,m/2],["L",T,D],["L",L,m/2],["L",L,d+w]);else D>m&&T<g-E?M.splice(5,1,["L",T+6,d+m],["L",T,d+m+6],["L",T-6,d+m],["L",L+w,d+m]):D<0&&T>E&&M.splice(1,1,["L",T-6,d],["L",T,d-6],["L",T+6,d],["L",g-w,d]);return M},circle:function(L,d,g,m){return YS(L+g/2,d+m/2,g/2,m/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(L,d,g,m){return[["M",L+g/2,d],["L",L+g,d+m/2],["L",L+g/2,d+m],["L",L,d+m/2],["Z"]]},rect:XS,roundedRect:xy,square:XS,triangle:function(L,d,g,m){return[["M",L+g/2,d],["L",L+g,d+m],["L",L,d+m],["Z"]]},"triangle-down":function(L,d,g,m){return[["M",L,d],["L",L+g,d],["L",L+g/2,d+m],["Z"]]}},{doc:op,SVG_NS:Rk,win:re}=F,{attr:W,extend:se,fireEvent:Pe,isString:ze,objectEach:Pt,pick:qt}=de,Ci=(L,d)=>L.substring(0,d)+"",qi=class{constructor(L){let d=L.styles;this.renderer=L.renderer,this.svgElement=L,this.width=L.textWidth,this.textLineHeight=d==null?void 0:d.lineHeight,this.textOutline=d==null?void 0:d.textOutline,this.ellipsis=(d==null?void 0:d.textOverflow)==="ellipsis",this.lineClamp=d==null?void 0:d.lineClamp,this.noWrap=(d==null?void 0:d.whiteSpace)==="nowrap"}buildSVG(){let L=this.svgElement,d=L.element,g=L.renderer,m=qt(L.textStr,"").toString(),b=m.indexOf("<")!==-1,w=d.childNodes,E=!L.added&&g.box,T=[m,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,L.getStyle("font-size"),L.styles.lineClamp,this.width].join(",");if(T!==L.textCache){L.textCache=T,delete L.actualWidth;for(let D=w.length;D--;)d.removeChild(w[D]);if(b||this.ellipsis||this.width||L.textPath||m.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(m))){if(m!==""){E&&E.appendChild(d);let D=new ds(m);this.modifyTree(D.nodes),D.addToDOM(d),this.modifyDOM(),this.ellipsis&&(d.textContent||"").indexOf("")!==-1&&L.attr("title",this.unescapeEntities(L.textStr||"",["&lt;","&gt;"])),E&&E.removeChild(d)}}else d.appendChild(op.createTextNode(this.unescapeEntities(m)));ze(this.textOutline)&&L.applyTextOutline&&L.applyTextOutline(this.textOutline)}}modifyDOM(){let L,d=this.svgElement,g=W(d.element,"x");for(d.firstLineMetrics=void 0;(L=d.element.firstChild)&&/^[\s\u200B]*$/.test(L.textContent||" ");)d.element.removeChild(L);[].forEach.call(d.element.querySelectorAll("tspan.highcharts-br"),(E,T)=>{E.nextSibling&&E.previousSibling&&(T===0&&E.previousSibling.nodeType===1&&(d.firstLineMetrics=d.renderer.fontMetrics(E.previousSibling)),W(E,{dy:this.getLineHeight(E.nextSibling),x:g}))});let m=this.width||0;if(!m)return;let b=(E,T)=>{var le;let D=E.textContent||"",M=D.replace(/([^\^])-/g,"$1- ").split(" "),G=!this.noWrap&&(M.length>1||d.element.childNodes.length>1),I=this.getLineHeight(T),U=Math.max(0,m-.8*I),z=0,J=d.actualWidth;if(G){let ae=[],oe=[];for(;T.firstChild&&T.firstChild!==E;)oe.push(T.firstChild),T.removeChild(T.firstChild);for(;M.length;)if(M.length&&!this.noWrap&&z>0&&(ae.push(E.textContent||""),E.textContent=M.join(" ").replace(/- /g,"-")),this.truncate(E,void 0,M,z===0&&J||0,m,U,(ge,Ce)=>M.slice(0,Ce).join(" ").replace(/- /g,"-")),J=d.actualWidth,z++,this.lineClamp&&z>=this.lineClamp){M.length&&(this.truncate(E,E.textContent||"",void 0,0,m,U,Ci),E.textContent=((le=E.textContent)==null?void 0:le.replace("",""))+"");break}oe.forEach(ge=>{T.insertBefore(ge,E)}),ae.forEach(ge=>{T.insertBefore(op.createTextNode(ge),E);let Ce=op.createElementNS(Rk,"tspan");Ce.textContent="",W(Ce,{dy:I,x:g}),T.insertBefore(Ce,E)})}else this.ellipsis&&D&&this.truncate(E,D,void 0,0,m,U,Ci)},w=E=>{[].slice.call(E.childNodes).forEach(T=>{T.nodeType===re.Node.TEXT_NODE?b(T,E):(T.className.baseVal.indexOf("highcharts-br")!==-1&&(d.actualWidth=0),w(T))})};w(d.element)}getLineHeight(L){let d=L.nodeType===re.Node.TEXT_NODE?L.parentElement:L;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(d||this.svgElement.element).h}modifyTree(L){let d=(g,m)=>{let{attributes:b={},children:w,style:E={},tagName:T}=g,D=this.renderer.styledMode;if(T==="b"||T==="strong"?D?b.class="highcharts-strong":E.fontWeight="bold":(T==="i"||T==="em")&&(D?b.class="highcharts-emphasized":E.fontStyle="italic"),E!=null&&E.color&&(E.fill=E.color),T==="br"){b.class="highcharts-br",g.textContent="";let M=L[m+1];M!=null&&M.textContent&&(M.textContent=M.textContent.replace(/^ +/gm,""))}else T==="a"&&w&&w.some(M=>M.tagName==="#text")&&(g.children=[{children:w,tagName:"tspan"}]);T!=="#text"&&T!=="a"&&(g.tagName="tspan"),se(g,{attributes:b,style:E}),w&&w.filter(M=>M.tagName!=="#text").forEach(d)};L.forEach(d),Pe(this.svgElement,"afterModifyTree",{nodes:L})}truncate(L,d,g,m,b,w,E){let T,D,M=this.svgElement,{rotation:G}=M,I=[],U=g&&!m?1:0,z=(d||g||"").length,J=z;g||(b=w);let le=function(ae,oe){let ge=oe||ae,Ce=L.parentNode;if(Ce&&I[ge]===void 0&&Ce.getSubStringLength)try{I[ge]=m+Ce.getSubStringLength(0,g?ge+1:ge)}catch{}return I[ge]};if(M.rotation=0,m+(D=le(L.textContent.length))>b){for(;U<=z;)J=Math.ceil((U+z)/2),g&&(T=E(g,J)),D=le(J,T&&T.length-1),U===z?U=z+1:D>b?z=J-1:U=J;z===0?L.textContent="":d&&z===d.length-1||(L.textContent=T||E(d||g,J)),this.ellipsis&&D>b&&this.truncate(L,L.textContent||"",void 0,0,b,w,Ci)}g&&g.splice(0,J),M.actualWidth=D,M.rotation=G}unescapeEntities(L,d){return Pt(this.renderer.escapes,function(g,m){d&&d.indexOf(g)!==-1||(L=L.toString().replace(RegExp(g,"g"),m))}),L}},{defaultOptions:Bs}=Ls,{charts:sr,deg2rad:hn,doc:_c,isFirefox:qS,isMS:Ey,isWebKit:Pk,noop:QS,SVG_NS:Fk,symbolSizes:Gm,win:_y}=F,{addEvent:Hm,attr:ap,createElement:JS,crisp:Ty,css:wh,defined:Tc,destroyObjectProperties:ZS,extend:dd,isArray:Mk,isNumber:Sh,isObject:lp,isString:ex,merge:Lk,pick:Ok,pInt:XZ,replaceNested:qZ,uniqueKey:QZ}=de;class tx{constructor(d,g,m,b,w,E,T){let D,M;this.x=0,this.y=0;let G=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),I=G.element;T||G.css(this.getStyle(b||{})),d.appendChild(I),ap(d,"dir","ltr"),d.innerHTML.indexOf("xmlns")===-1&&ap(I,"xmlns",this.SVG_NS),this.box=I,this.boxWrapper=G,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(_c.createTextNode("Created with Highcharts 12.3.0")),this.defs=this.createElement("defs").add(),this.allowHTML=E,this.forExport=w,this.styledMode=T,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=G.getStyle("font-size"),this.setSize(g,m,!1),qS&&d.getBoundingClientRect&&((D=function(){wh(d,{left:0,top:0}),M=d.getBoundingClientRect(),wh(d,{left:Math.ceil(M.left)-M.left+"px",top:Math.ceil(M.top)-M.top+"px"})})(),this.unSubPixelFix=Hm(_y,"resize",D))}definition(d){return new ds([d]).addToDOM(this.defs.element)}getReferenceURL(){if((qS||Pk)&&_c.getElementsByTagName("base").length){if(!Tc(s)){let d=QZ(),g=new ds([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:d},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${d})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(_c.body);wh(g,{position:"fixed",top:0,left:0,zIndex:9e5});let m=_c.elementFromPoint(6,6);s=(m==null?void 0:m.id)==="hitme",_c.body.removeChild(g)}if(s)return qZ(_y.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(d){return this.style=dd({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},d),this.style}setStyle(d){this.boxWrapper.css(this.getStyle(d))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let d=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),ZS(this.gradients||{}),this.gradients=null,this.defs=d.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(d){return new this.Element(this,d)}getRadialAttr(d,g){return{cx:d[0]-d[2]/2+(g.cx||0)*d[2],cy:d[1]-d[2]/2+(g.cy||0)*d[2],r:(g.r||0)*d[2]}}shadowDefinition(d){let g=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(d).map(b=>`${b}-${d[b]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),m=Lk({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},d);return this.defs.element.querySelector(`#${g}`)||this.definition({tagName:"filter",attributes:{id:g,filterUnits:m.filterUnits},children:this.getShadowFilterContent(m)}),g}getShadowFilterContent(d){return[{tagName:"feDropShadow",attributes:{dx:d.offsetX,dy:d.offsetY,"flood-color":d.color,"flood-opacity":Math.min(5*d.opacity,1),stdDeviation:d.width/2}}]}buildText(d){new qi(d).buildSVG()}getContrast(d){if(d==="transparent")return"#000000";let g=hr.parse(d).rgba,m=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Sh(g[0])||!hr.useColorMix){let b=g.map(E=>{let T=E/255;return T<=.04?T/12.92:Math.pow((T+.055)/1.055,2.4)}),w=.2126*b[0]+.7152*b[1]+.0722*b[2];return 1.05/(w+.05)>(w+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+d+" srgb"+m+m+m+")"}button(d,g,m,b,w={},E,T,D,M,G){let I=this.label(d,g,m,M,void 0,void 0,G,void 0,"button"),U=this.styledMode,z=arguments,J=0;w=Lk(Bs.global.buttonTheme,w),U&&(delete w.fill,delete w.stroke,delete w["stroke-width"]);let le=w.states||{},ae=w.style||{};delete w.states,delete w.style;let oe=[ds.filterUserAttributes(w)],ge=[ae];return U||["hover","select","disabled"].forEach((Ce,Ye)=>{oe.push(Lk(oe[0],ds.filterUserAttributes(z[Ye+5]||le[Ce]||{}))),ge.push(oe[Ye+1].style),delete oe[Ye+1].style}),Hm(I.element,Ey?"mouseover":"mouseenter",function(){J!==3&&I.setState(1)}),Hm(I.element,Ey?"mouseout":"mouseleave",function(){J!==3&&I.setState(J)}),I.setState=(Ce=0)=>{if(Ce!==1&&(I.state=J=Ce),I.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Ce]),!U){I.attr(oe[Ce]);let Ye=ge[Ce];lp(Ye)&&I.css(Ye)}},I.attr(oe[0]),!U&&(I.css(dd({cursor:"default"},ae)),G&&I.text.css({pointerEvents:"none"})),I.on("touchstart",Ce=>Ce.stopPropagation()).on("click",function(Ce){J!==3&&(b==null||b.call(I,Ce))})}crispLine(d,g){let[m,b]=d;return Tc(m[1])&&m[1]===b[1]&&(m[1]=b[1]=Ty(m[1],g)),Tc(m[2])&&m[2]===b[2]&&(m[2]=b[2]=Ty(m[2],g)),d}path(d){let g=this.styledMode?{}:{fill:"none"};return Mk(d)?g.d=d:lp(d)&&dd(g,d),this.createElement("path").attr(g)}circle(d,g,m){let b=lp(d)?d:d===void 0?{}:{x:d,y:g,r:m},w=this.createElement("circle");return w.xSetter=w.ySetter=function(E,T,D){D.setAttribute("c"+T,E)},w.attr(b)}arc(d,g,m,b,w,E){let T;lp(d)?(g=(T=d).y,m=T.r,b=T.innerR,w=T.start,E=T.end,d=T.x):T={innerR:b,start:w,end:E};let D=this.symbol("arc",d,g,m,m,T);return D.r=m,D}rect(d,g,m,b,w,E){let T=lp(d)?d:d===void 0?{}:{x:d,y:g,r:w,width:Math.max(m||0,0),height:Math.max(b||0,0)},D=this.createElement("rect");return this.styledMode||(E!==void 0&&(T["stroke-width"]=E,dd(T,D.crisp(T))),T.fill="none"),D.rSetter=function(M,G,I){D.r=M,ap(I,{rx:M,ry:M})},D.rGetter=function(){return D.r||0},D.attr(T)}roundedRect(d){return this.symbol("roundedRect").attr(d)}setSize(d,g,m){this.width=d,this.height=g,this.boxWrapper.animate({width:d,height:g},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Ok(m,!0)?void 0:0}),this.alignElements()}g(d){let g=this.createElement("g");return d?g.attr({class:"highcharts-"+d}):g}image(d,g,m,b,w,E){let T={preserveAspectRatio:"none"};Sh(g)&&(T.x=g),Sh(m)&&(T.y=m),Sh(b)&&(T.width=b),Sh(w)&&(T.height=w);let D=this.createElement("image").attr(T),M=function(G){D.attr({href:d}),E.call(D,G)};if(E){D.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let G=new _y.Image;Hm(G,"load",M),G.src=d,G.complete&&M({})}else D.attr({href:d});return D}symbol(d,g,m,b,w,E){var ae,oe;let T,D,M,G,I=this,U=/^url\((.*?)\)$/,z=U.test(d),J=!z&&(this.symbols[d]?d:"circle"),le=J&&this.symbols[J];if(le)typeof g=="number"&&(D=le.call(this.symbols,g||0,m||0,b||0,w||0,E)),T=this.path(D),I.styledMode||T.attr("fill","none"),dd(T,{symbolName:J||void 0,x:g,y:m,width:b,height:w}),E&&dd(T,E);else if(z){M=d.match(U)[1];let ge=T=this.image(M);ge.imgwidth=Ok(E==null?void 0:E.width,(ae=Gm[M])==null?void 0:ae.width),ge.imgheight=Ok(E==null?void 0:E.height,(oe=Gm[M])==null?void 0:oe.height),G=Ce=>Ce.attr({width:Ce.width,height:Ce.height}),["width","height"].forEach(Ce=>{ge[`${Ce}Setter`]=function(Ye,Ue){this[Ue]=Ye;let{alignByTranslate:je,element:rt,width:et,height:it,imgwidth:_t,imgheight:Nt}=this,Ht=Ue==="width"?_t:Nt,jt=1;E&&E.backgroundSize==="within"&&et&&it&&_t&&Nt?(jt=Math.min(et/_t,it/Nt),ap(rt,{width:Math.round(_t*jt),height:Math.round(Nt*jt)})):rt&&Ht&&rt.setAttribute(Ue,Ht),!je&&_t&&Nt&&this.translate(((et||0)-_t*jt)/2,((it||0)-Nt*jt)/2)}}),Tc(g)&&ge.attr({x:g,y:m}),ge.isImg=!0,ge.symbolUrl=d,Tc(ge.imgwidth)&&Tc(ge.imgheight)?G(ge):(ge.attr({width:0,height:0}),JS("img",{onload:function(){let Ce=sr[I.chartIndex];this.width===0&&(wh(this,{position:"absolute",top:"-999em"}),_c.body.appendChild(this)),Gm[M]={width:this.width,height:this.height},ge.imgwidth=this.width,ge.imgheight=this.height,ge.element&&G(ge),this.parentNode&&this.parentNode.removeChild(this),I.imgCount--,I.imgCount||!Ce||Ce.hasLoaded||Ce.onload()},src:M}),this.imgCount++)}return T}clipRect(d,g,m,b){return this.rect(d,g,m,b,0)}text(d,g,m,b){let w={};if(b&&(this.allowHTML||!this.forExport))return this.html(d,g,m);w.x=Math.round(g||0),m&&(w.y=Math.round(m)),Tc(d)&&(w.text=d);let E=this.createElement("text").attr(w);return b&&(!this.forExport||this.allowHTML)||(E.xSetter=function(T,D,M){let G=M.getElementsByTagName("tspan"),I=M.getAttribute(D);for(let U=0,z;U<G.length;U++)(z=G[U]).getAttribute(D)===I&&z.setAttribute(D,T);M.setAttribute(D,T)}),E}fontMetrics(d){let g=XZ(Hl.prototype.getStyle.call(d,"font-size")||0),m=g<24?g+3:Math.round(1.2*g),b=Math.round(.8*m);return{h:m,b,f:g}}rotCorr(d,g,m){let b=d;return g&&m&&(b=Math.max(b*Math.cos(g*hn),4)),{x:-d/3*Math.sin(g*hn),y:b}}pathToSegments(d){let g=[],m=[],b={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let w=0;w<d.length;w++)ex(m[0])&&Sh(d[w])&&m.length===b[m[0].toUpperCase()]&&d.splice(w,0,m[0].replace("M","L").replace("m","l")),typeof d[w]=="string"&&(m.length&&g.push(m.slice(0)),m.length=0),m.push(d[w]);return g.push(m.slice(0)),g}label(d,g,m,b,w,E,T,D,M){return new ud(this,d,g,m,b,w,E,T,D,M)}alignElements(){this.alignedObjects.forEach(d=>d.align())}}dd(tx.prototype,{Element:Hl,SVG_NS:Fk,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Yn,draw:QS}),tp.registerRendererType("svg",tx,!0);let{composed:JZ,isFirefox:ZZ}=F,{attr:eee,css:xh,createElement:tee,defined:M2,extend:iee,getAlignFactor:see,isNumber:ix,pInt:ree,pushUnique:nee}=de;function L2(L,d,g){var b;let m=(b=this.div)==null?void 0:b.style;Hl.prototype[`${d}Setter`].call(this,L,d,g),m&&(g.style[d]=m[d]=L)}let oee=(L,d)=>{var g;if(!L.div){let m=eee(L.element,"class"),b=L.css,w=tee("div",m?{className:m}:void 0,{position:"absolute",left:`${L.translateX||0}px`,top:`${L.translateY||0}px`,...L.styles,display:L.display,opacity:L.opacity,visibility:L.visibility},((g=L.parentGroup)==null?void 0:g.div)||d);L.classSetter=(E,T,D)=>{D.setAttribute("class",E),w.className=E},L.translateXSetter=L.translateYSetter=(E,T)=>{L[T]=E,w.style[T==="translateX"?"left":"top"]=`${E}px`,L.doTransform=!0},L.scaleXSetter=L.scaleYSetter=(E,T)=>{L[T]=E,L.doTransform=!0},L.opacitySetter=L.visibilitySetter=L2,L.css=E=>(b.call(L,E),E.cursor&&(w.style.cursor=E.cursor),E.pointerEvents&&(w.style.pointerEvents=E.pointerEvents),L),L.on=function(){return Hl.prototype.on.apply({element:w,onEvents:L.onEvents},arguments),L},L.div=w}return L.div};class $m extends Hl{static compose(d){nee(JZ,this.compose)&&(d.prototype.html=function(g,m,b){return new $m(this,"span").attr({text:g,x:Math.round(m),y:Math.round(b)})})}constructor(d,g){super(d,g),$m.useForeignObject?this.foreignObject=d.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...d.styledMode?{}:{fontFamily:d.style.fontFamily,fontSize:d.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(d,g,m){this.xCorr=-d*m,this.yCorr=-g}css(d){let g,{element:m}=this,b=m.tagName==="SPAN"&&d&&"width"in d,w=b&&d.width;return b&&(delete d.width,this.textWidth=ree(w)||void 0,g=!0),(d==null?void 0:d.textOverflow)==="ellipsis"&&(d.overflow="hidden",d.whiteSpace="nowrap"),d!=null&&d.lineClamp&&(d.display="-webkit-box",d.WebkitLineClamp=d.lineClamp,d.WebkitBoxOrient="vertical",d.overflow="hidden"),ix(Number(d==null?void 0:d.fontSize))&&(d.fontSize+="px"),iee(this.styles,d),xh(m,d),g&&this.updateTransform(),this}htmlGetBBox(){let{element:d}=this;return{x:d.offsetLeft,y:d.offsetTop,width:d.offsetWidth,height:d.offsetHeight}}updateTransform(){var ge;if(!this.added){this.alignOnAdd=!0;return}let{element:d,foreignObject:g,oldTextWidth:m,renderer:b,rotation:w,rotationOriginX:E,rotationOriginY:T,scaleX:D,scaleY:M,styles:{display:G="inline-block",whiteSpace:I},textAlign:U="left",textWidth:z,translateX:J=0,translateY:le=0,x:ae=0,y:oe=0}=this;if(g||xh(d,{marginLeft:`${J}px`,marginTop:`${le}px`}),d.tagName==="SPAN"){let Ce,Ye=[w,U,d.innerHTML,z,this.textAlign].join(","),Ue=-(((ge=this.parentGroup)==null?void 0:ge.padding)*1)||0;if(z!==m){let it=this.textPxLength?this.textPxLength:(xh(d,{width:"",whiteSpace:I||"nowrap"}),d.offsetWidth),_t=z||0,Nt=d.style.textOverflow===""&&d.style.webkitLineClamp;(_t>m||it>_t||Nt)&&(/[\-\s\u00AD]/.test(d.textContent||d.innerText)||d.style.textOverflow==="ellipsis")&&(xh(d,{width:(w||D||it>_t||Nt)&&ix(z)?z+"px":"auto",display:G,whiteSpace:I||"normal"}),this.oldTextWidth=z)}g&&(xh(d,{display:"inline-block",verticalAlign:"top"}),g.attr({width:b.width,height:b.height})),Ye!==this.cTT&&(Ce=b.fontMetrics(d).b,M2(w)&&!g&&(w!==(this.oldRotation||0)||U!==this.oldAlign)&&xh(d,{transform:`rotate(${w}deg)`,transformOrigin:`${Ue}% ${Ue}px`}),this.getSpanCorrection(!M2(w)&&!this.textWidth&&this.textPxLength||d.offsetWidth,Ce,see(U)));let{xCorr:je=0,yCorr:rt=0}=this,et={left:`${ae+je}px`,top:`${oe+rt}px`,textAlign:U,transformOrigin:`${(E??ae)-je-ae-Ue}px ${(T??oe)-rt-oe-Ue}px`};(D||M)&&(et.transform=`scale(${D??1},${M??1})`),g?(super.updateTransform(),ix(ae)&&ix(oe)?(g.attr({x:ae+je,y:oe+rt,width:d.offsetWidth+3,height:d.offsetHeight,"transform-origin":d.getAttribute("transform-origin")||"0 0"}),xh(d,{display:G,textAlign:U})):ZZ&&g.attr({width:0,height:0})):xh(d,et),this.cTT=Ye,this.oldRotation=w,this.oldAlign=U}}add(d){let{foreignObject:g,renderer:m}=this,b=m.box.parentNode,w=[];if(g)g.add(d),super.add(m.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(g));else{let E;if(this.parentGroup=d,d&&!(E=d.div)){let T=d;for(;T;)w.push(T),T=T.parentGroup;for(let D of w.reverse())E=oee(D,b)}(E||b).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(d){d!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,ds.setElementHTML(this.element,d??""),this.textStr=d,this.doTransform=!0)}alignSetter(d){this.alignValue=this.textAlign=d,this.doTransform=!0}xSetter(d,g){this[g]=d,this.doTransform=!0}}let cp=$m.prototype;cp.visibilitySetter=cp.opacitySetter=L2,cp.ySetter=cp.rotationSetter=cp.rotationOriginXSetter=cp.rotationOriginYSetter=cp.xSetter,function(L){L.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},L.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:d}=this.axis.chart;return d(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(a||(a={}));let aee=a,{addEvent:lee,isFunction:cee,objectEach:uee,removeEvent:dee}=de;(l||(l={})).registerEventOptions=function(L,d){L.eventOptions=L.eventOptions||{},uee(d.events,function(g,m){L.eventOptions[m]!==g&&(L.eventOptions[m]&&(dee(L,m,L.eventOptions[m]),delete L.eventOptions[m]),cee(g)&&(L.eventOptions[m]=g,lee(L,m,g,{order:0})))})};let sx=l,{deg2rad:Ik}=F,{clamp:hee,correctFloat:rx,defined:Nk,destroyObjectProperties:fee,extend:O2,fireEvent:Ay,getAlignFactor:pee,isNumber:nx,merge:gee,objectEach:mee,pick:du}=de,Wm=class{constructor(L,d,g,m,b){this.isNew=!0,this.isNewLabel=!0,this.axis=L,this.pos=d,this.type=g||"",this.parameters=b||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Ay(this,"init"),g||m||this.addLabel()}addLabel(){var rt,et;let L=this,d=L.axis,g=d.options,m=d.chart,b=d.categories,w=d.logarithmic,E=d.names,T=L.pos,D=du((rt=L.options)==null?void 0:rt.labels,g.labels),M=d.tickPositions,G=T===M[0],I=T===M[M.length-1],U=(!D.step||D.step===1)&&d.tickInterval===1,z=M.info,J=L.label,le,ae,oe,ge=this.parameters.category||(b?du(b[T],E[T],T):T);w&&nx(ge)&&(ge=rx(w.lin2log(ge))),d.dateTime&&(z?le=(ae=m.time.resolveDTLFormat(g.dateTimeLabelFormats[!((et=g.grid)!=null&&et.enabled)&&z.higherRanks[T]||z.unitName])).main:nx(ge)&&(le=d.dateTime.getXDateFormat(ge,g.dateTimeLabelFormats||{}))),L.isFirst=G,L.isLast=I;let Ce={axis:d,chart:m,dateTimeLabelFormat:le,isFirst:G,isLast:I,pos:T,tick:L,tickPositionInfo:z,value:ge};Ay(this,"labelFormat",Ce);let Ye=it=>D.formatter?D.formatter.call(it,it):D.format?(it.text=d.defaultLabelFormatter.call(it),Va.format(D.format,it,m)):d.defaultLabelFormatter.call(it),Ue=Ye.call(Ce,Ce),je=ae==null?void 0:ae.list;je?L.shortenLabel=function(){for(oe=0;oe<je.length;oe++)if(O2(Ce,{dateTimeLabelFormat:je[oe]}),J.attr({text:Ye.call(Ce,Ce)}),J.getBBox().width<d.getSlotWidth(L)-2*(D.padding||0))return;J.attr({text:""})}:L.shortenLabel=void 0,U&&d._addedPlotLB&&L.moveLabel(Ue,D),Nk(J)||L.movedLabel?J&&J.textStr!==Ue&&!U&&(!J.textWidth||D.style.width||J.styles.width||J.css({width:null}),J.attr({text:Ue}),J.textPxLength=J.getBBox().width):(L.label=J=L.createLabel(Ue,D),L.rotation=0)}createLabel(L,d,g){let m=this.axis,{renderer:b,styledMode:w}=m.chart,E=d.style.whiteSpace,T=Nk(L)&&d.enabled?b.text(L,g==null?void 0:g.x,g==null?void 0:g.y,d.useHTML).add(m.labelGroup):void 0;return T&&(w||T.css(gee(d.style)),T.textPxLength=T.getBBox().width,!w&&E&&T.css({whiteSpace:E})),T}destroy(){fee(this,this.axis)}getPosition(L,d,g,m){let b=this.axis,w=b.chart,E=m&&w.oldChartHeight||w.chartHeight,T={x:L?rx(b.translate(d+g,void 0,void 0,m)+b.transB):b.left+b.offset+(b.opposite?(m&&w.oldChartWidth||w.chartWidth)-b.right-b.left:0),y:L?E-b.bottom+b.offset-(b.opposite?b.height:0):rx(E-b.translate(d+g,void 0,void 0,m)-b.transB)};return T.y=hee(T.y,-1e9,1e9),Ay(this,"afterGetPosition",{pos:T}),T}getLabelPosition(L,d,g,m,b,w,E,T){let D,M,G=this.axis,I=G.transA,U=G.isLinked&&G.linkedParent?G.linkedParent.reversed:G.reversed,z=G.staggerLines,J=G.tickRotCorr||{x:0,y:0},le=m||G.reserveSpaceDefault?0:-G.labelOffset*(G.labelAlign==="center"?.5:1),ae=b.distance,oe={};return D=G.side===0?g.rotation?-ae:-g.getBBox().height:G.side===2?J.y+ae:Math.cos(g.rotation*Ik)*(J.y-g.getBBox(!1,0).height/2),Nk(b.y)&&(D=G.side===0&&G.horiz?b.y+D:b.y),L=L+du(b.x,[0,1,0,-1][G.side]*ae)+le+J.x-(w&&m?w*I*(U?-1:1):0),d=d+D-(w&&!m?w*I*(U?1:-1):0),z&&(M=E/(T||1)%z,G.opposite&&(M=z-M-1),d+=M*(G.labelOffset/z)),oe.x=L,oe.y=Math.round(d),Ay(this,"afterGetLabelPosition",{pos:oe,tickmarkOffset:w,index:E}),oe}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(L,d,g,m,b=!1,w){return w.crispLine([["M",L,d],["L",L+(b?0:-g),d+(b?g:0)]],m)}handleOverflow(L){var ae;let d=this.axis,g=d.options.labels,m=L.x,b=d.chart.chartWidth,w=d.chart.spacing,E=du(d.labelLeft,Math.min(d.pos,w[3])),T=du(d.labelRight,Math.max(d.isRadial?0:d.pos+d.len,b-w[1])),D=this.label,M=this.rotation,G=pee(d.labelAlign||D.attr("align")),I=D.getBBox().width,U=d.getSlotWidth(this),z=U,J=1,le;M||g.overflow!=="justify"?M<0&&m-G*I<E?le=Math.round(m/Math.cos(M*Ik)-E):M>0&&m+G*I>T&&(le=Math.round((b-m)/Math.cos(M*Ik))):(m-G*I<E?z=L.x+z*(1-G)-E:m+(1-G)*I>T&&(z=T-L.x+z*G,J=-1),(z=Math.min(U,z))<U&&d.labelAlign==="center"&&(L.x+=J*(U-z-G*(U-Math.min(I,z)))),(I>z||d.autoRotation&&((ae=D==null?void 0:D.styles)!=null&&ae.width))&&(le=z)),le&&D&&(this.shortenLabel?this.shortenLabel():D.css(O2({},{width:Math.floor(le)+"px",lineClamp:+!d.isRadial})))}moveLabel(L,d){let g=this,m=g.label,b=g.axis,w=!1,E;m&&m.textStr===L?(g.movedLabel=m,w=!0,delete g.label):mee(b.ticks,function(T){w||T.isNew||T===g||!T.label||T.label.textStr!==L||(g.movedLabel=T.label,w=!0,T.labelPos=g.movedLabel.xy,delete T.label)}),!w&&(g.labelPos||m)&&(E=g.labelPos||m.xy,g.movedLabel=g.createLabel(L,d,E),g.movedLabel&&g.movedLabel.attr({opacity:0}))}render(L,d,g){var J;let m=this.axis,b=m.horiz,w=this.pos,E=du(this.tickmarkOffset,m.tickmarkOffset),T=this.getPosition(b,w,E,d),D=T.x,M=T.y,G=m.pos,I=G+m.len,U=b?D:M,z=du(g,(J=this.label)==null?void 0:J.newOpacity,1);!m.chart.polar&&(rx(U)<G||U>I)&&(g=0),g??(g=1),this.isActive=!0,this.renderGridLine(d,g),this.renderMark(T,g),this.renderLabel(T,d,z,L),this.isNew=!1,Ay(this,"afterRender")}renderGridLine(L,d){let g=this.axis,m=g.options,b={},w=this.pos,E=this.type,T=du(this.tickmarkOffset,g.tickmarkOffset),D=g.chart.renderer,M=this.gridLine,G,I=m.gridLineWidth,U=m.gridLineColor,z=m.gridLineDashStyle;this.type==="minor"&&(I=m.minorGridLineWidth,U=m.minorGridLineColor,z=m.minorGridLineDashStyle),M||(g.chart.styledMode||(b.stroke=U,b["stroke-width"]=I||0,b.dashstyle=z),E||(b.zIndex=1),L&&(d=0),this.gridLine=M=D.path().attr(b).addClass("highcharts-"+(E?E+"-":"")+"grid-line").add(g.gridGroup)),M&&(G=g.getPlotLinePath({value:w+T,lineWidth:M.strokeWidth(),force:"pass",old:L,acrossPanes:!1}))&&M[L||this.isNew?"attr":"animate"]({d:G,opacity:d})}renderMark(L,d){let g=this.axis,m=g.options,b=g.chart.renderer,w=this.type,E=g.tickSize(w?w+"Tick":"tick"),T=L.x,D=L.y,M=du(m[w!=="minor"?"tickWidth":"minorTickWidth"],!w&&g.isXAxis?1:0),G=m[w!=="minor"?"tickColor":"minorTickColor"],I=this.mark,U=!I;E&&(g.opposite&&(E[0]=-E[0]),!I&&(this.mark=I=b.path().addClass("highcharts-"+(w?w+"-":"")+"tick").add(g.axisGroup),g.chart.styledMode||I.attr({stroke:G,"stroke-width":M})),I[U?"attr":"animate"]({d:this.getMarkPath(T,D,E[0],I.strokeWidth(),g.horiz,b),opacity:d}))}renderLabel(L,d,g,m){let b=this.axis,w=b.horiz,E=b.options,T=this.label,D=E.labels,M=D.step,G=du(this.tickmarkOffset,b.tickmarkOffset),I=L.x,U=L.y,z=!0;T&&nx(I)&&(T.xy=L=this.getLabelPosition(I,U,T,w,D,G,m,M),(!this.isFirst||this.isLast||E.showFirstLabel)&&(!this.isLast||this.isFirst||E.showLastLabel)?!w||D.step||D.rotation||d||g===0||this.handleOverflow(L):z=!1,M&&m%M&&(z=!1),z&&nx(L.y)?(L.opacity=g,T[this.isNewLabel?"attr":"animate"](L).show(!0),this.isNewLabel=!1):(T.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let L=this.label,d=this.axis;L&&!this.isNew&&(L.animate({opacity:0},void 0,L.destroy),delete this.label),d.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:vee}=st,{xAxis:I2,yAxis:yee}=aee,{defaultOptions:Vk}=Ls,{registerEventOptions:Cee}=sx,{deg2rad:bee}=F,{arrayMax:N2,arrayMin:wee,clamp:Bk,correctFloat:pl,defined:Tr,destroyObjectProperties:See,erase:V2,error:Gk,extend:ox,fireEvent:Jr,getClosestDistance:B2,insertItem:xee,isArray:G2,isNumber:Ti,isString:H2,merge:ax,normalizeTickInterval:Eee,objectEach:lx,pick:os,relativeLength:cx,removeEvent:_ee,splat:Tee,syncTimeout:Aee}=de,$2=(L,d)=>Eee(d,void 0,void 0,os(L.options.allowDecimals,d<.5||L.tickAmount!==void 0),!!L.tickAmount);ox(Vk,{xAxis:I2,yAxis:ax(I2,yee)});class Um{constructor(d,g,m){this.init(d,g,m)}init(d,g,m=this.coll){let b=m==="xAxis",w=this.isZAxis||(d.inverted?!b:b);this.chart=d,this.horiz=w,this.isXAxis=b,this.coll=m,Jr(this,"init",{userOptions:g}),this.opposite=os(g.opposite,this.opposite),this.side=os(g.side,this.side,w?2*!this.opposite:this.opposite?1:3),this.setOptions(g);let E=this.options,T=E.labels;this.type??(this.type=E.type||"linear"),this.uniqueNames??(this.uniqueNames=E.uniqueNames??!0),Jr(this,"afterSetType"),this.userOptions=g,this.minPixelPadding=0,this.reversed=os(E.reversed,this.reversed),this.visible=E.visible,this.zoomEnabled=E.zoomEnabled,this.hasNames=this.type==="category"||E.categories===!0,this.categories=G2(E.categories)&&E.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Tr(E.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=E.minRange||E.maxZoom,this.range=E.range,this.offset=E.offset||0,this.max=void 0,this.min=void 0;let D=os(E.crosshair,Tee(d.options.tooltip.crosshairs)[+!b]);this.crosshair=D===!0?{}:D,d.axes.indexOf(this)===-1&&(b?d.axes.splice(d.xAxis.length,0,this):d.axes.push(this),xee(this,d[this.coll])),d.orderItems(this.coll),this.series=this.series||[],d.inverted&&!this.isZAxis&&b&&!Tr(this.reversed)&&(this.reversed=!0),this.labelRotation=Ti(T.rotation)?T.rotation:void 0,Cee(this,E),Jr(this,"afterInit")}setOptions(d){let g=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=ax(g,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Vk[this.coll],d),Jr(this,"afterSetOptions",{userOptions:d})}defaultLabelFormatter(){let d=this.axis,{numberFormatter:g}=this.chart,m=Ti(this.value)?this.value:NaN,b=d.chart.time,w=d.categories,E=this.dateTimeLabelFormat,T=Vk.lang,D=T.numericSymbols,M=T.numericSymbolMagnitude||1e3,G=d.logarithmic?Math.abs(m):d.tickInterval,I=D==null?void 0:D.length,U,z;if(w)z=`${this.value}`;else if(E)z=b.dateFormat(E,m,!0);else if(I&&D&&G>=1e3)for(;I--&&z===void 0;)G>=(U=Math.pow(M,I+1))&&10*m%U==0&&D[I]!==null&&m!==0&&(z=g(m/U,-1)+D[I]);return z===void 0&&(z=Math.abs(m)>=1e4?g(m,-1):g(m,-1,void 0,"")),z}getSeriesExtremes(){let d,g=this;Jr(this,"getSeriesExtremes",null,function(){g.hasVisibleSeries=!1,g.dataMin=g.dataMax=g.threshold=void 0,g.softThreshold=!g.isXAxis,g.series.forEach(m=>{if(m.reserveSpace()){let b=m.options,w,E=b.threshold,T,D;if(g.hasVisibleSeries=!0,g.positiveValuesOnly&&0>=(E||0)&&(E=void 0),g.isXAxis)(w=m.getColumn("x")).length&&(w=g.logarithmic?w.filter(M=>M>0):w,T=(d=m.getXExtremes(w)).min,D=d.max,Ti(T)||T instanceof Date||(w=w.filter(Ti),T=(d=m.getXExtremes(w)).min,D=d.max),w.length&&(g.dataMin=Math.min(os(g.dataMin,T),T),g.dataMax=Math.max(os(g.dataMax,D),D)));else{let M=m.applyExtremes();Ti(M.dataMin)&&(T=M.dataMin,g.dataMin=Math.min(os(g.dataMin,T),T)),Ti(M.dataMax)&&(D=M.dataMax,g.dataMax=Math.max(os(g.dataMax,D),D)),Tr(E)&&(g.threshold=E),(!b.softThreshold||g.positiveValuesOnly)&&(g.softThreshold=!1)}}})}),Jr(this,"afterGetSeriesExtremes")}translate(d,g,m,b,w,E){var le;let T=this.linkedParent||this,D=b&&T.old?T.old.min:T.min;if(!Ti(D))return NaN;let M=T.minPixelPadding,G=(T.isOrdinal||((le=T.brokenAxis)==null?void 0:le.hasBreaks)||T.logarithmic&&w)&&T.lin2val,I=1,U=0,z=b&&T.old?T.old.transA:T.transA,J=0;return z||(z=T.transA),m&&(I*=-1,U=T.len),T.reversed&&(I*=-1,U-=I*(T.sector||T.len)),g?(J=(d=d*I+U-M)/z+D,G&&(J=T.lin2val(J))):(G&&(d=T.val2lin(d)),J=I*(d-D)*z+U+I*M+(Ti(E)?z*E:0),T.isRadial||(J=pl(J))),J}toPixels(d,g){var m;return this.translate(((m=this.chart)==null?void 0:m.time.parse(d))??NaN,!1,!this.horiz,void 0,!0)+(g?0:this.pos)}toValue(d,g){return this.translate(d-(g?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(d){let g=this,m=g.chart,b=g.left,w=g.top,E=d.old,T=d.value,D=d.lineWidth,M=E&&m.oldChartHeight||m.chartHeight,G=E&&m.oldChartWidth||m.chartWidth,I=g.transB,U=d.translatedValue,z=d.force,J,le,ae,oe,ge;function Ce(Ue,je,rt){return z!=="pass"&&(Ue<je||Ue>rt)&&(z?Ue=Bk(Ue,je,rt):ge=!0),Ue}let Ye={value:T,lineWidth:D,old:E,force:z,acrossPanes:d.acrossPanes,translatedValue:U};return Jr(this,"getPlotLinePath",Ye,function(Ue){J=ae=(U=Bk(U=os(U,g.translate(T,void 0,void 0,E)),-1e9,1e9))+I,le=oe=M-U-I,Ti(U)?g.horiz?(le=w,oe=M-g.bottom+(g.options.isInternal?0:m.scrollablePixelsY||0),J=ae=Ce(J,b,b+g.width)):(J=b,ae=G-g.right+(m.scrollablePixelsX||0),le=oe=Ce(le,w,w+g.height)):(ge=!0,z=!1),Ue.path=ge&&!z?void 0:m.renderer.crispLine([["M",J,le],["L",ae,oe]],D||1)}),Ye.path}getLinearTickPositions(d,g,m){let b,w,E,T=pl(Math.floor(g/d)*d),D=pl(Math.ceil(m/d)*d),M=[];if(pl(T+d)===T&&(E=20),this.single)return[g];for(b=T;b<=D&&(M.push(b),(b=pl(b+d,E))!==w);)w=b;return M}getMinorTickInterval(){let{minorTicks:d,minorTickInterval:g}=this.options;return d===!0?os(g,"auto"):d!==!1?g:void 0}getMinorTickPositions(){var G;let d=this.options,g=this.tickPositions,m=this.minorTickInterval,b=this.pointRangePadding||0,w=(this.min||0)-b,E=(this.max||0)+b,T=(G=this.brokenAxis)!=null&&G.hasBreaks?this.brokenAxis.unitLength:E-w,D=[],M;if(T&&T/m<this.len/3){let I=this.logarithmic;if(I)this.paddedTicks.forEach(function(U,z,J){z&&D.push.apply(D,I.getLogTickPositions(m,J[z-1],J[z],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")D=D.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(m),w,E,d.startOfWeek));else for(M=w+(g[0]-w)%m;M<=E&&M!==D[0];M+=m)D.push(M)}return D.length!==0&&this.trimTicks(D),D}adjustForMinRange(){let d=this.options,g=this.logarithmic,m=this.chart.time,{max:b,min:w,minRange:E}=this,T,D,M,G;this.isXAxis&&E===void 0&&!g&&(E=Tr(d.min)||Tr(d.max)||Tr(d.floor)||Tr(d.ceiling)?null:Math.min(5*(B2(this.series.map(I=>{let U=I.getColumn("x");return I.xIncrement?U.slice(0,2):U}))||0),this.dataMax-this.dataMin)),Ti(b)&&Ti(w)&&Ti(E)&&b-w<E&&(D=this.dataMax-this.dataMin>=E,T=(E-b+w)/2,M=[w-T,m.parse(d.min)??w-T],D&&(M[2]=g?g.log2lin(this.dataMin):this.dataMin),G=[(w=N2(M))+E,m.parse(d.max)??w+E],D&&(G[2]=g?g.log2lin(this.dataMax):this.dataMax),(b=wee(G))-w<E&&(M[0]=b-E,M[1]=m.parse(d.min)??b-E,w=N2(M))),this.minRange=E,this.min=w,this.max=b}getClosest(){let d,g;if(this.categories)g=1;else{let m=[];this.series.forEach(function(b){let w=b.closestPointRange,E=b.getColumn("x");E.length===1?m.push(E[0]):b.sorted&&Tr(w)&&b.reserveSpace()&&(g=Tr(g)?Math.min(g,w):w)}),m.length&&(m.sort((b,w)=>b-w),d=B2([m]))}return d&&g?Math.min(d,g):d||g}nameToX(d){let g=G2(this.options.categories),m=g?this.categories:this.names,b=d.options.x,w;return d.series.requireSorting=!1,Tr(b)||(b=this.uniqueNames&&m?g?m.indexOf(d.name):os(m.keys[d.name],-1):d.series.autoIncrement()),b===-1?!g&&m&&(w=m.length):Ti(b)&&(w=b),w!==void 0?(this.names[w]=d.name,this.names.keys[d.name]=w):d.x&&(w=d.x),w}updateNames(){let d=this,g=this.names;g.length>0&&(Object.keys(g.keys).forEach(function(m){delete g.keys[m]}),g.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(m=>{m.xIncrement=null,(!m.points||m.isDirtyData)&&(d.max=Math.max(d.max||0,m.dataTable.rowCount-1),m.processData(),m.generatePoints());let b=m.getColumn("x").slice();m.data.forEach((w,E)=>{let T=b[E];w!=null&&w.options&&w.name!==void 0&&(T=d.nameToX(w))!==void 0&&T!==w.x&&(b[E]=w.x=T)}),m.dataTable.setColumn("x",b)}))}setAxisTranslation(){var U;let d=this,g=d.max-d.min,m=d.linkedParent,b=!!d.categories,w=d.isXAxis,E=d.axisPointRange||0,T,D=0,M=0,G,I=d.transA;(w||b||E)&&(T=d.getClosest(),m?(D=m.minPointOffset,M=m.pointRangePadding):d.series.forEach(function(z){let J=b?1:w?os(z.options.pointRange,T,0):d.axisPointRange||0,le=z.options.pointPlacement;if(E=Math.max(E,J),!d.single||b){let ae=z.is("xrange")?!w:w;D=Math.max(D,ae&&H2(le)?0:J/2),M=Math.max(M,ae&&le==="on"?0:J)}}),G=(U=d.ordinal)!=null&&U.slope&&T?d.ordinal.slope/T:1,d.minPointOffset=D*=G,d.pointRangePadding=M*=G,d.pointRange=Math.min(E,d.single&&b?1:g),w&&(d.closestPointRange=T)),d.translationSlope=d.transA=I=d.staticScale||d.len/(g+M||1),d.transB=d.horiz?d.left:d.bottom,d.minPixelPadding=I*D,Jr(this,"afterSetAxisTranslation")}minFromRange(){let{max:d,min:g}=this;return Ti(d)&&Ti(g)&&d-g||void 0}setTickInterval(d){var ai,wi,Qt,Ei;let{categories:g,chart:m,dataMax:b,dataMin:w,dateTime:E,isXAxis:T,logarithmic:D,options:M,softThreshold:G}=this,I=m.time,U=Ti(this.threshold)?this.threshold:void 0,z=this.minRange||0,{ceiling:J,floor:le,linkedTo:ae,softMax:oe,softMin:ge}=M,Ce=Ti(ae)&&((ai=m[this.coll])==null?void 0:ai[ae]),Ye=M.tickPixelInterval,Ue=M.maxPadding,je=M.minPadding,rt=0,et,it=Ti(M.tickInterval)&&M.tickInterval>=0?M.tickInterval:void 0,_t,Nt,Ht,jt;if(E||g||Ce||this.getTickAmount(),Ht=os(this.userMin,I.parse(M.min)),jt=os(this.userMax,I.parse(M.max)),Ce?(this.linkedParent=Ce,et=Ce.getExtremes(),this.min=os(et.min,et.dataMin),this.max=os(et.max,et.dataMax),this.type!==Ce.type&&Gk(11,!0,m)):(G&&Tr(U)&&Ti(b)&&Ti(w)&&(w>=U?(_t=U,je=0):b<=U&&(Nt=U,Ue=0)),this.min=os(Ht,_t,w),this.max=os(jt,Nt,b)),Ti(this.max)&&Ti(this.min)&&(D&&(this.positiveValuesOnly&&!d&&0>=Math.min(this.min,os(w,this.min))&&Gk(10,!0,m),this.min=pl(D.log2lin(this.min),16),this.max=pl(D.log2lin(this.max),16)),this.range&&Ti(w)&&(this.userMin=this.min=Ht=Math.max(w,this.minFromRange()||0),this.userMax=jt=this.max,this.range=void 0)),Jr(this,"foundExtremes"),this.adjustForMinRange(),Ti(this.min)&&Ti(this.max)){if(!Ti(this.userMin)&&Ti(ge)&&ge<this.min&&(this.min=Ht=ge),!Ti(this.userMax)&&Ti(oe)&&oe>this.max&&(this.max=jt=oe),g||this.axisPointRange||(wi=this.stacking)!=null&&wi.usePercentage||Ce||(rt=this.max-this.min)&&(!Tr(Ht)&&je&&(this.min-=rt*je),!Tr(jt)&&Ue&&(this.max+=rt*Ue)),!Ti(this.userMin)&&Ti(le)&&(this.min=Math.max(this.min,le)),!Ti(this.userMax)&&Ti(J)&&(this.max=Math.min(this.max,J)),G&&Ti(w)&&Ti(b)){let ys=U||0;!Tr(Ht)&&this.min<ys&&w>=ys?this.min=M.minRange?Math.min(ys,this.max-z):ys:!Tr(jt)&&this.max>ys&&b<=ys&&(this.max=M.minRange?Math.max(ys,this.min+z):ys)}!m.polar&&this.min>this.max&&(Tr(M.min)?this.max=this.min:Tr(M.max)&&(this.min=this.max)),rt=this.max-this.min}if(this.min!==this.max&&Ti(this.min)&&Ti(this.max)?Ce&&!it&&Ye===Ce.options.tickPixelInterval?this.tickInterval=it=Ce.tickInterval:this.tickInterval=os(it,this.tickAmount?rt/Math.max(this.tickAmount-1,1):void 0,g?1:rt*Ye/Math.max(this.len,Ye)):this.tickInterval=1,T&&!d){let ys=this.min!==((Qt=this.old)==null?void 0:Qt.min)||this.max!==((Ei=this.old)==null?void 0:Ei.max);this.series.forEach(function(Cs){var Ts;Cs.forceCrop=(Ts=Cs.forceCropping)==null?void 0:Ts.call(Cs),Cs.processData(ys)}),Jr(this,"postProcessData",{hasExtremesChanged:ys})}this.setAxisTranslation(),Jr(this,"initialAxisTranslation"),this.pointRange&&!it&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let fi=os(M.minTickInterval,E&&!this.series.some(ys=>!ys.sorted)?this.closestPointRange:0);!it&&fi&&this.tickInterval<fi&&(this.tickInterval=fi),E||D||it||(this.tickInterval=$2(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var G,I;let d=this.options,g=d.tickPositions,m=d.tickPositioner,b=this.getMinorTickInterval(),w=!this.isPanning,E=w&&d.startOnTick,T=w&&d.endOnTick,D=[],M;if(this.tickmarkOffset=this.categories&&d.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Tr(this.min)&&!this.tickAmount&&(this.min%1==0||d.allowDecimals!==!1),g)D=g.slice();else if(Ti(this.min)&&Ti(this.max)){if(!((G=this.ordinal)!=null&&G.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))D=[this.min,this.max],Gk(19,!1,this.chart);else if(this.dateTime)D=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,d.units),this.min,this.max,d.startOfWeek,(I=this.ordinal)==null?void 0:I.positions,this.closestPointRange,!0);else if(this.logarithmic)D=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let U=this.tickInterval,z=U;for(;z<=2*U&&(D=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&D.length>this.tickAmount);)this.tickInterval=$2(this,z*=1.1)}D.length>this.len&&(D=[D[0],D[D.length-1]])[0]===D[1]&&(D.length=1),m&&(this.tickPositions=D,(M=m.apply(this,[this.min,this.max]))&&(D=M))}this.tickPositions=D,this.minorTickInterval=b==="auto"&&this.tickInterval?this.tickInterval/d.minorTicksPerMajor:b,this.paddedTicks=D.slice(0),this.trimTicks(D,E,T),!this.isLinked&&Ti(this.min)&&Ti(this.max)&&(this.single&&D.length<2&&!this.categories&&!this.series.some(U=>U.is("heatmap")&&U.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),g||M||this.adjustTickAmount()),Jr(this,"afterSetTickPositions")}trimTicks(d,g,m){let b=d[0],w=d[d.length-1],E=!this.isOrdinal&&this.minPointOffset||0;if(Jr(this,"trimTicks"),!this.isLinked||!this.grid){if(g&&b!==-1/0)this.min=b;else for(;this.min-E>d[0];)d.shift();if(m)this.max=w;else for(;this.max+E<d[d.length-1];)d.pop();d.length===0&&Tr(b)&&!this.options.tickPositions&&d.push((w+b)/2)}}alignToOthers(){let d,g=this,m=g.chart,b=[this],w=g.options,E=m.options.chart,T=this.coll==="yAxis"&&E.alignThresholds,D=[];if(g.thresholdAlignment=void 0,(E.alignTicks!==!1&&w.alignTicks||T)&&w.startOnTick!==!1&&w.endOnTick!==!1&&!g.logarithmic){let M=I=>{let{horiz:U,options:z}=I;return[U?z.left:z.top,z.width,z.height,z.pane].join(",")},G=M(this);m[this.coll].forEach(function(I){let{series:U}=I;U.length&&U.some(z=>z.visible)&&I!==g&&M(I)===G&&(d=!0,b.push(I))})}if(d&&T){b.forEach(G=>{let I=G.getThresholdAlignment(g);Ti(I)&&D.push(I)});let M=D.length>1?D.reduce((G,I)=>G+=I,0)/D.length:void 0;b.forEach(G=>{G.thresholdAlignment=M})}return d}getThresholdAlignment(d){if((!Ti(this.dataMin)||this!==d&&this.series.some(g=>g.isDirty||g.isDirtyData))&&this.getSeriesExtremes(),Ti(this.threshold)){let g=Bk((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(g=1-g),g}}getTickAmount(){let d=this.options,g=d.tickPixelInterval,m=d.tickAmount;Tr(d.tickInterval)||m||!(this.len<g)||this.isRadial||this.logarithmic||!d.startOnTick||!d.endOnTick||(m=2),!m&&this.alignToOthers()&&(m=Math.ceil(this.len/g)+1),m<4&&(this.finalTickAmt=m,m=5),this.tickAmount=m}adjustTickAmount(){let d=this,{finalTickAmt:g,max:m,min:b,options:w,tickPositions:E,tickAmount:T,thresholdAlignment:D}=d,M=E==null?void 0:E.length,G=os(d.threshold,d.softThreshold?0:null),I,U,z=d.tickInterval,J,le=()=>E.push(pl(E[E.length-1]+z)),ae=()=>E.unshift(pl(E[0]-z));if(Ti(D)&&(J=D<.5?Math.ceil(D*(T-1)):Math.floor(D*(T-1)),w.reversed&&(J=T-1-J)),d.hasData()&&Ti(b)&&Ti(m)){let oe=()=>{d.transA*=(M-1)/(T-1),d.min=w.startOnTick?E[0]:Math.min(b,E[0]),d.max=w.endOnTick?E[E.length-1]:Math.max(m,E[E.length-1])};if(Ti(J)&&Ti(d.threshold)){for(;E[J]!==G||E.length!==T||E[0]>b||E[E.length-1]<m;){for(E.length=0,E.push(d.threshold);E.length<T;)E[J]===void 0||E[J]>d.threshold?ae():le();if(z>8*d.tickInterval)break;z*=2}oe()}else if(M<T){for(;E.length<T;)E.length%2||b===G?le():ae();oe()}if(Tr(g)){for(U=I=E.length;U--;)(g===3&&U%2==1||g<=2&&U>0&&U<I-1)&&E.splice(U,1);d.finalTickAmt=void 0}}}setScale(){var E,T,D,M,G;let{coll:d,stacking:g}=this,m=!1,b=!1;this.series.forEach(I=>{var U;m=m||I.isDirtyData||I.isDirty,b=b||((U=I.xAxis)==null?void 0:U.isDirty)||!1}),this.setAxisSize();let w=this.len!==((E=this.old)==null?void 0:E.len);w||m||b||this.isLinked||this.forceRedraw||this.userMin!==((T=this.old)==null?void 0:T.userMin)||this.userMax!==((D=this.old)==null?void 0:D.userMax)||this.alignToOthers()?(g&&d==="yAxis"&&g.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),g&&d==="xAxis"&&g.buildStacks(),this.isDirty||(this.isDirty=w||this.min!==((M=this.old)==null?void 0:M.min)||this.max!==((G=this.old)==null?void 0:G.max))):g&&g.cleanStacks(),m&&delete this.allExtremes,Jr(this,"afterSetScale")}setExtremes(d,g,m=!0,b,w){let E=this.chart;this.series.forEach(T=>{delete T.kdTree}),d=E.time.parse(d),g=E.time.parse(g),Jr(this,"setExtremes",w=ox(w,{min:d,max:g}),T=>{this.userMin=T.min,this.userMax=T.max,this.eventArgs=T,m&&E.redraw(b)})}setAxisSize(){let d=this.chart,g=this.options,m=g.offsets||[0,0,0,0],b=this.horiz,w=this.width=Math.round(cx(os(g.width,d.plotWidth-m[3]+m[1]),d.plotWidth)),E=this.height=Math.round(cx(os(g.height,d.plotHeight-m[0]+m[2]),d.plotHeight)),T=this.top=Math.round(cx(os(g.top,d.plotTop+m[0]),d.plotHeight,d.plotTop)),D=this.left=Math.round(cx(os(g.left,d.plotLeft+m[3]),d.plotWidth,d.plotLeft));this.bottom=d.chartHeight-E-T,this.right=d.chartWidth-w-D,this.len=Math.max(b?w:E,0),this.pos=b?D:T}getExtremes(){let d=this.logarithmic;return{min:d?pl(d.lin2log(this.min)):this.min,max:d?pl(d.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(d){let g=this.logarithmic,m=g?g.lin2log(this.min):this.min,b=g?g.lin2log(this.max):this.max;return d===null||d===-1/0?d=m:d===1/0?d=b:m>d?d=m:b<d&&(d=b),this.translate(d,0,1,0,1)}autoLabelAlign(d){let g=(os(d,0)-90*this.side+720)%360,m={align:"center"};return Jr(this,"autoLabelAlign",m,function(b){g>15&&g<165?b.align="right":g>195&&g<345&&(b.align="left")}),m.align}tickSize(d){let g=this.options,m=os(g[d==="tick"?"tickWidth":"minorTickWidth"],d==="tick"&&this.isXAxis&&!this.categories?1:0),b=g[d==="tick"?"tickLength":"minorTickLength"],w;m&&b&&(g[d+"Position"]==="inside"&&(b=-b),w=[b,m]);let E={tickSize:w};return Jr(this,"afterTickSize",E),E.tickSize}labelMetrics(){let d=this.chart.renderer,g=this.ticks,m=g[Object.keys(g)[0]]||{};return this.chart.renderer.fontMetrics(m.label||m.movedLabel||d.box)}unsquish(){let d=this.options.labels,g=d.padding||0,m=this.horiz,b=this.tickInterval,w=this.len/((+!!this.categories+this.max-this.min)/b),E=d.rotation,T=pl(.8*this.labelMetrics().h),D=Math.max(this.max-this.min,0),M=function(J){let le=(J+2*g)/(w||1);return(le=le>1?Math.ceil(le):1)*b>D&&J!==1/0&&w!==1/0&&D&&(le=Math.ceil(D/b)),pl(le*b)},G=b,I,U=Number.MAX_VALUE,z;if(m){if(!d.staggerLines&&(Ti(E)?z=[E]:w<d.autoRotationLimit&&(z=d.autoRotation)),z){let J,le;for(let ae of z)(ae===E||ae&&ae>=-90&&ae<=90)&&(le=(J=M(Math.abs(T/Math.sin(bee*ae))))+Math.abs(ae/360))<U&&(U=le,I=ae,G=J)}}else G=M(.75*T);return this.autoRotation=z,this.labelRotation=os(I,Ti(E)?E:0),d.step?b:G}getSlotWidth(d){let g=this.chart,m=this.horiz,b=this.options.labels,w=Math.max(this.tickPositions.length-!this.categories,1),E=g.margin[3];if(d&&Ti(d.slotWidth))return d.slotWidth;if(m&&b.step<2&&!this.isRadial)return b.rotation?0:(this.staggerLines||1)*this.len/w;if(!m){let T=b.style.width;if(T!==void 0)return parseInt(String(T),10);if(E)return E-g.spacing[3]}return .33*g.chartWidth}renderUnsquish(){let d=this.chart,g=d.renderer,m=this.tickPositions,b=this.ticks,w=this.options.labels,E=w.style,T=this.horiz,D=this.getSlotWidth(),M=Math.max(1,Math.round(D-(T?2*(w.padding||0):w.distance||0))),G={},I=this.labelMetrics(),U=E.lineClamp,z,J=U??(Math.floor(this.len/(m.length*I.h))||1),le=0;H2(w.rotation)||(G.rotation=w.rotation||0),m.forEach(function(ae){var Ce;let oe=b[ae];oe.movedLabel&&oe.replaceMovedLabel();let ge=((Ce=oe.label)==null?void 0:Ce.textPxLength)||0;ge>le&&(le=ge)}),this.maxLabelLength=le,this.autoRotation?le>M&&le>I.h?G.rotation=this.labelRotation:this.labelRotation=0:D&&(z=M),G.rotation&&(z=le>.5*d.chartHeight?.33*d.chartHeight:le,U||(J=1)),this.labelAlign=w.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(G.align=this.labelAlign),m.forEach(function(ae){let oe=b[ae],ge=oe==null?void 0:oe.label,Ce=E.width,Ye={};ge&&(ge.attr(G),oe.shortenLabel?oe.shortenLabel():z&&!Ce&&E.whiteSpace!=="nowrap"&&(z<(ge.textPxLength||0)||ge.element.tagName==="SPAN")?ge.css(ox(Ye,{width:`${z}px`,lineClamp:J})):!ge.styles.width||Ye.width||Ce||ge.css({width:"auto"}),oe.rotation=G.rotation)},this),this.tickRotCorr=g.rotCorr(I.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(d){return d.hasData()})||this.options.showEmpty&&Tr(this.min)&&Tr(this.max)}addTitle(d){let g,m=this.chart.renderer,b=this.horiz,w=this.opposite,E=this.options.title,T=this.chart.styledMode;this.axisTitle||((g=E.textAlign)||(g=(b?{low:"left",middle:"center",high:"right"}:{low:w?"right":"left",middle:"center",high:w?"left":"right"})[E.align]),this.axisTitle=m.text(E.text||"",0,0,E.useHTML).attr({zIndex:7,rotation:E.rotation||0,align:g}).addClass("highcharts-axis-title"),T||this.axisTitle.css(ax(E.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),T||E.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[d?"show":"hide"](d)}generateTick(d){let g=this.ticks;g[d]?g[d].addLabel():g[d]=new Wm(this,d)}createGroups(){let{axisParent:d,chart:g,coll:m,options:b}=this,w=g.renderer,E=(T,D,M)=>w.g(T).attr({zIndex:M}).addClass(`highcharts-${m.toLowerCase()}${D} `+(this.isRadial?`highcharts-radial-axis${D} `:"")+(b.className||"")).add(d);this.axisGroup||(this.gridGroup=E("grid","-grid",b.gridZIndex),this.axisGroup=E("axis","",b.zIndex),this.labelGroup=E("axis-labels","-labels",b.labels.zIndex))}getOffset(){let d=this,{chart:g,horiz:m,options:b,side:w,ticks:E,tickPositions:T,coll:D}=d,M=g.inverted&&!d.isZAxis?[1,0,3,2][w]:w,G=d.hasData(),I=b.title,U=b.labels,z=Ti(b.crossing),J=g.axisOffset,le=g.clipOffset,ae=[-1,1,1,-1][w],oe,ge=0,Ce,Ye=0,Ue=0,je,rt;if(d.showAxis=oe=G||b.showEmpty,d.staggerLines=d.horiz&&U.staggerLines||void 0,d.createGroups(),G||d.isLinked?(T.forEach(function(et){d.generateTick(et)}),d.renderUnsquish(),d.reserveSpaceDefault=w===0||w===2||{1:"left",3:"right"}[w]===d.labelAlign,os(U.reserveSpace,!z&&null,d.labelAlign==="center"||null,d.reserveSpaceDefault)&&T.forEach(function(et){Ue=Math.max(E[et].getLabelSize(),Ue)}),d.staggerLines&&(Ue*=d.staggerLines),d.labelOffset=Ue*(d.opposite?-1:1)):lx(E,function(et,it){et.destroy(),delete E[it]}),I!=null&&I.text&&I.enabled!==!1&&(d.addTitle(oe),oe&&!z&&I.reserveSpace!==!1&&(d.titleOffset=ge=d.axisTitle.getBBox()[m?"height":"width"],Ye=Tr(Ce=I.offset)?0:os(I.margin,m?5:10))),d.renderLine(),d.offset=ae*os(b.offset,J[w]?J[w]+(b.margin||0):0),d.tickRotCorr=d.tickRotCorr||{x:0,y:0},rt=w===0?-d.labelMetrics().h:w===2?d.tickRotCorr.y:0,je=Math.abs(Ue)+Ye,Ue&&(je-=rt,je+=ae*(m?os(U.y,d.tickRotCorr.y+ae*U.distance):os(U.x,ae*U.distance))),d.axisTitleMargin=os(Ce,je),d.getMaxLabelDimensions&&(d.maxLabelDimensions=d.getMaxLabelDimensions(E,T)),D!=="colorAxis"&&le){let et=this.tickSize("tick");J[w]=Math.max(J[w],(d.axisTitleMargin||0)+ge+ae*d.offset,je,T!=null&&T.length&&et?et[0]+ae*d.offset:0);let it=!d.axisLine||b.offset?0:d.axisLine.strokeWidth()/2;le[M]=Math.max(le[M],it)}Jr(this,"afterGetOffset")}getLinePath(d){let g=this.chart,m=this.opposite,b=this.offset,w=this.horiz,E=this.left+(m?this.width:0)+b,T=g.chartHeight-this.bottom-(m?this.height:0)+b;return m&&(d*=-1),g.renderer.crispLine([["M",w?this.left:E,w?T:this.top],["L",w?g.chartWidth-this.right:E,w?T:g.chartHeight-this.bottom]],d)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(d){let g=this.horiz,m=this.left,b=this.top,w=this.len,E=this.options.title,T=g?m:b,D=this.opposite,M=this.offset,G=E.x,I=E.y,U=this.chart.renderer.fontMetrics(d),z=d?Math.max(d.getBBox(!1,0).height-U.h-1,0):0,J={low:T+(g?0:w),middle:T+w/2,high:T+(g?w:0)}[E.align],le=(g?b+this.height:m)+(g?1:-1)*(D?-1:1)*(this.axisTitleMargin||0)+[-z,z,U.f,-z][this.side],ae={x:g?J+G:le+(D?this.width:0)+M+G,y:g?le+I-(D?this.height:0)+M:J+I};return Jr(this,"afterGetTitlePosition",{titlePosition:ae}),ae}renderMinorTick(d,g){let m=this.minorTicks;m[d]||(m[d]=new Wm(this,d,"minor")),g&&m[d].isNew&&m[d].render(null,!0),m[d].render(null,!1,1)}renderTick(d,g,m){var E;let b=this.isLinked,w=this.ticks;(!b||d>=this.min&&d<=this.max||(E=this.grid)!=null&&E.isColumn)&&(w[d]||(w[d]=new Wm(this,d)),m&&w[d].isNew&&w[d].render(g,!0,-1),w[d].render(g))}render(){let d,g,m=this,b=m.chart,w=m.logarithmic,E=b.renderer,T=m.options,D=m.isLinked,M=m.tickPositions,G=m.axisTitle,I=m.ticks,U=m.minorTicks,z=m.alternateBands,J=T.stackLabels,le=T.alternateGridColor,ae=T.crossing,oe=m.tickmarkOffset,ge=m.axisLine,Ce=m.showAxis,Ye=vee(E.globalAnimation);if(m.labelEdge.length=0,m.overlap=!1,[I,U,z].forEach(function(Ue){lx(Ue,function(je){je.isActive=!1})}),Ti(ae)){let Ue=this.isXAxis?b.yAxis[0]:b.xAxis[0],je=[1,-1,-1,1][this.side];if(Ue){let rt=Ue.toPixels(ae,!0);m.horiz&&(rt=Ue.len-rt),m.offset=je*rt}}if(m.hasData()||D){let Ue=m.chart.hasRendered&&m.old&&Ti(m.old.min);m.minorTickInterval&&!m.categories&&m.getMinorTickPositions().forEach(function(je){m.renderMinorTick(je,Ue)}),M.length&&(M.forEach(function(je,rt){m.renderTick(je,rt,Ue)}),oe&&(m.min===0||m.single)&&(I[-1]||(I[-1]=new Wm(m,-1,null,!0)),I[-1].render(-1))),le&&M.forEach(function(je,rt){g=M[rt+1]!==void 0?M[rt+1]+oe:m.max-oe,rt%2==0&&je<m.max&&g<=m.max+(b.polar?-oe:oe)&&(z[je]||(z[je]=new F.PlotLineOrBand(m,{})),d=je+oe,z[je].options={from:w?w.lin2log(d):d,to:w?w.lin2log(g):g,color:le,className:"highcharts-alternate-grid"},z[je].render(),z[je].isActive=!0)}),m._addedPlotLB||(m._addedPlotLB=!0,(T.plotLines||[]).concat(T.plotBands||[]).forEach(function(je){m.addPlotBandOrLine(je)}))}[I,U,z].forEach(function(Ue){let je=[],rt=Ye.duration;lx(Ue,function(et,it){et.isActive||(et.render(it,!1,0),et.isActive=!1,je.push(it))}),Aee(function(){let et=je.length;for(;et--;)Ue[je[et]]&&!Ue[je[et]].isActive&&(Ue[je[et]].destroy(),delete Ue[je[et]])},Ue!==z&&b.hasRendered&&rt?rt:0)}),ge&&(ge[ge.isPlaced?"animate":"attr"]({d:this.getLinePath(ge.strokeWidth())}),ge.isPlaced=!0,ge[Ce?"show":"hide"](Ce)),G&&Ce&&(G[G.isNew?"attr":"animate"](m.getTitlePosition(G)),G.isNew=!1),J!=null&&J.enabled&&m.stacking&&m.stacking.renderStackTotals(),m.old={len:m.len,max:m.max,min:m.min,transA:m.transA,userMax:m.userMax,userMin:m.userMin},m.isDirty=!1,Jr(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(d){d.render()})),this.series.forEach(function(d){d.isDirty=!0})}getKeepProps(){return this.keepProps||Um.keepProps}destroy(d){let g=this,m=g.plotLinesAndBands,b=this.eventOptions;if(Jr(this,"destroy",{keepEvents:d}),d||_ee(g),[g.ticks,g.minorTicks,g.alternateBands].forEach(function(w){See(w)}),m){let w=m.length;for(;w--;)m[w].destroy()}for(let w in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(E){g[E]&&(g[E]=g[E].destroy())}),g.plotLinesAndBandsGroups)g.plotLinesAndBandsGroups[w]=g.plotLinesAndBandsGroups[w].destroy();lx(g,function(w,E){g.getKeepProps().indexOf(E)===-1&&delete g[E]}),this.eventOptions=b}drawCrosshair(d,g){var I;let m=this.crosshair,b=(m==null?void 0:m.snap)??!0,w=this.chart,E,T,D,M=this.cross,G;if(Jr(this,"drawCrosshair",{e:d,point:g}),d||(d=(I=this.cross)==null?void 0:I.e),m&&(Tr(g)||!b)!==!1){if(b?Tr(g)&&(T=os(this.coll!=="colorAxis"?g.crosshairPos:null,this.isXAxis?g.plotX:this.len-g.plotY)):T=d&&(this.horiz?d.chartX-this.pos:this.len-d.chartY+this.pos),Tr(T)&&(G={value:g&&(this.isXAxis?g.x:os(g.stackY,g.y)),translatedValue:T},w.polar&&ox(G,{isCrosshair:!0,chartX:d==null?void 0:d.chartX,chartY:d==null?void 0:d.chartY,point:g}),E=this.getPlotLinePath(G)||null),!Tr(E))return void this.hideCrosshair();D=this.categories&&!this.isRadial,M||(this.cross=M=w.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(D?"category ":"thin ")+(m.className||"")).attr({zIndex:os(m.zIndex,2)}).add(),!w.styledMode&&(M.attr({stroke:m.color||(D?hr.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":os(m.width,1)}).css({"pointer-events":"none"}),m.dashStyle&&M.attr({dashstyle:m.dashStyle}))),M.show().attr({d:E}),D&&!m.width&&M.attr({"stroke-width":this.transA}),this.cross.e=d}else this.hideCrosshair();Jr(this,"afterDrawCrosshair",{e:d,point:g})}hideCrosshair(){this.cross&&this.cross.hide(),Jr(this,"afterHideCrosshair")}update(d,g){let m=this.chart;d=ax(this.userOptions,d),this.destroy(!0),this.init(m,d),m.isDirtyBox=!0,os(g,!0)&&m.redraw()}remove(d){let g=this.chart,m=this.coll,b=this.series,w=b.length;for(;w--;)b[w]&&b[w].remove(!1);V2(g.axes,this),V2(g[m]||[],this),g.orderItems(m),this.destroy(),g.isDirtyBox=!0,os(d,!0)&&g.redraw()}setTitle(d,g){this.update({title:d},g)}setCategories(d,g){this.update({categories:d},g)}}Um.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:kee,getMagnitude:Dee,normalizeTickInterval:Ree,timeUnits:ux}=de;(function(L){function d(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function g(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new m(this))}L.compose=function(b){return b.keepProps.includes("dateTime")||(b.keepProps.push("dateTime"),b.prototype.getTimeTicks=d,kee(b,"afterSetType",g)),b};class m{constructor(w){this.axis=w}normalizeTimeTickInterval(w,E){let T=E||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],D=T[T.length-1],M=ux[D[0]],G=D[1],I;for(I=0;I<T.length&&(M=ux[(D=T[I])[0]],G=D[1],!T[I+1]||!(w<=(M*G[G.length-1]+ux[T[I+1][0]])/2));I++);M===ux.year&&w<5*M&&(G=[1,2,5]);let U=Ree(w/M,G,D[0]==="year"?Math.max(Dee(w/M),1):1);return{unitRange:M,count:U,unitName:D[0]}}getXDateFormat(w,E){let{axis:T}=this,D=T.chart.time;return T.closestPointRange?D.getDateFormat(T.closestPointRange,w,T.options.startOfWeek,E)||D.resolveDTLFormat(E.year).main:D.resolveDTLFormat(E.day).main}}L.Additions=m})(c||(c={}));let Pee=c,{addEvent:W2,normalizeTickInterval:Fee,pick:Mee}=de;(function(L){function d(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new m(this))}function g(){let b=this.logarithmic;b&&(this.lin2val=function(w){return b.lin2log(w)},this.val2lin=function(w){return b.log2lin(w)})}L.compose=function(b){return b.keepProps.includes("logarithmic")||(b.keepProps.push("logarithmic"),W2(b,"afterSetType",d),W2(b,"afterInit",g)),b};class m{constructor(w){this.axis=w}getLogTickPositions(w,E,T,D){let M=this.axis,G=M.len,I=M.options,U=[];if(D||(this.minorAutoInterval=void 0),w>=.5)w=Math.round(w),U=M.getLinearTickPositions(w,E,T);else if(w>=.08){let z,J,le,ae,oe,ge,Ce,Ye=Math.floor(E);for(z=w>.3?[1,2,4]:w>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],J=Ye;J<T+1&&!Ce;J++)for(le=0,ae=z.length;le<ae&&!Ce;le++)(oe=this.log2lin(this.lin2log(J)*z[le]))>E&&(!D||ge<=T)&&ge!==void 0&&U.push(ge),ge>T&&(Ce=!0),ge=oe}else{let z=this.lin2log(E),J=this.lin2log(T),le=D?M.getMinorTickInterval():I.tickInterval,ae=I.tickPixelInterval/(D?5:1),oe=D?G/M.tickPositions.length:G;w=Fee(w=Mee(le==="auto"?null:le,this.minorAutoInterval,(J-z)*ae/(oe||1))),U=M.getLinearTickPositions(w,z,J).map(this.log2lin),D||(this.minorAutoInterval=w/5)}return D||(M.tickInterval=w),U}lin2log(w){return Math.pow(10,w)}log2lin(w){return Math.log(w)/Math.LN10}}L.Additions=m})(u||(u={}));let Lee=u,{erase:Oee,extend:Iee,isNumber:U2}=de;(function(L){let d;function g(M){return this.addPlotBandOrLine(M,"plotBands")}function m(M,G){let I=this.userOptions,U=new d(this,M);if(this.visible&&(U=U.render()),U){if(this._addedPlotLB||(this._addedPlotLB=!0,(I.plotLines||[]).concat(I.plotBands||[]).forEach(z=>{this.addPlotBandOrLine(z)})),G){let z=I[G]||[];z.push(M),I[G]=z}this.plotLinesAndBands.push(U)}return U}function b(M){return this.addPlotBandOrLine(M,"plotLines")}function w(M,G,I){I=I||this.options;let U=this.getPlotLinePath({value:G,force:!0,acrossPanes:I.acrossPanes}),z=[],J=this.horiz,le=!U2(this.min)||!U2(this.max)||M<this.min&&G<this.min||M>this.max&&G>this.max,ae=this.getPlotLinePath({value:M,force:!0,acrossPanes:I.acrossPanes}),oe,ge=1,Ce;if(ae&&U)for(le&&(Ce=ae.toString()===U.toString(),ge=0),oe=0;oe<ae.length;oe+=2){let Ye=ae[oe],Ue=ae[oe+1],je=U[oe],rt=U[oe+1];(Ye[0]==="M"||Ye[0]==="L")&&(Ue[0]==="M"||Ue[0]==="L")&&(je[0]==="M"||je[0]==="L")&&(rt[0]==="M"||rt[0]==="L")&&(J&&je[1]===Ye[1]?(je[1]+=ge,rt[1]+=ge):J||je[2]!==Ye[2]||(je[2]+=ge,rt[2]+=ge),z.push(["M",Ye[1],Ye[2]],["L",Ue[1],Ue[2]],["L",rt[1],rt[2]],["L",je[1],je[2]],["Z"])),z.isFlat=Ce}return z}function E(M){this.removePlotBandOrLine(M)}function T(M){let G=this.plotLinesAndBands,I=this.options,U=this.userOptions;if(G){let z=G.length;for(;z--;)G[z].id===M&&G[z].destroy();[I.plotLines||[],U.plotLines||[],I.plotBands||[],U.plotBands||[]].forEach(function(J){var le;for(z=J.length;z--;)((le=J[z])==null?void 0:le.id)===M&&Oee(J,J[z])})}}function D(M){this.removePlotBandOrLine(M)}L.compose=function(M,G){let I=G.prototype;return I.addPlotBand||(d=M,Iee(I,{addPlotBand:g,addPlotLine:b,addPlotBandOrLine:m,getPlotBandPath:w,removePlotBand:E,removePlotLine:D,removePlotBandOrLine:T})),G}})(h||(h={}));let Nee=h,{addEvent:Vee,arrayMax:z2,arrayMin:j2,defined:hu,destroyObjectProperties:Bee,erase:Gee,fireEvent:Hee,merge:K2,objectEach:$ee,pick:Wee}=de;class dx{static compose(d,g){return Vee(d,"afterInit",function(){this.labelCollectors.push(()=>{var b;let m=[];for(let w of this.axes)for(let{label:E,options:T}of w.plotLinesAndBands)E&&!((b=T==null?void 0:T.label)!=null&&b.allowOverlap)&&m.push(E);return m})}),Nee.compose(dx,g)}constructor(d,g){this.axis=d,this.options=g,this.id=g.id}render(){Hee(this,"render");let{axis:d,options:g}=this,{horiz:m,logarithmic:b}=d,{color:w,events:E,zIndex:T=0}=g,{renderer:D,time:M}=d.chart,G={},I=M.parse(g.to),U=M.parse(g.from),z=M.parse(g.value),J=g.borderWidth,le=g.label,{label:ae,svgElem:oe}=this,ge=[],Ce,Ye=hu(U)&&hu(I),Ue=hu(z),je=!oe,rt={class:"highcharts-plot-"+(Ye?"band ":"line ")+(g.className||"")},et=Ye?"bands":"lines";if(!d.chart.styledMode&&(Ue?(rt.stroke=w||"#999999",rt["stroke-width"]=Wee(g.width,1),g.dashStyle&&(rt.dashstyle=g.dashStyle)):Ye&&(rt.fill=w||"#e6e9ff",J&&(rt.stroke=g.borderColor,rt["stroke-width"]=J))),G.zIndex=T,et+="-"+T,(Ce=d.plotLinesAndBandsGroups[et])||(d.plotLinesAndBandsGroups[et]=Ce=D.g("plot-"+et).attr(G).add()),oe||(this.svgElem=oe=D.path().attr(rt).add(Ce)),hu(z))ge=d.getPlotLinePath({value:(b==null?void 0:b.log2lin(z))??z,lineWidth:oe.strokeWidth(),acrossPanes:g.acrossPanes});else{if(!(hu(U)&&hu(I)))return;ge=d.getPlotBandPath((b==null?void 0:b.log2lin(U))??U,(b==null?void 0:b.log2lin(I))??I,g)}return!this.eventsAdded&&E&&($ee(E,(it,_t)=>{oe==null||oe.on(_t,Nt=>{E[_t].apply(this,[Nt])})}),this.eventsAdded=!0),(je||!oe.d)&&(ge!=null&&ge.length)?oe.attr({d:ge}):oe&&(ge?(oe.show(),oe.animate({d:ge})):oe.d&&(oe.hide(),ae&&(this.label=ae=ae.destroy()))),le&&(hu(le.text)||hu(le.formatter))&&(ge!=null&&ge.length)&&d.width>0&&d.height>0&&!ge.isFlat?(le=K2({align:m&&Ye?"center":void 0,x:m?!Ye&&4:10,verticalAlign:!m&&Ye?"middle":void 0,y:m?Ye?16:10:Ye?6:-4,rotation:m&&!Ye?90:0,...Ye?{inside:!0}:{}},le),this.renderLabel(le,ge,Ye,T)):ae&&ae.hide(),this}renderLabel(d,g,m,b){var J,le;let w=this.axis,E=w.chart.renderer,T=d.inside,D=this.label;D||(this.label=D=E.text(this.getLabelText(d),0,0,d.useHTML).attr({align:d.textAlign||d.align,rotation:d.rotation,class:"highcharts-plot-"+(m?"band":"line")+"-label "+(d.className||""),zIndex:b}),w.chart.styledMode||D.css(K2({color:(J=w.chart.options.title)==null?void 0:J.style.color,fontSize:"0.8em",textOverflow:m&&!T?"":"ellipsis"},d.style)),D.add());let M=g.xBounds||[g[0][1],g[1][1],m?g[2][1]:g[0][1]],G=g.yBounds||[g[0][2],g[1][2],m?g[2][2]:g[0][2]],I=j2(M),U=j2(G),z=z2(M)-I;D.align(d,!1,{x:I,y:U,width:z,height:z2(G)-U}),D.alignAttr.y-=E.fontMetrics(D).b,(!D.alignValue||D.alignValue==="left"||hu(T))&&D.css({width:(((le=d.style)==null?void 0:le.width)||(m&&T?z:D.rotation===90?w.height-(D.alignAttr.y-w.top):(d.clip?w.width:w.chart.chartWidth)-(D.alignAttr.x-w.left)))+"px"}),D.show(!0)}getLabelText(d){return hu(d.formatter)?d.formatter.call(this):d.text}destroy(){Gee(this.axis.plotLinesAndBands,this),delete this.axis,Bee(this)}}let{animObject:Uee}=st,{format:Y2}=Va,{composed:zee,dateFormats:jee,doc:X2,isSafari:Kee}=F,{distribute:Yee}=Lm,{addEvent:Xee,clamp:zm,css:q2,discardElement:qee,extend:Qee,fireEvent:Hk,getAlignFactor:Q2,isArray:Jee,isNumber:Zee,isObject:ete,isString:$k,merge:tte,pick:jm,pushUnique:ite,splat:Wk,syncTimeout:ste}=de;class Uk{constructor(d,g,m){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=d,this.init(d,g),this.pointer=m}bodyFormatter(d){return d.map(g=>{let m=g.series.tooltipOptions,b=g.formatPrefix||"point";return(m[b+"Formatter"]||g.tooltipFormatter).call(g,m[b+"Format"]||"")})}cleanSplit(d){this.chart.series.forEach(function(g){let m=g==null?void 0:g.tt;m&&(!m.isActive||d?g.tt=m.destroy():m.isActive=!1)})}defaultFormatter(d){let g,m=this.points||Wk(this);return(g=(g=[d.headerFooterFormatter(m[0])]).concat(d.bodyFormatter(m))).push(d.headerFooterFormatter(m[0],!0)),g}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),qee(this.container)),de.clearTimeout(this.hideTimer)}getAnchor(d,g){var G;let m,{chart:b,pointer:w}=this,E=b.inverted,T=b.plotTop,D=b.plotLeft;if(d=Wk(d),(G=d[0].series)!=null&&G.yAxis&&!d[0].series.yAxis.options.reversedStacks&&(d=d.slice().reverse()),this.followPointer&&g)g.chartX===void 0&&(g=w.normalize(g)),m=[g.chartX-D,g.chartY-T];else if(d[0].tooltipPos)m=d[0].tooltipPos;else{let I=0,U=0;d.forEach(function(z){let J=z.pos(!0);J&&(I+=J[0],U+=J[1])}),I/=d.length,U/=d.length,this.shared&&d.length>1&&g&&(E?I=g.chartX:U=g.chartY),m=[I-D,U-T]}let M={point:d[0],ret:m};return Hk(this,"getAnchor",M),M.ret.map(Math.round)}getClassName(d,g,m){let b=this.options,w=d.series,E=w.options;return[b.className,"highcharts-label",m&&"highcharts-tooltip-header",g?"highcharts-tooltip-box":"highcharts-tooltip",!m&&"highcharts-color-"+jm(d.colorIndex,w.colorIndex),E==null?void 0:E.className].filter($k).join(" ")}getLabel({anchorX:d,anchorY:g}={anchorX:0,anchorY:0}){let m=this,b=this.chart.styledMode,w=this.options,E=this.split&&this.allowShared,T=this.container,D=this.chart.renderer;if(this.label){let M=!this.label.hasClass("highcharts-label");(!E&&M||E&&!M)&&this.destroy()}if(!this.label){if(this.outside){let M=this.chart,G=M.options.chart.style,I=tp.getRendererType();this.container=T=F.doc.createElement("div"),T.className="highcharts-tooltip-container "+(M.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),q2(T,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((G==null?void 0:G.zIndex)||0)+3)}),this.renderer=D=new I(T,0,0,G,void 0,void 0,D.styledMode)}if(E?this.label=D.g("tooltip"):(this.label=D.label("",d,g,w.shape||"callout",void 0,void 0,w.useHTML,void 0,"tooltip").attr({padding:w.padding,r:w.borderRadius}),b||this.label.attr({fill:w.backgroundColor,"stroke-width":w.borderWidth||0}).css(w.style).css({pointerEvents:w.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),m.outside){let M=this.label;[M.xSetter,M.ySetter].forEach((G,I)=>{M[I?"ySetter":"xSetter"]=U=>{G.call(M,m.distance),M[I?"y":"x"]=U,T&&(T.style[I?"top":"left"]=`${U}px`)}})}this.label.attr({zIndex:8}).shadow(w.shadow??!w.fixed).add()}return T&&!T.parentElement&&F.doc.body.appendChild(T),this.label}getPlayingField(){let{body:d,documentElement:g}=X2,{chart:m,distance:b,outside:w}=this;return{width:w?Math.max(d.scrollWidth,g.scrollWidth,d.offsetWidth,g.offsetWidth,g.clientWidth)-2*b-2:m.chartWidth,height:w?Math.max(d.scrollHeight,g.scrollHeight,d.offsetHeight,g.offsetHeight,g.clientHeight):m.chartHeight}}getPosition(d,g,m){var ai,wi;let{distance:b,chart:w,outside:E,pointer:T}=this,{inverted:D,plotLeft:M,plotTop:G,polar:I}=w,{plotX:U=0,plotY:z=0}=m,J={},le=D&&m.h||0,{height:ae,width:oe}=this.getPlayingField(),ge=T.getChartPosition(),Ce=Qt=>Qt*ge.scaleX,Ye=Qt=>Qt*ge.scaleY,Ue=Qt=>{let Ei=Qt==="x";return[Qt,Ei?oe:ae,Ei?d:g].concat(E?[Ei?Ce(d):Ye(g),Ei?ge.left-b+Ce(U+M):ge.top-b+Ye(z+G),0,Ei?oe:ae]:[Ei?d:g,Ei?U+M:z+G,Ei?M:G,Ei?M+w.plotWidth:G+w.plotHeight])},je=Ue("y"),rt=Ue("x"),et,it=!!m.negative;!I&&((wi=(ai=w.hoverSeries)==null?void 0:ai.yAxis)!=null&&wi.reversed)&&(it=!it);let _t=!this.followPointer&&jm(m.ttBelow,!I&&!D===it),Nt=function(Qt,Ei,ys,Cs,Ts,Ro,hs){let qs=E?Qt==="y"?Ye(b):Ce(b):b,Gi=(ys-Cs)/2,Ai=Cs<Ts-b,Cn=Ts+b+Cs<Ei,Qs=Ts-qs-ys+Gi,Fr=Ts+qs-Gi;if(_t&&Cn)J[Qt]=Fr;else if(!_t&&Ai)J[Qt]=Qs;else if(Ai)J[Qt]=Math.min(hs-Cs,Qs-le<0?Qs:Qs-le);else{if(!Cn)return J[Qt]=0,!1;J[Qt]=Math.max(Ro,Fr+le+ys>Ei?Fr:Fr+le)}},Ht=function(Qt,Ei,ys,Cs,Ts){if(Ts<b||Ts>Ei-b)return!1;Ts<ys/2?J[Qt]=1:Ts>Ei-Cs/2?J[Qt]=Ei-Cs-2:J[Qt]=Ts-ys/2},jt=function(Qt){[je,rt]=[rt,je],et=Qt},fi=()=>{Nt.apply(0,je)!==!1?Ht.apply(0,rt)!==!1||et||(jt(!0),fi()):et?J.x=J.y=0:(jt(!0),fi())};return(D&&!I||this.len>1)&&jt(),fi(),J}getFixedPosition(d,g,m){var U;let b=m.series,{chart:w,options:E,split:T}=this,D=E.position,M=D.relativeTo,G=E.shared||(U=b==null?void 0:b.yAxis)!=null&&U.isRadial&&(M==="pane"||!M)?"plotBox":M,I=G==="chart"?w.renderer:w[G]||w.getClipBox(b,!0);return{x:I.x+(I.width-d)*Q2(D.align)+D.x,y:I.y+(I.height-g)*Q2(D.verticalAlign)+(!T&&D.y||0)}}hide(d){let g=this;de.clearTimeout(this.hideTimer),d=jm(d,this.options.hideDelay),this.isHidden||(this.hideTimer=ste(function(){let m=g.getLabel();g.getLabel().animate({opacity:0},{duration:d&&150,complete:()=>{m.hide(),g.container&&g.container.remove()}}),g.isHidden=!0},d))}init(d,g){this.chart=d,this.options=g,this.crosshairs=[],this.isHidden=!0,this.split=g.split&&!d.inverted&&!d.polar,this.shared=g.shared||this.split,this.outside=jm(g.outside,!!(d.scrollablePixelsX||d.scrollablePixelsY))}shouldStickOnContact(d){return!!(!this.followPointer&&this.options.stickOnContact&&(!d||this.pointer.inClass(d.target,"highcharts-tooltip")))}move(d,g,m,b){let{followPointer:w,options:E}=this,T=Uee(!w&&!this.isHidden&&!E.fixed&&E.animation),D=w||(this.len||0)>1,M={x:d,y:g};D?M.anchorX=M.anchorY=NaN:(M.anchorX=m,M.anchorY=b),T.step=()=>this.drawTracker(),this.getLabel().animate(M,T)}refresh(d,g){let{chart:m,options:b,pointer:w,shared:E}=this,T=Wk(d),D=T[0],M=b.format,G=b.formatter||this.defaultFormatter,I=m.styledMode,U=this.allowShared;if(!b.enabled||!D.series)return;de.clearTimeout(this.hideTimer),this.allowShared=!(!Jee(d)&&d.series&&d.series.noSharedTooltip),U=U&&!this.allowShared,this.followPointer=!this.split&&D.series.tooltipOptions.followPointer;let z=this.getAnchor(d,g),J=z[0],le=z[1];E&&this.allowShared&&(w.applyInactiveState(T),T.forEach(ge=>ge.setState("hover")),D.points=T),this.len=T.length;let ae=$k(M)?Y2(M,D,m):G.call(D,this);D.points=void 0;let oe=D.series;if(this.distance=jm(oe.tooltipOptions.distance,16),ae===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(ae,T);else{let ge=J,Ce=le;if(g&&w.isDirectTouch&&(ge=g.chartX-m.plotLeft,Ce=g.chartY-m.plotTop),!(m.polar||oe.options.clip===!1||T.some(Ye=>w.isDirectTouch||Ye.series.shouldShowTooltip(ge,Ce))))return void this.hide();{let Ye=this.getLabel(U&&this.tt||{});(!b.style.width||I)&&Ye.css({width:(this.outside?this.getPlayingField():m.spacingBox).width+"px"}),Ye.attr({class:this.getClassName(D),text:ae&&ae.join?ae.join(""):ae}),this.outside&&Ye.attr({x:zm(Ye.x||0,0,this.getPlayingField().width-(Ye.width||0)-1)}),I||Ye.attr({stroke:b.borderColor||D.color||oe.color||"#666666"}),this.updatePosition({plotX:J,plotY:le,negative:D.negative,ttBelow:D.ttBelow,series:oe,h:z[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Hk(this,"refresh")}renderSplit(d,g){var Ts,Ro;let m=this,{chart:b,chart:{chartWidth:w,chartHeight:E,plotHeight:T,plotLeft:D,plotTop:M,scrollablePixelsY:G=0,scrollablePixelsX:I,styledMode:U},distance:z,options:J,options:{fixed:le,position:ae,positioner:oe},pointer:ge}=m,{scrollLeft:Ce=0,scrollTop:Ye=0}=((Ts=b.scrollablePlotArea)==null?void 0:Ts.scrollingContainer)||{},Ue=m.outside&&typeof I!="number"?X2.documentElement.getBoundingClientRect():{left:Ce,right:Ce+w},je=m.getLabel(),rt=this.renderer||b.renderer,et=!!((Ro=b.xAxis[0])!=null&&Ro.opposite),{left:it,top:_t}=ge.getChartPosition(),Nt=oe||le,Ht=M+Ye,jt=0,fi=T-G,ai=function(hs,qs,Gi,Ai=[0,0],Cn=!0){let Qs,Fr;if(Gi.isHeader)Fr=et?0:fi,Qs=zm(Ai[0]-hs/2,Ue.left,Ue.right-hs-(m.outside?it:0));else if(le&&Gi){let oo=m.getFixedPosition(hs,qs,Gi);Qs=oo.x,Fr=oo.y-Ht}else Fr=Ai[1]-Ht,Qs=zm(Qs=Cn?Ai[0]-hs-z:Ai[0]+z,Cn?Qs:Ue.left,Ue.right);return{x:Qs,y:Fr}};$k(d)&&(d=[!1,d]);let wi=d.slice(0,g.length+1).reduce(function(hs,qs,Gi){if(qs!==!1&&qs!==""){let Ai=g[Gi-1]||{isHeader:!0,plotX:g[0].plotX,plotY:T,series:{}},Cn=Ai.isHeader,Qs=Cn?m:Ai.series,Fr=Qs.tt=function(Co,Mr,Gy){let Mh=Co,{isHeader:pp,series:Hy}=Mr,Dc=Hy.tooltipOptions||J;if(!Mh){let qm={padding:Dc.padding,r:Dc.borderRadius};U||(qm.fill=Dc.backgroundColor,qm["stroke-width"]=Dc.borderWidth??(le&&!pp?0:1)),Mh=rt.label("",0,0,Dc[pp?"headerShape":"shape"]||(le&&!pp?"rect":"callout"),void 0,void 0,Dc.useHTML).addClass(m.getClassName(Mr,!0,pp)).attr(qm).add(je)}return Mh.isActive=!0,Mh.attr({text:Gy}),U||Mh.css(Dc.style).attr({stroke:Dc.borderColor||Mr.color||Hy.color||"#333333"}),Mh}(Qs.tt,Ai,qs.toString()),oo=Fr.getBBox(),fd=oo.width+Fr.strokeWidth();Cn&&(jt=oo.height,fi+=jt,et&&(Ht-=jt));let{anchorX:Ul,anchorY:Po}=function(Co){let Mr,Gy,{isHeader:Mh,plotX:pp=0,plotY:Hy=0,series:Dc}=Co;if(Mh)Mr=Math.max(D+pp,D),Gy=M+T/2;else{let{xAxis:qm,yAxis:pB}=Dc;Mr=qm.pos+zm(pp,-z,qm.len+z),Dc.shouldShowTooltip(0,pB.pos-M+Hy,{ignoreX:!0})&&(Gy=pB.pos+Hy)}return{anchorX:Mr=zm(Mr,Ue.left-z,Ue.right+z),anchorY:Gy}}(Ai);if(typeof Po=="number"){let Co=oo.height+1,Mr=(oe||ai).call(m,fd,Co,Ai,[Ul,Po]);hs.push({align:Nt?0:void 0,anchorX:Ul,anchorY:Po,boxWidth:fd,point:Ai,rank:jm(Mr.rank,+!!Cn),size:Co,target:Mr.y,tt:Fr,x:Mr.x})}else Fr.isActive=!1}return hs},[]);!Nt&&wi.some(hs=>{let{outside:qs}=m,Gi=(qs?it:0)+hs.anchorX;return Gi<Ue.left&&Gi+hs.boxWidth<Ue.right||Gi<it-Ue.left+hs.boxWidth&&Ue.right-Gi>Gi})&&(wi=wi.map(hs=>{let{x:qs,y:Gi}=ai.call(this,hs.boxWidth,hs.size,hs.point,[hs.anchorX,hs.anchorY],!1);return Qee(hs,{target:Gi,x:qs})})),m.cleanSplit(),Yee(wi,fi);let Qt={left:it,right:it};wi.forEach(function(hs){let{x:qs,boxWidth:Gi,isHeader:Ai}=hs;!Ai&&(m.outside&&it+qs<Qt.left&&(Qt.left=it+qs),!Ai&&m.outside&&Qt.left+Gi>Qt.right&&(Qt.right=it+qs))}),wi.forEach(function(hs){let{x:qs,anchorX:Gi,anchorY:Ai,pos:Cn,point:{isHeader:Qs}}=hs,Fr={visibility:Cn===void 0?"hidden":"inherit",x:qs,y:(Cn||0)+Ht+(le&&ae.y||0),anchorX:Gi,anchorY:Ai};if(m.outside&&qs<Gi){let oo=it-Qt.left;oo>0&&(Qs||(Fr.x=qs+oo,Fr.anchorX=Gi+oo),Qs&&(Fr.x=(Qt.right-Qt.left)/2,Fr.anchorX=Gi+oo))}hs.tt.attr(Fr)});let{container:Ei,outside:ys,renderer:Cs}=m;if(ys&&Ei&&Cs){let{width:hs,height:qs,x:Gi,y:Ai}=je.getBBox();Cs.setSize(hs+Gi,qs+Ai,!1),Ei.style.left=Qt.left+"px",Ei.style.top=_t+"px"}Kee&&je.attr({opacity:je.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let d=this.chart,g=this.label,m=this.shared?d.hoverPoints:d.hoverPoint;if(!g||!m)return;let b={x:0,y:0,width:0,height:0},w=this.getAnchor(m),E=g.getBBox();w[0]+=d.plotLeft-(g.translateX||0),w[1]+=d.plotTop-(g.translateY||0),b.x=Math.min(0,w[0]),b.y=Math.min(0,w[1]),b.width=w[0]<0?Math.max(Math.abs(w[0]),E.width-w[0]):Math.max(Math.abs(w[0]),E.width),b.height=w[1]<0?Math.max(Math.abs(w[1]),E.height-Math.abs(w[1])):Math.max(Math.abs(w[1]),E.height),this.tracker?this.tracker.attr(b):(this.tracker=g.renderer.rect(b).addClass("highcharts-tracker").add(g),d.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(d){return d.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(d,g){let m=d.series,b=m.tooltipOptions,w=m.xAxis,E=w==null?void 0:w.dateTime,T={isFooter:g,point:d},D=b.xDateFormat||"",M=b[g?"footerFormat":"headerFormat"];return Hk(this,"headerFormatter",T,function(G){if(E&&!D&&Zee(d.key)&&(D=E.getXDateFormat(d.key,b.dateTimeLabelFormats)),E&&D){if(ete(D)){let I=D;jee[0]=U=>m.chart.time.dateFormat(I,U),D="%0"}(d.tooltipDateKeys||["key"]).forEach(I=>{M=M.replace(RegExp("point\\."+I+"([ \\)}])"),`(point.${I}:${D})$1`)})}m.chart.styledMode&&(M=this.styledModeFormat(M)),G.text=Y2(M,d,this.chart)}),T.text||""}update(d){this.destroy(),this.init(this.chart,tte(!0,this.options,d))}updatePosition(d){var Ue;let{chart:g,container:m,distance:b,options:w,pointer:E,renderer:T}=this,{height:D=0,width:M=0}=this.getLabel(),{fixed:G,positioner:I}=w,{left:U,top:z,scaleX:J,scaleY:le}=E.getChartPosition(),ae=(I||G&&this.getFixedPosition||this.getPosition).call(this,M,D,d),oe=F.doc,ge=(d.plotX||0)+g.plotLeft,Ce=(d.plotY||0)+g.plotTop,Ye;if(T&&m){if(I||G){let{scrollLeft:je=0,scrollTop:rt=0}=((Ue=g.scrollablePlotArea)==null?void 0:Ue.scrollingContainer)||{};ae.x+=je+U-b,ae.y+=rt+z-b}Ye=(w.borderWidth||0)+2*b+2,T.setSize(zm(M+Ye,0,oe.documentElement.clientWidth)-1,D+Ye,!1),(J!==1||le!==1)&&(q2(m,{transform:`scale(${J}, ${le})`}),ge*=J,Ce*=le),ge+=U-ae.x,Ce+=z-ae.y}this.move(Math.round(ae.x),Math.round(ae.y||0),ge,Ce)}}(function(L){L.compose=function(d){ite(zee,"Core.Tooltip")&&Xee(d,"afterInit",function(){let g=this.chart;g.options.tooltip&&(g.tooltip=new L(g,g.options.tooltip,this))})}})(Uk||(Uk={}));let J2=Uk,{animObject:rte}=st,{defaultOptions:nte}=Ls,{format:ote}=Va,{addEvent:ate,crisp:lte,erase:cte,extend:hx,fireEvent:zk,getNestedProperty:ute,isArray:dte,isFunction:hte,isNumber:Eh,isObject:fx,merge:Z2,pick:_h,syncTimeout:fte,removeEvent:eV,uniqueKey:pte}=de;class ky{animateBeforeDestroy(){let d=this,g={x:d.startXPos,opacity:0},m=d.getGraphicalProps();m.singular.forEach(function(b){d[b]=d[b].animate(b==="dataLabel"?{x:d[b].startXPos,y:d[b].startYPos,opacity:0}:g)}),m.plural.forEach(function(b){d[b].forEach(function(w){w.element&&w.animate(hx({x:d.startXPos},w.startYPos?{x:w.startXPos,y:w.startYPos}:{}))})})}applyOptions(d,g){let m=this.series,b=m.options.pointValKey||m.pointValKey;return hx(this,d=ky.prototype.optionsToObject.call(this,d)),this.options=this.options?hx(this.options,d):d,d.group&&delete this.group,d.dataLabels&&delete this.dataLabels,b&&(this.y=ky.prototype.getNestedProperty.call(this,b)),this.selected&&(this.state="select"),"name"in this&&g===void 0&&m.xAxis&&m.xAxis.hasNames&&(this.x=m.xAxis.nameToX(this)),this.x===void 0&&m?this.x=g??m.autoIncrement():Eh(d.x)&&m.options.relativeXValue?this.x=m.autoIncrement(d.x):typeof this.x=="string"&&(g??(g=m.chart.time.parse(this.x)),Eh(g)&&(this.x=g)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let d=this,g=d.series,m=g.chart,b=g.options.dataSorting,w=m.hoverPoints,E=rte(d.series.chart.renderer.globalAnimation),T=()=>{for(let D in(d.graphic||d.graphics||d.dataLabel||d.dataLabels)&&(eV(d),d.destroyElements()),d)delete d[D]};d.legendItem&&m.legend.destroyItem(d),w&&(d.setState(),cte(w,d),w.length||(m.hoverPoints=null)),d===m.hoverPoint&&d.onMouseOut(),b!=null&&b.enabled?(this.animateBeforeDestroy(),fte(T,E.duration)):T(),m.pointCount--}this.destroyed=!0}destroyElements(d){let g=this,m=g.getGraphicalProps(d);m.singular.forEach(function(b){g[b]=g[b].destroy()}),m.plural.forEach(function(b){g[b].forEach(function(w){w!=null&&w.element&&w.destroy()}),delete g[b]})}firePointEvent(d,g,m){let b=this,w=this.series.options;b.manageEvent(d),d==="click"&&w.allowPointSelect&&(m=function(E){!b.destroyed&&b.select&&b.select(null,E.ctrlKey||E.metaKey||E.shiftKey)}),zk(b,d,g,m)}getClassName(){var d;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((d=this.zone)!=null&&d.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(d){let g,m,b=this,w=[],E={singular:[],plural:[]};for((d=d||{graphic:1,dataLabel:1}).graphic&&w.push("graphic","connector"),d.dataLabel&&w.push("dataLabel","dataLabelPath","dataLabelUpper"),m=w.length;m--;)b[g=w[m]]&&E.singular.push(g);return["graphic","dataLabel"].forEach(function(T){let D=T+"s";d[T]&&b[D]&&E.plural.push(D)}),E}getNestedProperty(d){if(d)return d.indexOf("custom.")===0?ute(d,this.options):this[d]}getZone(){let d=this.series,g=d.zones,m=d.zoneAxis||"y",b,w=0;for(b=g[0];this[m]>=b.value;)b=g[++w];return this.nonZonedColor||(this.nonZonedColor=this.color),b!=null&&b.color&&!this.options.color?this.color=b.color:this.color=this.nonZonedColor,b}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(d,g,m){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=d,this.applyOptions(g,m),this.id??(this.id=pte()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=d.options.nullInteraction),d.chart.pointCount++,zk(this,"afterInit")}isValid(){return(Eh(this.x)||this.x instanceof Date)&&Eh(this.y)}optionsToObject(d){var G;let g=this.series,m=g.options.keys,b=m||g.pointArrayMap||["y"],w=b.length,E={},T,D=0,M=0;if(Eh(d)||d===null)E[b[0]]=d;else if(dte(d))for(!m&&d.length>w&&((T=typeof d[0])=="string"?(G=g.xAxis)!=null&&G.dateTime?E.x=g.chart.time.parse(d[0]):E.name=d[0]:T==="number"&&(E.x=d[0]),D++);M<w;)m&&d[D]===void 0||(b[M].indexOf(".")>0?ky.prototype.setNestedProperty(E,d[D],b[M]):E[b[M]]=d[D]),D++,M++;else typeof d=="object"&&(E=d,d.dataLabels&&(g.hasDataLabels=()=>!0),d.marker&&(g._hasPointMarkers=!0));return E}pos(d,g=this.plotY){if(!this.destroyed){let{plotX:m,series:b}=this,{chart:w,xAxis:E,yAxis:T}=b,D=0,M=0;if(Eh(m)&&Eh(g))return d&&(D=E?E.pos:w.plotLeft,M=T?T.pos:w.plotTop),w.inverted&&E&&T?[T.len-g+M,E.len-m+D]:[m+D,g+M]}}resolveColor(){let d=this.series,g=d.chart.options.chart,m=d.chart.styledMode,b,w,E=g.colorCount,T;delete this.nonZonedColor,d.options.colorByPoint?(m||(b=(w=d.options.colors||d.chart.options.colors)[d.colorCounter],E=w.length),T=d.colorCounter,d.colorCounter++,d.colorCounter===E&&(d.colorCounter=0)):(m||(b=d.color),T=d.colorIndex),this.colorIndex=_h(this.options.colorIndex,T),this.color=_h(this.options.color,b)}setNestedProperty(d,g,m){return m.split(".").reduce(function(b,w,E,T){let D=T.length-1===E;return b[w]=D?g:fx(b[w],!0)?b[w]:{},b[w]},d),d}shouldDraw(){return!this.isNull}tooltipFormatter(d){var D;let{chart:g,pointArrayMap:m=["y"],tooltipOptions:b}=this.series,{valueDecimals:w="",valuePrefix:E="",valueSuffix:T=""}=b;return g.styledMode&&(d=((D=g.tooltip)==null?void 0:D.styledModeFormat(d))||d),m.forEach(M=>{M="{point."+M,(E||T)&&(d=d.replace(RegExp(M+"}","g"),E+M+"}"+T)),d=d.replace(RegExp(M+"}","g"),M+":,."+w+"f}")}),ote(d,this,g)}update(d,g,m,b){let w,E=this,T=E.series,D=E.graphic,M=T.chart,G=T.options;function I(){E.applyOptions(d);let U=D&&E.hasMockGraphic,z=E.y===null?!U:U;D&&z&&(E.graphic=D.destroy(),delete E.hasMockGraphic),fx(d,!0)&&(D!=null&&D.element&&d&&d.marker&&d.marker.symbol!==void 0&&(E.graphic=D.destroy()),d!=null&&d.dataLabels&&E.dataLabel&&(E.dataLabel=E.dataLabel.destroy())),w=E.index;let J={};for(let le of T.dataColumnKeys())J[le]=E[le];T.dataTable.setRow(J,w),G.data[w]=fx(G.data[w],!0)||fx(d,!0)?E.options:_h(d,G.data[w]),T.isDirty=T.isDirtyData=!0,!T.fixedBox&&T.hasCartesianSeries&&(M.isDirtyBox=!0),G.legendType==="point"&&(M.isDirtyLegend=!0),g&&M.redraw(m)}g=_h(g,!0),b===!1?I():E.firePointEvent("update",{options:d},I)}remove(d,g){this.series.removePoint(this.series.data.indexOf(this),d,g)}select(d,g){let m=this,b=m.series,w=b.chart;d=_h(d,!m.selected),this.selectedStaging=d,m.firePointEvent(d?"select":"unselect",{accumulate:g},function(){m.selected=m.options.selected=d,b.options.data[b.data.indexOf(m)]=m.options,m.setState(d&&"select"),g||w.getSelectedPoints().forEach(function(E){let T=E.series;E.selected&&E!==m&&(E.selected=E.options.selected=!1,T.options.data[T.data.indexOf(E)]=E.options,E.setState(w.hoverPoints&&T.options.inactiveOtherPoints?"inactive":""),E.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(d){let{inverted:g,pointer:m}=this.series.chart;m&&(d=d?m.normalize(d):m.getChartCoordinatesFromPoint(this,g),m.runPointActions(d,this))}onMouseOut(){let d=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(d.hoverPoints||[]).forEach(function(g){g.setState()}),d.hoverPoints=d.hoverPoint=null}manageEvent(d){var b,w,E,T,D,M,G;let g=Z2(this.series.options.point,this.options),m=(b=g.events)==null?void 0:b[d];hte(m)&&(!((w=this.hcEvents)!=null&&w[d])||((T=(E=this.hcEvents)==null?void 0:E[d])==null?void 0:T.map(I=>I.fn).indexOf(m))===-1)?((D=this.importedUserEvent)==null||D.call(this),this.importedUserEvent=ate(this,d,m),this.hcEvents&&(this.hcEvents[d].userEvent=!0)):this.importedUserEvent&&!m&&((M=this.hcEvents)!=null&&M[d])&&((G=this.hcEvents)!=null&&G[d].userEvent)&&(eV(this,d),delete this.hcEvents[d],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(d,g){var je,rt;let m=this.series,b=this.state,w=m.options.states[d||"normal"]||{},E=nte.plotOptions[m.type].marker&&m.options.marker,T=E&&E.enabled===!1,D=((je=E==null?void 0:E.states)==null?void 0:je[d||"normal"])||{},M=D.enabled===!1,G=this.marker||{},I=m.chart,U=E&&m.markerAttribs,z=m.halo,J,le,ae,oe=m.stateMarkerGraphic,ge;if((d=d||"")===this.state&&!g||this.selected&&d!=="select"||w.enabled===!1||d&&(M||T&&D.enabled===!1)||d&&G.states&&G.states[d]&&G.states[d].enabled===!1)return;if(this.state=d,U&&(J=m.markerAttribs(this,d)),this.graphic&&!this.hasMockGraphic){if(b&&this.graphic.removeClass("highcharts-point-"+b),d&&this.graphic.addClass("highcharts-point-"+d),!I.styledMode){le=m.pointAttribs(this,d),ae=_h(I.options.chart.animation,w.animation);let et=le.opacity;m.options.inactiveOtherPoints&&Eh(et)&&(this.dataLabels||[]).forEach(function(it){it&&!it.hasClass("highcharts-data-label-hidden")&&(it.animate({opacity:et},ae),it.connector&&it.connector.animate({opacity:et},ae))}),this.graphic.animate(le,ae)}J&&this.graphic.animate(J,_h(I.options.chart.animation,D.animation,E.animation)),oe&&oe.hide()}else d&&D&&(ge=G.symbol||m.symbol,oe&&oe.currentSymbol!==ge&&(oe=oe.destroy()),J&&(oe?oe[g?"animate":"attr"]({x:J.x,y:J.y}):ge&&(m.stateMarkerGraphic=oe=I.renderer.symbol(ge,J.x,J.y,J.width,J.height,Z2(E,D)).add(m.markerGroup),oe.currentSymbol=ge)),!I.styledMode&&oe&&this.state!=="inactive"&&oe.attr(m.pointAttribs(this,d))),oe&&(oe[d&&this.isInside?"show":"hide"](),oe.element.point=this,oe.addClass(this.getClassName(),!0));let Ce=w.halo,Ye=this.graphic||oe,Ue=(Ye==null?void 0:Ye.visibility)||"inherit";Ce!=null&&Ce.size&&Ye&&Ue!=="hidden"&&!this.isCluster?(z||(m.halo=z=I.renderer.path().add(Ye.parentGroup)),z.show()[g?"animate":"attr"]({d:this.haloPath(Ce.size)}),z.attr({class:"highcharts-halo highcharts-color-"+_h(this.colorIndex,m.colorIndex)+(this.className?" "+this.className:""),visibility:Ue,zIndex:-1}),z.point=this,I.styledMode||z.attr(hx({fill:this.color||m.color,"fill-opacity":Ce.opacity},ds.filterUserAttributes(Ce.attributes||{})))):(rt=z==null?void 0:z.point)!=null&&rt.haloPath&&!z.point.destroyed&&z.animate({d:z.point.haloPath(0)},null,z.hide),zk(this,"afterSetState",{state:d})}haloPath(d){let g=this.pos();return g?this.series.chart.renderer.symbols.circle(lte(g[0],1)-d,g[1]-d,2*d,2*d):[]}}let Th=ky,{parse:gte}=hr,{charts:jk,composed:mte,isTouchDevice:vte}=F,{addEvent:$l,attr:yte,css:Kk,extend:Yk,find:tV,fireEvent:Ah,isNumber:px,isObject:gx,objectEach:Cte,offset:bte,pick:fu,pushUnique:wte,splat:iV}=de;class ro{applyInactiveState(d=[]){let g=[];d.forEach(m=>{let b=m.series;g.push(b),b.linkedParent&&g.push(b.linkedParent),b.linkedSeries&&g.push.apply(g,b.linkedSeries),b.navigatorSeries&&g.push(b.navigatorSeries),b.boosted&&b.markerGroup&&g.push.apply(g,this.chart.series.filter(w=>w.markerGroup===b.markerGroup))}),this.chart.series.forEach(m=>{g.indexOf(m)===-1?m.setState("inactive",!0):m.options.inactiveOtherPoints&&m.setAllPointsToState("inactive")})}destroy(){let d=this;this.eventsToUnbind.forEach(g=>g()),this.eventsToUnbind=[],!F.chartCount&&(ro.unbindDocumentMouseUp.forEach(g=>g.unbind()),ro.unbindDocumentMouseUp.length=0,ro.unbindDocumentTouchEnd&&(ro.unbindDocumentTouchEnd=ro.unbindDocumentTouchEnd())),clearInterval(d.tooltipTimeout),Cte(d,function(g,m){d[m]=void 0})}getSelectionMarkerAttrs(d,g){let m={args:{chartX:d,chartY:g},attrs:{},shapeType:"rect"};return Ah(this,"getSelectionMarkerAttrs",m,b=>{let w,{chart:E,zoomHor:T,zoomVert:D}=this,{mouseDownX:M=0,mouseDownY:G=0}=E,I=b.attrs;I.x=E.plotLeft,I.y=E.plotTop,I.width=T?1:E.plotWidth,I.height=D?1:E.plotHeight,T&&(I.width=Math.max(1,Math.abs(w=d-M)),I.x=(w>0?0:w)+M),D&&(I.height=Math.max(1,Math.abs(w=g-G)),I.y=(w>0?0:w)+G)}),m}drag(d){let{chart:g}=this,{mouseDownX:m=0,mouseDownY:b=0}=g,{panning:w,panKey:E,selectionMarkerFill:T}=g.options.chart,D=g.plotLeft,M=g.plotTop,G=g.plotWidth,I=g.plotHeight,U=gx(w)?w.enabled:w,z=E&&d[`${E}Key`],J=d.chartX,le=d.chartY,ae,oe=this.selectionMarker;if((!oe||!oe.touch)&&(J<D?J=D:J>D+G&&(J=D+G),le<M?le=M:le>M+I&&(le=M+I),this.hasDragged=Math.sqrt(Math.pow(m-J,2)+Math.pow(b-le,2)),this.hasDragged>10)){ae=g.isInsidePlot(m-D,b-M,{visiblePlotOnly:!0});let{shapeType:ge,attrs:Ce}=this.getSelectionMarkerAttrs(J,le);this.hasZoom&&ae&&!z&&!oe&&(this.selectionMarker=oe=g.renderer[ge](),oe.attr({class:"highcharts-selection-marker",zIndex:7}).add(),g.styledMode||oe.attr({fill:T||gte("#334eff").setOpacity(.25).get()})),oe&&oe.attr(Ce),ae&&!oe&&U&&g.pan(d,w)}}dragStart(d){let g=this.chart;g.mouseIsDown=d.type,g.cancelClick=!1,g.mouseDownX=d.chartX,g.mouseDownY=d.chartY}getSelectionBox(d){let g={args:{marker:d},result:d.getBBox()};return Ah(this,"getSelectionBox",g),g.result}drop(d){let g,{chart:m,selectionMarker:b}=this;for(let w of m.axes)w.isPanning&&(w.isPanning=!1,(w.options.startOnTick||w.options.endOnTick||w.series.some(E=>E.boosted))&&(w.forceRedraw=!0,w.setExtremes(w.userMin,w.userMax,!1),g=!0));if(g&&m.redraw(),b&&d){if(this.hasDragged){let w=this.getSelectionBox(b);m.transform({axes:m.axes.filter(E=>E.zoomEnabled&&(E.coll==="xAxis"&&this.zoomX||E.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:d,xAxis:[],yAxis:[],...w},from:w})}px(m.index)&&(this.selectionMarker=b.destroy())}m&&px(m.index)&&(Kk(m.container,{cursor:m._cursor}),m.cancelClick=this.hasDragged>10,m.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(d,g,m){let b;return d.forEach(function(w){let E=!(w.noSharedTooltip&&g)&&0>w.options.findNearestPointBy.indexOf("y"),T=w.searchPoint(m,E);gx(T,!0)&&T.series&&(!gx(b,!0)||function(D,M){var z,J;let G=D.distX-M.distX,I=D.dist-M.dist,U=((z=M.series.group)==null?void 0:z.zIndex)-((J=D.series.group)==null?void 0:J.zIndex);return G!==0&&g?G:I!==0?I:U!==0?U:D.series.index>M.series.index?-1:1}(b,T)>0)&&(b=T)}),b}getChartCoordinatesFromPoint(d,g){let{xAxis:m,yAxis:b}=d.series,w=d.shapeArgs;if(m&&b){let E=d.clientX??d.plotX??0,T=d.plotY||0;return d.isNode&&w&&px(w.x)&&px(w.y)&&(E=w.x,T=w.y),g?{chartX:b.len+b.pos-T,chartY:m.len+m.pos-E}:{chartX:E+m.pos,chartY:T+b.pos}}if(w!=null&&w.x&&w.y)return{chartX:w.x,chartY:w.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:d}=this.chart,g=bte(d);this.chartPosition={left:g.left,top:g.top,scaleX:1,scaleY:1};let{offsetHeight:m,offsetWidth:b}=d;return b>2&&m>2&&(this.chartPosition.scaleX=g.width/b,this.chartPosition.scaleY=g.height/m),this.chartPosition}getCoordinates(d){let g={xAxis:[],yAxis:[]};for(let m of this.chart.axes)g[m.isXAxis?"xAxis":"yAxis"].push({axis:m,value:m.toValue(d[m.horiz?"chartX":"chartY"])});return g}getHoverData(d,g,m,b,w,E){let T=[],D=function(z){return z.visible&&!(!w&&z.directTouch)&&fu(z.options.enableMouseTracking,!0)},M=g,G,I={chartX:E?E.chartX:void 0,chartY:E?E.chartY:void 0,shared:w};Ah(this,"beforeGetHoverData",I),G=M&&!M.stickyTracking?[M]:m.filter(z=>z.stickyTracking&&(I.filter||D)(z));let U=b&&d||!E?d:this.findNearestKDPoint(G,w,E);return M=U==null?void 0:U.series,U&&(w&&!M.noSharedTooltip?(G=m.filter(function(z){return I.filter?I.filter(z):D(z)&&!z.noSharedTooltip})).forEach(function(z){var ae;let J=(ae=z.options)==null?void 0:ae.nullInteraction,le=tV(z.points,function(oe){return oe.x===U.x&&(!oe.isNull||!!J)});gx(le)&&(z.boosted&&z.boost&&(le=z.boost.getPoint(le)),T.push(le))}):T.push(U)),Ah(this,"afterGetHoverData",I={hoverPoint:U}),{hoverPoint:I.hoverPoint,hoverSeries:M,hoverPoints:T}}getPointFromEvent(d){let g=d.target,m;for(;g&&!m;)m=g.point,g=g.parentNode;return m}onTrackerMouseOut(d){let g=this.chart,m=d.relatedTarget,b=g.hoverSeries;this.isDirectTouch=!1,!b||!m||b.stickyTracking||this.inClass(m,"highcharts-tooltip")||this.inClass(m,"highcharts-series-"+b.index)&&this.inClass(m,"highcharts-tracker")||b.onMouseOut()}inClass(d,g){let m=d,b;for(;m;){if(b=yte(m,"class")){if(b.indexOf(g)!==-1)return!0;if(b.indexOf("highcharts-container")!==-1)return!1}m=m.parentElement}}constructor(d,g){var m;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=g,this.chart=d,this.runChartClick=!!((m=g.chart.events)!=null&&m.click),this.pinchDown=[],this.setDOMEvents(),Ah(this,"afterInit")}normalize(d,g){let m=d.touches,b=m?m.length?m.item(0):fu(m.changedTouches,d.changedTouches)[0]:d;g||(g=this.getChartPosition());let w=b.pageX-g.left,E=b.pageY-g.top;return Yk(d,{chartX:Math.round(w/=g.scaleX),chartY:Math.round(E/=g.scaleY)})}onContainerClick(d){let g=this.chart,m=g.hoverPoint,b=this.normalize(d),w=g.plotLeft,E=g.plotTop;!g.cancelClick&&(m&&this.inClass(b.target,"highcharts-tracker")?(Ah(m.series,"click",Yk(b,{point:m})),g.hoverPoint&&m.firePointEvent("click",b)):(Yk(b,this.getCoordinates(b)),g.isInsidePlot(b.chartX-w,b.chartY-E,{visiblePlotOnly:!0})&&Ah(g,"click",b)))}onContainerMouseDown(d){var m;let g=(1&(d.buttons||d.button))==1;d=this.normalize(d),F.isFirefox&&d.button!==0&&this.onContainerMouseMove(d),(d.button===void 0||g)&&(this.zoomOption(d),g&&((m=d.preventDefault)==null||m.call(d)),this.dragStart(d))}onContainerMouseLeave(d){let{pointer:g}=jk[fu(ro.hoverChartIndex,-1)]||{};d=this.normalize(d),this.onContainerMouseMove(d),g&&!this.inClass(d.relatedTarget,"highcharts-tooltip")&&(g.reset(),g.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(d){var w;let g=this.chart,m=g.tooltip,b=this.normalize(d);this.setHoverChartIndex(d),(g.mouseIsDown==="mousedown"||this.touchSelect(b))&&this.drag(b),!((w=g.exporting)!=null&&w.openMenu)&&(this.inClass(b.target,"highcharts-tracker")||g.isInsidePlot(b.chartX-g.plotLeft,b.chartY-g.plotTop,{visiblePlotOnly:!0}))&&!(m!=null&&m.shouldStickOnContact(b))&&(this.inClass(b.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(b))}onDocumentTouchEnd(d){this.onDocumentMouseUp(d)}onContainerTouchMove(d){this.touchSelect(d)?this.onContainerMouseMove(d):this.touch(d)}onContainerTouchStart(d){this.touchSelect(d)?this.onContainerMouseDown(d):(this.zoomOption(d),this.touch(d,!0))}onDocumentMouseMove(d){let g=this.chart,m=g.tooltip,b=this.chartPosition,w=this.normalize(d,b);!b||g.isInsidePlot(w.chartX-g.plotLeft,w.chartY-g.plotTop,{visiblePlotOnly:!0})||m!=null&&m.shouldStickOnContact(w)||w.target!==g.container.ownerDocument&&this.inClass(w.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(d){var g,m;(m=(g=jk[fu(ro.hoverChartIndex,-1)])==null?void 0:g.pointer)==null||m.drop(d)}pinch(d){let g=this,{chart:m,hasZoom:b,lastTouches:w}=g,E=[].map.call(d.touches||[],I=>g.normalize(I)),T=E.length,D=T===1&&(g.inClass(d.target,"highcharts-tracker")&&m.runTrackerClick||g.runChartClick),M=m.tooltip,G=T===1&&fu(M==null?void 0:M.options.followTouchMove,!0);T>1?g.initiated=!0:G&&(g.initiated=!1),b&&g.initiated&&!D&&d.cancelable!==!1&&d.preventDefault(),d.type==="touchstart"?(g.pinchDown=E,g.res=!0,m.mouseDownX=d.chartX):G?this.runPointActions(g.normalize(d)):w&&(Ah(m,"touchpan",{originalEvent:d,touches:E},()=>{let I=U=>{let z=U[0],J=U[1]||z;return{x:z.chartX,y:z.chartY,width:J.chartX-z.chartX,height:J.chartY-z.chartY}};m.transform({axes:m.axes.filter(U=>U.zoomEnabled&&(this.zoomHor&&U.horiz||this.zoomVert&&!U.horiz)),to:I(E),from:I(w),trigger:d.type})}),g.res&&(g.res=!1,this.reset(!1,0))),g.lastTouches=E}reset(d,g){let m=this.chart,b=m.hoverSeries,w=m.hoverPoint,E=m.hoverPoints,T=m.tooltip,D=T!=null&&T.shared?E:w;d&&D&&iV(D).forEach(function(M){M.series.isCartesian&&M.plotX===void 0&&(d=!1)}),d?T&&D&&iV(D).length&&(T.refresh(D),T.shared&&E?E.forEach(function(M){M.setState(M.state,!0),M.series.isCartesian&&(M.series.xAxis.crosshair&&M.series.xAxis.drawCrosshair(null,M),M.series.yAxis.crosshair&&M.series.yAxis.drawCrosshair(null,M))}):w&&(w.setState(w.state,!0),m.axes.forEach(function(M){M.crosshair&&w.series[M.coll]===M&&M.drawCrosshair(null,w)}))):(w&&w.onMouseOut(),E&&E.forEach(function(M){M.setState()}),b&&b.onMouseOut(),T&&T.hide(g),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),m.axes.forEach(function(M){M.hideCrosshair()}),m.hoverPoints=m.hoverPoint=void 0)}runPointActions(d,g,m){var le;let b=this.chart,w=b.series,E=(le=b.tooltip)!=null&&le.options.enabled?b.tooltip:void 0,T=!!E&&E.shared,D=g||b.hoverPoint,M=(D==null?void 0:D.series)||b.hoverSeries,G=(!d||d.type!=="touchmove")&&(!!g||(M==null?void 0:M.directTouch)&&this.isDirectTouch),I=this.getHoverData(D,M,w,G,T,d);D=I.hoverPoint,M=I.hoverSeries;let U=I.hoverPoints,z=(M==null?void 0:M.tooltipOptions.followPointer)&&!M.tooltipOptions.split,J=T&&M&&!M.noSharedTooltip;if(D&&(m||D!==b.hoverPoint||E!=null&&E.isHidden)){if((b.hoverPoints||[]).forEach(function(ae){U.indexOf(ae)===-1&&ae.setState()}),b.hoverSeries!==M&&M.onMouseOver(),this.applyInactiveState(U),(U||[]).forEach(function(ae){ae.setState("hover")}),b.hoverPoint&&b.hoverPoint.firePointEvent("mouseOut"),!D.series)return;b.hoverPoints=U,b.hoverPoint=D,D.firePointEvent("mouseOver",void 0,()=>{E&&D&&E.refresh(J?U:D,d)})}else if(z&&E&&!E.isHidden){let ae=E.getAnchor([{}],d);b.isInsidePlot(ae[0],ae[1],{visiblePlotOnly:!0})&&E.updatePosition({plotX:ae[0],plotY:ae[1]})}this.unDocMouseMove||(this.unDocMouseMove=$l(b.container.ownerDocument,"mousemove",ae=>{var oe,ge;return(ge=(oe=jk[ro.hoverChartIndex??-1])==null?void 0:oe.pointer)==null?void 0:ge.onDocumentMouseMove(ae)}),this.eventsToUnbind.push(this.unDocMouseMove)),b.axes.forEach(function(ae){var Ce;let oe,ge=((Ce=ae.crosshair)==null?void 0:Ce.snap)??!0;ge&&((oe=b.hoverPoint)&&oe.series[ae.coll]===ae||(oe=tV(U,Ye=>{var Ue;return((Ue=Ye.series)==null?void 0:Ue[ae.coll])===ae}))),oe||!ge?ae.drawCrosshair(d,oe):ae.hideCrosshair()})}setDOMEvents(){let d=this.chart.container,g=d.ownerDocument;d.onmousedown=this.onContainerMouseDown.bind(this),d.onmousemove=this.onContainerMouseMove.bind(this),d.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push($l(d,"mouseenter",this.onContainerMouseEnter.bind(this)),$l(d,"mouseleave",this.onContainerMouseLeave.bind(this))),ro.unbindDocumentMouseUp.some(b=>b.doc===g)||ro.unbindDocumentMouseUp.push({doc:g,unbind:$l(g,"mouseup",this.onDocumentMouseUp.bind(this))});let m=this.chart.renderTo.parentElement;for(;m&&m.tagName!=="BODY";)this.eventsToUnbind.push($l(m,"scroll",()=>{delete this.chartPosition})),m=m.parentElement;this.eventsToUnbind.push($l(d,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),$l(d,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ro.unbindDocumentTouchEnd||(ro.unbindDocumentTouchEnd=$l(g,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),$l(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var w,E;if(!vte)return;let d=this.pointerCaptureEventsToUnbind,g=this.chart,m=g.container,b=fu((w=g.options.tooltip)==null?void 0:w.followTouchMove,!0)&&g.series.some(T=>T.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&b?(d.push($l(m,"pointerdown",T=>{var D,M;(D=T.target)!=null&&D.hasPointerCapture(T.pointerId)&&((M=T.target)==null||M.releasePointerCapture(T.pointerId))}),$l(m,"pointermove",T=>{var D,M;(M=(D=g.pointer)==null?void 0:D.getPointFromEvent(T))==null||M.onMouseOver(T)})),g.styledMode||Kk(m,{"touch-action":"none"}),m.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!b&&(d.forEach(T=>T()),d.length=0,g.styledMode||Kk(m,{"touch-action":fu((E=g.options.chart.style)==null?void 0:E["touch-action"],"manipulation")}),m.className=m.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(d){var b;let g=this.chart,m=F.charts[fu(ro.hoverChartIndex,-1)];if(m&&m!==g){let w={relatedTarget:g.container};d&&!(d!=null&&d.relatedTarget)&&Object.assign({},d,w),(b=m.pointer)==null||b.onContainerMouseLeave(d||w)}m!=null&&m.mouseIsDown||(ro.hoverChartIndex=g.index)}touch(d,g){var E;let m,{chart:b,pinchDown:w=[]}=this;this.setHoverChartIndex(),(d=this.normalize(d)).touches.length===1?b.isInsidePlot(d.chartX-b.plotLeft,d.chartY-b.plotTop,{visiblePlotOnly:!0})&&!((E=b.exporting)!=null&&E.openMenu)?(g&&this.runPointActions(d),d.type==="touchmove"&&(m=!!w[0]&&Math.pow(w[0].chartX-d.chartX,2)+Math.pow(w[0].chartY-d.chartY,2)>=16),fu(m,!0)&&this.pinch(d)):g&&this.reset():d.touches.length===2&&this.pinch(d)}touchSelect(d){return!!(this.chart.zooming.singleTouch&&d.touches&&d.touches.length===1)}zoomOption(d){let g=this.chart,m=g.inverted,b=g.zooming.type||"",w,E;/touch/.test(d.type)&&(b=fu(g.zooming.pinchType,b)),this.zoomX=w=/x/.test(b),this.zoomY=E=/y/.test(b),this.zoomHor=w&&!m||E&&m,this.zoomVert=E&&!m||w&&m,this.hasZoom=w||E}}ro.unbindDocumentMouseUp=[],function(L){L.compose=function(d){wte(mte,"Core.Pointer")&&$l(d,"beforeRender",function(){this.pointer=new L(this,this.options)})}}(ro||(ro={}));let sV=ro;(function(L){L.setLength=function(d,g,m){return Array.isArray(d)?(d.length=g,d):d[m?"subarray":"slice"](0,g)},L.splice=function(d,g,m,b,w=[]){if(Array.isArray(d))return Array.isArray(w)||(w=Array.from(w)),{removed:d.splice(g,m,...w),array:d};let E=Object.getPrototypeOf(d).constructor,T=d[b?"subarray":"slice"](g,g+m),D=new E(d.length-m+w.length);return D.set(d.subarray(0,g),0),D.set(w,g),D.set(d.subarray(g+m),g+w.length),{removed:T,array:D}}})(f||(f={}));let{setLength:Ste,splice:rV}=f,{fireEvent:Xk,objectEach:Dy,uniqueKey:Ry}=de,mx=class{constructor(L={}){this.autoId=!L.id,this.columns={},this.id=L.id||Ry(),this.modified=this,this.rowCount=0,this.versionTag=Ry();let d=0;Dy(L.columns||{},(g,m)=>{this.columns[m]=g.slice(),d=Math.max(d,g.length)}),this.applyRowCount(d)}applyRowCount(L){this.rowCount=L,Dy(this.columns,(d,g)=>{d.length!==L&&(this.columns[g]=Ste(d,L))})}deleteRows(L,d=1){if(d>0&&L<this.rowCount){let g=0;Dy(this.columns,(m,b)=>{this.columns[b]=rV(m,L,d).array,g=m.length}),this.rowCount=g}Xk(this,"afterDeleteRows",{rowIndex:L,rowCount:d}),this.versionTag=Ry()}getColumn(L,d){return this.columns[L]}getColumns(L,d){return(L||Object.keys(this.columns)).reduce((g,m)=>(g[m]=this.columns[m],g),{})}getRow(L,d){return(d||Object.keys(this.columns)).map(g=>{var m;return(m=this.columns[g])==null?void 0:m[L]})}setColumn(L,d=[],g=0,m){this.setColumns({[L]:d},g,m)}setColumns(L,d,g){let m=this.rowCount;Dy(L,(b,w)=>{this.columns[w]=b.slice(),m=b.length}),this.applyRowCount(m),g!=null&&g.silent||(Xk(this,"afterSetColumns"),this.versionTag=Ry())}setRow(L,d=this.rowCount,g,m){let{columns:b}=this,w=g?this.rowCount+1:d+1;Dy(L,(E,T)=>{let D=b[T]||(m==null?void 0:m.addColumns)!==!1&&Array(w);D&&(g?D=rV(D,d,0,!0,[E]).array:D[d]=E,b[T]=D)}),w>this.rowCount&&this.applyRowCount(w),m!=null&&m.silent||(Xk(this,"afterSetRows"),this.versionTag=Ry())}},{extend:xte,merge:Ete,pick:nV}=de;(function(L){function d(g,m,b){var Ye,Ue;let w=this.legendItem=this.legendItem||{},{chart:E,options:T}=this,{baseline:D=0,symbolWidth:M,symbolHeight:G}=g,I=this.symbol||"circle",U=G/2,z=E.renderer,J=w.group,le=D-Math.round((((Ye=g.fontMetrics)==null?void 0:Ye.b)||G)*(b?.4:.3)),ae={},oe,ge=T.marker,Ce=0;if(E.styledMode||(ae["stroke-width"]=Math.min(T.lineWidth||0,24),T.dashStyle?ae.dashstyle=T.dashStyle:T.linecap!=="square"&&(ae["stroke-linecap"]="round")),w.line=z.path().addClass("highcharts-graph").attr(ae).add(J),b&&(w.area=z.path().addClass("highcharts-area").add(J)),ae["stroke-linecap"]&&(Ce=Math.min(w.line.strokeWidth(),M)/2),M){let je=[["M",Ce,le],["L",M-Ce,le]];w.line.attr({d:je}),(Ue=w.area)==null||Ue.attr({d:[...je,["L",M-Ce,D],["L",Ce,D]]})}if(ge&&ge.enabled!==!1&&M){let je=Math.min(nV(ge.radius,U),U);I.indexOf("url")===0&&(ge=Ete(ge,{width:G,height:G}),je=0),w.symbol=oe=z.symbol(I,M/2-je,le-je,2*je,2*je,xte({context:"legend"},ge)).addClass("highcharts-point").add(J),oe.isMarker=!0}}L.areaMarker=function(g,m){d.call(this,g,m,!0)},L.lineMarker=d,L.rectangle=function(g,m){let b=m.legendItem||{},w=g.options,E=g.symbolHeight,T=w.squareSymbol,D=T?E:g.symbolWidth;b.symbol=this.chart.renderer.rect(T?(g.symbolWidth-E)/2:0,g.baseline-E+1,D,E,nV(g.options.symbolRadius,E/2)).addClass("highcharts-point").attr({zIndex:3}).add(b.group)}})(p||(p={}));let oV=p,{defaultOptions:aV}=Ls,{extend:_te,extendClass:Tte,merge:Ate}=de;(function(L){function d(g,m){let b=aV.plotOptions||{},w=m.defaultOptions,E=m.prototype;return E.type=g,E.pointClass||(E.pointClass=Th),!L.seriesTypes[g]&&(w&&(b[g]=w),L.seriesTypes[g]=m,!0)}L.seriesTypes=F.seriesTypes,L.registerSeriesType=d,L.seriesType=function(g,m,b,w,E){let T=aV.plotOptions||{};if(m=m||"",T[g]=Ate(T[m],b),delete L.seriesTypes[g],d(g,Tte(L.seriesTypes[m]||function(){},w)),L.seriesTypes[g].prototype.type=g,E){class D extends Th{}_te(D.prototype,E),L.seriesTypes[g].prototype.pointClass=D}return L.seriesTypes[g]}})(y||(y={}));let fn=y,{animObject:lV,setAnimation:kte}=st,{defaultOptions:vx}=Ls,{registerEventOptions:Dte}=sx,{svg:Rte,win:Pte}=F,{seriesTypes:Km}=fn,{format:Fte}=Va,{arrayMax:qk,arrayMin:cV,clamp:uV,correctFloat:dV,crisp:Mte,defined:Xn,destroyObjectProperties:Lte,diffObjects:Ote,erase:hV,error:yx,extend:Ym,find:Ite,fireEvent:Zr,getClosestDistance:Nte,getNestedProperty:fV,insertItem:pV,isArray:gV,isNumber:no,isString:Vte,merge:Py,objectEach:Qk,pick:en,removeEvent:Bte,syncTimeout:mV}=de;class Ac{constructor(){this.zoneAxis="y"}init(d,g){var D,M,G;let m;Zr(this,"init",{options:g}),this.dataTable??(this.dataTable=new mx);let b=d.series;this.eventsToUnbind=[],this.chart=d,this.options=this.setOptions(g);let w=this.options,E=w.visible!==!1;this.linkedSeries=[],this.bindAxes(),Ym(this,{name:w.name,state:"",visible:E,selected:w.selected===!0}),Dte(this,w);let T=w.events;(T!=null&&T.click||(M=(D=w.point)==null?void 0:D.events)!=null&&M.click||w.allowPointSelect)&&(d.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(d.hasCartesianSeries=!0),b.length&&(m=b[b.length-1]),this._i=en(m==null?void 0:m._i,-1)+1,this.opacity=this.options.opacity,d.orderItems("series",pV(this,b)),(G=w.dataSorting)!=null&&G.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(w.data,!1),Zr(this,"afterInit")}is(d){return Km[d]&&this instanceof Km[d]}bindAxes(){let d,g=this,m=g.options,b=g.chart;Zr(this,"bindAxes",null,function(){(g.axisTypes||[]).forEach(function(w){(b[w]||[]).forEach(function(E){d=E.options,(en(m[w],0)===E.index||m[w]!==void 0&&m[w]===d.id)&&(pV(g,E.series),g[w]=E,E.isDirty=!0)}),g[w]||g.optionalAxis===w||yx(18,!0,b)})}),Zr(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(d,g){let m=d.marker,b=g.marker||{};return m&&(b.enabled&&!m.enabled||b.symbol!==m.symbol||b.height!==m.height||b.width!==m.width)}autoIncrement(d){let g,m=this.options,{pointIntervalUnit:b,relativeXValue:w}=this.options,E=this.chart.time,T=this.xIncrement??E.parse(m.pointStart)??0;if(this.pointInterval=g=en(this.pointInterval,m.pointInterval,1),w&&no(d)&&(g*=d),b){let D=E.toParts(T);b==="day"?D[2]+=g:b==="month"?D[1]+=g:b==="year"&&(D[0]+=g),g=E.makeTime.apply(E,D)-T}return w&&no(d)?T+g:(this.xIncrement=T+g,T)}setDataSortingOptions(){let d=this.options;Ym(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Xn(d.pointRange)||(d.pointRange=1)}setOptions(d){var ae,oe;let g,m=this.chart,b=m.options.plotOptions,w=m.userOptions||{},E=Py(d),T=m.styledMode,D={plotOptions:b,userOptions:E};Zr(this,"setOptions",D);let M=D.plotOptions[this.type],G=w.plotOptions||{},I=G.series||{},U=vx.plotOptions[this.type]||{},z=G[this.type]||{};M.dataLabels=this.mergeArrays(U.dataLabels,M.dataLabels),this.userOptions=D.userOptions;let J=Py(M,b.series,z,E);this.tooltipOptions=Py(vx.tooltip,(ae=vx.plotOptions.series)==null?void 0:ae.tooltip,U==null?void 0:U.tooltip,m.userOptions.tooltip,(oe=G.series)==null?void 0:oe.tooltip,z.tooltip,E.tooltip),this.stickyTracking=en(E.stickyTracking,z.stickyTracking,I.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||J.stickyTracking),M.marker===null&&delete J.marker,this.zoneAxis=J.zoneAxis||"y";let le=this.zones=(J.zones||[]).map(ge=>({...ge}));return(J.negativeColor||J.negativeFillColor)&&!J.zones&&(g={value:J[this.zoneAxis+"Threshold"]||J.threshold||0,className:"highcharts-negative"},T||(g.color=J.negativeColor,g.fillColor=J.negativeFillColor),le.push(g)),le.length&&Xn(le[le.length-1].value)&&le.push(T?{}:{color:this.color,fillColor:this.fillColor}),Zr(this,"afterSetOptions",{options:J}),J}getName(){return this.options.name??Fte(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(d,g,m){let b,w,E=this.chart,T=`${d}Index`,D=`${d}Counter`,M=(m==null?void 0:m.length)||E.options.chart.colorCount;!g&&(Xn(w=en(d==="color"?this.options.colorIndex:void 0,this[T]))?b=w:(E.series.length||(E[D]=0),b=E[D]%M,E[D]+=1),m&&(g=m[b])),b!==void 0&&(this[T]=b),this[d]=g}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||vx.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let d=this.options.marker;this.getCyclic("symbol",d.symbol,this.chart.options.symbols)}getColumn(d,g){return(g?this.dataTable.modified:this.dataTable).getColumn(d,!0)||[]}findPointIndex(d,g){var I;let m,b,w,{id:E,x:T}=d,D=this.points,M=this.options.dataSorting,G=this.cropStart||0;if(E){let U=this.chart.get(E);U instanceof Th&&(m=U)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let U=z=>!z.touched&&z.index===d.index;if(M!=null&&M.matchByName?U=z=>!z.touched&&z.name===d.name:this.options.relativeXValue&&(U=z=>!z.touched&&z.options.x===d.x),!(m=Ite(D,U)))return}return m&&(w=m==null?void 0:m.index)!==void 0&&(b=!0),w===void 0&&no(T)&&(w=this.getColumn("x").indexOf(T,g)),w!==-1&&w!==void 0&&this.cropped&&(w=w>=G?w-G:w),!b&&no(w)&&((I=D[w])!=null&&I.touched)&&(w=void 0),w}updateData(d,g){var le;let{options:m,requireSorting:b}=this,w=m.dataSorting,E=this.points,T=[],D=d.length===E.length,M,G,I,U,z=!0;if(this.xIncrement=null,d.forEach((ae,oe)=>{var je;let ge,Ce=Xn(ae)&&this.pointClass.prototype.optionsToObject.call({series:this},ae)||{},{id:Ye,x:Ue}=Ce;Ye||no(Ue)?((ge=this.findPointIndex(Ce,U))===-1||ge===void 0?T.push(ae):E[ge]&&ae!==((je=m.data)==null?void 0:je[ge])?(E[ge].update(ae,!1,void 0,!1),E[ge].touched=!0,b&&(U=ge+1)):E[ge]&&(E[ge].touched=!0),(!D||oe!==ge||w!=null&&w.enabled||this.hasDerivedData)&&(M=!0)):T.push(ae)},this),M)for(G=E.length;G--;)(I=E[G])&&!I.touched&&((le=I.remove)==null||le.call(I,!1,g));else D&&!(w!=null&&w.enabled)?(d.forEach((ae,oe)=>{ae===E[oe].y||E[oe].destroyed||E[oe].update(ae,!1,void 0,!1)}),T.length=0):z=!1;if(E.forEach(ae=>{ae&&(ae.touched=!1)}),!z)return!1;T.forEach(ae=>{this.addPoint(ae,!1,void 0,void 0,!1)},this);let J=this.getColumn("x");return this.xIncrement===null&&J.length&&(this.xIncrement=qk(J),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(d,g=!0,m,b){var rt,et;let w=this.points,E=(w==null?void 0:w.length)||0,T=this.options,D=this.chart,M=T.dataSorting,G=this.xAxis,I=T.turboThreshold,U=this.dataTable,z=this.dataColumnKeys(),J=this.pointValKey||"y",le=(this.pointArrayMap||[]).length,ae=T.keys,oe,ge,Ce=0,Ye=1,Ue;D.options.chart.allowMutatingData||(T.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Ue=Py(!0,d));let je=(d=Ue||d||[]).length;if(M!=null&&M.enabled&&(d=this.sortData(d)),D.options.chart.allowMutatingData&&b!==!1&&je&&E&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(ge=this.updateData(d,m)),!ge){this.xIncrement=null,this.colorCounter=0;let it=I&&!T.relativeXValue&&je>I;if(it){let _t=this.getFirstValidPoint(d),Nt=this.getFirstValidPoint(d,je-1,-1),Ht=jt=>!!(gV(jt)&&(ae||no(jt[0])));if(no(_t)&&no(Nt)){let jt=[],fi=[];for(let ai of d)jt.push(this.autoIncrement()),fi.push(ai);U.setColumns({x:jt,[J]:fi})}else if(Ht(_t)&&Ht(Nt))if(le){let jt=+(_t.length===le),fi=Array(z.length).fill(0).map(()=>[]);for(let ai of d){jt&&fi[0].push(this.autoIncrement());for(let wi=jt;wi<=le;wi++)(rt=fi[wi])==null||rt.push(ai[wi-jt])}U.setColumns(z.reduce((ai,wi,Qt)=>(ai[wi]=fi[Qt],ai),{}))}else{ae&&(Ce=ae.indexOf("x"),Ye=ae.indexOf("y"),Ce=Ce>=0?Ce:0,Ye=Ye>=0?Ye:1),_t.length===1&&(Ye=0);let jt=[],fi=[];if(Ce===Ye)for(let ai of d)jt.push(this.autoIncrement()),fi.push(ai[Ye]);else for(let ai of d)jt.push(ai[Ce]),fi.push(ai[Ye]);U.setColumns({x:jt,[J]:fi})}else it=!1}if(!it){let _t=z.reduce((Nt,Ht)=>(Nt[Ht]=[],Nt),{});for(oe=0;oe<je;oe++){let Nt=this.pointClass.prototype.applyOptions.apply({series:this},[d[oe]]);for(let Ht of z)_t[Ht][oe]=Nt[Ht]}U.setColumns(_t)}for(Vte(this.getColumn("y")[0])&&yx(14,!0,D),this.data=[],this.options.data=this.userOptions.data=d,oe=E;oe--;)(et=w[oe])==null||et.destroy();G&&(G.minRange=G.userMinRange),this.isDirty=D.isDirtyBox=!0,this.isDirtyData=!!w,m=!1}T.legendType==="point"&&(this.processData(),this.generatePoints()),g&&D.redraw(m)}sortData(d){let g=this,m=g.options.dataSorting.sortKey||"y",b=function(w,E){return Xn(E)&&w.pointClass.prototype.optionsToObject.call({series:w},E)||{}};return d.forEach(function(w,E){d[E]=b(g,w),d[E].index=E},this),d.concat().sort((w,E)=>{let T=fV(m,w),D=fV(m,E);return D<T?-1:+(D>T)}).forEach(function(w,E){w.x=E},this),g.linkedSeries&&g.linkedSeries.forEach(function(w){var D;let E=w.options,T=E.data;!((D=E.dataSorting)!=null&&D.enabled)&&T&&(T.forEach(function(M,G){T[G]=b(w,M),d[G]&&(T[G].x=d[G].x,T[G].index=G)}),w.setData(T,!1))}),d}getProcessedData(d){let g=this,{dataTable:m,isCartesian:b,options:w,xAxis:E}=g,T=w.cropThreshold,D=d||g.getExtremesFromAll,M=E==null?void 0:E.logarithmic,G=m.rowCount,I,U,z=0,J,le,ae,oe=g.getColumn("x"),ge=m,Ce=!1;return E&&(le=(J=E.getExtremes()).min,ae=J.max,Ce=!!(E.categories&&!E.names.length),b&&g.sorted&&!D&&(!T||G>T||g.forceCrop)&&(oe[G-1]<le||oe[0]>ae?ge=new mx:g.getColumn(g.pointValKey||"y").length&&(oe[0]<le||oe[G-1]>ae)&&(ge=(I=this.cropData(m,le,ae)).modified,z=I.start,U=!0))),oe=ge.getColumn("x")||[],{modified:ge,cropped:U,cropStart:z,closestPointRange:Nte([M?oe.map(M.log2lin):oe],()=>g.requireSorting&&!Ce&&yx(15,!1,g.chart))}}processData(d){let g=this.xAxis,m=this.dataTable;if(this.isCartesian&&!this.isDirty&&!g.isDirty&&!this.yAxis.isDirty&&!d)return!1;let b=this.getProcessedData();m.modified=b.modified,this.cropped=b.cropped,this.cropStart=b.cropStart,this.closestPointRange=this.basePointRange=b.closestPointRange,Zr(this,"afterProcessData")}cropData(d,g,m){let b=d.getColumn("x",!0)||[],w=b.length,E={},T,D,M=0,G=w;for(T=0;T<w;T++)if(b[T]>=g){M=Math.max(0,T-1);break}for(D=T;D<w;D++)if(b[D]>m){G=D+1;break}for(let I of this.dataColumnKeys()){let U=d.getColumn(I,!0);U&&(E[I]=U.slice(M,G))}return{modified:new mx({columns:E}),start:M,end:G}}generatePoints(){var Ue,je,rt;let d=this.options,g=this.processedData||d.data,m=this.dataTable.modified,b=this.getColumn("x",!0),w=this.pointClass,E=m.rowCount,T=this.cropStart||0,D=this.hasGroupedData,M=d.keys,G=[],I=(Ue=d.dataGrouping)!=null&&Ue.groupAll?T:0,U=(je=this.xAxis)==null?void 0:je.categories,z=this.pointArrayMap||["y"],J=this.dataColumnKeys(),le,ae,oe,ge,Ce=this.data,Ye;if(!Ce&&!D){let et=[];et.length=(g==null?void 0:g.length)||0,Ce=this.data=et}for(M&&D&&(this.options.keys=!1),ge=0;ge<E;ge++)ae=T+ge,D?((oe=new w(this,m.getRow(ge,J)||[])).dataGroup=this.groupMap[I+ge],(rt=oe.dataGroup)!=null&&rt.options&&(oe.options=oe.dataGroup.options,Ym(oe,oe.dataGroup.options),delete oe.dataLabels)):(oe=Ce[ae],Ye=g?g[ae]:m.getRow(ge,z),oe||Ye===void 0||(Ce[ae]=oe=new w(this,Ye,b[ge]))),oe&&(oe.index=D?I+ge:ae,G[ge]=oe,oe.category=(U==null?void 0:U[oe.x])??oe.x,oe.key=oe.name??oe.category);if(this.options.keys=M,Ce&&(E!==(le=Ce.length)||D))for(ge=0;ge<le;ge++)ge!==T||D||(ge+=E),Ce[ge]&&(Ce[ge].destroyElements(),Ce[ge].plotX=void 0);this.data=Ce,this.points=G,Zr(this,"afterGeneratePoints")}getXExtremes(d){return{min:cV(d),max:qk(d)}}getExtremes(d,g){var Ue;let{xAxis:m,yAxis:b}=this,w=g||this.getExtremesFromAll||this.options.getExtremesFromAll,E=w&&this.cropped?this.dataTable:this.dataTable.modified,T=E.rowCount,D=d||this.stackedYData,M=D?[D]:((Ue=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:Ue.map(je=>E.getColumn(je,!0)||[]))||[],G=this.getColumn("x",!0),I=[],U=this.requireSorting&&!this.is("column")?1:0,z=!!b&&b.positiveValuesOnly,J=w||this.cropped||!m,le,ae,oe,ge=0,Ce=0;for(m&&(ge=(le=m.getExtremes()).min,Ce=le.max),oe=0;oe<T;oe++)if(ae=G[oe],J||(G[oe+U]||ae)>=ge&&(G[oe-U]||ae)<=Ce)for(let je of M){let rt=je[oe];no(rt)&&(rt>0||!z)&&I.push(rt)}let Ye={activeYData:I,dataMin:cV(I),dataMax:qk(I)};return Zr(this,"afterGetExtremes",{dataExtremes:Ye}),Ye}applyExtremes(){let d=this.getExtremes();return this.dataMin=d.dataMin,this.dataMax=d.dataMax,d}getFirstValidPoint(d,g=0,m=1){let b=d.length,w=g;for(;w>=0&&w<b;){if(Xn(d[w]))return d[w];w+=m}}translate(){var Ce;this.generatePoints();let d=this.options,g=d.stacking,m=this.xAxis,b=this.enabledDataSorting,w=this.yAxis,E=this.points,T=E.length,D=this.pointPlacementToXValue(),M=!!D,G=d.threshold,I=d.startFromThreshold?G:0,U=(d==null?void 0:d.nullInteraction)&&w.len,z,J,le,ae,oe=Number.MAX_VALUE;function ge(Ye){return uV(Ye,-1e9,1e9)}for(z=0;z<T;z++){let Ye,Ue=E[z],je=Ue.x,rt,et,it=Ue.y,_t=Ue.low,Nt=g&&((Ce=w.stacking)==null?void 0:Ce.stacks[(this.negStacks&&it<(I?0:G)?"-":"")+this.stackKey]);Ue.plotX=no(J=m.translate(je,!1,!1,!1,!0,D))?dV(ge(J)):void 0,g&&this.visible&&Nt&&Nt[je]&&(ae=this.getStackIndicator(ae,je,this.index),!Ue.isNull&&ae.key&&(et=(rt=Nt[je]).points[ae.key]),rt&&gV(et)&&(_t=et[0],it=et[1],_t===I&&ae.key===Nt[je].base&&(_t=en(no(G)?G:w.min)),w.positiveValuesOnly&&Xn(_t)&&_t<=0&&(_t=void 0),Ue.total=Ue.stackTotal=en(rt.total),Ue.percentage=Xn(Ue.y)&&rt.total?Ue.y/rt.total*100:void 0,Ue.stackY=it,this.irregularWidths||rt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Ue.yBottom=Xn(_t)?ge(w.translate(_t,!1,!0,!1,!0)):void 0,this.dataModify&&(it=this.dataModify.modifyValue(it,z)),no(it)&&Ue.plotX!==void 0?Ye=no(Ye=w.translate(it,!1,!0,!1,!0))?ge(Ye):void 0:!no(it)&&U&&(Ye=U),Ue.plotY=Ye,Ue.isInside=this.isPointInside(Ue),Ue.clientX=M?dV(m.translate(je,!1,!1,!1,!0,D)):J,Ue.negative=(Ue.y||0)<(G||0),Ue.isNull||Ue.visible===!1||(le!==void 0&&(oe=Math.min(oe,Math.abs(J-le))),le=J),Ue.zone=this.zones.length?Ue.getZone():void 0,!Ue.graphic&&this.group&&b&&(Ue.isNew=!0)}this.closestPointRangePx=oe,Zr(this,"afterTranslate")}getValidPoints(d,g,m){let b=this.chart;return(d||this.points||[]).filter(function(w){let{plotX:E,plotY:T}=w;return(!!m||!w.isNull&&!!no(T))&&(!g||!!b.isInsidePlot(E,T,{inverted:b.inverted}))&&w.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:d,group:g,markerGroup:m}=this,b=d.sharedClips,w=d.renderer,E=d.getClipBox(this),T=this.getSharedClipKey(),D=b[T];D?D.animate(E):b[T]=D=w.clipRect(E),g&&g.clip(this.options.clip===!1?void 0:D),m&&m.clip()}animate(d){let{chart:g,group:m,markerGroup:b}=this,w=g.inverted,E=lV(this.options.animation),T=[this.getSharedClipKey(),E.duration,E.easing,E.defer].join(","),D=g.sharedClips[T],M=g.sharedClips[T+"m"];if(d&&m){let G=g.getClipBox(this);if(D)D.attr("height",G.height);else{G.width=0,w&&(G.x=g.plotHeight),D=g.renderer.clipRect(G),g.sharedClips[T]=D;let I={x:-99,y:-99,width:w?g.plotWidth+199:99,height:w?99:g.plotHeight+199};M=g.renderer.clipRect(I),g.sharedClips[T+"m"]=M}m.clip(D),b==null||b.clip(M)}else if(D&&!D.hasClass("highcharts-animating")){let G=g.getClipBox(this),I=E.step;(b!=null&&b.element.childNodes.length||g.series.length>1)&&(E.step=function(U,z){I&&I.apply(z,arguments),z.prop==="width"&&(M!=null&&M.element)&&M.attr(w?"height":"width",U+99)}),D.addClass("highcharts-animating").animate(G,E)}}afterAnimate(){this.setClip(),Qk(this.chart.sharedClips,(d,g,m)=>{d&&!this.chart.container.querySelector(`[clip-path="url(#${d.id})"]`)&&(d.destroy(),delete m[g])}),this.finishedAnimating=!0,Zr(this,"afterAnimate")}drawPoints(d=this.points){let g,m,b,w,E,T,D,M=this.chart,G=M.styledMode,{colorAxis:I,options:U}=this,z=U.marker,J=U.nullInteraction,le=this[this.specialGroup||"markerGroup"],ae=this.xAxis,oe=en(z.enabled,!ae||!!ae.isRadial||null,this.closestPointRangePx>=z.enabledThreshold*z.radius);if(z.enabled!==!1||this._hasPointMarkers)for(g=0;g<d.length;g++){w=(b=(m=d[g]).graphic)?"animate":"attr",E=m.marker||{},T=!!m.marker;let ge=m.isNull;if((oe&&!Xn(E.enabled)||E.enabled)&&(!ge||J)&&m.visible!==!1){let Ce=en(E.symbol,this.symbol,"rect");D=this.markerAttribs(m,m.selected&&"select"),this.enabledDataSorting&&(m.startXPos=ae.reversed?-(D.width||0):ae.width);let Ye=m.isInside!==!1;if(!b&&Ye&&((D.width||0)>0||m.hasImage)&&(m.graphic=b=M.renderer.symbol(Ce,D.x,D.y,D.width,D.height,T?E:z).add(le),this.enabledDataSorting&&M.hasRendered&&(b.attr({x:m.startXPos}),w="animate")),b&&w==="animate"&&b[Ye?"show":"hide"](Ye).animate(D),b){let Ue=this.pointAttribs(m,G||!m.selected?void 0:"select");G?I&&b.css({fill:Ue.fill}):b[w](Ue)}b&&b.addClass(m.getClassName(),!0)}else b&&(m.graphic=b.destroy())}}markerAttribs(d,g){let m=this.options,b=m.marker,w=d.marker||{},E=w.symbol||b.symbol,T={},D,M,G=en(w.radius,b==null?void 0:b.radius);g&&(D=b.states[g],M=w.states&&w.states[g],G=en(M==null?void 0:M.radius,D==null?void 0:D.radius,G&&G+((D==null?void 0:D.radiusPlus)||0))),d.hasImage=E&&E.indexOf("url")===0,d.hasImage&&(G=0);let I=d.pos();return no(G)&&I&&(m.crisp&&(I[0]=Mte(I[0],d.hasImage?0:E==="rect"?(b==null?void 0:b.lineWidth)||0:1)),T.x=I[0]-G,T.y=I[1]-G),G&&(T.width=T.height=2*G),T}pointAttribs(d,g){var oe;let m=this.options,b=m.marker,w=d==null?void 0:d.options,E=(w==null?void 0:w.marker)||{},T=w==null?void 0:w.color,D=d==null?void 0:d.color,M=(oe=d==null?void 0:d.zone)==null?void 0:oe.color,G,I,U=this.color,z,J,le=en(E.lineWidth,b.lineWidth),ae=d!=null&&d.isNull&&m.nullInteraction?0:1;return U=T||M||D||U,z=E.fillColor||b.fillColor||U,J=E.lineColor||b.lineColor||U,g=g||"normal",G=b.states[g]||{},le=en((I=E.states&&E.states[g]||{}).lineWidth,G.lineWidth,le+en(I.lineWidthPlus,G.lineWidthPlus,0)),z=I.fillColor||G.fillColor||z,J=I.lineColor||G.lineColor||J,{stroke:J,"stroke-width":le,fill:z,opacity:ae=en(I.opacity,G.opacity,ae)}}destroy(d){var D,M;let g,m,b=this,w=b.chart,E=/AppleWebKit\/533/.test(Pte.navigator.userAgent),T=b.data||[];for(Zr(b,"destroy",{keepEventsForUpdate:d}),this.removeEvents(d),(b.axisTypes||[]).forEach(function(G){m=b[G],m!=null&&m.series&&(hV(m.series,b),m.isDirty=m.forceRedraw=!0)}),b.legendItem&&b.chart.legend.destroyItem(b),g=T.length;g--;)(M=(D=T[g])==null?void 0:D.destroy)==null||M.call(D);for(let G of b.zones)Lte(G,void 0,!0);de.clearTimeout(b.animationTimeout),Qk(b,function(G,I){G instanceof Hl&&!G.survive&&G[E&&I==="group"?"hide":"destroy"]()}),w.hoverSeries===b&&(w.hoverSeries=void 0),hV(w.series,b),w.orderItems("series"),Qk(b,function(G,I){d&&I==="hcEvents"||delete b[I]})}applyZones(){let{area:d,chart:g,graph:m,zones:b,points:w,xAxis:E,yAxis:T,zoneAxis:D}=this,{inverted:M,renderer:G}=g,I=this[`${D}Axis`],{isXAxis:U,len:z=0,minPointOffset:J=0}=I||{},le=((m==null?void 0:m.strokeWidth())||0)/2+1,ae=(oe,ge=0,Ce=0)=>{M&&(Ce=z-Ce);let{translated:Ye=0,lineClip:Ue}=oe,je=Ce-Ye;Ue==null||Ue.push(["L",ge,Math.abs(je)<le?Ce-le*(je<=0?-1:1):Ye])};if(b.length&&(m||d)&&I&&no(I.min)){let oe=I.getExtremes().max+J,ge=Ue=>{Ue.forEach((je,rt)=>{(je[0]==="M"||je[0]==="L")&&(Ue[rt]=[je[0],U?z-je[1]:je[1],U?je[2]:z-je[2]])})};if(b.forEach(Ue=>{Ue.lineClip=[],Ue.translated=uV(I.toPixels(en(Ue.value,oe),!0)||0,0,z)}),m&&!this.showLine&&m.hide(),d&&d.hide(),D==="y"&&w.length<E.len)for(let Ue of w){let{plotX:je,plotY:rt,zone:et}=Ue,it=et&&b[b.indexOf(et)-1];et&&ae(et,je,rt),it&&ae(it,je,rt)}let Ce=[],Ye=I.toPixels(I.getExtremes().min-J,!0);b.forEach(Ue=>{var wi,Qt;let je=Ue.lineClip||[],rt=Math.round(Ue.translated||0);E.reversed&&je.reverse();let{clip:et,simpleClip:it}=Ue,_t=0,Nt=0,Ht=E.len,jt=T.len;U?(_t=rt,Ht=Ye):(Nt=rt,jt=Ye);let fi=[["M",_t,Nt],["L",Ht,Nt],["L",Ht,jt],["L",_t,jt],["Z"]],ai=[fi[0],...je,fi[1],fi[2],...Ce,fi[3],fi[4]];Ce=je.reverse(),Ye=rt,M&&(ge(ai),d&&ge(fi)),et?(et.animate({d:ai}),it==null||it.animate({d:fi})):(et=Ue.clip=G.path(ai),d&&(it=Ue.simpleClip=G.path(fi))),m&&((wi=Ue.graph)==null||wi.clip(et)),d&&((Qt=Ue.area)==null||Qt.clip(it))})}else this.visible&&(m&&m.show(),d&&d.show())}plotGroup(d,g,m,b,w){let E=this[d],T=!E,D={visibility:m,zIndex:b||.1};return Xn(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(D.opacity=this.opacity),E||(this[d]=E=this.chart.renderer.g().add(w)),E.addClass("highcharts-"+g+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Xn(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(E.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),E.attr(D)[T?"attr":"animate"](this.getPlotBox(g)),E}getPlotBox(d){let g=this.xAxis,m=this.yAxis,b=this.chart,w=b.inverted&&!b.polar&&g&&this.invertible&&d==="series";b.inverted&&(g=m,m=this.xAxis);let E={scale:1,translateX:g?g.left:b.plotLeft,translateY:m?m.top:b.plotTop,name:d};Zr(this,"getPlotBox",E);let{scale:T,translateX:D,translateY:M}=E;return{translateX:D,translateY:M,rotation:90*!!w,rotationOriginX:w?T*(g.len-m.len)/2:0,rotationOriginY:w?T*(g.len+m.len)/2:0,scaleX:w?-T:T,scaleY:T}}removeEvents(d){let{eventsToUnbind:g}=this;d||Bte(this),g.length&&(g.forEach(m=>{m()}),g.length=0)}render(){var G,I,U,z,J;let d=this,{chart:g,options:m,hasRendered:b}=d,w=lV(m.animation),E=d.visible?"inherit":"hidden",T=m.zIndex,D=g.seriesGroup,M=d.finishedAnimating?0:w.duration;Zr(this,"render"),d.plotGroup("group","series",E,T,D),d.markerGroup=d.plotGroup("markerGroup","markers",E,T,D),m.clip!==!1&&d.setClip(),M&&((G=d.animate)==null||G.call(d,!0)),d.drawGraph&&(d.drawGraph(),d.applyZones()),d.visible&&d.drawPoints(),(I=d.drawDataLabels)==null||I.call(d),(U=d.redrawPoints)==null||U.call(d),m.enableMouseTracking&&((z=d.drawTracker)==null||z.call(d)),M&&((J=d.animate)==null||J.call(d)),b||(M&&w.defer&&(M+=w.defer),d.animationTimeout=mV(()=>{d.afterAnimate()},M||0)),d.isDirty=!1,d.hasRendered=!0,Zr(d,"afterRender")}redraw(){let d=this.isDirty||this.isDirtyData;this.translate(),this.render(),d&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(d,g){let{xAxis:m,yAxis:b}=this,w=this.chart.inverted;return this.searchKDTree({clientX:w?m.len-d.chartY+m.pos:d.chartX-m.pos,plotY:w?b.len-d.chartX+b.pos:d.chartY-b.pos},g,d)}buildKDTree(d){this.buildingKdTree=!0;let g=this,m=g.options,b=m.findNearestPointBy.indexOf("y")>-1?2:1;delete g.kdTree,mV(function(){g.kdTree=function w(E,T,D){let M,G,I=E==null?void 0:E.length;if(I)return M=g.kdAxisArray[T%D],E.sort((U,z)=>(U[M]||0)-(z[M]||0)),{point:E[G=Math.floor(I/2)],left:w(E.slice(0,G),T+1,D),right:w(E.slice(G+1),T+1,D)}}(g.getValidPoints(void 0,!g.directTouch,m==null?void 0:m.nullInteraction),b,b),g.buildingKdTree=!1},m.kdNow||(d==null?void 0:d.type)==="touchstart"?0:1)}searchKDTree(d,g,m,b,w){let E=this,[T,D]=this.kdAxisArray,M=g?"distX":"dist",G=(E.options.findNearestPointBy||"").indexOf("y")>-1?2:1,I=!!E.isBubble,U=b||((J,le,ae)=>{let oe=J[ae]||0,ge=le[ae]||0;return[oe===ge&&J.index>le.index||oe<ge?J:le,!1]}),z=w||((J,le)=>J<le);if(this.kdTree||this.buildingKdTree||this.buildKDTree(m),this.kdTree)return function J(le,ae,oe,ge){var _t;let Ce=ae.point,Ye=E.kdAxisArray[oe%ge],Ue=Ce,je=!1;(function(Nt,Ht){var Cs;let jt=Nt[T],fi=Ht[T],ai=Xn(jt)&&Xn(fi)?jt-fi:null,wi=Nt[D],Qt=Ht[D],Ei=Xn(wi)&&Xn(Qt)?wi-Qt:0,ys=I&&((Cs=Ht.marker)==null?void 0:Cs.radius)||0;Ht.dist=Math.sqrt((ai&&ai*ai||0)+Ei*Ei)-ys,Ht.distX=Xn(ai)?Math.abs(ai)-ys:Number.MAX_VALUE})(le,Ce);let rt=(le[Ye]||0)-(Ce[Ye]||0)+(I&&((_t=Ce.marker)==null?void 0:_t.radius)||0),et=rt<0?"left":"right",it=rt<0?"right":"left";return ae[et]&&([Ue,je]=U(Ce,J(le,ae[et],oe+1,ge),M)),ae[it]&&z(Math.sqrt(rt*rt),Ue[M],je)&&(Ue=U(Ue,J(le,ae[it],oe+1,ge),M)[0]),Ue}(d,this.kdTree,G,G)}pointPlacementToXValue(){let{options:d,xAxis:g}=this,m=d.pointPlacement;return m==="between"&&(m=g.reversed?-.5:.5),no(m)?m*(d.pointRange||g.pointRange):0}isPointInside(d){let{chart:g,xAxis:m,yAxis:b}=this,{plotX:w=-1,plotY:E=-1}=d;return E>=0&&E<=(b?b.len:g.plotHeight)&&w>=0&&w<=(m?m.len:g.plotWidth)}drawTracker(){var U;let d=this,g=d.options,m=g.trackByArea,b=[].concat((m?d.areaPath:d.graphPath)||[]),w=d.chart,E=w.pointer,T=w.renderer,D=((U=w.options.tooltip)==null?void 0:U.snap)||0,M=()=>{g.enableMouseTracking&&w.hoverSeries!==d&&d.onMouseOver()},G="rgba(192,192,192,"+(Rte?1e-4:.002)+")",I=d.tracker;I?I.attr({d:b}):d.graph&&(d.tracker=I=T.path(b).attr({visibility:d.visible?"inherit":"hidden",zIndex:2}).addClass(m?"highcharts-tracker-area":"highcharts-tracker-line").add(d.group),w.styledMode||I.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:G,fill:m?G:"none","stroke-width":d.graph.strokeWidth()+(m?0:2*D)}),[d.tracker,d.markerGroup,d.dataLabelsGroup].forEach(z=>{z&&(z.addClass("highcharts-tracker").on("mouseover",M).on("mouseout",J=>{E==null||E.onTrackerMouseOut(J)}),g.cursor&&!w.styledMode&&z.css({cursor:g.cursor}),z.on("touchstart",M))})),Zr(this,"afterDrawTracker")}addPoint(d,g,m,b,w){let E,T,D=this.options,{chart:M,data:G,dataTable:I,xAxis:U}=this,z=(U==null?void 0:U.hasNames)&&U.names,J=D.data,le=this.getColumn("x");g=en(g,!0);let ae={series:this};this.pointClass.prototype.applyOptions.apply(ae,[d]);let oe=ae.x;if(T=le.length,this.requireSorting&&oe<le[T-1])for(E=!0;T&&le[T-1]>oe;)T--;I.setRow(ae,T,!0,{addColumns:!1}),z&&ae.name&&(z[oe]=ae.name),J==null||J.splice(T,0,d),(E||this.processedData)&&(this.data.splice(T,0,null),this.processData()),D.legendType==="point"&&this.generatePoints(),m&&(G[0]&&G[0].remove?G[0].remove(!1):([G,J].filter(Xn).forEach(ge=>{ge.shift()}),I.deleteRows(0))),w!==!1&&Zr(this,"addPoint",{point:ae}),this.isDirty=!0,this.isDirtyData=!0,g&&M.redraw(b)}removePoint(d,g,m){let b=this,{chart:w,data:E,points:T,dataTable:D}=b,M=E[d],G=function(){[(T==null?void 0:T.length)===E.length?T:void 0,E,b.options.data].filter(Xn).forEach(I=>{I.splice(d,1)}),D.deleteRows(d),M==null||M.destroy(),b.isDirty=!0,b.isDirtyData=!0,g&&w.redraw()};kte(m,w),g=en(g,!0),M?M.firePointEvent("remove",null,G):G()}remove(d,g,m,b){let w=this,E=w.chart;function T(){w.destroy(b),E.isDirtyLegend=E.isDirtyBox=!0,E.linkSeries(b),en(d,!0)&&E.redraw(g)}m!==!1?Zr(w,"remove",null,T):T()}update(d,g){var oe,ge;Zr(this,"update",{options:d=Ote(d,this.userOptions)});let m=this,b=m.chart,w=m.userOptions,E=m.initialType||m.type,T=b.options.plotOptions,D=Km[E].prototype,M=m.finishedAnimating&&{animation:!1},G={},I,U,z=Ac.keepProps.slice(),J=d.type||w.type||b.options.chart.type,le=!(this.hasDerivedData||J&&J!==this.type||d.keys!==void 0||d.pointStart!==void 0||d.pointInterval!==void 0||d.relativeXValue!==void 0||d.joinBy||d.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(Ce=>m.hasOptionChanged(Ce)));J=J||E,le?(z.push.apply(z,Ac.keepPropsForPoints),d.visible!==!1&&z.push("area","graph"),m.parallelArrays.forEach(function(Ce){z.push(Ce+"Data")}),d.data&&(d.dataSorting&&Ym(m.options.dataSorting,d.dataSorting),this.setData(d.data,!1))):this.dataTable.modified=this.dataTable,d=Py(w,{index:w.index===void 0?m.index:w.index,pointStart:((oe=T==null?void 0:T.series)==null?void 0:oe.pointStart)??w.pointStart??m.getColumn("x")[0]},!le&&{data:m.options.data},d,M),le&&d.data&&(d.data=m.options.data),(z=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(z)).forEach(function(Ce){z[Ce]=m[Ce],delete m[Ce]});let ae=!1;if(Km[J]){if(ae=J!==m.type,m.remove(!1,!1,!1,!0),ae)if(b.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(m,Km[J].prototype);else{let Ce=Object.hasOwnProperty.call(m,"hcEvents")&&m.hcEvents;for(U in D)m[U]=void 0;Ym(m,Km[J].prototype),Ce?m.hcEvents=Ce:delete m.hcEvents}}else yx(17,!0,b,{missingModuleFor:J});if(z.forEach(function(Ce){m[Ce]=z[Ce]}),m.init(b,d),le&&this.points)for(let Ce of((I=m.options).visible===!1?(G.graphic=1,G.dataLabel=1):(this.hasMarkerChanged(I,w)&&(G.graphic=1),(ge=m.hasDataLabels)!=null&&ge.call(m)||(G.dataLabel=1)),this.points))Ce!=null&&Ce.series&&(Ce.resolveColor(),Object.keys(G).length&&Ce.destroyElements(G),I.showInLegend===!1&&Ce.legendItem&&b.legend.destroyItem(Ce));m.initialType=E,b.linkSeries(),b.setSortedData(),ae&&m.linkedSeries.length&&(m.isDirtyData=!0),Zr(this,"afterUpdate"),en(g,!0)&&b.redraw(!!le&&void 0)}setName(d){this.name=this.options.name=this.userOptions.name=d,this.chart.isDirtyLegend=!0}hasOptionChanged(d){var T,D;let g=this.chart,m=this.options[d],b=g.options.plotOptions,w=this.userOptions[d],E=en((T=b==null?void 0:b[this.type])==null?void 0:T[d],(D=b==null?void 0:b.series)==null?void 0:D[d]);return w&&!Xn(E)?m!==w:m!==en(E,m)}onMouseOver(){let d=this.chart,g=d.hoverSeries,m=d.pointer;m==null||m.setHoverChartIndex(),g&&g!==this&&g.onMouseOut(),this.options.events.mouseOver&&Zr(this,"mouseOver"),this.setState("hover"),d.hoverSeries=this}onMouseOut(){let d=this.options,g=this.chart,m=g.tooltip,b=g.hoverPoint;g.hoverSeries=null,b&&b.onMouseOut(),this&&d.events.mouseOut&&Zr(this,"mouseOut"),m&&!this.stickyTracking&&(!m.shared||this.noSharedTooltip)&&m.hide(),g.series.forEach(function(w){w.setState("",!0)})}setState(d,g){let m=this,b=m.options,w=m.graph,E=b.inactiveOtherPoints,T=b.states,D=en(T[d||"normal"]&&T[d||"normal"].animation,m.chart.options.chart.animation),M=b.lineWidth,G=b.opacity;if(d=d||"",m.state!==d&&([m.group,m.markerGroup,m.dataLabelsGroup].forEach(function(I){I&&(m.state&&I.removeClass("highcharts-series-"+m.state),d&&I.addClass("highcharts-series-"+d))}),m.state=d,!m.chart.styledMode)){if(T[d]&&T[d].enabled===!1)return;if(d&&(M=T[d].lineWidth||M+(T[d].lineWidthPlus||0),G=en(T[d].opacity,G)),w&&!w.dashstyle&&no(M))for(let I of[w,...this.zones.map(U=>U.graph)])I==null||I.animate({"stroke-width":M},D);E||[m.group,m.markerGroup,m.dataLabelsGroup,m.labelBySeries].forEach(function(I){I&&I.animate({opacity:G},D)})}g&&E&&m.points&&m.setAllPointsToState(d||void 0)}setAllPointsToState(d){this.points.forEach(function(g){g.setState&&g.setState(d)})}setVisible(d,g){var D;let m=this,b=m.chart,w=b.options.chart.ignoreHiddenSeries,E=m.visible;m.visible=d=m.options.visible=m.userOptions.visible=d===void 0?!E:d;let T=d?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(M=>{var G;(G=m[M])==null||G[T]()}),(b.hoverSeries===m||((D=b.hoverPoint)==null?void 0:D.series)===m)&&m.onMouseOut(),m.legendItem&&b.legend.colorizeItem(m,d),m.isDirty=!0,m.options.stacking&&b.series.forEach(M=>{M.options.stacking&&M.visible&&(M.isDirty=!0)}),m.linkedSeries.forEach(M=>{M.setVisible(d,!1)}),w&&(b.isDirtyBox=!0),Zr(m,T),g!==!1&&b.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(d){this.selected=d=this.options.selected=d===void 0?!this.selected:d,this.checkbox&&(this.checkbox.checked=d),Zr(this,d?"select":"unselect")}shouldShowTooltip(d,g,m={}){return m.series=this,m.visiblePlotOnly=!0,this.chart.isInsidePlot(d,g,m)}drawLegendSymbol(d,g){var m;(m=oV[this.options.legendSymbol||"rectangle"])==null||m.call(this,d,g)}}Ac.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:L}=this.series.chart;return typeof this.y!="number"?"":L(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Ac.types=fn.seriesTypes,Ac.registerType=fn.registerSeriesType,Ac.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Ac.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Ym(Ac.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Th,requireSorting:!0,sorted:!0}),fn.series=Ac;let gl=Ac,{animObject:Gte,setAnimation:Hte}=st,{registerEventOptions:vV}=sx,{composed:$te,marginNames:yV}=F,{distribute:Wte}=Lm,{format:Ute}=Va,{addEvent:Cx,createElement:zte,css:jte,defined:Jk,discardElement:Kte,find:Yte,fireEvent:hd,isNumber:CV,merge:up,pick:Wl,pushUnique:Xte,relativeLength:qte,stableSort:Qte,syncTimeout:Jte}=de;class Zk{constructor(d,g){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=d,this.setOptions(g),g.enabled&&(this.render(),vV(this,g),Cx(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Cx(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(d){let g=Wl(d.padding,8);this.options=d,this.chart.styledMode||(this.itemStyle=d.itemStyle,this.itemHiddenStyle=up(this.itemStyle,d.itemHiddenStyle)),this.itemMarginTop=d.itemMarginTop,this.itemMarginBottom=d.itemMarginBottom,this.padding=g,this.initialItemY=g-5,this.symbolWidth=Wl(d.symbolWidth,16),this.pages=[],this.proximate=d.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(d,g){let m=this.chart;this.setOptions(up(!0,this.options,d)),"events"in this.options&&vV(this,this.options),this.destroy(),m.isDirtyLegend=m.isDirtyBox=!0,Wl(g,!0)&&m.redraw(),hd(this,"afterUpdate",{redraw:g})}colorizeItem(d,g){var M;let m=d.color,{area:b,group:w,label:E,line:T,symbol:D}=d.legendItem||{};if((d instanceof gl||d instanceof Th)&&(d.color=((M=d.options)==null?void 0:M.legendSymbolColor)||m),w==null||w[g?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:G={}}=this,I=G.color,{fillColor:U,fillOpacity:z,lineColor:J,marker:le}=d.options,ae=oe=>(!g&&(oe.fill&&(oe.fill=I),oe.stroke&&(oe.stroke=I)),oe);E==null||E.css(up(g?this.itemStyle:G)),T==null||T.attr(ae({stroke:J||d.color})),D&&D.attr(ae(le&&D.isMarker?d.pointAttribs():{fill:d.color})),b==null||b.attr(ae({fill:U||d.color,"fill-opacity":U?1:z??.75}))}d.color=m,hd(this,"afterColorizeItem",{item:d,visible:g})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(d){let{group:g,x:m=0,y:b=0}=d.legendItem||{},w=this.options,E=w.symbolPadding,T=!w.rtl,D=d.checkbox;if(g!=null&&g.element){let M={translateX:T?m:this.legendWidth-m-2*E-4,translateY:b};g[Jk(g.translateY)?"animate":"attr"](M,void 0,()=>{hd(this,"afterPositionItem",{item:d})})}D&&(D.x=m,D.y=b)}destroyItem(d){let g=d.checkbox,m=d.legendItem||{};for(let b of["group","label","line","symbol"])m[b]&&(m[b]=m[b].destroy());g&&Kte(g),d.legendItem=void 0}destroy(){for(let d of this.getAllItems())this.destroyItem(d);for(let d of["clipRect","up","down","pager","nav","box","title","group"])this[d]&&(this[d]=this[d].destroy());this.display=null}positionCheckboxes(){var w;let d,g=(w=this.group)==null?void 0:w.alignAttr,m=this.clipHeight||this.legendHeight,b=this.titleHeight;g&&(d=g.translateY,this.allItems.forEach(function(E){let T,D=E.checkbox;D&&(T=d+b+D.y+(this.scrollOffset||0)+3,jte(D,{left:g.translateX+E.checkboxOffset+D.x-20+"px",top:T+"px",display:this.proximate||T>d-6&&T<d+m-6?"":"none"}))},this))}renderTitle(){let d=this.options,g=this.padding,m=d.title,b,w=0;m.text&&(this.title||(this.title=this.chart.renderer.label(m.text,g-3,g-4,void 0,void 0,void 0,d.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(m.style),this.title.add(this.group)),m.width||this.title.css({width:this.maxLegendWidth+"px"}),w=(b=this.title.getBBox()).height,this.offsetWidth=b.width,this.contentGroup.attr({translateY:w})),this.titleHeight=w}setText(d){let g=this.options;d.legendItem.label.attr({text:g.labelFormat?Ute(g.labelFormat,d,this.chart):g.labelFormatter.call(d)})}renderItem(d){var rt;let g=d.legendItem=d.legendItem||{},m=this.chart,b=m.renderer,w=this.options,E=w.layout==="horizontal",T=this.symbolWidth,D=w.symbolPadding||0,M=this.itemStyle,G=this.itemHiddenStyle,I=E?Wl(w.itemDistance,20):0,U=!w.rtl,z=!d.series,J=!z&&d.series.drawLegendSymbol?d.series:d,le=J.options,ae=!!this.createCheckboxForItem&&le&&le.showCheckbox,oe=w.useHTML,ge=d.options.className,Ce=g.label,Ye=T+D+I+20*!!ae;!Ce&&(g.group=b.g("legend-item").addClass("highcharts-"+J.type+"-series highcharts-color-"+d.colorIndex+(ge?" "+ge:"")+(z?" highcharts-series-"+d.index:"")).attr({zIndex:1}).add(this.scrollGroup),g.label=Ce=b.text("",U?T+D:-D,this.baseline||0,oe),m.styledMode||Ce.css(up(d.visible?M:G)),Ce.attr({align:U?"left":"right",zIndex:2}).add(g.group),!this.baseline&&(this.fontMetrics=b.fontMetrics(Ce),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,Ce.attr("y",this.baseline),this.symbolHeight=Wl(w.symbolHeight,this.fontMetrics.f),w.squareSymbol&&(this.symbolWidth=Wl(w.symbolWidth,Math.max(this.symbolHeight,16)),Ye=this.symbolWidth+D+I+20*!!ae,U&&Ce.attr("x",this.symbolWidth+D))),J.drawLegendSymbol(this,d),this.setItemEvents&&this.setItemEvents(d,Ce,oe)),ae&&!d.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(d),this.colorizeItem(d,d.visible),(m.styledMode||!M.width)&&Ce.css({width:(w.itemWidth||this.widthOption||m.spacingBox.width)-Ye+"px"}),this.setText(d);let Ue=Ce.getBBox(),je=((rt=this.fontMetrics)==null?void 0:rt.h)||0;d.itemWidth=d.checkboxOffset=w.itemWidth||g.labelWidth||Ue.width+Ye,this.maxItemWidth=Math.max(this.maxItemWidth,d.itemWidth),this.totalItemWidth+=d.itemWidth,this.itemHeight=d.itemHeight=Math.round(g.labelHeight||(Ue.height>1.5*je?Ue.height:je))}layoutItem(d){let g=this.options,m=this.padding,b=g.layout==="horizontal",w=d.itemHeight,E=this.itemMarginBottom,T=this.itemMarginTop,D=b?Wl(g.itemDistance,20):0,M=this.maxLegendWidth,G=g.alignColumns&&this.totalItemWidth>M?this.maxItemWidth:d.itemWidth,I=d.legendItem||{};b&&this.itemX-m+G>M&&(this.itemX=m,this.lastLineHeight&&(this.itemY+=T+this.lastLineHeight+E),this.lastLineHeight=0),this.lastItemY=T+this.itemY+E,this.lastLineHeight=Math.max(w,this.lastLineHeight),I.x=this.itemX,I.y=this.itemY,b?this.itemX+=G:(this.itemY+=T+w+E,this.lastLineHeight=w),this.offsetWidth=this.widthOption||Math.max((b?this.itemX-m-(d.checkbox?0:D):G)+m,this.offsetWidth)}getAllItems(){let d=[];return this.chart.series.forEach(function(g){var b;let m=g==null?void 0:g.options;g&&Wl(m.showInLegend,!Jk(m.linkedTo)&&void 0,!0)&&(d=d.concat(((b=g.legendItem)==null?void 0:b.labels)||(m.legendType==="point"?g.data:g)))}),hd(this,"afterGetAllItems",{allItems:d}),d}getAlignment(){let d=this.options;return this.proximate?d.align.charAt(0)+"tv":d.floating?"":d.align.charAt(0)+d.verticalAlign.charAt(0)+d.layout.charAt(0)}adjustMargins(d,g){let m=this.chart,b=this.options,w=this.getAlignment();w&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(E,T){E.test(w)&&!Jk(d[T])&&(m[yV[T]]=Math.max(m[yV[T]],m.legend[(T+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][T]*b[T%2?"x":"y"]+Wl(b.margin,12)+g[T]+(m.titleOffset[T]||0)))})}proximatePositions(){let d,g=this.chart,m=[],b=this.options.align==="left";for(let w of(this.allItems.forEach(function(E){let T,D,M=b,G,I;E.yAxis&&(E.xAxis.options.reversed&&(M=!M),E.points&&(T=Yte(M?E.points:E.points.slice(0).reverse(),function(U){return CV(U.plotY)})),D=this.itemMarginTop+E.legendItem.label.getBBox().height+this.itemMarginBottom,I=E.yAxis.top-g.plotTop,G=E.visible?(T?T.plotY:E.yAxis.height)+(I-.3*D):I+E.yAxis.height,m.push({target:G,size:D,item:E}))},this),Wte(m,g.plotHeight)))d=w.item.legendItem||{},CV(w.pos)&&(d.y=g.plotTop-g.spacing[0]+w.pos)}render(){let d=this.chart,g=d.renderer,m=this.options,b=this.padding,w=this.getAllItems(),E,T,D,M=this.group,G,I=this.box;this.itemX=b,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=qte(m.width,d.spacingBox.width-b),G=d.spacingBox.width-2*b-m.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(G/=2),this.maxLegendWidth=this.widthOption||G,M||(this.group=M=g.g("legend").addClass(m.className||"").attr({zIndex:7}).add(),this.contentGroup=g.g().attr({zIndex:1}).add(M),this.scrollGroup=g.g().add(this.contentGroup)),this.renderTitle(),Qte(w,(U,z)=>{var J,le;return(((J=U.options)==null?void 0:J.legendIndex)||0)-(((le=z.options)==null?void 0:le.legendIndex)||0)}),m.reversed&&w.reverse(),this.allItems=w,this.display=E=!!w.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,w.forEach(this.renderItem,this),w.forEach(this.layoutItem,this),T=(this.widthOption||this.offsetWidth)+b,D=this.lastItemY+this.lastLineHeight+this.titleHeight,D=this.handleOverflow(D)+b,I||(this.box=I=g.rect().addClass("highcharts-legend-box").attr({r:m.borderRadius}).add(M)),d.styledMode||I.attr({stroke:m.borderColor,"stroke-width":m.borderWidth||0,fill:m.backgroundColor||"none"}).shadow(m.shadow),T>0&&D>0&&I[I.placed?"animate":"attr"](I.crisp.call({},{x:0,y:0,width:T,height:D},I.strokeWidth())),M[E?"show":"hide"](),d.styledMode&&M.getStyle("display")==="none"&&(T=D=0),this.legendWidth=T,this.legendHeight=D,E&&this.align(),this.proximate||this.positionItems(),hd(this,"afterRender")}align(d=this.chart.spacingBox){let g=this.chart,m=this.options,b=d.y;/(lth|ct|rth)/.test(this.getAlignment())&&g.titleOffset[0]>0?b+=g.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&g.titleOffset[2]>0&&(b-=g.titleOffset[2]),b!==d.y&&(d=up(d,{y:b})),g.hasRendered||(this.group.placed=!1),this.group.align(up(m,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":m.verticalAlign}),!0,d)}handleOverflow(d){let g=this,m=this.chart,b=m.renderer,w=this.options,E=w.y,T=w.verticalAlign==="top",D=this.padding,M=w.maxHeight,G=w.navigation,I=Wl(G.animation,!0),U=G.arrowSize||12,z=this.pages,J=this.allItems,le=function(et){typeof et=="number"?rt.attr({height:et}):rt&&(g.clipRect=rt.destroy(),g.contentGroup.clip()),g.contentGroup.div&&(g.contentGroup.div.style.clip=et?"rect("+D+"px,9999px,"+(D+et)+"px,0)":"auto")},ae=function(et){return g[et]=b.circle(0,0,1.3*U).translate(U/2,U/2).add(je),m.styledMode||g[et].attr("fill","rgba(0,0,0,0.0001)"),g[et]},oe,ge,Ce,Ye,Ue=m.spacingBox.height+(T?-E:E)-D,je=this.nav,rt=this.clipRect;return w.layout!=="horizontal"||w.verticalAlign==="middle"||w.floating||(Ue/=2),M&&(Ue=Math.min(Ue,M)),z.length=0,d&&Ue>0&&d>Ue&&G.enabled!==!1?(this.clipHeight=oe=Math.max(Ue-20-this.titleHeight-D,0),this.currentPage=Wl(this.currentPage,1),this.fullHeight=d,J.forEach((et,it)=>{let _t=(Ce=et.legendItem||{}).y||0,Nt=Math.round(Ce.label.getBBox().height),Ht=z.length;(!Ht||_t-z[Ht-1]>oe&&(ge||_t)!==z[Ht-1])&&(z.push(ge||_t),Ht++),Ce.pageIx=Ht-1,ge&&Ye&&(Ye.pageIx=Ht-1),it===J.length-1&&_t+Nt-z[Ht-1]>oe&&_t>z[Ht-1]&&(z.push(_t),Ce.pageIx=Ht),_t!==ge&&(ge=_t),Ye=Ce}),rt||(rt=g.clipRect=b.clipRect(0,D-2,9999,0),g.contentGroup.clip(rt)),le(oe),je||(this.nav=je=b.g().attr({zIndex:1}).add(this.group),this.up=b.symbol("triangle",0,0,U,U).add(je),ae("upTracker").on("click",function(){g.scroll(-1,I)}),this.pager=b.text("",15,10).addClass("highcharts-legend-navigation"),!m.styledMode&&G.style&&this.pager.css(G.style),this.pager.add(je),this.down=b.symbol("triangle-down",0,0,U,U).add(je),ae("downTracker").on("click",function(){g.scroll(1,I)})),g.scroll(0),d=Ue):je&&(le(),this.nav=je.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),d}scroll(d,g){let m=this.chart,b=this.pages,w=b.length,E=this.clipHeight,T=this.options.navigation,D=this.pager,M=this.padding,G=this.currentPage+d;G>w&&(G=w),G>0&&(g!==void 0&&Hte(g,m),this.nav.attr({translateX:M,translateY:E+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(I){I.attr({class:G===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),D.attr({text:G+"/"+w}),[this.down,this.downTracker].forEach(function(I){I.attr({x:18+this.pager.getBBox().width,class:G===w?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),m.styledMode||(this.up.attr({fill:G===1?T.inactiveColor:T.activeColor}),this.upTracker.css({cursor:G===1?"default":"pointer"}),this.down.attr({fill:G===w?T.inactiveColor:T.activeColor}),this.downTracker.css({cursor:G===w?"default":"pointer"})),this.scrollOffset=-b[G-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=G,this.positionCheckboxes(),Jte(()=>{hd(this,"afterScroll",{currentPage:G})},Gte(Wl(g,m.renderer.globalAnimation,!0)).duration))}setItemEvents(d,g,m){let b=this,w=d.legendItem||{},E=b.chart.renderer.boxWrapper,T=d instanceof Th,D=d instanceof gl,M="highcharts-legend-"+(T?"point":"series")+"-active",G=b.chart.styledMode,I=m?[g,w.symbol]:[w.group],U=z=>{b.allItems.forEach(J=>{d!==J&&[J].concat(J.linkedSeries||[]).forEach(le=>{le.setState(z,!T)})})};for(let z of I)z&&z.on("mouseover",function(){d.visible&&U("inactive"),d.setState("hover"),d.visible&&E.addClass(M),G||g.css(b.options.itemHoverStyle)}).on("mouseout",function(){b.chart.styledMode||g.css(up(d.visible?b.itemStyle:b.itemHiddenStyle)),U(""),E.removeClass(M),d.setState()}).on("click",function(J){let le=function(){d.setVisible&&d.setVisible(),U(d.visible?"inactive":"")};E.removeClass(M),hd(b,"itemClick",{browserEvent:J,legendItem:d},le),T?d.firePointEvent("legendItemClick",{browserEvent:J}):D&&hd(d,"legendItemClick",{browserEvent:J})})}createCheckboxForItem(d){d.checkbox=zte("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:d.selected,defaultChecked:d.selected},this.options.itemCheckboxStyle,this.chart.container),Cx(d.checkbox,"click",function(g){let m=g.target;hd(d.series||d,"checkboxClick",{checked:m.checked,item:d},function(){d.select()})})}}(function(L){L.compose=function(d){Xte($te,"Core.Legend")&&Cx(d,"beforeMargins",function(){this.legend=new L(this,this.options.legend)})}})(Zk||(Zk={}));let bV=Zk,{animate:eD,animObject:Zte,setAnimation:tD}=st,{defaultOptions:iD}=Ls,{numberFormat:eie}=Va,{registerEventOptions:wV}=sx,{charts:dp,doc:Fy,marginNames:SV,svg:tie,win:xV}=F,{seriesTypes:sD}=fn,{addEvent:rD,attr:EV,createElement:nD,css:kc,defined:kh,diffObjects:_V,discardElement:iie,erase:sie,error:oD,extend:Dh,find:aD,fireEvent:ks,getAlignFactor:rie,getStyle:lD,isArray:nie,isNumber:Xm,isObject:oie,isString:bx,merge:pu,objectEach:cD,pick:Do,pInt:aie,relativeLength:TV,removeEvent:AV,splat:wx,syncTimeout:lie,uniqueKey:cie}=de;class Rh{static chart(d,g,m){return new Rh(d,g,m)}constructor(d,g,m){this.sharedClips={};let b=[...arguments];(bx(d)||d.nodeName)&&(this.renderTo=b.shift()),this.init(b[0],b[1])}setZoomOptions(){let d=this.options.chart,g=d.zooming;this.zooming={...g,type:Do(d.zoomType,g.type),key:Do(d.zoomKey,g.key),pinchType:Do(d.pinchType,g.pinchType),singleTouch:Do(d.zoomBySingleTouch,g.singleTouch,!1),resetButton:pu(g.resetButton,d.resetZoomButton)}}init(d,g){ks(this,"init",{args:arguments},function(){var E;let m=pu(iD,d),b=m.chart,w=this.renderTo||b.renderTo;this.userOptions=Dh({},d),(this.renderTo=bx(w)?Fy.getElementById(w):w)||oD(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=g,this.isResizing=0,this.options=m,this.axes=[],this.series=[],this.locale=m.lang.locale??((E=this.renderTo.closest("[lang]"))==null?void 0:E.lang),this.time=new _i(Dh(m.time||{},{locale:this.locale}),m.lang),m.time=this.time.options,this.numberFormatter=(b.numberFormatter||eie).bind(this),this.styledMode=b.styledMode,this.hasCartesianSeries=b.showAxes,this.index=dp.length,dp.push(this),F.chartCount++,wV(this,b),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),ks(this,"afterInit"),this.firstRender()})}initSeries(d){let g=this.options.chart,m=d.type||g.type,b=sD[m];b||oD(17,!0,this,{missingModuleFor:m});let w=new b;return typeof w.init=="function"&&w.init(this,d),w}setSortedData(){this.getSeriesOrderByLinks().forEach(function(d){d.points||d.data||!d.enabledDataSorting||d.setData(d.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(d,g){return d.linkedSeries.length||g.linkedSeries.length?g.linkedSeries.length-d.linkedSeries.length:0})}orderItems(d,g=0){let m=this[d],b=this.options[d]=wx(this.options[d]).slice(),w=this.userOptions[d]=this.userOptions[d]?wx(this.userOptions[d]).slice():[];if(this.hasRendered&&(b.splice(g),w.splice(g)),m)for(let E=g,T=m.length;E<T;++E){let D=m[E];D&&(D.index=E,D instanceof gl&&(D.name=D.getName()),D.options.isInternal||(b[E]=D.options,w[E]=D.userOptions))}}getClipBox(d,g){var G,I;let m=this.inverted,{xAxis:b,yAxis:w}=d||{},{x:E,y:T,width:D,height:M}=pu(this.clipBox);return d&&(b&&b.len!==this.plotSizeX&&(D=b.len),w&&w.len!==this.plotSizeY&&(M=w.len),m&&!d.invertible&&([D,M]=[M,D])),g&&(E+=((G=m?w:b)==null?void 0:G.pos)??this.plotLeft,T+=((I=m?b:w)==null?void 0:I.pos)??this.plotTop),{x:E,y:T,width:D,height:M}}isInsidePlot(d,g,m={}){var ae;let{inverted:b,plotBox:w,plotLeft:E,plotTop:T,scrollablePlotBox:D}=this,{scrollLeft:M=0,scrollTop:G=0}=m.visiblePlotOnly&&((ae=this.scrollablePlotArea)==null?void 0:ae.scrollingContainer)||{},I=m.series,U=m.visiblePlotOnly&&D||w,z=m.inverted?g:d,J=m.inverted?d:g,le={x:z,y:J,isInsidePlot:!0,options:m};if(!m.ignoreX){let oe=I&&(b&&!this.polar?I.yAxis:I.xAxis)||{pos:E,len:1/0},ge=m.paneCoordinates?oe.pos+z:E+z;ge>=Math.max(M+E,oe.pos)&&ge<=Math.min(M+E+U.width,oe.pos+oe.len)||(le.isInsidePlot=!1)}if(!m.ignoreY&&le.isInsidePlot){let oe=!b&&m.axis&&!m.axis.isXAxis&&m.axis||I&&(b?I.xAxis:I.yAxis)||{pos:T,len:1/0},ge=m.paneCoordinates?oe.pos+J:T+J;ge>=Math.max(G+T,oe.pos)&&ge<=Math.min(G+T+U.height,oe.pos+oe.len)||(le.isInsidePlot=!1)}return ks(this,"afterIsInsidePlot",le),le.isInsidePlot}redraw(d){ks(this,"beforeRedraw");let g=this.hasCartesianSeries?this.axes:this.colorAxis||[],m=this.series,b=this.pointer,w=this.legend,E=this.userOptions.legend,T=this.renderer,D=T.isHidden(),M=[],G,I,U,z=this.isDirtyBox,J=this.isDirtyLegend,le;for(T.rootFontSize=T.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),tD(!!this.hasRendered&&d,this),D&&this.temporaryDisplay(),this.layOutTitles(!1),U=m.length;U--;)if(((le=m[U]).options.stacking||le.options.centerInCategory)&&(I=!0,le.isDirty)){G=!0;break}if(G)for(U=m.length;U--;)(le=m[U]).options.stacking&&(le.isDirty=!0);m.forEach(function(ae){ae.isDirty&&(ae.options.legendType==="point"?(typeof ae.updateTotals=="function"&&ae.updateTotals(),J=!0):E&&(E.labelFormatter||E.labelFormat)&&(J=!0)),ae.isDirtyData&&ks(ae,"updatedData")}),J&&w&&w.options.enabled&&(w.render(),this.isDirtyLegend=!1),I&&this.getStacks(),g.forEach(function(ae){ae.updateNames(),ae.setScale()}),this.getMargins(),g.forEach(function(ae){ae.isDirty&&(z=!0)}),g.forEach(function(ae){let oe=ae.min+","+ae.max;ae.extKey!==oe&&(ae.extKey=oe,M.push(function(){ks(ae,"afterSetExtremes",Dh(ae.eventArgs,ae.getExtremes())),delete ae.eventArgs})),(z||I)&&ae.redraw()}),z&&this.drawChartBox(),ks(this,"predraw"),m.forEach(function(ae){(z||ae.isDirty)&&ae.visible&&ae.redraw(),ae.isDirtyData=!1}),b&&b.reset(!0),T.draw(),ks(this,"redraw"),ks(this,"render"),D&&this.temporaryDisplay(!0),M.forEach(function(ae){ae.call()})}get(d){let g=this.series;function m(w){return w.id===d||w.options&&w.options.id===d}let b=aD(this.axes,m)||aD(this.series,m);for(let w=0;!b&&w<g.length;w++)b=aD(g[w].points||[],m);return b}createAxes(){let d=this.userOptions;for(let g of(ks(this,"createAxes"),["xAxis","yAxis"]))for(let m of d[g]=wx(d[g]||{}))new Um(this,m,g);ks(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((d,g)=>(g.getPointsCollection().forEach(m=>{Do(m.selectedStaging,m.selected)&&d.push(m)}),d),[])}getSelectedSeries(){return this.series.filter(d=>d.selected)}setTitle(d,g,m){this.applyDescription("title",d),this.applyDescription("subtitle",g),this.applyDescription("caption",void 0),this.layOutTitles(m)}applyDescription(d,g){var E;let m=this,b=this.options[d]=pu(this.options[d],g),w=this[d];w&&g&&(this[d]=w=w.destroy()),b&&!w&&((w=this.renderer.text(b.text,0,0,b.useHTML).attr({align:b.align,class:"highcharts-"+d,zIndex:b.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(T,D){m.applyDescription(d,T),m.layOutTitles(D)},this.styledMode||w.css(Dh(d==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},b.style)),w.textPxLength=w.getBBox().width,w.css({whiteSpace:(E=b.style)==null?void 0:E.whiteSpace}),this[d]=w)}layOutTitles(d=!0){var T,D,M,G;let g=[0,0,0],{options:m,renderer:b,spacingBox:w}=this;["title","subtitle","caption"].forEach(I=>{var ae;let U=this[I],z=this.options[I],J=pu(w),le=(U==null?void 0:U.textPxLength)||0;if(U&&z){ks(this,"layOutTitle",{alignTo:J,key:I,textPxLength:le});let oe=b.fontMetrics(U),ge=oe.b,Ce=oe.h,Ye=z.verticalAlign||"top",Ue=Ye==="top",je=Ue&&z.minScale||1,rt=I==="title"?Ue?-3:0:Ue?g[0]+2:0,et=Math.min(J.width/le,1),it=Math.max(je,et),_t=pu({y:Ye==="bottom"?ge:rt+ge},{align:I==="title"?et<je?"left":"center":(ae=this.title)==null?void 0:ae.alignValue},z),Nt=(z.width||(et>je?this.chartWidth:J.width)/it)+"px";U.alignValue!==_t.align&&(U.placed=!1);let Ht=Math.round(U.css({width:Nt}).getBBox(z.useHTML).height);if(_t.height=Ht,U.align(_t,!1,J).attr({align:_t.align,scaleX:it,scaleY:it,"transform-origin":`${J.x+le*it*rie(_t.align)} ${Ce}`}),!z.floating){let jt=Ht*(Ht<1.2*Ce?1:it);Ye==="top"?g[0]=Math.ceil(g[0]+jt):Ye==="bottom"&&(g[2]=Math.ceil(g[2]+jt))}}},this),g[0]&&(((T=m.title)==null?void 0:T.verticalAlign)||"top")==="top"&&(g[0]+=((D=m.title)==null?void 0:D.margin)||0),g[2]&&((M=m.caption)==null?void 0:M.verticalAlign)==="bottom"&&(g[2]+=((G=m.caption)==null?void 0:G.margin)||0);let E=!this.titleOffset||this.titleOffset.join(",")!==g.join(",");this.titleOffset=g,ks(this,"afterLayOutTitles"),!this.isDirtyBox&&E&&(this.isDirtyBox=this.isDirtyLegend=E,this.hasRendered&&d&&this.isDirtyBox&&this.redraw())}getContainerBox(){let d=[].map.call(this.renderTo.children,m=>{if(m!==this.container){let b=m.style.display;return m.style.display="none",[m,b]}}),g={width:lD(this.renderTo,"width",!0)||0,height:lD(this.renderTo,"height",!0)||0};return d.filter(Boolean).forEach(([m,b])=>{m.style.display=b}),g}getChartSize(){var E;let d=this.options.chart,g=d.width,m=d.height,b=this.getContainerBox(),w=b.height<=1||!((E=this.renderTo.parentElement)!=null&&E.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,g||b.width||600),this.chartHeight=Math.max(0,TV(m,this.chartWidth)||(w?400:b.height)),this.containerBox=b}temporaryDisplay(d){let g=this.renderTo,m;if(d)for(;g!=null&&g.style;)g.hcOrigStyle&&(kc(g,g.hcOrigStyle),delete g.hcOrigStyle),g.hcOrigDetached&&(Fy.body.removeChild(g),g.hcOrigDetached=!1),g=g.parentNode;else for(;g!=null&&g.style&&(Fy.body.contains(g)||g.parentNode||(g.hcOrigDetached=!0,Fy.body.appendChild(g)),(lD(g,"display",!1)==="none"||g.hcOricDetached)&&(g.hcOrigStyle={display:g.style.display,height:g.style.height,overflow:g.style.overflow},m={display:"block",overflow:"hidden"},g!==this.renderTo&&(m.height=0),kc(g,m),g.offsetWidth||g.style.setProperty("display","block","important")),(g=g.parentNode)!==Fy.body););}setClassName(d){this.container.className="highcharts-container "+(d||"")}getContainer(){var U,z;let d,g=this.options,m=g.chart,b="data-highcharts-chart",w=cie(),E=this.renderTo,T=aie(EV(E,b));Xm(T)&&dp[T]&&dp[T].hasRendered&&dp[T].destroy(),EV(E,b,this.index),E.innerHTML=ds.emptyHTML,m.skipClone||E.offsetWidth||this.temporaryDisplay(),this.getChartSize();let D=this.chartHeight,M=this.chartWidth;kc(E,{overflow:"hidden"}),this.styledMode||(d=Dh({position:"relative",overflow:"hidden",width:M+"px",height:D+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},m.style||{}));let G=nD("div",{id:w},d,E);this.container=G,this.getChartSize(),M!==this.chartWidth&&(M=this.chartWidth,this.styledMode||kc(G,{width:Do((U=m.style)==null?void 0:U.width,M+"px")})),this.containerBox=this.getContainerBox(),this._cursor=G.style.cursor;let I=m.renderer||!tie?tp.getRendererType(m.renderer):tx;if(this.renderer=new I(G,M,D,void 0,m.forExport,(z=g.exporting)==null?void 0:z.allowHTML,this.styledMode),tD(void 0,this),this.setClassName(m.className),this.styledMode)for(let J in g.defs)this.renderer.definition(g.defs[J]);else this.renderer.setStyle(m.style);this.renderer.chartIndex=this.index,ks(this,"afterGetContainer")}getMargins(d){var w;let{spacing:g,margin:m,titleOffset:b}=this;this.resetMargins(),b[0]&&!kh(m[0])&&(this.plotTop=Math.max(this.plotTop,b[0]+g[0])),b[2]&&!kh(m[2])&&(this.marginBottom=Math.max(this.marginBottom,b[2]+g[2])),(w=this.legend)!=null&&w.display&&this.legend.adjustMargins(m,g),ks(this,"getMargins"),d||this.getAxisMargins()}getAxisMargins(){let d=this,g=d.axisOffset=[0,0,0,0],m=d.colorAxis,b=d.margin,w=function(E){E.forEach(function(T){T.visible&&T.getOffset()})};d.hasCartesianSeries?w(d.axes):m!=null&&m.length&&w(m),SV.forEach(function(E,T){kh(b[T])||(d[E]+=g[T])}),d.setChartSize()}getOptions(){return _V(this.userOptions,iD)}reflow(d){var w,E;let g=this,m=g.containerBox,b=g.getContainerBox();(w=g.pointer)==null||delete w.chartPosition,!((E=g.exporting)!=null&&E.isPrinting)&&!g.isResizing&&m&&b.width&&((b.width!==m.width||b.height!==m.height)&&(de.clearTimeout(g.reflowTimeout),g.reflowTimeout=lie(function(){g.container&&g.setSize(void 0,void 0,!1)},100*!!d)),g.containerBox=b)}setReflow(){let d=this,g=m=>{var b;(b=d.options)!=null&&b.chart.reflow&&d.hasLoaded&&d.reflow(m)};if(typeof ResizeObserver=="function")new ResizeObserver(g).observe(d.renderTo);else{let m=rD(xV,"resize",g);rD(this,"destroy",m)}}setSize(d,g,m){let b=this,w=b.renderer;b.isResizing+=1,tD(m,b);let E=w.globalAnimation;b.oldChartHeight=b.chartHeight,b.oldChartWidth=b.chartWidth,d!==void 0&&(b.options.chart.width=d),g!==void 0&&(b.options.chart.height=g),b.getChartSize();let{chartWidth:T,chartHeight:D,scrollablePixelsX:M=0,scrollablePixelsY:G=0}=b;(b.isDirtyBox||T!==b.oldChartWidth||D!==b.oldChartHeight)&&(b.styledMode||(E?eD:kc)(b.container,{width:`${T+M}px`,height:`${D+G}px`},E),b.setChartSize(!0),w.setSize(T,D,E),b.axes.forEach(function(I){I.isDirty=!0,I.setScale()}),b.isDirtyLegend=!0,b.isDirtyBox=!0,b.layOutTitles(),b.getMargins(),b.redraw(E),b.oldChartHeight=void 0,ks(b,"resize"),setTimeout(()=>{b&&ks(b,"endResize")},Zte(E).duration)),b.isResizing-=1}setChartSize(d){let g,m,b,w,{chartHeight:E,chartWidth:T,inverted:D,spacing:M,renderer:G}=this,I=this.clipOffset,U=Math[D?"floor":"round"];this.plotLeft=g=Math.round(this.plotLeft),this.plotTop=m=Math.round(this.plotTop),this.plotWidth=b=Math.max(0,Math.round(T-g-(this.marginRight??0))),this.plotHeight=w=Math.max(0,Math.round(E-m-(this.marginBottom??0))),this.plotSizeX=D?w:b,this.plotSizeY=D?b:w,this.spacingBox=G.spacingBox={x:M[3],y:M[0],width:T-M[3]-M[1],height:E-M[0]-M[2]},this.plotBox=G.plotBox={x:g,y:m,width:b,height:w},I&&(this.clipBox={x:U(I[3]),y:U(I[0]),width:U(this.plotSizeX-I[1]-I[3]),height:U(this.plotSizeY-I[0]-I[2])}),d||(this.axes.forEach(function(z){z.setAxisSize(),z.setAxisTranslation()}),G.alignElements()),ks(this,"afterSetChartSize",{skipAxes:d})}resetMargins(){ks(this,"resetMargins");let d=this,g=d.options.chart,m=g.plotBorderWidth||0,b=Math.round(m)/2;["margin","spacing"].forEach(function(w){let E=g[w],T=oie(E)?E:[E,E,E,E];["Top","Right","Bottom","Left"].forEach(function(D,M){d[w][M]=Do(g[w+D],T[M])})}),SV.forEach(function(w,E){d[w]=Do(d.margin[E],d.spacing[E])}),d.axisOffset=[0,0,0,0],d.clipOffset=[b,b,b,b],d.plotBorderWidth=m}drawChartBox(){let d=this.options.chart,g=this.renderer,m=this.chartWidth,b=this.chartHeight,w=this.styledMode,E=this.plotBGImage,T=d.backgroundColor,D=d.plotBackgroundColor,M=d.plotBackgroundImage,G=this.plotLeft,I=this.plotTop,U=this.plotWidth,z=this.plotHeight,J=this.plotBox,le=this.clipRect,ae=this.clipBox,oe=this.chartBackground,ge=this.plotBackground,Ce=this.plotBorder,Ye,Ue,je,rt="animate";oe||(this.chartBackground=oe=g.rect().addClass("highcharts-background").add(),rt="attr"),w?Ye=Ue=oe.strokeWidth():(Ue=(Ye=d.borderWidth||0)+8*!!d.shadow,je={fill:T||"none"},(Ye||oe["stroke-width"])&&(je.stroke=d.borderColor,je["stroke-width"]=Ye),oe.attr(je).shadow(d.shadow)),oe[rt]({x:Ue/2,y:Ue/2,width:m-Ue-Ye%2,height:b-Ue-Ye%2,r:d.borderRadius}),rt="animate",ge||(rt="attr",this.plotBackground=ge=g.rect().addClass("highcharts-plot-background").add()),ge[rt](J),!w&&(ge.attr({fill:D||"none"}).shadow(d.plotShadow),M&&(E?(M!==E.attr("href")&&E.attr("href",M),E.animate(J)):this.plotBGImage=g.image(M,G,I,U,z).add())),le?le.animate({width:ae.width,height:ae.height}):this.clipRect=g.clipRect(ae),rt="animate",Ce||(rt="attr",this.plotBorder=Ce=g.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),w||Ce.attr({stroke:d.plotBorderColor,"stroke-width":d.plotBorderWidth||0,fill:"none"}),Ce[rt](Ce.crisp(J,-Ce.strokeWidth())),this.isDirtyBox=!1,ks(this,"afterDrawChartBox")}propFromSeries(){let d,g,m,b=this,w=b.options.chart,E=b.options.series;["inverted","angular","polar"].forEach(function(T){for(g=sD[w.type],m=w[T]||g&&g.prototype[T],d=E==null?void 0:E.length;!m&&d--;)(g=sD[E[d].type])&&g.prototype[T]&&(m=!0);b[T]=m})}linkSeries(d){let g=this,m=g.series;m.forEach(function(b){b.linkedSeries.length=0}),m.forEach(function(b){let{linkedTo:w}=b.options;if(bx(w)){let E;(E=w===":previous"?g.series[b.index-1]:g.get(w))&&E.linkedParent!==b&&(E.linkedSeries.push(b),b.linkedParent=E,E.enabledDataSorting&&b.setDataSortingOptions(),b.visible=Do(b.options.visible,E.options.visible,b.visible))}}),ks(this,"afterLinkSeries",{isUpdating:d})}renderSeries(){this.series.forEach(function(d){d.translate(),d.render()})}render(){var G;let d=this.axes,g=this.colorAxis,m=this.renderer,b=this.options.chart.axisLayoutRuns||2,w=I=>{I.forEach(U=>{U.visible&&U.render()})},E=0,T=!0,D,M=0;for(let I of(this.setTitle(),ks(this,"beforeMargins"),(G=this.getStacks)==null||G.call(this),this.getMargins(!0),this.setChartSize(),d)){let{options:U}=I,{labels:z}=U;if(this.hasCartesianSeries&&I.horiz&&I.visible&&z.enabled&&I.series.length&&I.coll!=="colorAxis"&&!this.polar){E=U.tickLength,I.createGroups();let J=new Wm(I,0,"",!0),le=J.createLabel("x",z);if(J.destroy(),le&&Do(z.reserveSpace,!Xm(U.crossing))&&(E=le.getBBox().height+z.distance+Math.max(U.offset||0,0)),E){le==null||le.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-E,0);(T||D||b>1)&&M<b;){let I=this.plotWidth,U=this.plotHeight;for(let z of d)M===0?z.setScale():(z.horiz&&T||!z.horiz&&D)&&z.setTickInterval(!0);M===0?this.getAxisMargins():this.getMargins(),T=I/this.plotWidth>(M?1:1.1),D=U/this.plotHeight>(M?1:1.05),M++}this.drawChartBox(),this.hasCartesianSeries?w(d):g!=null&&g.length&&w(g),this.seriesGroup||(this.seriesGroup=m.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=m.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(d){let g=this,m=pu(!0,this.options.credits,d);m.enabled&&!this.credits&&(this.credits=this.renderer.text(m.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){m.href&&(xV.location.href=m.href)}).attr({align:m.position.align,zIndex:8}),g.styledMode||this.credits.css(m.style),this.credits.add().align(m.position),this.credits.update=function(b){g.credits=g.credits.destroy(),g.addCredits(b)})}destroy(){var T,D;let d,g=this,m=g.axes,b=g.series,w=g.container,E=w==null?void 0:w.parentNode;for(ks(g,"destroy"),g.renderer.forExport?sie(dp,g):dp[g.index]=void 0,F.chartCount--,g.renderTo.removeAttribute("data-highcharts-chart"),AV(g),d=m.length;d--;)m[d]=m[d].destroy();for((D=(T=this.scroller)==null?void 0:T.destroy)==null||D.call(T),d=b.length;d--;)b[d]=b[d].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(M=>{var G,I;g[M]=(I=(G=g[M])==null?void 0:G.destroy)==null?void 0:I.call(G)}),w&&(w.innerHTML=ds.emptyHTML,AV(w),E&&iie(w)),cD(g,function(M,G){delete g[G]})}firstRender(){var b;let d=this,g=d.options;d.getContainer(),d.resetMargins(),d.setChartSize(),d.propFromSeries(),d.createAxes();let m=nie(g.series)?g.series:[];g.series=[],m.forEach(function(w){d.initSeries(w)}),d.linkSeries(),d.setSortedData(),ks(d,"beforeRender"),d.render(),(b=d.pointer)==null||b.getChartPosition(),d.renderer.imgCount||d.hasLoaded||d.onload(),d.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(d){d&&this.index!==void 0&&d.apply(this,[this])},this),ks(this,"load"),ks(this,"render"),kh(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:d,title:g}=this;d&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((g==null?void 0:g.element.textContent)||"").replace(/</g,"&lt;")}),d.accessibility&&d.accessibility.enabled===!1||oD('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(d,g,m){let b,w=this;return d&&(g=Do(g,!0),ks(w,"addSeries",{options:d},function(){b=w.initSeries(d),w.isDirtyLegend=!0,w.linkSeries(),b.enabledDataSorting&&b.setData(d.data,!1),ks(w,"afterAddSeries",{series:b}),g&&w.redraw(m)})),b}addAxis(d,g,m,b){return this.createAxis(g?"xAxis":"yAxis",{axis:d,redraw:m,animation:b})}addColorAxis(d,g,m){return this.createAxis("colorAxis",{axis:d,redraw:g,animation:m})}createAxis(d,g){let m=new Um(this,g.axis,d);return Do(g.redraw,!0)&&this.redraw(g.animation),m}showLoading(d){let g=this,m=g.options,b=m.loading,w=function(){E&&kc(E,{left:g.plotLeft+"px",top:g.plotTop+"px",width:g.plotWidth+"px",height:g.plotHeight+"px"})},E=g.loadingDiv,T=g.loadingSpan;E||(g.loadingDiv=E=nD("div",{className:"highcharts-loading highcharts-loading-hidden"},null,g.container)),T||(g.loadingSpan=T=nD("span",{className:"highcharts-loading-inner"},null,E),rD(g,"redraw",w)),E.className="highcharts-loading",ds.setElementHTML(T,Do(d,m.lang.loading,"")),!g.styledMode&&(kc(E,Dh(b.style,{zIndex:10})),kc(T,b.labelStyle),g.loadingShown||(kc(E,{opacity:0,display:""}),eD(E,{opacity:b.style.opacity||.5},{duration:b.showDuration||0}))),g.loadingShown=!0,w()}hideLoading(){let d=this.options,g=this.loadingDiv;g&&(g.className="highcharts-loading highcharts-loading-hidden",this.styledMode||eD(g,{opacity:0},{duration:d.loading.hideDuration||100,complete:function(){kc(g,{display:"none"})}})),this.loadingShown=!1}update(d,g,m,b){let w,E,T,D=this,M={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},G=d.isResponsiveOptions,I=[];ks(D,"update",{options:d}),G||D.setResponsive(!1,!0),d=_V(d,D.options),D.userOptions=pu(D.userOptions,d);let U=d.chart;U&&(pu(!0,D.options.chart,U),this.setZoomOptions(),"className"in U&&D.setClassName(U.className),("inverted"in U||"polar"in U||"type"in U)&&(D.propFromSeries(),w=!0),"alignTicks"in U&&(w=!0),"events"in U&&wV(this,U),cD(U,function(le,ae){D.propsRequireUpdateSeries.indexOf("chart."+ae)!==-1&&(E=!0),D.propsRequireDirtyBox.indexOf(ae)!==-1&&(D.isDirtyBox=!0),D.propsRequireReflow.indexOf(ae)!==-1&&(D.isDirtyBox=!0,G||(T=!0))}),!D.styledMode&&U.style&&D.renderer.setStyle(D.options.chart.style||{})),!D.styledMode&&d.colors&&(this.options.colors=d.colors),cD(d,function(le,ae){D[ae]&&typeof D[ae].update=="function"?D[ae].update(le,!1):typeof D[M[ae]]=="function"?D[M[ae]](le):ae!=="colors"&&D.collectionsWithUpdate.indexOf(ae)===-1&&pu(!0,D.options[ae],d[ae]),ae!=="chart"&&D.propsRequireUpdateSeries.indexOf(ae)!==-1&&(E=!0)}),this.collectionsWithUpdate.forEach(function(le){d[le]&&(wx(d[le]).forEach(function(ae,oe){let ge,Ce=kh(ae.id);Ce&&(ge=D.get(ae.id)),!ge&&D[le]&&(ge=D[le][Do(ae.index,oe)])&&(Ce&&kh(ge.options.id)||ge.options.isInternal)&&(ge=void 0),ge&&ge.coll===le&&(ge.update(ae,!1),m&&(ge.touched=!0)),!ge&&m&&D.collectionsWithInit[le]&&(D.collectionsWithInit[le][0].apply(D,[ae].concat(D.collectionsWithInit[le][1]||[]).concat([!1])).touched=!0)}),m&&D[le].forEach(function(ae){ae.touched||ae.options.isInternal?delete ae.touched:I.push(ae)}))}),I.forEach(function(le){le.chart&&le.remove&&le.remove(!1)}),w&&D.axes.forEach(function(le){le.update({},!1)}),E&&D.getSeriesOrderByLinks().forEach(function(le){le.chart&&le.update({},!1)},this);let z=U==null?void 0:U.width,J=U&&(bx(U.height)?TV(U.height,z||D.chartWidth):U.height);T||Xm(z)&&z!==D.chartWidth||Xm(J)&&J!==D.chartHeight?D.setSize(z,J,b):Do(g,!0)&&D.redraw(b),ks(D,"afterUpdate",{options:d,redraw:g,animation:b})}setSubtitle(d,g){this.applyDescription("subtitle",d),this.layOutTitles(g)}setCaption(d,g){this.applyDescription("caption",d),this.layOutTitles(g)}showResetZoom(){let d=this,g=iD.lang,m=d.zooming.resetButton,b=m.theme,w=m.relativeTo==="chart"||m.relativeTo==="spacingBox"?null:"plotBox";function E(){d.zoomOut()}ks(this,"beforeShowResetZoom",null,function(){d.resetZoomButton=d.renderer.button(g.resetZoom,null,null,E,b).attr({align:m.position.align,title:g.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(m.position,!1,w)}),ks(this,"afterShowResetZoom")}zoomOut(){ks(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(d,g){let m=this,b=typeof g=="object"?g:{enabled:g,type:"x"},w=b.type,E=w&&m[{x:"xAxis",xy:"axes",y:"yAxis"}[w]].filter(D=>D.options.panningEnabled&&!D.options.isInternal),T=m.options.chart;T!=null&&T.panning&&(T.panning=b),ks(this,"pan",{originalEvent:d},()=>{m.transform({axes:E,event:d,to:{x:d.chartX-(m.mouseDownX||0),y:d.chartY-(m.mouseDownY||0)},trigger:"pan"}),kc(m.container,{cursor:"move"})})}transform(d){var J;let{axes:g=this.axes,event:m,from:b={},reset:w,selection:E,to:T={},trigger:D}=d,{inverted:M,time:G}=this;(J=this.hoverPoints)==null||J.forEach(le=>le.setState()),ks(this,"transform",d);let I=d.hasZoomed||!1,U,z;for(let le of g){let{horiz:ae,len:oe,minPointOffset:ge=0,options:Ce,reversed:Ye}=le,Ue=ae?"width":"height",je=ae?"x":"y",rt=Do(T[Ue],le.len),et=Do(b[Ue],le.len),it=10>Math.abs(rt)?1:rt/et,_t=(b[je]||0)+et/2-le.pos,Nt=_t-((T[je]??le.pos)+rt/2-le.pos)/it,Ht=Ye&&!M||!Ye&&M?-1:1;if(!w&&(_t<0||_t>le.len))continue;let jt=le.chart.polar||le.isOrdinal?0:ge*Ht||0,fi=le.toValue(Nt,!0),ai=le.toValue(Nt+oe/it,!0),wi=fi+jt,Qt=ai-jt,Ei=le.allExtremes;if(E&&E[le.coll].push({axis:le,min:Math.min(fi,ai),max:Math.max(fi,ai)}),wi>Qt&&([wi,Qt]=[Qt,wi]),it===1&&!w&&le.coll==="yAxis"&&!Ei){for(let Co of le.series){let Mr=Co.getExtremes(Co.getProcessedData(!0).modified.getColumn("y")||[],!0);Ei??(Ei={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Xm(Mr.dataMin)&&Xm(Mr.dataMax)&&(Ei.dataMin=Math.min(Mr.dataMin,Ei.dataMin),Ei.dataMax=Math.max(Mr.dataMax,Ei.dataMax))}le.allExtremes=Ei}let{dataMin:ys,dataMax:Cs,min:Ts,max:Ro}=Dh(le.getExtremes(),Ei||{}),hs=G.parse(Ce.min),qs=G.parse(Ce.max),Gi=ys??hs,Ai=Cs??qs,Cn=Qt-wi,Qs=le.categories?0:Math.min(Cn,Ai-Gi),Fr=Gi-Qs*(kh(hs)?0:Ce.minPadding),oo=Ai+Qs*(kh(qs)?0:Ce.maxPadding),fd=le.allowZoomOutside||it===1||D!=="zoom"&&it>1,Ul=Math.min(hs??Fr,Fr,fd?Ts:Fr),Po=Math.max(qs??oo,oo,fd?Ro:oo);(!le.isOrdinal||it!==1||w)&&(wi<Ul&&(wi=Ul,it>=1&&(Qt=wi+Cn)),Qt>Po&&(Qt=Po,it>=1&&(wi=Qt-Cn)),(w||le.series.length&&(wi!==Ts||Qt!==Ro)&&wi>=Ul&&Qt<=Po)&&(E?E[le.coll].push({axis:le,min:wi,max:Qt}):(le.isPanning=D!=="zoom",le.isPanning&&(z=!0),le.setExtremes(w?void 0:wi,w?void 0:Qt,!1,!1,{move:Nt,trigger:D,scale:it}),!w&&(wi>Ul||Qt<Po)&&D!=="mousewheel"&&(U=!0)),I=!0),this.hasCartesianSeries||w||D==="mousewheel"||(U=!0),m&&(this[ae?"mouseDownX":"mouseDownY"]=m[ae?"chartX":"chartY"]))}return I&&(E?ks(this,"selection",E,()=>{delete d.selection,d.trigger="zoom",this.transform(d)}):(!U||z||this.resetZoomButton?!U&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(D==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),I}}Dh(Rh.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Rh.prototype.addAxis,[!0]],yAxis:[Rh.prototype.addAxis,[!1]],series:[Rh.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:uie}=st,{composed:die}=F,{addEvent:Ph,createElement:Sx,css:uD,defined:dD,erase:hie,merge:kV,pushUnique:DV}=de;function fie(){let L=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!L&&(this.scrollablePlotArea=L=new My(this)),L==null||L.applyFixed()}function RV(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class My{static compose(d,g,m){DV(die,this.compose)&&(Ph(d,"afterInit",RV),Ph(g,"afterSetChartSize",b=>this.afterSetSize(b.target,b)),Ph(g,"render",fie),Ph(m,"show",RV))}static afterSetSize(d,g){let m,b,w,{minWidth:E,minHeight:T}=d.options.chart.scrollablePlotArea||{},{clipBox:D,plotBox:M,inverted:G,renderer:I}=d;if(!I.forExport&&(E?(d.scrollablePixelsX=m=Math.max(0,E-d.chartWidth),m&&(d.scrollablePlotBox=kV(d.plotBox),M.width=d.plotWidth+=m,D[G?"height":"width"]+=m,w=!0)):T&&(d.scrollablePixelsY=b=Math.max(0,T-d.chartHeight),dD(b)&&(d.scrollablePlotBox=kV(d.plotBox),M.height=d.plotHeight+=b,D[G?"width":"height"]+=b,w=!1)),dD(w)&&!g.skipAxes))for(let U of d.axes)(U.horiz===w||d.hasParallelCoordinates&&U.coll==="yAxis")&&(U.setAxisSize(),U.setAxisTranslation())}constructor(d){var z;let g,m=d.options.chart,b=tp.getRendererType(),w=m.scrollablePlotArea||{},E=this.moveFixedElements.bind(this),T={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};d.scrollablePixelsX&&(T.overflowX="auto"),d.scrollablePixelsY&&(T.overflowY="auto"),this.chart=d;let D=this.parentDiv=Sx("div",{className:"highcharts-scrolling-parent"},{position:"relative"},d.renderTo),M=this.scrollingContainer=Sx("div",{className:"highcharts-scrolling"},T,D),G=this.innerContainer=Sx("div",{className:"highcharts-inner-container"},void 0,M),I=this.fixedDiv=Sx("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((z=m.style)==null?void 0:z.zIndex)||0)+2,top:0},void 0,!0),U=this.fixedRenderer=new b(I,d.chartWidth,d.chartHeight,m.style);this.mask=U.path().attr({fill:m.backgroundColor||"#fff","fill-opacity":w.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),M.parentNode.insertBefore(I,M),uD(d.renderTo,{overflow:"visible"}),Ph(d,"afterShowResetZoom",E),Ph(d,"afterApplyDrilldown",E),Ph(d,"afterLayOutTitles",E),Ph(M,"scroll",()=>{let{pointer:J,hoverPoint:le}=d;J&&(delete J.chartPosition,le&&(g=le),J.runPointActions(void 0,g,!0))}),G.appendChild(d.container)}applyFixed(){var _t;let{chart:d,fixedRenderer:g,isDirty:m,scrollingContainer:b}=this,{axisOffset:w,chartWidth:E,chartHeight:T,container:D,plotHeight:M,plotLeft:G,plotTop:I,plotWidth:U,scrollablePixelsX:z=0,scrollablePixelsY:J=0}=d,{scrollPositionX:le=0,scrollPositionY:ae=0}=d.options.chart.scrollablePlotArea||{},oe=E+z,ge=T+J;g.setSize(E,T),(m??!0)&&(this.isDirty=!1,this.moveFixedElements()),uie(d.container),uD(D,{width:`${oe}px`,height:`${ge}px`}),d.renderer.boxWrapper.attr({width:oe,height:ge,viewBox:[0,0,oe,ge].join(" ")}),(_t=d.chartBackground)==null||_t.attr({width:oe,height:ge}),uD(b,{width:`${E}px`,height:`${T}px`}),dD(m)||(b.scrollLeft=z*le,b.scrollTop=J*ae);let Ce=I-w[0]-1,Ye=G-w[3]-1,Ue=I+M+w[2]+1,je=G+U+w[1]+1,rt=G+U-z,et=I+M-J,it=[["M",0,0]];z?it=[["M",0,Ce],["L",G-1,Ce],["L",G-1,Ue],["L",0,Ue],["Z"],["M",rt,Ce],["L",E,Ce],["L",E,Ue],["L",rt,Ue],["Z"]]:J&&(it=[["M",Ye,0],["L",Ye,I-1],["L",je,I-1],["L",je,0],["Z"],["M",Ye,et],["L",Ye,T],["L",je,T],["L",je,et],["Z"]]),d.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:it})}moveFixedElements(){let d,{container:g,inverted:m,scrollablePixelsX:b,scrollablePixelsY:w}=this.chart,E=this.fixedRenderer,T=My.fixedSelectors;if(b&&!m?d=".highcharts-yaxis":b&&m||w&&!m?d=".highcharts-xaxis":w&&m&&(d=".highcharts-yaxis"),d&&!(this.chart.hasParallelCoordinates&&d===".highcharts-yaxis"))for(let D of[`${d}:not(.highcharts-radial-axis)`,`${d}-labels:not(.highcharts-radial-axis-labels)`])DV(T,D);else for(let D of[".highcharts-xaxis",".highcharts-yaxis"])for(let M of[`${D}:not(.highcharts-radial-axis)`,`${D}-labels:not(.highcharts-radial-axis-labels)`])hie(T,M);for(let D of T)[].forEach.call(g.querySelectorAll(D),M=>{(M.namespaceURI===E.SVG_NS?E.box:E.box.parentNode).appendChild(M),M.style.pointerEvents="auto"})}}My.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:pie}=Va,{series:gie}=fn,{destroyObjectProperties:mie,fireEvent:PV,getAlignFactor:hD,isNumber:fD,pick:Ly}=de,FV=class{constructor(L,d,g,m,b){let w=L.chart.inverted,E=L.reversed;this.axis=L;let T=this.isNegative=!!g!=!!E;this.options=d=d||{},this.x=m,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=b,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:d.align||(w?T?"left":"right":"center"),verticalAlign:d.verticalAlign||(w?"middle":T?"bottom":"top"),y:d.y,x:d.x},this.textAlign=d.textAlign||(w?T?"right":"left":"center")}destroy(){mie(this,this.axis)}render(L){let d=this.axis.chart,g=this.options,m=g.format,b=m?pie(m,this,d):g.formatter.call(this);if(this.label)this.label.attr({text:b,visibility:"hidden"});else{this.label=d.renderer.label(b,null,void 0,g.shape,void 0,void 0,g.useHTML,!1,"stack-labels");let w={r:g.borderRadius||0,text:b,padding:Ly(g.padding,5),visibility:"hidden"};d.styledMode||(w.fill=g.backgroundColor,w.stroke=g.borderColor,w["stroke-width"]=g.borderWidth,this.label.css(g.style||{})),this.label.attr(w),this.label.added||this.label.add(L)}this.label.labelrank=d.plotSizeY,PV(this,"afterRender")}setOffset(L,d,g,m,b,w){let{alignOptions:E,axis:T,label:D,options:M,textAlign:G}=this,I=T.chart,U=this.getStackBox({xOffset:L,width:d,boxBottom:g,boxTop:m,defaultX:b,xAxis:w}),{verticalAlign:z}=E;if(D&&U){let J=D.getBBox(void 0,0),le=D.padding,ae=Ly(M.overflow,"justify")==="justify",oe;E.x=M.x||0,E.y=M.y||0;let{x:ge,y:Ce}=this.adjustStackPosition({labelBox:J,verticalAlign:z,textAlign:G});U.x-=ge,U.y-=Ce,D.align(E,!1,U),(oe=I.isInsidePlot(D.alignAttr.x+E.x+ge,D.alignAttr.y+E.y+Ce))||(ae=!1),ae&&gie.prototype.justifyDataLabel.call(T,D,E,D.alignAttr,J,U),D.attr({x:D.alignAttr.x,y:D.alignAttr.y,rotation:M.rotation,rotationOriginX:J.width*hD(M.textAlign||"center"),rotationOriginY:J.height/2}),Ly(!ae&&M.crop,!0)&&(oe=fD(D.x)&&fD(D.y)&&I.isInsidePlot(D.x-le+(D.width||0),D.y)&&I.isInsidePlot(D.x+le,D.y)),D[oe?"show":"hide"]()}PV(this,"afterSetOffset",{xOffset:L,width:d})}adjustStackPosition({labelBox:L,verticalAlign:d,textAlign:g}){return{x:L.width/2+L.width/2*(2*hD(g)-1),y:L.height/2*2*(1-hD(d))}}getStackBox(L){let d=this.axis,g=d.chart,{boxTop:m,defaultX:b,xOffset:w,width:E,boxBottom:T}=L,D=d.stacking.usePercentage?100:Ly(m,this.total,0),M=d.toPixels(D),G=L.xAxis||g.xAxis[0],I=Ly(b,G.translate(this.x))+w,U=Math.abs(M-d.toPixels(T||fD(d.min)&&d.logarithmic&&d.logarithmic.lin2log(d.min)||0)),z=g.inverted,J=this.isNegative;return z?{x:(J?M:M-U)-g.plotLeft,y:G.height-I-E+G.top-g.plotTop,width:U,height:E}:{x:I+G.transB-g.plotLeft,y:(J?M-U:M)-g.plotTop,width:E,height:U}}},{getDeferredAnimation:vie}=st,{series:{prototype:yie}}=fn,{addEvent:MV,correctFloat:Oy,defined:LV,destroyObjectProperties:Cie,fireEvent:bie,isNumber:pD,objectEach:hp,pick:gD}=de;function wie(){let L=this.inverted;this.axes.forEach(d=>{var g;(g=d.stacking)!=null&&g.stacks&&d.hasVisibleSeries&&(d.stacking.oldStacks=d.stacking.stacks)}),this.series.forEach(d=>{var m;let g=((m=d.xAxis)==null?void 0:m.options)||{};d.options.stacking&&d.reserveSpace()&&(d.stackKey=[d.type,gD(d.options.stack,""),L?g.top:g.left,L?g.height:g.width].join(","))})}function Sie(){var d;let L=this.stacking;if(L){let g=L.stacks;hp(g,(m,b)=>{Cie(m),delete g[b]}),(d=L.stackTotalGroup)==null||d.destroy()}}function xie(){this.stacking||(this.stacking=new Die(this))}function Eie(L,d,g,m){return!LV(L)||L.x!==d||m&&L.stackKey!==m?L={x:d,index:0,key:m,stackKey:m}:L.index++,L.key=[g,d,L.index].join(","),L}function _ie(){let L,d=this,g=d.yAxis,m=d.stackKey||"",b=g.stacking.stacks,w=d.getColumn("x",!0),E=d.options.stacking,T=d[E+"Stacker"];T&&[m,"-"+m].forEach(D=>{var z;let M=w.length,G,I,U;for(;M--;)G=w[M],L=d.getStackIndicator(L,G,d.index,D),I=(z=b[D])==null?void 0:z[G],(U=I==null?void 0:I.points[L.key||""])&&T.call(d,U,I,M)})}function Tie(L,d,g){let m=d.total?100/d.total:0;L[0]=Oy(L[0]*m),L[1]=Oy(L[1]*m),this.stackedYData[g]=L[1]}function Aie(L){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?yie.setStackedPoints.call(this,L,"group"):L.stacking.resetStacks())}function kie(L,d){var et,it;let g,m,b,w,E,T,D,M=d||this.options.stacking;if(!M||!this.reserveSpace()||({group:"xAxis"}[M]||"yAxis")!==L.coll)return;let G=this.getColumn("x",!0),I=this.getColumn(this.pointValKey||"y",!0),U=[],z=I.length,J=this.options,le=J.threshold||0,ae=J.startFromThreshold?le:0,oe=J.stack,ge=d?`${this.type},${M}`:this.stackKey||"",Ce="-"+ge,Ye=this.negStacks,Ue=L.stacking,je=Ue.stacks,rt=Ue.oldStacks;for(Ue.stacksTouched+=1,D=0;D<z;D++){let _t=G[D]||0,Nt=I[D],Ht=pD(Nt)&&Nt||0;T=(g=this.getStackIndicator(g,_t,this.index)).key||"",je[E=(m=Ye&&Ht<(ae?0:le))?Ce:ge]||(je[E]={}),je[E][_t]||((et=rt[E])!=null&&et[_t]?(je[E][_t]=rt[E][_t],je[E][_t].total=null):je[E][_t]=new FV(L,L.options.stackLabels,!!m,_t,oe)),b=je[E][_t],Nt!==null?(b.points[T]=b.points[this.index]=[gD(b.cumulative,ae)],LV(b.cumulative)||(b.base=T),b.touched=Ue.stacksTouched,g.index>0&&this.singleStacks===!1&&(b.points[T][0]=b.points[this.index+","+_t+",0"][0])):(delete b.points[T],delete b.points[this.index]);let jt=b.total||0;M==="percent"?(w=m?ge:Ce,jt=Ye&&((it=je[w])!=null&&it[_t])?(w=je[w][_t]).total=Math.max(w.total||0,jt)+Math.abs(Ht):Oy(jt+Math.abs(Ht))):M==="group"?pD(Nt)&&jt++:jt=Oy(jt+Ht),M==="group"?b.cumulative=(jt||1)-1:b.cumulative=Oy(gD(b.cumulative,ae)+Ht),b.total=jt,Nt!==null&&(b.points[T].push(b.cumulative),U[D]=b.cumulative,b.hasValidPoints=!0)}M==="percent"&&(Ue.usePercentage=!0),M!=="group"&&(this.stackedYData=U),Ue.oldStacks={}}class Die{constructor(d){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=d}buildStacks(){let d,g,m=this.axis,b=m.series,w=m.coll==="xAxis",E=m.options.reversedStacks,T=b.length;for(this.resetStacks(),this.usePercentage=!1,g=T;g--;)d=b[E?g:T-g-1],w&&d.setGroupedPoints(m),d.setStackedPoints(m);if(!w)for(g=0;g<T;g++)b[g].modifyStacks();bie(m,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,hp(this.stacks,d=>{hp(d,g=>{g.cumulative=g.total})}))}resetStacks(){hp(this.stacks,d=>{hp(d,(g,m)=>{pD(g.touched)&&g.touched<this.stacksTouched?(g.destroy(),delete d[m]):(g.total=null,g.cumulative=null)})})}renderStackTotals(){var T;let d=this.axis,g=d.chart,m=g.renderer,b=this.stacks,w=vie(g,((T=d.options.stackLabels)==null?void 0:T.animation)||!1),E=this.stackTotalGroup=this.stackTotalGroup||m.g("stack-labels").attr({zIndex:6,opacity:0}).add();E.translate(g.plotLeft,g.plotTop),hp(b,D=>{hp(D,M=>{M.render(E)})}),E.animate({opacity:1},w)}}(v||(v={})).compose=function(L,d,g){let m=d.prototype,b=g.prototype;m.getStacks||(MV(L,"init",xie),MV(L,"destroy",Sie),m.getStacks=wie,b.getStackIndicator=Eie,b.modifyStacks=_ie,b.percentStacker=Tie,b.setGroupedPoints=Aie,b.setStackedPoints=kie)};let Rie=v,{defined:Pie,merge:OV,isObject:Fie}=de;class IV extends gl{drawGraph(){let d=this.options,g=(this.gappedPath||this.getGraphPath).call(this),m=this.chart.styledMode;[this,...this.zones].forEach((b,w)=>{let E,T=b.graph,D=T?"animate":"attr",M=b.dashStyle||d.dashStyle;T?(T.endX=this.preventGraphAnimation?null:g.xMap,T.animate({d:g})):g.length&&(b.graph=T=this.chart.renderer.path(g).addClass("highcharts-graph"+(w?` highcharts-zone-graph-${w-1} `:" ")+(w&&b.className||"")).attr({zIndex:1}).add(this.group)),T&&!m&&(E={stroke:!w&&d.lineColor||b.color||this.color||"#cccccc","stroke-width":d.lineWidth||0,fill:this.fillGraph&&this.color||"none"},M?E.dashstyle=M:d.linecap!=="square"&&(E["stroke-linecap"]=E["stroke-linejoin"]="round"),T[D](E).shadow(d.shadow&&OV({filterUnits:"userSpaceOnUse"},Fie(d.shadow)?d.shadow:{}))),T&&(T.startX=g.xMap,T.isArea=g.isArea)})}getGraphPath(d,g,m){let b=this,w=b.options,E=[],T=[],D,M=w.step,G=(d=d||b.points).reversed;return G&&d.reverse(),(M={right:1,center:2}[M]||M&&3)&&G&&(M=4-M),(d=this.getValidPoints(d,!1,w.nullInteraction||!(w.connectNulls&&!g&&!m))).forEach(function(I,U){let z,J=I.plotX,le=I.plotY,ae=d[U-1],oe=I.isNull||typeof le!="number";(I.leftCliff||ae!=null&&ae.rightCliff)&&!m&&(D=!0),oe&&!Pie(g)&&U>0?D=!w.connectNulls:oe&&!g?D=!0:(U===0||D?z=[["M",I.plotX,I.plotY]]:b.getPointSpline?z=[b.getPointSpline(d,I,U)]:M?(z=M===1?[["L",ae.plotX,le]]:M===2?[["L",(ae.plotX+J)/2,ae.plotY],["L",(ae.plotX+J)/2,le]]:[["L",J,ae.plotY]]).push(["L",J,le]):z=[["L",J,le]],T.push(I.x),M&&(T.push(I.x),M===2&&T.push(I.x)),E.push.apply(E,z),D=!1)}),E.xMap=T,b.graphPath=E,E}}IV.defaultOptions=OV(gl.defaultOptions,{legendSymbol:"lineMarker"}),fn.registerSeriesType("line",IV);let{seriesTypes:{line:mD}}=fn,{extend:Mie,merge:Lie,objectEach:Oie,pick:xx}=de;class vD extends mD{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:d,options:g}=this;[this,...this.zones].forEach((m,b)=>{let w={},E=m.fillColor||g.fillColor,T=m.area,D=T?"animate":"attr";T?(T.endX=this.preventGraphAnimation?null:d.xMap,T.animate({d})):(w.zIndex=0,(T=m.area=this.chart.renderer.path(d).addClass("highcharts-area"+(b?` highcharts-zone-area-${b-1} `:" ")+(b&&m.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(w.fill=E||m.color||this.color,w["fill-opacity"]=E?1:g.fillOpacity??.75,T.css({pointerEvents:this.stickyTracking?"none":"auto"})),T[D](w),T.startX=d.xMap,T.shiftUnit=g.step?2:1})}getGraphPath(d){let g,m,b,w=mD.prototype.getGraphPath,E=this.options,T=E.stacking,D=this.yAxis,M=[],G=[],I=this.index,U=D.stacking.stacks[this.stackKey],z=E.threshold,J=Math.round(D.getThreshold(E.threshold)),le=xx(E.connectNulls,T==="percent"),ae=function(je,rt,et){let it=d[je],_t=T&&U[it.x].points[I],Nt=it[et+"Null"]||0,Ht=it[et+"Cliff"]||0,jt,fi,ai=!0;Ht||Nt?(jt=(Nt?_t[0]:_t[1])+Ht,fi=_t[0]+Ht,ai=!!Nt):!T&&d[rt]&&d[rt].isNull&&(jt=fi=z),jt!==void 0&&(G.push({plotX:g,plotY:jt===null?J:D.getThreshold(jt),isNull:ai,isCliff:!0}),M.push({plotX:g,plotY:fi===null?J:D.getThreshold(fi),doCurve:!1}))};d=d||this.points,T&&(d=this.getStackPoints(d));for(let je=0,rt=d.length;je<rt;++je)T||(d[je].leftCliff=d[je].rightCliff=d[je].leftNull=d[je].rightNull=void 0),m=d[je].isNull,g=xx(d[je].rectPlotX,d[je].plotX),b=T?xx(d[je].yBottom,J):J,(!m||le)&&(le||ae(je,je-1,"left"),m&&!T&&le||(G.push(d[je]),M.push({x:je,plotX:g,plotY:b})),le||ae(je,je+1,"right"));let oe=w.call(this,G,!0,!0);M.reversed=!0;let ge=w.call(this,M,!0,!0),Ce=ge[0];Ce&&Ce[0]==="M"&&(ge[0]=["L",Ce[1],Ce[2]]);let Ye=oe.concat(ge);Ye.length&&Ye.push(["Z"]);let Ue=w.call(this,G,!1,le);return this.chart.series.length>1&&T&&G.some(je=>je.isCliff)&&(Ye.hasStackedCliffs=Ue.hasStackedCliffs=!0),Ye.xMap=oe.xMap,this.areaPath=Ye,Ue}getStackPoints(d){let g=this,m=[],b=[],w=this.xAxis,E=this.yAxis,T=E.stacking.stacks[this.stackKey],D={},M=E.series,G=M.length,I=E.options.reversedStacks?1:-1,U=M.indexOf(g);if(d=d||this.points,this.options.stacking){for(let J=0;J<d.length;J++)d[J].leftNull=d[J].rightNull=void 0,D[d[J].x]=d[J];Oie(T,function(J,le){J.total!==null&&b.push(le)}),b.sort(function(J,le){return J-le});let z=M.map(J=>J.visible);b.forEach(function(J,le){let ae=0,oe,ge;if(D[J]&&!D[J].isNull)m.push(D[J]),[-1,1].forEach(function(Ce){let Ye=Ce===1?"rightNull":"leftNull",Ue=T[b[le+Ce]],je=0;if(Ue){let rt=U;for(;rt>=0&&rt<G;){let et=M[rt].index;!(oe=Ue.points[et])&&(et===g.index?D[J][Ye]=!0:z[rt]&&(ge=T[J].points[et])&&(je-=ge[1]-ge[0])),rt+=I}}D[J][Ce===1?"rightCliff":"leftCliff"]=je});else{let Ce=U;for(;Ce>=0&&Ce<G;){let Ye=M[Ce].index;if(oe=T[J].points[Ye]){ae=oe[1];break}Ce+=I}ae=xx(ae,0),ae=E.translate(ae,0,1,0,1),m.push({isNull:!0,plotX:w.translate(J,0,0,0,1),x:J,plotY:ae,yBottom:ae})}})}return m}}vD.defaultOptions=Lie(mD.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Mie(vD.prototype,{singleStacks:!1}),fn.registerSeriesType("area",vD);let{line:NV}=fn.seriesTypes,{merge:Iie,pick:Ex}=de;class yD extends NV{getPointSpline(d,g,m){let b,w,E,T,D=g.plotX||0,M=g.plotY||0,G=d[m-1],I=d[m+1];function U(J){return J&&!J.isNull&&J.doCurve!==!1&&!g.isCliff}if(U(G)&&U(I)){let J=G.plotX||0,le=G.plotY||0,ae=I.plotX||0,oe=I.plotY||0,ge=0;b=(1.5*D+J)/2.5,w=(1.5*M+le)/2.5,E=(1.5*D+ae)/2.5,T=(1.5*M+oe)/2.5,E!==b&&(ge=(T-w)*(E-D)/(E-b)+M-T),w+=ge,T+=ge,w>le&&w>M?(w=Math.max(le,M),T=2*M-w):w<le&&w<M&&(w=Math.min(le,M),T=2*M-w),T>oe&&T>M?(T=Math.max(oe,M),w=2*M-T):T<oe&&T<M&&(T=Math.min(oe,M),w=2*M-T),g.rightContX=E,g.rightContY=T,g.controlPoints={low:[b,w],high:[E,T]}}let z=["C",Ex(G.rightContX,G.plotX,0),Ex(G.rightContY,G.plotY,0),Ex(b,D,0),Ex(w,M,0),D,M];return G.rightContX=G.rightContY=void 0,z}}yD.defaultOptions=Iie(NV.defaultOptions),fn.registerSeriesType("spline",yD);let VV=yD,{area:Nie,area:{prototype:CD}}=fn.seriesTypes,{extend:Vie,merge:Bie}=de;class bD extends VV{}bD.defaultOptions=Bie(VV.defaultOptions,Nie.defaultOptions),Vie(bD.prototype,{getGraphPath:CD.getGraphPath,getStackPoints:CD.getStackPoints,drawGraph:CD.drawGraph}),fn.registerSeriesType("areaspline",bD);let{animObject:Gie}=st,{parse:Hie}=hr,{noop:$ie}=F,{clamp:_x,crisp:Tx,defined:BV,extend:GV,fireEvent:HV,isArray:$V,isNumber:Ax,merge:wD,pick:Iy,objectEach:Wie}=de;class kx extends gl{animate(d){let g,m,b=this,w=this.yAxis,E=w.pos,T=w.reversed,D=b.options,{clipOffset:M,inverted:G}=this.chart,I={},U=G?"translateX":"translateY";d&&M?(I.scaleY=.001,m=_x(w.toPixels(D.threshold||0),E,E+w.len),G?I.translateX=(m+=T?-Math.floor(M[0]):Math.ceil(M[2]))-w.len:I.translateY=m+=T?Math.ceil(M[0]):-Math.floor(M[2]),b.clipBox&&b.setClip(),b.group.attr(I)):(g=Number(b.group.attr(U)),b.group.animate({scaleY:1},GV(Gie(b.options.animation),{step:function(z,J){b.group&&(I[U]=g+J.pos*(E-g),b.group.attr(I))}})))}init(d,g){super.init.apply(this,arguments);let m=this;(d=m.chart).hasRendered&&d.series.forEach(function(b){b.type===m.type&&(b.isDirty=!0)})}getColumnMetrics(){var le,ae;let d=this,g=d.options,m=d.xAxis,b=d.yAxis,w=m.options.reversedStacks,E=m.reversed&&!w||!m.reversed&&w,T={},D,M=0;g.grouping===!1?M=1:d.chart.series.forEach(function(oe){let ge,Ce=oe.yAxis,Ye=oe.options;oe.type===d.type&&oe.reserveSpace()&&b.len===Ce.len&&b.pos===Ce.pos&&(Ye.stacking&&Ye.stacking!=="group"?(T[D=oe.stackKey]===void 0&&(T[D]=M++),ge=T[D]):Ye.grouping!==!1&&(ge=M++),oe.columnIndex=ge)});let G=Math.min(Math.abs(m.transA)*(!((le=m.brokenAxis)!=null&&le.hasBreaks)&&((ae=m.ordinal)==null?void 0:ae.slope)||g.pointRange||m.closestPointRange||m.tickInterval||1),m.len),I=G*g.groupPadding,U=(G-2*I)/(M||1),z=Math.min(g.maxPointWidth||m.len,Iy(g.pointWidth,U*(1-2*g.pointPadding))),J=(d.columnIndex||0)+ +!!E;return d.columnMetrics={width:z,offset:(U-z)/2+(I+J*U-G/2)*(E?-1:1),paddedWidth:U,columnCount:M},d.columnMetrics}crispCol(d,g,m,b){let w=this.borderWidth,E=this.chart.inverted;return b=Tx(g+b,w,E)-(g=Tx(g,w,E)),this.options.crisp&&(m=Tx(d+m,w)-(d=Tx(d,w))),{x:d,y:g,width:m,height:b}}adjustForMissingColumns(d,g,m,b){var w;if(!m.isNull&&b.columnCount>1){let E=this.xAxis.series.filter(G=>G.visible).map(G=>G.index),T=0,D=0;Wie((w=this.xAxis.stacking)==null?void 0:w.stacks,G=>{var J;let I=typeof m.x=="number"?(J=G[m.x.toString()])==null?void 0:J.points:void 0,U=I==null?void 0:I[this.index],z={};if(I&&$V(U)){let le=this.index,ae=Object.keys(I).filter(oe=>!oe.match(",")&&I[oe]&&I[oe].length>1).map(parseFloat).filter(oe=>E.indexOf(oe)!==-1).filter(oe=>{let ge=this.chart.series[oe].options,Ce=ge.stacking&&ge.stack;if(BV(Ce)){if(Ax(z[Ce]))return le===oe&&(le=z[Ce]),!1;z[Ce]=oe}return!0}).sort((oe,ge)=>ge-oe);T=ae.indexOf(le),D=ae.length}}),T=this.xAxis.reversed?D-1-T:T;let M=(D-1)*b.paddedWidth+g;d=(m.plotX||0)+M/2-g-T*b.paddedWidth}return d}translate(){let d=this,g=d.chart,m=d.options,b=d.dense=d.closestPointRange*d.xAxis.transA<2,w=d.borderWidth=Iy(m.borderWidth,+!b),E=d.xAxis,T=d.yAxis,D=m.threshold,M=Iy(m.minPointLength,5),G=d.getColumnMetrics(),I=G.width,U=d.pointXOffset=G.offset,z=d.dataMin,J=d.dataMax,le=d.translatedThreshold=T.getThreshold(D),ae=d.barW=Math.max(I,1+2*w);m.pointPadding&&m.crisp&&(ae=Math.ceil(ae)),gl.prototype.translate.apply(d),d.points.forEach(function(oe){let ge=Iy(oe.yBottom,le),Ce=999+Math.abs(ge),Ye=oe.plotX||0,Ue=_x(oe.plotY,-Ce,T.len+Ce),je,rt=Math.min(Ue,ge),et=Math.max(Ue,ge)-rt,it=I,_t=Ye+U,Nt=ae;M&&Math.abs(et)<M&&(et=M,je=!T.reversed&&!oe.negative||T.reversed&&oe.negative,Ax(D)&&Ax(J)&&oe.y===D&&J<=D&&(T.min||0)<D&&(z!==J||(T.max||0)<=D)&&(je=!je,oe.negative=!oe.negative),rt=Math.abs(rt-le)>M?ge-M:le-(je?M:0)),BV(oe.options.pointWidth)&&(_t-=Math.round(((it=Nt=Math.ceil(oe.options.pointWidth))-I)/2)),m.centerInCategory&&(_t=d.adjustForMissingColumns(_t,it,oe,G)),oe.barX=_t,oe.pointWidth=it,oe.tooltipPos=g.inverted?[_x(T.len+T.pos-g.plotLeft-Ue,T.pos-g.plotLeft,T.len+T.pos-g.plotLeft),E.len+E.pos-g.plotTop-_t-Nt/2,et]:[E.left-g.plotLeft+_t+Nt/2,_x(Ue+T.pos-g.plotTop,T.pos-g.plotTop,T.len+T.pos-g.plotTop),et],oe.shapeType=d.pointClass.prototype.shapeType||"roundedRect",oe.shapeArgs=d.crispCol(_t,rt,Nt,oe.isNull?0:et)}),HV(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(d,g){let m=this.options,b=this.pointAttrToOptions||{},w=b.stroke||"borderColor",E=b["stroke-width"]||"borderWidth",T,D,M,G=d&&d.color||this.color,I=d&&d[w]||m[w]||G,U=d&&d.options.dashStyle||m.dashStyle,z=d&&d[E]||m[E]||this[E]||0,J=d!=null&&d.isNull&&m.nullInteraction?0:(d==null?void 0:d.opacity)??m.opacity??1;d&&this.zones.length&&(D=d.getZone(),G=d.options.color||D&&(D.color||d.nonZonedColor)||this.color,D&&(I=D.borderColor||I,U=D.dashStyle||U,z=D.borderWidth||z)),g&&d&&(M=(T=wD(m.states[g],d.options.states&&d.options.states[g]||{})).brightness,G=T.color||M!==void 0&&Hie(G).brighten(T.brightness).get()||G,I=T[w]||I,z=T[E]||z,U=T.dashStyle||U,J=Iy(T.opacity,J));let le={fill:G,stroke:I,"stroke-width":z,opacity:J};return U&&(le.dashstyle=U),le}drawPoints(d=this.points){let g,m=this,b=this.chart,w=m.options,E=w.nullInteraction,T=b.renderer,D=w.animationLimit||250;d.forEach(function(M){let G=M.plotY,I=M.graphic,U=!!I,z=I&&b.pointCount<D?"animate":"attr";Ax(G)&&(M.y!==null||E)?(g=M.shapeArgs,I&&M.hasNewShapeType()&&(I=I.destroy()),m.enabledDataSorting&&(M.startXPos=m.xAxis.reversed?-(g&&g.width||0):m.xAxis.width),!I&&(M.graphic=I=T[M.shapeType](g).add(M.group||m.group),I&&m.enabledDataSorting&&b.hasRendered&&b.pointCount<D&&(I.attr({x:M.startXPos}),U=!0,z="animate")),I&&U&&I[z](wD(g)),b.styledMode||I[z](m.pointAttribs(M,M.selected&&"select")).shadow(M.allowShadow!==!1&&w.shadow),I&&(I.addClass(M.getClassName(),!0),I.attr({visibility:M.visible?"inherit":"hidden"}))):I&&(M.graphic=I.destroy())})}drawTracker(d=this.points){let g,m=this,b=m.chart,w=b.pointer,E=function(T){w==null||w.normalize(T);let D=w==null?void 0:w.getPointFromEvent(T);w&&D&&m.options.enableMouseTracking&&(b.isInsidePlot(T.chartX-b.plotLeft,T.chartY-b.plotTop,{visiblePlotOnly:!0})||w!=null&&w.inClass(T.target,"highcharts-data-label"))&&(w.isDirectTouch=!0,D.onMouseOver(T))};d.forEach(function(T){g=$V(T.dataLabels)?T.dataLabels:T.dataLabel?[T.dataLabel]:[],T.graphic&&(T.graphic.element.point=T),g.forEach(function(D){(D.div||D.element).point=T})}),m._hasTracking||(m.trackerGroups.forEach(function(T){m[T]&&(m[T].addClass("highcharts-tracker").on("mouseover",E).on("mouseout",function(D){w==null||w.onTrackerMouseOut(D)}).on("touchstart",E),!b.styledMode&&m.options.cursor&&m[T].css({cursor:m.options.cursor}))}),m._hasTracking=!0),HV(this,"afterDrawTracker")}remove(){let d=this,g=d.chart;g.hasRendered&&g.series.forEach(function(m){m.type===d.type&&(m.isDirty=!0)}),gl.prototype.remove.apply(d,arguments)}}kx.defaultOptions=wD(gl.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),GV(kx.prototype,{directTouch:!0,getSymbol:$ie,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),fn.registerSeriesType("column",kx);let Dx=kx,{getDeferredAnimation:Uie}=st,{format:zie}=Va,{defined:fp,extend:WV,fireEvent:SD,getAlignFactor:UV,isArray:Fh,isString:Ny,merge:Vy,objectEach:jie,pick:By,pInt:Kie,splat:zV}=de;(function(L){function d(){return D(this).some(G=>G==null?void 0:G.enabled)}function g(G,I,U,z,J){var _t;let{chart:le,enabledDataSorting:ae}=this,oe=this.isCartesian&&le.inverted,ge=G.plotX,Ce=G.plotY,Ye=U.rotation||0,Ue=fp(ge)&&fp(Ce)&&le.isInsidePlot(ge,Math.round(Ce),{inverted:oe,paneCoordinates:!0,series:this}),je=Ye===0&&By(U.overflow,ae?"none":"justify")==="justify",rt=this.visible&&G.visible!==!1&&fp(ge)&&(G.series.forceDL||ae&&!je||Ue||By(U.inside,!!this.options.stacking)&&z&&le.isInsidePlot(ge,oe?z.x+1:z.y+z.height-1,{inverted:oe,paneCoordinates:!0,series:this})),et=G.pos();if(rt&&et){var it;let Nt=I.getBBox(),Ht=I.getBBox(void 0,0);if(z=WV({x:et[0],y:Math.round(et[1]),width:0,height:0},z||{}),U.alignTo==="plotEdges"&&this.isCartesian&&(z[oe?"x":"y"]=0,z[oe?"width":"height"]=((_t=this.yAxis)==null?void 0:_t.len)||0),WV(U,{width:Nt.width,height:Nt.height}),it=z,ae&&this.xAxis&&!je&&this.setDataLabelStartPos(G,I,J,Ue,it),I.align(Vy(U,{width:Ht.width,height:Ht.height}),!1,z,!1),I.alignAttr.x+=UV(U.align)*(Ht.width-Nt.width),I.alignAttr.y+=UV(U.verticalAlign)*(Ht.height-Nt.height),I[I.placed?"animate":"attr"]({"text-align":I.alignAttr["text-align"]||"center",x:I.alignAttr.x+(Nt.width-Ht.width)/2,y:I.alignAttr.y+(Nt.height-Ht.height)/2,rotationOriginX:(I.width||0)/2,rotationOriginY:(I.height||0)/2}),je&&z.height>=0)this.justifyDataLabel(I,U,I.alignAttr,Nt,z,J);else if(By(U.crop,!0)){let{x:jt,y:fi}=I.alignAttr;rt=le.isInsidePlot(jt,fi,{paneCoordinates:!0,series:this})&&le.isInsidePlot(jt+Nt.width-1,fi+Nt.height-1,{paneCoordinates:!0,series:this})}U.shape&&!Ye&&I[J?"attr":"animate"]({anchorX:et[0],anchorY:et[1]})}J&&ae&&(I.placed=!1),rt||ae&&!je?(I.show(),I.placed=!0):(I.hide(),I.placed=!1)}function m(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function b(G){let I=this.hasRendered||0,U=this.initDataLabelsGroup().attr({opacity:+I});return!I&&U&&(this.visible&&U.show(),this.options.animation?U.animate({opacity:1},G):U.attr({opacity:1})),U}function w(G){var rt;let I;G=G||this.points;let U=this,z=U.chart,J=U.options,le=z.renderer,{backgroundColor:ae,plotBackgroundColor:oe}=z.options.chart,ge=le.getContrast(Ny(oe)&&oe||Ny(ae)&&ae||"#000000"),Ce=D(U),{animation:Ye,defer:Ue}=Ce[0],je=Ue?Uie(z,Ye,U):{defer:0,duration:0};SD(this,"drawDataLabels"),(rt=U.hasDataLabels)!=null&&rt.call(U)&&(I=this.initDataLabels(je),G.forEach(et=>{var Ht,jt,fi;let it=et.dataLabels||[],_t=et.color||U.color;zV(T(Ce,et.dlOptions||((Ht=et.options)==null?void 0:Ht.dataLabels))).forEach((ai,wi)=>{var Fr;let Qt=ai.enabled&&(et.visible||et.dataLabelOnHidden)&&(!et.isNull||et.dataLabelOnNull)&&function(oo,fd){let Ul=fd.filter;if(Ul){let Po=Ul.operator,Co=oo[Ul.property],Mr=Ul.value;return Po===">"&&Co>Mr||Po==="<"&&Co<Mr||Po===">="&&Co>=Mr||Po==="<="&&Co<=Mr||Po==="=="&&Co==Mr||Po==="==="&&Co===Mr||Po==="!="&&Co!=Mr||Po==="!=="&&Co!==Mr||!1}return!0}(et,ai),{backgroundColor:Ei,borderColor:ys,distance:Cs,style:Ts={}}=ai,Ro,hs,qs,Gi={},Ai=it[wi],Cn=!Ai,Qs;Qt&&(hs=fp(Ro=By(ai[et.formatPrefix+"Format"],ai.format))?zie(Ro,et,z):(ai[et.formatPrefix+"Formatter"]||ai.formatter).call(et,ai),qs=ai.rotation,!z.styledMode&&(Ts.color=By(ai.color,Ts.color,Ny(U.color)?U.color:void 0,"#000000"),Ts.color==="contrast"?(Ei!=="none"&&(Qs=Ei),et.contrastColor=le.getContrast(Qs!=="auto"&&Ny(Qs)&&Qs||(Ny(_t)?_t:"")),Ts.color=Qs||!fp(Cs)&&ai.inside||0>Kie(Cs||0)||J.stacking?et.contrastColor:ge):delete et.contrastColor,J.cursor&&(Ts.cursor=J.cursor)),Gi={r:ai.borderRadius||0,rotation:qs,padding:ai.padding,zIndex:1},z.styledMode||(Gi.fill=Ei==="auto"?et.color:Ei,Gi.stroke=ys==="auto"?et.color:ys,Gi["stroke-width"]=ai.borderWidth),jie(Gi,(oo,fd)=>{oo===void 0&&delete Gi[fd]})),!Ai||Qt&&fp(hs)&&!!(Ai.div||(Fr=Ai.text)!=null&&Fr.foreignObject)==!!ai.useHTML&&(Ai.rotation&&ai.rotation||Ai.rotation===ai.rotation)||(Ai=void 0,Cn=!0),Qt&&fp(hs)&&hs!==""&&(Ai?Gi.text=hs:(Ai=le.label(hs,0,0,ai.shape,void 0,void 0,ai.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+et.colorIndex+" "+(ai.className||"")+(ai.useHTML?" highcharts-tracker":"")),Ai&&(Ai.options=ai,Ai.attr(Gi),z.styledMode?Ts.width&&Ai.css({width:Ts.width,textOverflow:Ts.textOverflow,whiteSpace:Ts.whiteSpace}):Ai.css(Ts).shadow(ai.shadow),SD(Ai,"beforeAddingDataLabel",{labelOptions:ai,point:et}),Ai.added||Ai.add(I),U.alignDataLabel(et,Ai,ai,void 0,Cn),Ai.isActive=!0,it[wi]&&it[wi]!==Ai&&it[wi].destroy(),it[wi]=Ai))});let Nt=it.length;for(;Nt--;)(jt=it[Nt])!=null&&jt.isActive?it[Nt].isActive=!1:((fi=it[Nt])==null||fi.destroy(),it.splice(Nt,1));et.dataLabel=it[0],et.dataLabels=it})),SD(this,"afterDrawDataLabels")}function E(G,I,U,z,J,le){let ae=this.chart,oe=I.align,ge=I.verticalAlign,Ce=G.box?0:G.padding||0,Ye=ae.inverted?this.yAxis:this.xAxis,Ue=Ye?Ye.left-ae.plotLeft:0,je=ae.inverted?this.xAxis:this.yAxis,rt=je?je.top-ae.plotTop:0,{x:et=0,y:it=0}=I,_t,Nt;return(_t=(U.x||0)+Ce+Ue)<0&&(oe==="right"&&et>=0?(I.align="left",I.inside=!0):et-=_t,Nt=!0),(_t=(U.x||0)+z.width-Ce+Ue)>ae.plotWidth&&(oe==="left"&&et<=0?(I.align="right",I.inside=!0):et+=ae.plotWidth-_t,Nt=!0),(_t=U.y+Ce+rt)<0&&(ge==="bottom"&&it>=0?(I.verticalAlign="top",I.inside=!0):it-=_t,Nt=!0),(_t=(U.y||0)+z.height-Ce+rt)>ae.plotHeight&&(ge==="top"&&it<=0?(I.verticalAlign="bottom",I.inside=!0):it+=ae.plotHeight-_t,Nt=!0),Nt&&(I.x=et,I.y=it,G.placed=!le,G.align(I,void 0,J)),Nt}function T(G,I){let U=[],z;if(Fh(G)&&!Fh(I))U=G.map(function(J){return Vy(J,I)});else if(Fh(I)&&!Fh(G))U=I.map(function(J){return Vy(G,J)});else if(Fh(G)||Fh(I)){if(Fh(G)&&Fh(I))for(z=Math.max(G.length,I.length);z--;)U[z]=Vy(G[z],I[z])}else U=Vy(G,I);return U}function D(G){var U,z;let I=G.chart.options.plotOptions;return zV(T(T((U=I==null?void 0:I.series)==null?void 0:U.dataLabels,(z=I==null?void 0:I[G.type])==null?void 0:z.dataLabels),G.options.dataLabels))}function M(G,I,U,z,J){let le=this.chart,ae=le.inverted,oe=this.xAxis,ge=oe.reversed,Ce=((ae?I.height:I.width)||0)/2,Ye=G.pointWidth,Ue=Ye?Ye/2:0;I.startXPos=ae?J.x:ge?-Ce-Ue:oe.width-Ce+Ue,I.startYPos=ae?ge?this.yAxis.height-Ce+Ue:-Ce-Ue:J.y,z?I.visibility==="hidden"&&(I.show(),I.attr({opacity:0}).animate({opacity:1})):I.attr({opacity:1}).animate({opacity:0},void 0,I.hide),le.hasRendered&&(U&&I.attr({x:I.startXPos,y:I.startYPos}),I.placed=!0)}L.compose=function(G){let I=G.prototype;I.initDataLabels||(I.initDataLabels=b,I.initDataLabelsGroup=m,I.alignDataLabel=g,I.drawDataLabels=w,I.justifyDataLabel=E,I.mergeArrays=T,I.setDataLabelStartPos=M,I.hasDataLabels=d)}})(C||(C={}));let Rx=C,{composed:Yie}=F,{series:jV}=fn,{merge:Xie,pushUnique:qie}=de;(function(L){function d(g,m,b,w,E){var le,ae;let{chart:T,options:D}=this,M=T.inverted,G=((le=this.xAxis)==null?void 0:le.len)||T.plotSizeX||0,I=((ae=this.yAxis)==null?void 0:ae.len)||T.plotSizeY||0,U=g.dlBox||g.shapeArgs,z=g.below??(g.plotY||0)>(this.translatedThreshold??I),J=b.inside??!!D.stacking;if(U){if(w=Xie(U),b.overflow!=="allow"||b.crop!==!1||D.clip!==!1){w.y<0&&(w.height+=w.y,w.y=0);let oe=w.y+w.height-I;oe>0&&oe<w.height-1&&(w.height-=oe)}M&&(w={x:I-w.y-w.height,y:G-w.x-w.width,width:w.height,height:w.width}),J||(M?(w.x+=z?0:w.width,w.width=0):(w.y+=z?w.height:0,w.height=0))}b.align??(b.align=!M||J?"center":z?"right":"left"),b.verticalAlign??(b.verticalAlign=M||J?"middle":z?"top":"bottom"),jV.prototype.alignDataLabel.call(this,g,m,b,w,E),b.inside&&g.contrastColor&&m.css({color:g.contrastColor})}L.compose=function(g){Rx.compose(jV),qie(Yie,"ColumnDataLabel")&&(g.prototype.alignDataLabel=d)}})(S||(S={}));let Qie=S,{extend:Jie,merge:Zie}=de;class xD extends Dx{}xD.defaultOptions=Zie(Dx.defaultOptions,{}),Jie(xD.prototype,{inverted:!0}),fn.registerSeriesType("bar",xD);let{column:ese,line:KV}=fn.seriesTypes,{addEvent:tse,extend:ise,merge:sse}=de;class Px extends KV{applyJitter(){let d=this,g=this.options.jitter,m=this.points.length;g&&this.points.forEach(function(b,w){["x","y"].forEach(function(E,T){if(g[E]&&!b.isNull){let D=`plot${E.toUpperCase()}`,M=d[`${E}Axis`],G=g[E]*M.transA;if(M&&!M.logarithmic){let I=Math.max(0,(b[D]||0)-G),U=Math.min(M.len,(b[D]||0)+G);b[D]=I+(U-I)*function(z){let J=1e4*Math.sin(z);return J-Math.floor(J)}(w+T*m),E==="x"&&(b.clientX=b.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Px.defaultOptions=sse(KV.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),ise(Px.prototype,{drawTracker:ese.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),tse(Px,"afterTranslate",function(){this.applyJitter()}),fn.registerSeriesType("scatter",Px);let{deg2rad:YV}=F,{fireEvent:rse,isNumber:ED,pick:Fx,relativeLength:nse}=de;(function(L){L.getCenter=function(){let d=this.options,g=this.chart,m=2*(d.slicedOffset||0),b=g.plotWidth-2*m,w=g.plotHeight-2*m,E=d.center,T=Math.min(b,w),D=d.thickness,M,G=d.size,I=d.innerSize||0,U,z;typeof G=="string"&&(G=parseFloat(G)),typeof I=="string"&&(I=parseFloat(I));let J=[Fx(E==null?void 0:E[0],"50%"),Fx(E==null?void 0:E[1],"50%"),Fx(G&&G<0?void 0:d.size,"100%"),Fx(I&&I<0?void 0:d.innerSize||0,"0%")];for(!g.angular||this instanceof gl||(J[3]=0),U=0;U<4;++U)z=J[U],M=U<2||U===2&&/%$/.test(z),J[U]=nse(z,[b,w,T,J[2]][U])+(M?m:0);return J[3]>J[2]&&(J[3]=J[2]),ED(D)&&2*D<J[2]&&D>0&&(J[3]=J[2]-2*D),rse(this,"afterGetCenter",{positions:J}),J},L.getStartAndEndRadians=function(d,g){let m=ED(d)?d:0,b=ED(g)&&g>m&&g-m<360?g:m+360;return{start:YV*(m+-90),end:YV*(b+-90)}}})(_||(_={}));let XV=_,{setAnimation:ose}=st,{addEvent:qV,defined:ase,extend:lse,isNumber:cse,pick:use,relativeLength:dse}=de;class QV extends Th{getConnectorPath(d){let g=d.dataLabelPosition,m=d.options||{},b=m.connectorShape,w=this.connectorShapes[b]||b;return g&&w.call(this,{...g.computed,alignment:g.alignment},g.connectorPosition,m)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(d){let g=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(g.x,g.y,g.r+d,g.r+d,{innerR:g.r-1,start:g.start,end:g.end,borderRadius:g.borderRadius})}constructor(d,g,m){super(d,g,m),this.half=0,this.name??(this.name=d.chart.options.lang.pieSliceName);let b=w=>{this.slice(w.type==="select")};qV(this,"select",b),qV(this,"unselect",b)}isValid(){return cse(this.y)&&this.y>=0}setVisible(d,g=!0){d!==this.visible&&this.update({visible:d??!this.visible},g,void 0,!1)}slice(d,g,m){let b=this.series;ose(m,b.chart),g=use(g,!0),this.sliced=this.options.sliced=d=ase(d)?d:!this.sliced,b.options.data[b.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}lse(QV.prototype,{connectorShapes:{fixedOffset:function(L,d,g){let m=d.breakAt,b=d.touchingSliceAt,w=g.softConnector?["C",L.x+(L.alignment==="left"?-5:5),L.y,2*m.x-b.x,2*m.y-b.y,m.x,m.y]:["L",m.x,m.y];return[["M",L.x,L.y],w,["L",b.x,b.y]]},straight:function(L,d){let g=d.touchingSliceAt;return[["M",L.x,L.y],["L",g.x,g.y]]},crookedLine:function(L,d,g){let{angle:m=this.angle||0,breakAt:b,touchingSliceAt:w}=d,{series:E}=this,[T,D,M]=E.center,G=M/2,{plotLeft:I,plotWidth:U}=E.chart,z=L.alignment==="left",{x:J,y:le}=L,ae=b.x;if(g.crookDistance){let ge=dse(g.crookDistance,1);ae=z?T+G+(U+I-T-G)*(1-ge):I+(T-G)*ge}else ae=T+(D-le)*Math.tan(m-Math.PI/2);let oe=[["M",J,le]];return(z?ae<=J&&ae>=b.x:ae>=J&&ae<=b.x)&&oe.push(["L",ae,le]),oe.push(["L",b.x,b.y],["L",w.x,w.y]),oe}}});let{getStartAndEndRadians:hse}=XV,{noop:JV}=F,{clamp:fse,extend:pse,fireEvent:ZV,merge:_D,pick:gse}=de;class TD extends gl{animate(d){let g=this,m=g.points,b=g.startAngleRad;d||m.forEach(function(w){let E=w.graphic,T=w.shapeArgs;E&&T&&(E.attr({r:gse(w.startR,g.center&&g.center[3]/2),start:b,end:b}),E.animate({r:T.r,start:T.start,end:T.end},g.options.animation))})}drawEmpty(){let d,g,m=this.startAngleRad,b=this.endAngleRad,w=this.options;this.total===0&&this.center?(d=this.center[0],g=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(d,g,this.center[1]/2,0,m,b).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Yn.arc(d,g,this.center[2]/2,0,{start:m,end:b,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":w.borderWidth,fill:w.fillColor||"none",stroke:w.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let d=this.chart.renderer;this.points.forEach(function(g){g.graphic&&g.hasNewShapeType()&&(g.graphic=g.graphic.destroy()),g.graphic||(g.graphic=d[g.shapeType](g.shapeArgs).add(g.series.group),g.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(d,g,m,b){let w=this.center,E=this.radii?this.radii[m.index]||0:w[2]/2,T=b.dataLabelPosition,D=(T==null?void 0:T.distance)||0,M=Math.asin(fse((d-w[1])/(E+D),-1,1));return w[0]+Math.cos(M)*(E+D)*(g?-1:1)+(D>0?(g?-1:1)*(b.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let d,g,m,b,w=this,E=w.chart;this.drawEmpty(),w.group&&!E.styledMode&&w.group.shadow(w.options.shadow),w.points.forEach(function(T){let D={};g=T.graphic,!T.isNull&&g?(b=T.shapeArgs,d=T.getTranslate(),E.styledMode||(m=w.pointAttribs(T,T.selected&&"select")),T.delayedRendering?(g.setRadialReference(w.center).attr(b).attr(d),E.styledMode||g.attr(m).attr({"stroke-linejoin":"round"}),T.delayedRendering=!1):(g.setRadialReference(w.center),E.styledMode||_D(!0,D,m),_D(!0,D,b,d),g.animate(D)),g.attr({visibility:T.visible?"inherit":"hidden"}),g.addClass(T.getClassName(),!0)):g&&(T.graphic=g.destroy())})}sortByAngle(d,g){d.sort(function(m,b){return m.angle!==void 0&&(b.angle-m.angle)*g})}translate(d){ZV(this,"translate"),this.generatePoints();let g=this.options,m=g.slicedOffset,b=hse(g.startAngle,g.endAngle),w=this.startAngleRad=b.start,E=(this.endAngleRad=b.end)-w,T=this.points,D=g.ignoreHiddenPoint,M=T.length,G,I,U,z,J,le,ae,oe=0;for(d||(this.center=d=this.getCenter()),le=0;le<M;le++){ae=T[le],G=w+oe*E,ae.isValid()&&(!D||ae.visible)&&(oe+=ae.percentage/100),I=w+oe*E;let ge={x:d[0],y:d[1],r:d[2]/2,innerR:d[3]/2,start:Math.round(1e3*G)/1e3,end:Math.round(1e3*I)/1e3};ae.shapeType="arc",ae.shapeArgs=ge,(U=(I+G)/2)>1.5*Math.PI?U-=2*Math.PI:U<-Math.PI/2&&(U+=2*Math.PI),ae.slicedTranslation={translateX:Math.round(Math.cos(U)*m),translateY:Math.round(Math.sin(U)*m)},z=Math.cos(U)*d[2]/2,J=Math.sin(U)*d[2]/2,ae.tooltipPos=[d[0]+.7*z,d[1]+.7*J],ae.half=+(U<-Math.PI/2||U>Math.PI/2),ae.angle=U}ZV(this,"afterTranslate")}updateTotals(){let d=this.points,g=d.length,m=this.options.ignoreHiddenPoint,b,w,E=0;for(b=0;b<g;b++)(w=d[b]).isValid()&&(!m||w.visible)&&(E+=w.y);for(b=0,this.total=E;b<g;b++)(w=d[b]).percentage=E>0&&(w.visible||!m)?w.y/E*100:0,w.total=E}}TD.defaultOptions=_D(gl.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),pse(TD.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Dx.prototype.drawTracker,getCenter:XV.getCenter,getSymbol:JV,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Dx.prototype.pointAttribs,pointClass:QV,requireSorting:!1,searchPoint:JV,trackerGroups:["group","dataLabelsGroup"]}),fn.registerSeriesType("pie",TD);let{composed:mse,noop:vse}=F,{distribute:yse}=Lm,{series:eB}=fn,{arrayMax:Cse,clamp:tB,defined:iB,pick:bse,pushUnique:wse,relativeLength:sB}=de;(function(L){let d={radialDistributionY:function(E,T){var D;return(((D=T.dataLabelPosition)==null?void 0:D.top)||0)+E.distributeBox.pos},radialDistributionX:function(E,T,D,M,G){let I=G.dataLabelPosition;return E.getX(D<((I==null?void 0:I.top)||0)+2||D>((I==null?void 0:I.bottom)||0)-2?M:D,T.half,T,G)},justify:function(E,T,D,M){var G;return M[0]+(E.half?-1:1)*(D+(((G=T.dataLabelPosition)==null?void 0:G.distance)||0))},alignToPlotEdges:function(E,T,D,M){let G=E.getBBox().width;return T?G+M:D-G-M},alignToConnectors:function(E,T,D,M){let G=0,I;return E.forEach(function(U){(I=U.dataLabel.getBBox().width)>G&&(G=I)}),T?G+M:D-G-M}};function g(E,T){let D=Math.PI/2,{start:M=0,end:G=0}=E.shapeArgs||{},I=E.angle||0;T>0&&M<D&&G>D&&I>D/2&&I<1.5*D&&(I=I<=D?Math.max(D/2,(M+D)/2):Math.min(1.5*D,(D+G)/2));let{center:U,options:z}=this,J=U[2]/2,le=Math.cos(I),ae=Math.sin(I),oe=U[0]+le*J,ge=U[1]+ae*J,Ce=Math.min((z.slicedOffset||0)+(z.borderWidth||0),T/5);return{natural:{x:oe+le*T,y:ge+ae*T},computed:{},alignment:T<0?"center":E.half?"right":"left",connectorPosition:{angle:I,breakAt:{x:oe+le*Ce,y:ge+ae*Ce},touchingSliceAt:{x:oe,y:ge}},distance:T}}function m(){var rt;let E=this,T=E.points,D=E.chart,M=D.plotWidth,G=D.plotHeight,I=D.plotLeft,U=Math.round(D.chartWidth/3),z=E.center,J=z[2]/2,le=z[1],ae=[[],[]],oe=[0,0,0,0],ge=E.dataLabelPositioners,Ce,Ye,Ue,je=0;E.visible&&((rt=E.hasDataLabels)!=null&&rt.call(E))&&(T.forEach(et=>{(et.dataLabels||[]).forEach(it=>{it.shortened&&(it.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),it.shortened=!1)})}),eB.prototype.drawDataLabels.apply(E),T.forEach(et=>{(et.dataLabels||[]).forEach((it,_t)=>{var fi;let Nt=z[2]/2,Ht=it.options,jt=sB((Ht==null?void 0:Ht.distance)||0,Nt);_t===0&&ae[et.half].push(et),!iB((fi=Ht==null?void 0:Ht.style)==null?void 0:fi.width)&&it.getBBox().width>U&&(it.css({width:Math.round(.7*U)+"px"}),it.shortened=!0),it.dataLabelPosition=this.getDataLabelPosition(et,jt),je=Math.max(je,jt)})}),ae.forEach((et,it)=>{let _t=et.length,Nt=[],Ht,jt,fi=0,ai;_t&&(E.sortByAngle(et,it-.5),je>0&&(Ht=Math.max(0,le-J-je),jt=Math.min(le+J+je,D.plotHeight),et.forEach(wi=>{(wi.dataLabels||[]).forEach(Qt=>{var ys;let Ei=Qt.dataLabelPosition;Ei&&Ei.distance>0&&(Ei.top=Math.max(0,le-J-Ei.distance),Ei.bottom=Math.min(le+J+Ei.distance,D.plotHeight),fi=Qt.getBBox().height||21,Qt.lineHeight=D.renderer.fontMetrics(Qt.text||Qt).h+2*Qt.padding,wi.distributeBox={target:(((ys=Qt.dataLabelPosition)==null?void 0:ys.natural.y)||0)-Ei.top+Qt.lineHeight/2,size:fi,rank:wi.y},Nt.push(wi.distributeBox))})}),yse(Nt,ai=jt+fi-Ht,ai/5)),et.forEach(wi=>{(wi.dataLabels||[]).forEach(Qt=>{let Ei=Qt.options||{},ys=wi.distributeBox,Cs=Qt.dataLabelPosition,Ts=(Cs==null?void 0:Cs.natural.y)||0,Ro=Ei.connectorPadding||0,hs=Qt.lineHeight||21,qs=(hs-Qt.getBBox().height)/2,Gi=0,Ai=Ts,Cn="inherit";if(Cs){if(Nt&&iB(ys)&&Cs.distance>0&&(ys.pos===void 0?Cn="hidden":(Ue=ys.size,Ai=ge.radialDistributionY(wi,Qt))),Ei.justify)Gi=ge.justify(wi,Qt,J,z);else switch(Ei.alignTo){case"connectors":Gi=ge.alignToConnectors(et,it,M,I);break;case"plotEdges":Gi=ge.alignToPlotEdges(Qt,it,M,I);break;default:Gi=ge.radialDistributionX(E,wi,Ai-qs,Ts,Qt)}if(Cs.attribs={visibility:Cn,align:Cs.alignment},Cs.posAttribs={x:Gi+(Ei.x||0)+({left:Ro,right:-Ro}[Cs.alignment]||0),y:Ai+(Ei.y||0)-hs/2},Cs.computed.x=Gi,Cs.computed.y=Ai-qs,bse(Ei.crop,!0)){let Qs;Gi-(Ye=Qt.getBBox().width)<Ro&&it===1?(Qs=Math.round(Ye-Gi+Ro),oe[3]=Math.max(Qs,oe[3])):Gi+Ye>M-Ro&&it===0&&(Qs=Math.round(Gi+Ye-M+Ro),oe[1]=Math.max(Qs,oe[1])),Ai-Ue/2<0?oe[0]=Math.max(Math.round(-Ai+Ue/2),oe[0]):Ai+Ue/2>G&&(oe[2]=Math.max(Math.round(Ai+Ue/2-G),oe[2])),Cs.sideOverflow=Qs}}})}))}),(Cse(oe)===0||this.verifyDataLabelOverflow(oe))&&(this.placeDataLabels(),this.points.forEach(et=>{(et.dataLabels||[]).forEach(it=>{var jt;let{connectorColor:_t,connectorWidth:Nt=1}=it.options||{},Ht=it.dataLabelPosition;if(Nt){let fi;Ce=it.connector,Ht&&Ht.distance>0?(fi=!Ce,Ce||(it.connector=Ce=D.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+et.colorIndex+(et.className?" "+et.className:"")).add(E.dataLabelsGroup)),D.styledMode||Ce.attr({"stroke-width":Nt,stroke:_t||et.color||"#666666"}),Ce[fi?"attr":"animate"]({d:et.getConnectorPath(it)}),Ce.attr({visibility:(jt=Ht.attribs)==null?void 0:jt.visibility})):Ce&&(it.connector=Ce.destroy())}})})))}function b(){this.points.forEach(E=>{(E.dataLabels||[]).forEach(T=>{var M,G;let D=T.dataLabelPosition;D?(D.sideOverflow&&(T.css({width:Math.max(T.getBBox().width-D.sideOverflow,0)+"px",textOverflow:((G=(M=T.options)==null?void 0:M.style)==null?void 0:G.textOverflow)||"ellipsis"}),T.shortened=!0),T.attr(D.attribs),T[T.moved?"animate":"attr"](D.posAttribs),T.moved=!0):T&&T.attr({y:-9999})}),delete E.distributeBox},this)}function w(E){let T=this.center,D=this.options,M=D.center,G=D.minSize||80,I=G,U=D.size!==null;return!U&&(M[0]!==null?I=Math.max(T[2]-Math.max(E[1],E[3]),G):(I=Math.max(T[2]-E[1]-E[3],G),T[0]+=(E[3]-E[1])/2),M[1]!==null?I=tB(I,G,T[2]-Math.max(E[0],E[2])):(I=tB(I,G,T[2]-E[0]-E[2]),T[1]+=(E[0]-E[2])/2),I<T[2]?(T[2]=I,T[3]=Math.min(D.thickness?Math.max(0,I-2*D.thickness):Math.max(0,sB(D.innerSize||0,I)),I),this.translate(T),this.drawDataLabels&&this.drawDataLabels()):U=!0),U}L.compose=function(E){if(Rx.compose(eB),wse(mse,"PieDataLabel")){let T=E.prototype;T.dataLabelPositioners=d,T.alignDataLabel=vse,T.drawDataLabels=m,T.getDataLabelPosition=g,T.placeDataLabels=b,T.verifyDataLabelOverflow=w}}})(x||(x={}));let Sse=x;(function(L){L.getCenterOfPoints=function(d){let g=d.reduce((m,b)=>(m.x+=b.x,m.y+=b.y,m),{x:0,y:0});return{x:g.x/d.length,y:g.y/d.length}},L.getDistanceBetweenPoints=function(d,g){return Math.sqrt(Math.pow(g.x-d.x,2)+Math.pow(g.y-d.y,2))},L.getAngleBetweenPoints=function(d,g){return Math.atan2(g.x-d.x,g.y-d.y)},L.pointInPolygon=function({x:d,y:g},m){let b=m.length,w,E,T=!1;for(w=0,E=b-1;w<b;E=w++){let[D,M]=m[w],[G,I]=m[E];M>g!=I>g&&d<(G-D)*(g-M)/(I-M)+D&&(T=!T)}return T}})(A||(A={}));let{pointInPolygon:xse}=A,{addEvent:Ese,getAlignFactor:_se,fireEvent:rB,objectEach:nB,pick:Tse}=de;function Ase(L){let d=L.length,g=(G,I)=>!(I.x>=G.x+G.width||I.x+I.width<=G.x||I.y>=G.y+G.height||I.y+I.height<=G.y),m=(G,I)=>{for(let U of G)if(xse({x:U[0],y:U[1]},I))return!0;return!1},b,w,E,T,D,M=!1;for(let G=0;G<d;G++)(b=L[G])&&(b.oldOpacity=b.opacity,b.newOpacity=1,b.absoluteBox=function(I){var U,z;if(I&&(!I.alignAttr||I.placed)){let J=I.box?0:I.padding||0,le=I.alignAttr||{x:I.attr("x"),y:I.attr("y")},{height:ae,polygon:oe,width:ge}=I.getBBox(),Ce=_se(I.alignValue)*ge;return I.width=ge,I.height=ae,{x:le.x+(((U=I.parentGroup)==null?void 0:U.translateX)||0)+J-Ce,y:le.y+(((z=I.parentGroup)==null?void 0:z.translateY)||0)+J,width:ge-2*J,height:ae-2*J,polygon:oe}}}(b));L.sort((G,I)=>(I.labelrank||0)-(G.labelrank||0));for(let G=0;G<d;++G){T=(w=L[G])&&w.absoluteBox;let I=T==null?void 0:T.polygon;for(let U=G+1;U<d;++U){D=(E=L[U])&&E.absoluteBox;let z=!1;if(T&&D&&w!==E&&w.newOpacity!==0&&E.newOpacity!==0&&w.visibility!=="hidden"&&E.visibility!=="hidden"){let J=D.polygon;if(I&&J&&I!==J?m(I,J)&&(z=!0):g(T,D)&&(z=!0),z){let le=w.labelrank<E.labelrank?w:E,ae=le.text;le.newOpacity=0,ae!=null&&ae.element.querySelector("textPath")&&ae.hide()}}}}for(let G of L)oB(G,this)&&(M=!0);M&&rB(this,"afterHideAllOverlappingLabels")}function oB(L,d){let g,m=!1;return L&&(g=L.newOpacity,L.oldOpacity!==g&&(L.hasClass("highcharts-data-label")?(L[g?"removeClass":"addClass"]("highcharts-data-label-hidden"),m=!0,L[L.isOld?"animate":"attr"]({opacity:g},void 0,function(){d.styledMode||L.css({pointerEvents:g?"auto":"none"})}),rB(d,"afterHideOverlappingLabel")):L.attr({opacity:g})),L.isOld=!0),m}function kse(){var g;let L=this,d=[];for(let m of L.labelCollectors||[])d=d.concat(m());for(let m of L.yAxis||[])m.stacking&&m.options.stackLabels&&!m.options.stackLabels.allowOverlap&&nB(m.stacking.stacks,b=>{nB(b,w=>{w.label&&d.push(w.label)})});for(let m of L.series||[])if(m.visible&&((g=m.hasDataLabels)!=null&&g.call(m))){let b=w=>{for(let E of w)E.visible&&(E.dataLabels||[]).forEach(T=>{var M;let D=T.options||{};T.labelrank=Tse(D.labelrank,E.labelrank,(M=E.shapeArgs)==null?void 0:M.height),D.allowOverlap??Number(D.distance)>0?(T.oldOpacity=T.opacity,T.newOpacity=1,oB(T,L)):d.push(T)})};b(m.nodes||[]),b(m.points)}this.hideOverlappingLabels(d)}let aB={compose:function(L){let d=L.prototype;d.hideOverlappingLabels||(d.hideOverlappingLabels=Ase,Ese(L,"render",kse))}},{defaultOptions:Dse}=Ls,{noop:lB}=F,{addEvent:cB,extend:Rse,isObject:uB,merge:Pse,relativeLength:AD}=de,Fse={radius:0,scope:"stack",where:void 0},dB=lB,hB=lB;function Mse(L,d,g,m,b={}){let w=dB(L,d,g,m,b),{innerR:E=0,r:T=g,start:D=0,end:M=0}=b;if(b.open||!b.borderRadius)return w;let G=M-D,I=Math.sin(G/2),U=Math.max(Math.min(AD(b.borderRadius||0,T-E),(T-E)/2,T*I/(1+I)),0),z=Math.min(U,G/Math.PI*2*E),J=w.length-1;for(;J--;)(function(le,ae,oe){let ge,Ce,Ye,Ue=le[ae],je=le[ae+1];if(je[0]==="Z"&&(je=le[0]),(Ue[0]==="M"||Ue[0]==="L")&&je[0]==="A"?(ge=Ue,Ce=je,Ye=!0):Ue[0]==="A"&&(je[0]==="M"||je[0]==="L")&&(ge=je,Ce=Ue),ge&&Ce&&Ce.params){let rt=Ce[1],et=Ce[5],it=Ce.params,{start:_t,end:Nt,cx:Ht,cy:jt}=it,fi=et?rt-oe:rt+oe,ai=fi?Math.asin(oe/fi):0,wi=et?ai:-ai,Qt=Math.cos(ai)*fi;Ye?(it.start=_t+wi,ge[1]=Ht+Qt*Math.cos(_t),ge[2]=jt+Qt*Math.sin(_t),le.splice(ae+1,0,["A",oe,oe,0,0,1,Ht+rt*Math.cos(it.start),jt+rt*Math.sin(it.start)])):(it.end=Nt-wi,Ce[6]=Ht+rt*Math.cos(it.end),Ce[7]=jt+rt*Math.sin(it.end),le.splice(ae+1,0,["A",oe,oe,0,0,1,Ht+Qt*Math.cos(Nt),jt+Qt*Math.sin(Nt)])),Ce[4]=Math.abs(it.end-it.start)<Math.PI?0:1}})(w,J,J>1?z:U);return w}function Lse(){var L,d;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:g,yAxis:m}=this,b=g.stacking==="percent",w=(d=(L=Dse.plotOptions)==null?void 0:L[this.type])==null?void 0:d.borderRadius,E=kD(g.borderRadius,uB(w)?w:{}),T=m.options.reversed;for(let D of this.points){let{shapeArgs:M}=D;if(D.shapeType==="roundedRect"&&M){let{width:G=0,height:I=0,y:U=0}=M,z=U,J=I;if(E.scope==="stack"&&D.stackTotal){let ge=m.translate(b?100:D.stackTotal,!1,!0,!1,!0),Ce=m.translate(g.threshold||0,!1,!0,!1,!0),Ye=this.crispCol(0,Math.min(ge,Ce),0,Math.abs(ge-Ce));z=Ye.y,J=Ye.height}let le=(D.negative?-1:1)*(T?-1:1)==-1,ae=E.where;!ae&&this.is("waterfall")&&Math.abs((D.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(ae="all"),ae||(ae="end");let oe=Math.min(AD(E.radius,G),G/2,ae==="all"?I/2:1/0)||0;ae==="end"&&(le&&(z-=oe),J+=oe),Rse(M,{brBoxHeight:J,brBoxY:z,r:oe})}}}}function kD(L,d){return uB(L)||(L={radius:L||0}),Pse(Fse,d,L)}function Ose(){let L=kD(this.options.borderRadius);for(let d of this.points){let g=d.shapeArgs;g&&(g.borderRadius=AD(L.radius,(g.r||0)-(g.innerR||0)))}}function Ise(L,d,g,m,b={}){let w=hB(L,d,g,m,b),{r:E=0,brBoxHeight:T=m,brBoxY:D=d}=b,M=d-D,G=D+T-(d+m),I=M-E>-.1?0:E,U=G-E>-.1?0:E,z=Math.max(I&&M,0),J=Math.max(U&&G,0),le=[L+I,d],ae=[L+g-I,d],oe=[L+g,d+I],ge=[L+g,d+m-U],Ce=[L+g-U,d+m],Ye=[L+U,d+m],Ue=[L,d+m-U],je=[L,d+I],rt=(et,it)=>Math.sqrt(Math.pow(et,2)-Math.pow(it,2));if(z){let et=rt(I,I-z);le[0]-=et,ae[0]+=et,oe[1]=je[1]=d+I-z}if(m<I-z){let et=rt(I,I-z-m);oe[0]=ge[0]=L+g-I+et,Ce[0]=Math.min(oe[0],Ce[0]),Ye[0]=Math.max(ge[0],Ye[0]),Ue[0]=je[0]=L+I-et,oe[1]=je[1]=d+m}if(J){let et=rt(U,U-J);Ce[0]+=et,Ye[0]-=et,ge[1]=Ue[1]=d+m-U+J}if(m<U-J){let et=rt(U,U-J-m);oe[0]=ge[0]=L+g-U+et,ae[0]=Math.min(oe[0],ae[0]),le[0]=Math.max(ge[0],le[0]),Ue[0]=je[0]=L+U-et,ge[1]=Ue[1]=d}return w.length=0,w.push(["M",...le],["L",...ae],["A",I,I,0,0,1,...oe],["L",...ge],["A",U,U,0,0,1,...Ce],["L",...Ye],["A",U,U,0,0,1,...Ue],["L",...je],["A",I,I,0,0,1,...le],["Z"]),w}let{diffObjects:Nse,extend:Vse,find:Bse,merge:Gse,pick:Mx,uniqueKey:Hse}=de;(function(L){function d(m,b){let w=m.condition;(w.callback||function(){return this.chartWidth<=Mx(w.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Mx(w.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Mx(w.minWidth,0)&&this.chartHeight>=Mx(w.minHeight,0)}).call(this)&&b.push(m._id)}function g(m,b){let w=this.options.responsive,E=this.currentResponsive,T=[],D;!b&&w&&w.rules&&w.rules.forEach(I=>{I._id===void 0&&(I._id=Hse()),this.matchResponsiveRule(I,T)},this);let M=Gse(...T.map(I=>Bse((w==null?void 0:w.rules)||[],U=>U._id===I)).map(I=>I==null?void 0:I.chartOptions));M.isResponsiveOptions=!0,T=T.toString()||void 0;let G=E==null?void 0:E.ruleIds;T!==G&&(E&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(E.undoOptions,m,!0),this.updatingResponsive=!1),T?((D=Nse(M,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:T,mergedOptions:M,undoOptions:D},this.updatingResponsive||this.update(M,m,!0)):this.currentResponsive=void 0)}L.compose=function(m){let b=m.prototype;return b.matchResponsiveRule||Vse(b,{matchResponsiveRule:d,setResponsive:g}),m}})(R||(R={}));let $se=R;F.AST=ds,F.Axis=Um,F.Chart=Rh,F.Color=hr,F.DataLabel=Rx,F.DataTableCore=mx,F.Fx=Fn,F.HTMLElement=$m,F.Legend=bV,F.LegendSymbol=oV,F.OverlappingDataLabels=F.OverlappingDataLabels||aB,F.PlotLineOrBand=dx,F.Point=Th,F.Pointer=sV,F.RendererRegistry=tp,F.Series=gl,F.SeriesRegistry=fn,F.StackItem=FV,F.SVGElement=Hl,F.SVGRenderer=tx,F.Templating=Va,F.Tick=Wm,F.Time=_i,F.Tooltip=J2,F.animate=st.animate,F.animObject=st.animObject,F.chart=Rh.chart,F.color=hr.parse,F.dateFormat=Va.dateFormat,F.defaultOptions=Ls.defaultOptions,F.distribute=Lm.distribute,F.format=Va.format,F.getDeferredAnimation=st.getDeferredAnimation,F.getOptions=Ls.getOptions,F.numberFormat=Va.numberFormat,F.seriesType=fn.seriesType,F.setAnimation=st.setAnimation,F.setOptions=Ls.setOptions,F.stop=st.stop,F.time=Ls.defaultTime,F.timers=Fn.timers,{compose:function(L,d,g){let m=L.types.pie;if(!d.symbolCustomAttribs.includes("borderRadius")){let b=g.prototype.symbols;cB(L,"afterColumnTranslate",Lse,{order:9}),cB(m,"afterTranslate",Ose),d.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),dB=b.arc,hB=b.roundedRect,b.arc=Mse,b.roundedRect=Ise}},optionsToObject:kD}.compose(F.Series,F.SVGElement,F.SVGRenderer),Qie.compose(F.Series.types.column),Rx.compose(F.Series),Pee.compose(F.Axis),$m.compose(F.SVGRenderer),bV.compose(F.Chart),Lee.compose(F.Axis),aB.compose(F.Chart),Sse.compose(F.Series.types.pie),dx.compose(F.Chart,F.Axis),sV.compose(F.Chart),$se.compose(F.Chart),My.compose(F.Axis,F.Chart,F.Series),Rie.compose(F.Axis,F.Chart,F.Series),J2.compose(F.Pointer),de.extend(F,de);let Wse=F;return k.default})())}(wE)),wE.exports}const Ije=HLe(fle);var t8;function Nje(){return t8||(t8=1,function(e,t){(function(i,s){e.exports=s(Oje(),Ije)})(self,(i,s)=>(()=>{var r={879:l=>{l.exports=i},744:l=>{l.exports=s}},n={};function o(l){var c=n[l];if(c!==void 0)return c.exports;var u=n[l]={exports:{}};return r[l](u,u.exports,o),u.exports}o.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return o.d(c,{a:c}),c},o.d=(l,c)=>{for(var u in c)o.o(c,u)&&!o.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:c[u]})},o.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),o.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var a={};return(()=>{o.r(a),o.d(a,{Chart:()=>v,default:()=>C});var l=o(879),c=o.n(l),u=function S(_,x){var A=c().isArray(_)?[]:{};function R(O,k){!c().isObject(O,!x)||c().isClass(O)||c().isDOMElement(O)?A[k]=O:A[k]=S(O,x)}return c().isArray(_)?_.forEach(function(O,k){return R(O,k)}):c().objectEach(_,R),A},h=o(744);function f(S){return function(_){if(Array.isArray(_))return p(_)}(S)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(S)||function(_,x){if(_){if(typeof _=="string")return p(_,x);var A=Object.prototype.toString.call(_).slice(8,-1);if(A==="Object"&&_.constructor&&(A=_.constructor.name),A==="Map"||A==="Set")return Array.from(_);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return p(_,x)}}(S)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(S,_){(_==null||_>S.length)&&(_=S.length);for(var x=0,A=new Array(_);x<_;x++)A[x]=S[x];return A}const y=function(S){var _=this;return{render:function(){return(0,h.h)("div",{ref:"chart"})},beforeUnmount:function(){var x;return _==null||(x=_.chart)===null||x===void 0?void 0:x.destroy()},props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(x){var A;(A=this.chart).update.apply(A,[u(x,this.deepCopyOnUpdate)].concat(f(this.updateArgs)))},deep:!0}},mounted:function(){var x=this.highcharts||S;x[this.constructorType]?this.options?this.chart=x[this.constructorType](this.$refs.chart,u(this.options,!0),this.callback?this.callback:null):console.error('The "options" parameter was not passed.'):console.error("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported."))}}};var v=y(c());function C(S){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.component(_.tagName||"highcharts",y(_.highcharts||c()))}})(),a})())}(MP)),MP.exports}var Vje=Nje();const Bje=$q(Vje);vn.defaults.baseURL="/api/";window.axios=vn;vn.defaults.withCredentials=!0;window.store=UF;window.router=cI;window.router=R9;const YZ=r_e({legacy:!1,locale:"uz",fallbackLocale:"ru",messages:GLe});window.i18n=YZ;async function Gje(){await UF.dispatch("getUser"),wb(O_e).use(Zbe()).component("AgGridVue",BLe).component("Bar",ePe).component("input-mask",ULe).use(UF).use(cI).use(YZ).use(R9).use(Bje).use(Mje).mount("#app")}Gje();export{on as $,mC as A,bbe as B,_I as C,UF as D,Xr as E,nt as F,Le as G,la as H,kt as I,si as J,RSe as K,Ot as L,xO as M,wye as N,Abe as O,rs as P,$q as Q,Oje as R,Vje as S,Rr as T,lCe as U,kve as V,cC as W,J6 as X,$je as Y,wb as Z,lm as _,cwe as a,xs as a0,ji as a1,fU as a2,FU as a3,Xg as a4,Fe as a5,St as a6,Et as a7,hKe as a8,mc as a9,ms as aa,HLe as ab,UZ as ac,cKe as ad,ed as ae,HU as af,hCe as ag,Ss as ah,or as ai,xt as aj,Gme as ak,di as al,ej as b,oS as c,Nn as d,uRe as e,xn as f,ve as g,q as h,me as i,wt as j,P as k,tt as l,BO as m,vn as n,Ri as o,wRe as p,gF as q,We as r,V as s,Mt as t,R9 as u,dt as v,Dt as w,oi as x,ns as y,ps as z};
