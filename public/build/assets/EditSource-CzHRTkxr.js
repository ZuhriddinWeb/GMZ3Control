import{r as v,E as b,f as m,g,h,j as s,l as V,i as u,n as f,d as y}from"./app-C_2dUSXa.js";const C={class:"h-full w-full text-center content-center"},S={__name:"DeleteSource",props:["params"],setup(i){const l=v(!1),n=i,c=b("ondeleted"),o=async()=>{console.log(n.params.data.id);try{const{data:r}=await f.delete(`/source/${n.params.data.id}`);r.status===200?(c(n.params.data),l.value=!1):console.error("Error deleting data:",r.message)}catch(r){console.error("Error deleting data:",r)}};return(r,e)=>{const a=m("VaButton"),p=m("VaModal");return h(),g("main",C,[s(a,{round:"",icon:"delete",preset:"primary",class:"mt-1",onClick:e[0]||(e[0]=d=>l.value=!0)}),s(p,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=d=>l.value=d),"ok-text":"Apply",onClose:e[2]||(e[2]=d=>l.value=!1),onOk:o,"close-button":""},{default:V(()=>e[3]||(e[3]=[u("h3",{class:"va-h3"},"Ma'lumotni o'chirish",-1),u("p",null," Classic modal overlay which represents a dialog box or other interactive component, such as a dismissible alert, sub-window, etc. ",-1)])),_:1,__:[3]},8,["modelValue"])])}}},w={class:"h-full w-full text-center content-center"},B={__name:"EditSource",props:["params"],setup(i){const l=i,n=v(!1),c=b("onupdated"),o=y({Name:"",ShortName:"",Comment:"",id:l.params.data.id});f.get(`source/${l.params.data.id}`).then(e=>{o.Name=e.data.Name,o.ShortName=e.data.ShortName,o.Comment=e.data.Comment});const r=async()=>{try{const{data:e}=await f.put("/source",o);e.status===200?(c(l.params.node,e.unit),n.value=!1):console.error("Error saving data:",e.message)}catch(e){console.error("Error saving data:",e)}};return(e,a)=>{const p=m("VaButton"),d=m("VaInput"),x=m("VaTextarea"),_=m("VaForm"),N=m("VaModal");return h(),g("main",w,[s(p,{round:"",icon:"edit",preset:"primary",class:"mt-1",onClick:a[0]||(a[0]=t=>n.value=!0)}),s(N,{modelValue:n.value,"onUpdate:modelValue":a[4]||(a[4]=t=>n.value=t),"ok-text":"Saqlash","cancel-text":"Bekor qilish",onOk:r,onClose:a[5]||(a[5]=t=>n.value=!1),"close-button":""},{default:V(()=>[a[6]||(a[6]=u("h3",{class:"va-h3"}," O'lchov birliklarini tahrirlash ",-1)),u("div",null,[s(_,{ref:"formRef",class:"flex flex-col items-baseline gap-2"},{default:V(()=>[s(d,{class:"w-full",modelValue:o.Name,"onUpdate:modelValue":a[1]||(a[1]=t=>o.Name=t),rules:[t=>t&&t.length>0||"To'ldirish majburiy bo'lgan maydon"],label:"Nomlanishi"},null,8,["modelValue","rules"]),s(d,{class:"w-full",modelValue:o.ShortName,"onUpdate:modelValue":a[2]||(a[2]=t=>o.ShortName=t),rules:[t=>t&&t.length>0||"To'ldirish majburiy bo'lgan maydon"],label:"Qisqa nomi"},null,8,["modelValue","rules"]),s(x,{class:"w-full",modelValue:o.Comment,"onUpdate:modelValue":a[3]||(a[3]=t=>o.Comment=t),"max-length":"125",label:"Izoh"},null,8,["modelValue"])]),_:1},512)])]),_:1,__:[6]},8,["modelValue"])])}}};export{B as _,S as a};
