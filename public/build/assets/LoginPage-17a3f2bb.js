import{q as I,r as N,s as t,v as k,b as j,u as L,c as M,d as C,o as B,g as D,h as F,i as l,t as f,j as s,k as u,l as g,x as p,y as x,z as y,n as b,B as z,w as h,V as S,D as T}from"./app-23ff0182.js";const A=d=>{const a=typeof d=="string"?I(d):typeof d>"u"?N():d;return{formRef:a,isValid:t(()=>{var e;return((e=a.value)==null?void 0:e.isValid)||!1}),immediate:t(()=>{var e;return((e=a.value)==null?void 0:e.immediate)||!1}),isLoading:t(()=>{var e;return((e=a.value)==null?void 0:e.isLoading)||!1}),isDirty:t(()=>{var e;return((e=a.value)==null?void 0:e.isDirty)||!1}),isTouched:t(()=>{var e;return((e=a.value)==null?void 0:e.isTouched)||!1}),fields:t(()=>{var e;return((e=a.value)==null?void 0:e.fields)??[]}),fieldsNamed:t(()=>{var e;return((e=a.value)==null?void 0:e.fieldsNamed)??[]}),fieldNames:t(()=>{var e;return((e=a.value)==null?void 0:e.fieldNames)??[]}),formData:t(()=>{var e;return((e=a.value)==null?void 0:e.formData)??{}}),errorMessages:t(()=>{var e;return((e=a.value)==null?void 0:e.errorMessages)||[]}),errorMessagesNamed:t(()=>{var e;return((e=a.value)==null?void 0:e.errorMessagesNamed)||{}}),validate:()=>{var e;return(e=a.value)==null?void 0:e.validate()},validateAsync:()=>{var e;return(e=a.value)==null?void 0:e.validateAsync()},reset:()=>{var e;return(e=a.value)==null?void 0:e.reset()},resetValidation:()=>{var e;return(e=a.value)==null?void 0:e.resetValidation()},focus:()=>{var e;return(e=a.value)==null?void 0:e.focus()},focusInvalidField:()=>{var e;return(e=a.value)==null?void 0:e.focusInvalidField()}}},E="/build/assets/ngmk-6e65eb69.png",q={class:"flex justify-between fixed inset-0"},U={class:"bg-[#154EC1] flex items-center justify-center text-center min-h-screen w-3/6"},O={class:"flex flex-col items-center"},$={class:"flex flex-col items-center"},G={class:"text-white text-5xl"},H={class:"text-white text-5xl mt-4"},J={class:"flex justify-between flex-col w-4/6 min-h-screen mx-auto"},K={class:"flex justify-between"},Q={class:"flex justify-end w-18 items-center mt-3 mr-3"},R={class:"flex justify-center items-center text-center w-4/6 min-h-screen mx-auto"},W={class:"font-semibold text-4xl mb-4"},X={class:"flex justify-center mt-4 w-1/2"},Z=k({__name:"LoginPage",setup(d){A("form");const a=j(),{init:e}=L(),{locale:c,t:r}=M(),v=C({login:"",password:""}),_=async()=>{try{const i=await T.dispatch("login",v);i.success?a.push({name:"home"}):(console.error("Error:",i.message||"Login failed"),e({message:r("login.errorMessage"),color:"danger"}))}catch(i){console.error("Error during login:",i),e({message:r("login.errorMessage"),color:"danger"})}},w=()=>{c.value=c.value==="uz"?"ru":"uz",localStorage.setItem("locale",c.value)},V=t(()=>c.value==="uz"?"Русский":"O‘zbek");return B(()=>{const i=localStorage.getItem("locale");i&&(c.value=i)}),(i,o)=>(D(),F("main",q,[l("div",U,[l("div",O,[l("div",$,[o[2]||(o[2]=l("div",{class:"mb-4"},[l("img",{src:E,alt:"",class:"w-25 h-32"})],-1)),l("span",G,f(s(r)("login.titlePage")),1)]),l("p",H,f(s(r)("login.plantName")),1)])]),l("div",J,[l("div",K,[o[3]||(o[3]=l("div",{class:"w-[80%]"},null,-1)),l("div",Q,[u(s(y),{onClick:w,style:{"margin-bottom":"1rem","border-radius":"0"}},{default:g(()=>[u(s(p),{name:"language",style:{"margin-right":"0.5rem"}}),x(" "+f(V.value),1)]),_:1})])]),l("div",R,[u(s(S),{ref:"form",onSubmit:h(_,["prevent"]),class:"flex flex-col items-center"},{default:g(()=>[l("h1",W,f(s(r)("login.title")),1),o[4]||(o[4]=l("p",{class:"text-base mb-4 leading-5"},null,-1)),u(s(b),{modelValue:v.login,"onUpdate:modelValue":o[0]||(o[0]=n=>v.login=n),rules:[n=>n&&n.length>0||s(r)("form.requiredField")],class:"mb-4 w-1/2",label:s(r)("form.login"),type:"text"},null,8,["modelValue","rules","label"]),u(s(z),{"default-value":!1},{default:g(n=>[u(s(b),{modelValue:v.password,"onUpdate:modelValue":o[1]||(o[1]=m=>v.password=m),rules:[m=>m&&m.length>0||s(r)("form.requiredField")],type:n.value?"text":"password",class:"mb-4 w-1/2",label:s(r)("form.password"),onClickAppendInner:h(m=>n.value=!n.value,["stop"])},{appendInner:g(()=>[u(s(p),{name:n.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","label","onClickAppendInner"])]),_:1}),l("div",X,[u(s(y),{class:"w-full",onClick:_},{default:g(()=>[x(f(s(r)("login.submitButton")),1)]),_:1})])]),_:1},512)])])]))}});export{Z as default};
