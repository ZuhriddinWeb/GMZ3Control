import{r as ref,E as inject,u as useToast,c as useI18n,d as reactive,K as watch,f as resolveComponent,g as createElementBlock,h as openBlock,j as createVNode,k as unref,z as VaButton,l as withCtx,i as createBaseVNode,t as toDisplayString,V as VaForm,m as VaInput,n as axios,G as createCommentVNode,I as Fragment,J as renderList,F as createBlock,x as createTextVNode,s as computed,H as provide,a as useStore,o as onMounted}from"./app-B7cg6xP4.js";/* empty css                   */import{m as millisecondsInHour,a as millisecondsInMinute,f as format}from"./format-D9pTN3Kd.js";function parseISO(e,a){const o=splitDateString(e);let r;if(o.date){const s=parseYear(o.date,2);r=parseDate(s.restDateString,s.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);const l=r.getTime();let i=0,d;if(o.time&&(i=parseTime(o.time),isNaN(i)))return new Date(NaN);if(o.timezone){if(d=parseTimezone(o.timezone),isNaN(d))return new Date(NaN)}else{const s=new Date(l+i),v=new Date(0);return v.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),v.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),v}return new Date(l+i+d)}const patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(e){const a={},n=e.split(patterns.dateTimeDelimiter);let o;if(n.length>2)return a;if(/:/.test(n[0])?o=n[0]:(a.date=n[0],o=n[1],patterns.timeZoneDelimiter.test(a.date)&&(a.date=e.split(patterns.timeZoneDelimiter)[0],o=e.substr(a.date.length,e.length))),o){const r=patterns.timezone.exec(o);r?(a.time=o.replace(r[1],""),a.timezone=r[1]):a.time=o}return a}function parseYear(e,a){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),o=e.match(n);if(!o)return{year:NaN,restDateString:""};const r=o[1]?parseInt(o[1]):null,l=o[2]?parseInt(o[2]):null;return{year:l===null?r:l*100,restDateString:e.slice((o[1]||o[2]).length)}}function parseDate(e,a){if(a===null)return new Date(NaN);const n=e.match(dateRegex);if(!n)return new Date(NaN);const o=!!n[4],r=parseDateUnit(n[1]),l=parseDateUnit(n[2])-1,i=parseDateUnit(n[3]),d=parseDateUnit(n[4]),s=parseDateUnit(n[5])-1;if(o)return validateWeekDate(a,d,s)?dayOfISOWeekYear(a,d,s):new Date(NaN);{const v=new Date(0);return!validateDate(a,l,i)||!validateDayOfYearDate(a,r)?new Date(NaN):(v.setUTCFullYear(a,l,Math.max(r,i)),v)}}function parseDateUnit(e){return e?parseInt(e):1}function parseTime(e){const a=e.match(timeRegex);if(!a)return NaN;const n=parseTimeUnit(a[1]),o=parseTimeUnit(a[2]),r=parseTimeUnit(a[3]);return validateTime(n,o,r)?n*millisecondsInHour+o*millisecondsInMinute+r*1e3:NaN}function parseTimeUnit(e){return e&&parseFloat(e.replace(",","."))||0}function parseTimezone(e){if(e==="Z")return 0;const a=e.match(timezoneRegex);if(!a)return 0;const n=a[1]==="+"?-1:1,o=parseInt(a[2]),r=a[3]&&parseInt(a[3])||0;return validateTimezone(o,r)?n*(o*millisecondsInHour+r*millisecondsInMinute):NaN}function dayOfISOWeekYear(e,a,n){const o=new Date(0);o.setUTCFullYear(e,0,4);const r=o.getUTCDay()||7,l=(a-1)*7+n+1-r;return o.setUTCDate(o.getUTCDate()+l),o}const daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(e){return e%400===0||e%4===0&&e%100!==0}function validateDate(e,a,n){return a>=0&&a<=11&&n>=1&&n<=(daysInMonths[a]||(isLeapYearIndex(e)?29:28))}function validateDayOfYearDate(e,a){return a>=1&&a<=(isLeapYearIndex(e)?366:365)}function validateWeekDate(e,a,n){return a>=1&&a<=53&&n>=0&&n<=6}function validateTime(e,a,n){return e===24?a===0&&n===0:n>=0&&n<60&&a>=0&&a<60&&e>=0&&e<25}function validateTimezone(e,a){return a>=0&&a<=59}const _hoisted_1$6={class:"h-full w-full text-center content-center"},_hoisted_2$6={class:"grid grid-cols-2 md:grid-cols-2 gap-2 items-end w-full"},_hoisted_3$4={class:"grid grid-cols-2 md:grid-cols-2 gap-2 items-end w-full"},_hoisted_4$4={class:"grid grid-cols-2 md:grid-cols-2 gap-2 items-end w-full"},_hoisted_5$3={class:"flex gap-5 flex-wrap w-full mt-4"},_hoisted_6$3={class:"grid grid-cols-2 md:grid-cols-1 gap-1 items-end w-full"},_sfc_main$6={__name:"EditModal",props:["params"],setup(e){const a=e,n=ref(!1),o=inject("onupdated"),{init:r}=useToast(),{t:l}=useI18n(),i=ref([]),d=ref([]),s=ref([]),v=ref([]),c=ref([]),g=ref([]),V=ref([]),k=ref([]),p=ref([]),u=reactive({ParametersID:"",FactoryStructureID:"",GrapicsID:"",SourceID:"",CurrentTime:"",EndingTime:"",OrderNumber:"",ShortName:"",BlogID:"",PageId:"",GroupID:"",WithFormula:"",id:a.params.data.id}),I=async()=>{try{const[m,f,_,x,P,N,E,B]=await Promise.all([axios.get("/param"),axios.get("/graphics"),axios.get("/structure"),axios.get("/blogs"),axios.get("/sources"),axios.get(`/getRowPage/${a.params.data.FactoryStructureID}`),axios.get(`get-params-for-id-edit/${a.params.data.id}`,{timeout:1e4}),axios.get("/formula")]);p.value=m.data,i.value=m.data.map(y=>({value:y.Uuid,text:y.Name})),d.value=f.data.map(y=>({value:y.id,text:y.Name})),s.value=_.data.map(y=>({value:y.id,text:y.Name})),v.value=x.data.map(y=>({value:y.id,text:y.Name})),c.value=P.data.map(y=>({value:y.id,text:y.Name})),g.value=N.data.map(y=>({value:y.NumberPage,text:y.Name})),k.value=B.data.map(y=>({value:y.id,text:y.Name}));const $=E.data[0];if($){u.ParametersID=$.ParametersID||null,u.GrapicsID=+$.GrapicsID||null,u.FactoryStructureID=+$.Sid||null,u.SourceID=+$.SourceID||null,u.WithFormula=$.WithFormula??null,u.OrderNumber=$.OrderNumber||null,u.CurrentTime=$.CurrentTime?parseISO($.CurrentTime):null,u.EndingTime=$.EndingTime?parseISO($.EndingTime):null,u.BlogID=$.BlogsID?+$.BlogsID:null,u.PageId=$.PageId??null,u.GroupID=$.GroupID??null;const y=m.data.find(h=>h.Uuid===u.ParametersID);y&&(u.ShortName=y.ShortName||"")}u.PageId&&u.FactoryStructureID&&await D()}catch(m){console.error("Error fetching initial data:",m)}};watch(()=>u.ParametersID,m=>{const f=p.value.find(_=>_.Uuid===m);f&&(u.ShortName=f.ShortName||"")});const D=async()=>{if(!u.PageId||!u.FactoryStructureID){V.value=[],u.GroupID=null;return}try{const{data:m}=await axios.get(`/getRowGroup/${u.FactoryStructureID}/${u.PageId}`);V.value=m.map(f=>({value:f.id,text:f.Name})),V.value.some(f=>f.value===u.GroupID)||(u.GroupID=null)}catch(m){V.value=[],u.GroupID=null,console.error("Error fetching groups:",m)}},b=async()=>{try{const{data:m}=await axios.put("/paramsgraph",u);m.status===200?(o(a.params.node,m.unit),n.value=!1,r({message:l("login.successMessage"),color:"success"})):console.error("Error saving data:",m.message)}catch(m){console.error("Error saving data:",m)}};return(m,f)=>{const _=resolveComponent("VaSelect"),x=resolveComponent("VaDatePicker"),P=resolveComponent("VaModal");return openBlock(),createElementBlock("main",_hoisted_1$6,[createVNode(unref(VaButton),{round:"",icon:"edit",preset:"primary",class:"mt-1",onClick:f[0]||(f[0]=N=>n.value=!0)}),createVNode(P,{modelValue:n.value,"onUpdate:modelValue":f[13]||(f[13]=N=>n.value=N),"ok-text":unref(l)("modals.apply"),"cancel-text":unref(l)("modals.cancel"),onOk:b,onClose:f[14]||(f[14]=N=>n.value=!1),"close-button":""},{default:withCtx(()=>[createBaseVNode("h3",{class:"va-h3",onVnodeMounted:I},toDisplayString(unref(l)("modals.editFactory"))+" "+toDisplayString(a.params.data.ParametersID),513),createBaseVNode("div",null,[createVNode(unref(VaForm),{ref:"formRef",class:"flex flex-col items-baseline gap-2"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$6,[createVNode(_,{modelValue:u.ParametersID,"onUpdate:modelValue":f[1]||(f[1]=N=>u.ParametersID=N),"value-by":"value",class:"mb-1",label:unref(l)("menu.params"),options:i.value,searchable:""},null,8,["modelValue","label","options"]),createVNode(_,{modelValue:u.GrapicsID,"onUpdate:modelValue":f[2]||(f[2]=N=>u.GrapicsID=N),"value-by":"value",class:"mb-1",label:unref(l)("menu.graphictimes"),options:d.value,clearable:""},null,8,["modelValue","label","options"])]),createVNode(unref(VaInput),{class:"w-full",modelValue:u.ShortName,"onUpdate:modelValue":f[3]||(f[3]=N=>u.ShortName=N),rules:[N=>N&&N.length>0||"To'ldirish majburiy bo'lgan maydon"],label:unref(l)("form.shortName")},null,8,["modelValue","rules","label"]),createBaseVNode("div",_hoisted_3$4,[createVNode(_,{modelValue:u.FactoryStructureID,"onUpdate:modelValue":f[4]||(f[4]=N=>u.FactoryStructureID=N),"value-by":"value",class:"mb-1",label:unref(l)("menu.structure"),options:s.value,clearable:""},null,8,["modelValue","label","options"]),createVNode(_,{modelValue:u.BlogID,"onUpdate:modelValue":f[5]||(f[5]=N=>u.BlogID=N),"value-by":"value",class:"mb-1",label:unref(l)("menu.blogs"),options:v.value??[],clearable:""},null,8,["modelValue","label","options"])]),createBaseVNode("div",_hoisted_4$4,[createVNode(_,{modelValue:u.SourceID,"onUpdate:modelValue":f[6]||(f[6]=N=>u.SourceID=N),"value-by":"value",class:"mb-1",label:unref(l)("menu.sources"),options:c.value,clearable:""},null,8,["modelValue","label","options"]),createVNode(_,{modelValue:u.WithFormula,"onUpdate:modelValue":f[7]||(f[7]=N=>u.WithFormula=N),"value-by":"value",class:"mb-1",label:unref(l)("menu.formula"),options:k.value,clearable:""},null,8,["modelValue","label","options"])]),createBaseVNode("div",_hoisted_5$3,[createVNode(x,{modelValue:u.CurrentTime,"onUpdate:modelValue":f[8]||(f[8]=N=>u.CurrentTime=N),stateful:"","highlight-weekend":""},null,8,["modelValue"]),createVNode(x,{modelValue:u.EndingTime,"onUpdate:modelValue":f[9]||(f[9]=N=>u.EndingTime=N),stateful:"","highlight-weekend":""},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_6$3,[createVNode(_,{modelValue:u.PageId,"onUpdate:modelValue":[f[10]||(f[10]=N=>u.PageId=N),D],"value-by":"value",class:"mb-1",label:unref(l)("menu.pages"),options:g.value,searchable:""},null,8,["modelValue","label","options"]),createVNode(_,{modelValue:u.GroupID,"onUpdate:modelValue":f[11]||(f[11]=N=>u.GroupID=N),"value-by":"value",class:"mb-1",label:unref(l)("menu.groups"),options:V.value,searchable:""},null,8,["modelValue","label","options"])]),createVNode(unref(VaInput),{type:"number",class:"w-full",modelValue:u.OrderNumber,"onUpdate:modelValue":f[12]||(f[12]=N=>u.OrderNumber=N),rules:[N=>N&&N.length>0||"To'ldirish majburiy bo'lgan maydon"],label:unref(l)("modals.ordernumber")},null,8,["modelValue","rules","label"])]),_:1},512)])]),_:1},8,["modelValue","ok-text","cancel-text"])])}}},_hoisted_1$5={class:"h-full w-full text-center content-center"},_hoisted_2$5={class:"va-h3"},_sfc_main$5={__name:"DeleteModal",props:["params"],setup(e){const{init:a}=useToast(),{t:n}=useI18n(),o=ref(!1),r=e,l=inject("ondeleted"),i=async()=>{try{const{data:d}=await axios.delete(`/paramsgraph/${r.params.data.id}`);d.status===200?(l(r.params.data),o.value=!1,a({message:n("login.successMessage"),color:"success"})):console.error("Error deleting data:",d.message)}catch(d){console.error("Error deleting data:",d)}};return(d,s)=>{const v=resolveComponent("VaModal");return openBlock(),createElementBlock("main",_hoisted_1$5,[createVNode(unref(VaButton),{round:"",icon:"delete",preset:"primary",class:"mt-1",onClick:s[0]||(s[0]=c=>o.value=!0)}),createVNode(v,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=c=>o.value=c),"ok-text":unref(n)("modals.apply"),"cancel-text":unref(n)("modals.cancel"),onClose:s[2]||(s[2]=c=>o.value=!1),onOk:i,"close-button":""},{default:withCtx(()=>[createBaseVNode("h3",_hoisted_2$5,toDisplayString(unref(n)("modals.title")),1),createBaseVNode("p",null,toDisplayString(unref(n)("modals.message")),1)]),_:1},8,["modelValue","ok-text","cancel-text"])])}}},_hoisted_1$4={class:"h-full w-full text-center content-center"},_hoisted_2$4={class:"va-h3"},_sfc_main$4={__name:"DeleteModalFormule",props:["params"],setup(e){const{init:a}=useToast(),{t:n}=useI18n(),o=ref(!1),r=e;inject("ondeleted");const l=async()=>{try{const{data:i}=await axios.delete(`/calculator/${r.params.data.ParametersID}`);i.status===200?(o.value=!1,a({message:n("login.successMessage"),color:"success"})):console.error("Error deleting data:",i.message)}catch(i){console.error("Error deleting data:",i)}};return(i,d)=>{const s=resolveComponent("VaModal");return openBlock(),createElementBlock("main",_hoisted_1$4,[createVNode(unref(VaButton),{round:"",icon:"folder_delete",preset:"primary",class:"mt-1",onClick:d[0]||(d[0]=v=>o.value=!0)}),createVNode(s,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=v=>o.value=v),"ok-text":unref(n)("modals.apply"),"cancel-text":unref(n)("modals.cancel"),onClose:d[2]||(d[2]=v=>o.value=!1),onOk:l,"close-button":""},{default:withCtx(()=>[createBaseVNode("h3",_hoisted_2$4,toDisplayString(unref(n)("modals.title")),1),createBaseVNode("p",null,toDisplayString(unref(n)("modals.message")),1)]),_:1},8,["modelValue","ok-text","cancel-text"])])}}};var defaultInstanceSettings={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},defaultTweenSettings={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},validTransforms=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],cache={CSS:{},springs:{}};function minMax(e,a,n){return Math.min(Math.max(e,a),n)}function stringContains(e,a){return e.indexOf(a)>-1}function applyArguments(e,a){return e.apply(null,a)}var is={arr:function(e){return Array.isArray(e)},obj:function(e){return stringContains(Object.prototype.toString.call(e),"Object")},pth:function(e){return is.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||is.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return is.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return is.hex(e)||is.rgb(e)||is.hsl(e)},key:function(e){return!defaultInstanceSettings.hasOwnProperty(e)&&!defaultTweenSettings.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function parseEasingParameters(e){var a=/\(([^)]+)\)/.exec(e);return a?a[1].split(",").map(function(n){return parseFloat(n)}):[]}function spring(e,a){var n=parseEasingParameters(e),o=minMax(is.und(n[0])?1:n[0],.1,100),r=minMax(is.und(n[1])?100:n[1],.1,100),l=minMax(is.und(n[2])?10:n[2],.1,100),i=minMax(is.und(n[3])?0:n[3],.1,100),d=Math.sqrt(r/o),s=l/(2*Math.sqrt(r*o)),v=s<1?d*Math.sqrt(1-s*s):0,c=1,g=s<1?(s*d+-i)/v:-i+d;function V(p){var u=a?a*p/1e3:p;return s<1?u=Math.exp(-u*s*d)*(c*Math.cos(v*u)+g*Math.sin(v*u)):u=(c+g*u)*Math.exp(-u*d),p===0||p===1?p:1-u}function k(){var p=cache.springs[e];if(p)return p;for(var u=1/6,I=0,D=0;;)if(I+=u,V(I)===1){if(D++,D>=16)break}else D=0;var b=I*u*1e3;return cache.springs[e]=b,b}return a?V:k}function steps(e){return e===void 0&&(e=10),function(a){return Math.ceil(minMax(a,1e-6,1)*e)*(1/e)}}var bezier=function(){var e=11,a=1/(e-1);function n(c,g){return 1-3*g+3*c}function o(c,g){return 3*g-6*c}function r(c){return 3*c}function l(c,g,V){return((n(g,V)*c+o(g,V))*c+r(g))*c}function i(c,g,V){return 3*n(g,V)*c*c+2*o(g,V)*c+r(g)}function d(c,g,V,k,p){var u,I,D=0;do I=g+(V-g)/2,u=l(I,k,p)-c,u>0?V=I:g=I;while(Math.abs(u)>1e-7&&++D<10);return I}function s(c,g,V,k){for(var p=0;p<4;++p){var u=i(g,V,k);if(u===0)return g;var I=l(g,V,k)-c;g-=I/u}return g}function v(c,g,V,k){if(!(0<=c&&c<=1&&0<=V&&V<=1))return;var p=new Float32Array(e);if(c!==g||V!==k)for(var u=0;u<e;++u)p[u]=l(u*a,c,V);function I(D){for(var b=0,m=1,f=e-1;m!==f&&p[m]<=D;++m)b+=a;--m;var _=(D-p[m])/(p[m+1]-p[m]),x=b+_*a,P=i(x,c,V);return P>=.001?s(D,x,c,V):P===0?x:d(D,b,b+a,c,V)}return function(D){return c===g&&V===k||D===0||D===1?D:l(I(D),g,k)}}return v}(),penner=function(){var e={linear:function(){return function(o){return o}}},a={Sine:function(){return function(o){return 1-Math.cos(o*Math.PI/2)}},Expo:function(){return function(o){return o?Math.pow(2,10*o-10):0}},Circ:function(){return function(o){return 1-Math.sqrt(1-o*o)}},Back:function(){return function(o){return o*o*(3*o-2)}},Bounce:function(){return function(o){for(var r,l=4;o<((r=Math.pow(2,--l))-1)/11;);return 1/Math.pow(4,3-l)-7.5625*Math.pow((r*3-2)/22-o,2)}},Elastic:function(o,r){o===void 0&&(o=1),r===void 0&&(r=.5);var l=minMax(o,1,10),i=minMax(r,.1,2);return function(d){return d===0||d===1?d:-l*Math.pow(2,10*(d-1))*Math.sin((d-1-i/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/i)}}},n=["Quad","Cubic","Quart","Quint"];return n.forEach(function(o,r){a[o]=function(){return function(l){return Math.pow(l,r+2)}}}),Object.keys(a).forEach(function(o){var r=a[o];e["easeIn"+o]=r,e["easeOut"+o]=function(l,i){return function(d){return 1-r(l,i)(1-d)}},e["easeInOut"+o]=function(l,i){return function(d){return d<.5?r(l,i)(d*2)/2:1-r(l,i)(d*-2+2)/2}},e["easeOutIn"+o]=function(l,i){return function(d){return d<.5?(1-r(l,i)(1-d*2))/2:(r(l,i)(d*2-1)+1)/2}}}),e}();function parseEasings(e,a){if(is.fnc(e))return e;var n=e.split("(")[0],o=penner[n],r=parseEasingParameters(e);switch(n){case"spring":return spring(e,a);case"cubicBezier":return applyArguments(bezier,r);case"steps":return applyArguments(steps,r);default:return applyArguments(o,r)}}function selectString(e){try{var a=document.querySelectorAll(e);return a}catch{return}}function filterArray(e,a){for(var n=e.length,o=arguments.length>=2?arguments[1]:void 0,r=[],l=0;l<n;l++)if(l in e){var i=e[l];a.call(o,i,l,e)&&r.push(i)}return r}function flattenArray(e){return e.reduce(function(a,n){return a.concat(is.arr(n)?flattenArray(n):n)},[])}function toArray(e){return is.arr(e)?e:(is.str(e)&&(e=selectString(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function arrayContains(e,a){return e.some(function(n){return n===a})}function cloneObject(e){var a={};for(var n in e)a[n]=e[n];return a}function replaceObjectProps(e,a){var n=cloneObject(e);for(var o in e)n[o]=a.hasOwnProperty(o)?a[o]:e[o];return n}function mergeObjects(e,a){var n=cloneObject(e);for(var o in a)n[o]=is.und(e[o])?a[o]:e[o];return n}function rgbToRgba(e){var a=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return a?"rgba("+a[1]+",1)":e}function hexToRgba(e){var a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(a,function(d,s,v,c){return s+s+v+v+c+c}),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),r=parseInt(o[1],16),l=parseInt(o[2],16),i=parseInt(o[3],16);return"rgba("+r+","+l+","+i+",1)"}function hslToRgba(e){var a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(a[1],10)/360,o=parseInt(a[2],10)/100,r=parseInt(a[3],10)/100,l=a[4]||1;function i(V,k,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?V+(k-V)*6*p:p<1/2?k:p<2/3?V+(k-V)*(2/3-p)*6:V}var d,s,v;if(o==0)d=s=v=r;else{var c=r<.5?r*(1+o):r+o-r*o,g=2*r-c;d=i(g,c,n+1/3),s=i(g,c,n),v=i(g,c,n-1/3)}return"rgba("+d*255+","+s*255+","+v*255+","+l+")"}function colorToRgb(e){if(is.rgb(e))return rgbToRgba(e);if(is.hex(e))return hexToRgba(e);if(is.hsl(e))return hslToRgba(e)}function getUnit(e){var a=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(a)return a[1]}function getTransformUnit(e){if(stringContains(e,"translate")||e==="perspective")return"px";if(stringContains(e,"rotate")||stringContains(e,"skew"))return"deg"}function getFunctionValue(e,a){return is.fnc(e)?e(a.target,a.id,a.total):e}function getAttribute(e,a){return e.getAttribute(a)}function convertPxToUnit(e,a,n){var o=getUnit(a);if(arrayContains([n,"deg","rad","turn"],o))return a;var r=cache.CSS[a+n];if(!is.und(r))return r;var l=100,i=document.createElement(e.tagName),d=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;d.appendChild(i),i.style.position="absolute",i.style.width=l+n;var s=l/i.offsetWidth;d.removeChild(i);var v=s*parseFloat(a);return cache.CSS[a+n]=v,v}function getCSSValue(e,a,n){if(a in e.style){var o=a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[a]||getComputedStyle(e).getPropertyValue(o)||"0";return n?convertPxToUnit(e,r,n):r}}function getAnimationType(e,a){if(is.dom(e)&&!is.inp(e)&&(!is.nil(getAttribute(e,a))||is.svg(e)&&e[a]))return"attribute";if(is.dom(e)&&arrayContains(validTransforms,a))return"transform";if(is.dom(e)&&a!=="transform"&&getCSSValue(e,a))return"css";if(e[a]!=null)return"object"}function getElementTransforms(e){if(is.dom(e)){for(var a=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,o=new Map,r;r=n.exec(a);)o.set(r[1],r[2]);return o}}function getTransformValue(e,a,n,o){var r=stringContains(a,"scale")?1:0+getTransformUnit(a),l=getElementTransforms(e).get(a)||r;return n&&(n.transforms.list.set(a,l),n.transforms.last=a),o?convertPxToUnit(e,l,o):l}function getOriginalTargetValue(e,a,n,o){switch(getAnimationType(e,a)){case"transform":return getTransformValue(e,a,o,n);case"css":return getCSSValue(e,a,n);case"attribute":return getAttribute(e,a);default:return e[a]||0}}function getRelativeValue(e,a){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var o=getUnit(e)||0,r=parseFloat(a),l=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+l+o;case"-":return r-l+o;case"*":return r*l+o}}function validateValue(e,a){if(is.col(e))return colorToRgb(e);if(/\s/g.test(e))return e;var n=getUnit(e),o=n?e.substr(0,e.length-n.length):e;return a?o+a:o}function getDistance(e,a){return Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2))}function getCircleLength(e){return Math.PI*2*getAttribute(e,"r")}function getRectLength(e){return getAttribute(e,"width")*2+getAttribute(e,"height")*2}function getLineLength(e){return getDistance({x:getAttribute(e,"x1"),y:getAttribute(e,"y1")},{x:getAttribute(e,"x2"),y:getAttribute(e,"y2")})}function getPolylineLength(e){for(var a=e.points,n=0,o,r=0;r<a.numberOfItems;r++){var l=a.getItem(r);r>0&&(n+=getDistance(o,l)),o=l}return n}function getPolygonLength(e){var a=e.points;return getPolylineLength(e)+getDistance(a.getItem(a.numberOfItems-1),a.getItem(0))}function getTotalLength(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return getCircleLength(e);case"rect":return getRectLength(e);case"line":return getLineLength(e);case"polyline":return getPolylineLength(e);case"polygon":return getPolygonLength(e)}}function setDashoffset(e){var a=getTotalLength(e);return e.setAttribute("stroke-dasharray",a),a}function getParentSvgEl(e){for(var a=e.parentNode;is.svg(a)&&is.svg(a.parentNode);)a=a.parentNode;return a}function getParentSvg(e,a){var n=a||{},o=n.el||getParentSvgEl(e),r=o.getBoundingClientRect(),l=getAttribute(o,"viewBox"),i=r.width,d=r.height,s=n.viewBox||(l?l.split(" "):[0,0,i,d]);return{el:o,viewBox:s,x:s[0]/1,y:s[1]/1,w:i,h:d,vW:s[2],vH:s[3]}}function getPath(e,a){var n=is.str(e)?selectString(e)[0]:e,o=a||100;return function(r){return{property:r,el:n,svg:getParentSvg(n),totalLength:getTotalLength(n)*(o/100)}}}function getPathProgress(e,a,n){function o(c){c===void 0&&(c=0);var g=a+c>=1?a+c:0;return e.el.getPointAtLength(g)}var r=getParentSvg(e.el,e.svg),l=o(),i=o(-1),d=o(1),s=n?1:r.w/r.vW,v=n?1:r.h/r.vH;switch(e.property){case"x":return(l.x-r.x)*s;case"y":return(l.y-r.y)*v;case"angle":return Math.atan2(d.y-i.y,d.x-i.x)*180/Math.PI}}function decomposeValue(e,a){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,o=validateValue(is.pth(e)?e.totalLength:e,a)+"";return{original:o,numbers:o.match(n)?o.match(n).map(Number):[0],strings:is.str(e)||a?o.split(n):[]}}function parseTargets(e){var a=e?flattenArray(is.arr(e)?e.map(toArray):toArray(e)):[];return filterArray(a,function(n,o,r){return r.indexOf(n)===o})}function getAnimatables(e){var a=parseTargets(e);return a.map(function(n,o){return{target:n,id:o,total:a.length,transforms:{list:getElementTransforms(n)}}})}function normalizePropertyTweens(e,a){var n=cloneObject(a);if(/^spring/.test(n.easing)&&(n.duration=spring(n.easing)),is.arr(e)){var o=e.length,r=o===2&&!is.obj(e[0]);r?e={value:e}:is.fnc(a.duration)||(n.duration=a.duration/o)}var l=is.arr(e)?e:[e];return l.map(function(i,d){var s=is.obj(i)&&!is.pth(i)?i:{value:i};return is.und(s.delay)&&(s.delay=d?0:a.delay),is.und(s.endDelay)&&(s.endDelay=d===l.length-1?a.endDelay:0),s}).map(function(i){return mergeObjects(i,n)})}function flattenKeyframes(e){for(var a=filterArray(flattenArray(e.map(function(l){return Object.keys(l)})),function(l){return is.key(l)}).reduce(function(l,i){return l.indexOf(i)<0&&l.push(i),l},[]),n={},o=function(l){var i=a[l];n[i]=e.map(function(d){var s={};for(var v in d)is.key(v)?v==i&&(s.value=d[v]):s[v]=d[v];return s})},r=0;r<a.length;r++)o(r);return n}function getProperties(e,a){var n=[],o=a.keyframes;o&&(a=mergeObjects(flattenKeyframes(o),a));for(var r in a)is.key(r)&&n.push({name:r,tweens:normalizePropertyTweens(a[r],e)});return n}function normalizeTweenValues(e,a){var n={};for(var o in e){var r=getFunctionValue(e[o],a);is.arr(r)&&(r=r.map(function(l){return getFunctionValue(l,a)}),r.length===1&&(r=r[0])),n[o]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function normalizeTweens(e,a){var n;return e.tweens.map(function(o){var r=normalizeTweenValues(o,a),l=r.value,i=is.arr(l)?l[1]:l,d=getUnit(i),s=getOriginalTargetValue(a.target,e.name,d,a),v=n?n.to.original:s,c=is.arr(l)?l[0]:v,g=getUnit(c)||getUnit(s),V=d||g;return is.und(i)&&(i=v),r.from=decomposeValue(c,V),r.to=decomposeValue(getRelativeValue(i,c),V),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=parseEasings(r.easing,r.duration),r.isPath=is.pth(l),r.isPathTargetInsideSVG=r.isPath&&is.svg(a.target),r.isColor=is.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}var setProgressValue={css:function(e,a,n){return e.style[a]=n},attribute:function(e,a,n){return e.setAttribute(a,n)},object:function(e,a,n){return e[a]=n},transform:function(e,a,n,o,r){if(o.list.set(a,n),a===o.last||r){var l="";o.list.forEach(function(i,d){l+=d+"("+i+") "}),e.style.transform=l}}};function setTargetsValue(e,a){var n=getAnimatables(e);n.forEach(function(o){for(var r in a){var l=getFunctionValue(a[r],o),i=o.target,d=getUnit(l),s=getOriginalTargetValue(i,r,d,o),v=d||getUnit(s),c=getRelativeValue(validateValue(l,v),s),g=getAnimationType(i,r);setProgressValue[g](i,r,c,o.transforms,!0)}})}function createAnimation(e,a){var n=getAnimationType(e.target,a.name);if(n){var o=normalizeTweens(a,e),r=o[o.length-1];return{type:n,property:a.name,animatable:e,tweens:o,duration:r.end,delay:o[0].delay,endDelay:r.endDelay}}}function getAnimations(e,a){return filterArray(flattenArray(e.map(function(n){return a.map(function(o){return createAnimation(n,o)})})),function(n){return!is.und(n)})}function getInstanceTimings(e,a){var n=e.length,o=function(l){return l.timelineOffset?l.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(l){return o(l)+l.duration})):a.duration,r.delay=n?Math.min.apply(Math,e.map(function(l){return o(l)+l.delay})):a.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(l){return o(l)+l.duration-l.endDelay})):a.endDelay,r}var instanceID=0;function createNewInstance(e){var a=replaceObjectProps(defaultInstanceSettings,e),n=replaceObjectProps(defaultTweenSettings,e),o=getProperties(n,e),r=getAnimatables(e.targets),l=getAnimations(r,o),i=getInstanceTimings(l,n),d=instanceID;return instanceID++,mergeObjects(a,{id:d,children:[],animatables:r,animations:l,duration:i.duration,delay:i.delay,endDelay:i.endDelay})}var activeInstances=[],engine=function(){var e;function a(){!e&&(!isDocumentHidden()||!anime.suspendWhenDocumentHidden)&&activeInstances.length>0&&(e=requestAnimationFrame(n))}function n(r){for(var l=activeInstances.length,i=0;i<l;){var d=activeInstances[i];d.paused?(activeInstances.splice(i,1),l--):(d.tick(r),i++)}e=i>0?requestAnimationFrame(n):void 0}function o(){anime.suspendWhenDocumentHidden&&(isDocumentHidden()?e=cancelAnimationFrame(e):(activeInstances.forEach(function(r){return r._onDocumentVisibility()}),engine()))}return typeof document<"u"&&document.addEventListener("visibilitychange",o),a}();function isDocumentHidden(){return!!document&&document.hidden}function anime(e){e===void 0&&(e={});var a=0,n=0,o=0,r,l=0,i=null;function d(b){var m=window.Promise&&new Promise(function(f){return i=f});return b.finished=m,m}var s=createNewInstance(e);d(s);function v(){var b=s.direction;b!=="alternate"&&(s.direction=b!=="normal"?"normal":"reverse"),s.reversed=!s.reversed,r.forEach(function(m){return m.reversed=s.reversed})}function c(b){return s.reversed?s.duration-b:b}function g(){a=0,n=c(s.currentTime)*(1/anime.speed)}function V(b,m){m&&m.seek(b-m.timelineOffset)}function k(b){if(s.reversePlayback)for(var f=l;f--;)V(b,r[f]);else for(var m=0;m<l;m++)V(b,r[m])}function p(b){for(var m=0,f=s.animations,_=f.length;m<_;){var x=f[m],P=x.animatable,N=x.tweens,E=N.length-1,B=N[E];E&&(B=filterArray(N,function(j){return b<j.end})[0]||B);for(var $=minMax(b-B.start-B.delay,0,B.duration)/B.duration,y=isNaN($)?1:B.easing($),h=B.to.strings,w=B.round,O=[],M=B.to.numbers.length,S=void 0,C=0;C<M;C++){var T=void 0,G=B.to.numbers[C],A=B.from.numbers[C]||0;B.isPath?T=getPathProgress(B.value,y*G,B.isPathTargetInsideSVG):T=A+y*(G-A),w&&(B.isColor&&C>2||(T=Math.round(T*w)/w)),O.push(T)}var L=h.length;if(!L)S=O[0];else{S=h[0];for(var F=0;F<L;F++){h[F];var R=h[F+1],U=O[F];isNaN(U)||(R?S+=U+R:S+=U+" ")}}setProgressValue[x.type](P.target,x.property,S,P.transforms),x.currentValue=S,m++}}function u(b){s[b]&&!s.passThrough&&s[b](s)}function I(){s.remaining&&s.remaining!==!0&&s.remaining--}function D(b){var m=s.duration,f=s.delay,_=m-s.endDelay,x=c(b);s.progress=minMax(x/m*100,0,100),s.reversePlayback=x<s.currentTime,r&&k(x),!s.began&&s.currentTime>0&&(s.began=!0,u("begin")),!s.loopBegan&&s.currentTime>0&&(s.loopBegan=!0,u("loopBegin")),x<=f&&s.currentTime!==0&&p(0),(x>=_&&s.currentTime!==m||!m)&&p(m),x>f&&x<_?(s.changeBegan||(s.changeBegan=!0,s.changeCompleted=!1,u("changeBegin")),u("change"),p(x)):s.changeBegan&&(s.changeCompleted=!0,s.changeBegan=!1,u("changeComplete")),s.currentTime=minMax(x,0,m),s.began&&u("update"),b>=m&&(n=0,I(),s.remaining?(a=o,u("loopComplete"),s.loopBegan=!1,s.direction==="alternate"&&v()):(s.paused=!0,s.completed||(s.completed=!0,u("loopComplete"),u("complete"),!s.passThrough&&"Promise"in window&&(i(),d(s)))))}return s.reset=function(){var b=s.direction;s.passThrough=!1,s.currentTime=0,s.progress=0,s.paused=!0,s.began=!1,s.loopBegan=!1,s.changeBegan=!1,s.completed=!1,s.changeCompleted=!1,s.reversePlayback=!1,s.reversed=b==="reverse",s.remaining=s.loop,r=s.children,l=r.length;for(var m=l;m--;)s.children[m].reset();(s.reversed&&s.loop!==!0||b==="alternate"&&s.loop===1)&&s.remaining++,p(s.reversed?s.duration:0)},s._onDocumentVisibility=g,s.set=function(b,m){return setTargetsValue(b,m),s},s.tick=function(b){o=b,a||(a=o),D((o+(n-a))*anime.speed)},s.seek=function(b){D(c(b))},s.pause=function(){s.paused=!0,g()},s.play=function(){s.paused&&(s.completed&&s.reset(),s.paused=!1,activeInstances.push(s),g(),engine())},s.reverse=function(){v(),s.completed=!s.reversed,g()},s.restart=function(){s.reset(),s.play()},s.remove=function(b){var m=parseTargets(b);removeTargetsFromInstance(m,s)},s.reset(),s.autoplay&&s.play(),s}function removeTargetsFromAnimations(e,a){for(var n=a.length;n--;)arrayContains(e,a[n].animatable.target)&&a.splice(n,1)}function removeTargetsFromInstance(e,a){var n=a.animations,o=a.children;removeTargetsFromAnimations(e,n);for(var r=o.length;r--;){var l=o[r],i=l.animations;removeTargetsFromAnimations(e,i),!i.length&&!l.children.length&&o.splice(r,1)}!n.length&&!o.length&&a.pause()}function removeTargetsFromActiveInstances(e){for(var a=parseTargets(e),n=activeInstances.length;n--;){var o=activeInstances[n];removeTargetsFromInstance(a,o)}}function stagger(e,a){a===void 0&&(a={});var n=a.direction||"normal",o=a.easing?parseEasings(a.easing):null,r=a.grid,l=a.axis,i=a.from||0,d=i==="first",s=i==="center",v=i==="last",c=is.arr(e),g=parseFloat(c?e[0]:e),V=c?parseFloat(e[1]):0,k=getUnit(c?e[1]:e)||0,p=a.start||0+(c?g:0),u=[],I=0;return function(D,b,m){if(d&&(i=0),s&&(i=(m-1)/2),v&&(i=m-1),!u.length){for(var f=0;f<m;f++){if(!r)u.push(Math.abs(i-f));else{var _=s?(r[0]-1)/2:i%r[0],x=s?(r[1]-1)/2:Math.floor(i/r[0]),P=f%r[0],N=Math.floor(f/r[0]),E=_-P,B=x-N,$=Math.sqrt(E*E+B*B);l==="x"&&($=-E),l==="y"&&($=-B),u.push($)}I=Math.max.apply(Math,u)}o&&(u=u.map(function(h){return o(h/I)*I})),n==="reverse"&&(u=u.map(function(h){return l?h<0?h*-1:-h:Math.abs(I-h)}))}var y=c?(V-g)/I:g;return p+y*(Math.round(u[b]*100)/100)+k}}function timeline(e){e===void 0&&(e={});var a=anime(e);return a.duration=0,a.add=function(n,o){var r=activeInstances.indexOf(a),l=a.children;r>-1&&activeInstances.splice(r,1);function i(V){V.passThrough=!0}for(var d=0;d<l.length;d++)i(l[d]);var s=mergeObjects(n,replaceObjectProps(defaultTweenSettings,e));s.targets=s.targets||e.targets;var v=a.duration;s.autoplay=!1,s.direction=a.direction,s.timelineOffset=is.und(o)?v:getRelativeValue(o,v),i(a),a.seek(s.timelineOffset);var c=anime(s);i(c),l.push(c);var g=getInstanceTimings(l,e);return a.delay=g.delay,a.endDelay=g.endDelay,a.duration=g.duration,a.seek(0),a.reset(),a.autoplay&&a.play(),a},a}anime.version="3.2.1";anime.speed=1;anime.suspendWhenDocumentHidden=!0;anime.running=activeInstances;anime.remove=removeTargetsFromActiveInstances;anime.get=getOriginalTargetValue;anime.set=setTargetsValue;anime.convertPx=convertPxToUnit;anime.path=getPath;anime.setDashoffset=setDashoffset;anime.stagger=stagger;anime.timeline=timeline;anime.easing=parseEasings;anime.penner=penner;anime.random=function(e,a){return Math.floor(Math.random()*(a-e+1))+e};const _hoisted_1$3={class:"h-full w-full text-center content-center"},_hoisted_2$3={class:""},_hoisted_3$3={class:"flex justify-between"},_hoisted_4$3={class:"calculator"},_hoisted_5$2={class:"answer"},_hoisted_6$2={class:"display"},_hoisted_7$2={class:"parameter-list-container h-full"},_hoisted_8$1={key:0,class:"ml-2"},_hoisted_9$1={key:1},_hoisted_10$1={key:0,class:"mt-2"},_sfc_main$3={__name:"Calculator",props:["params"],setup(__props){const{init}=useToast(),props=__props,selectedDataEdit=ref(!1);inject("onupdated");const factoryOptions=ref([]);ref(null);const parameters=ref([]),timesG=ref([]);ref("");const logList=ref(""),current=ref(""),answer=ref(""),operatorClicked=ref(!0),{t,locale}=useI18n(),result=reactive({Calculate:[],Comment:"",id:props.params.data.GparamID,TimeID:props.params.data.id}),append=e=>{if(console.log("Input received:",e),operatorClicked.value&&(current.value="",operatorClicked.value=!1),typeof e=="object"&&e!==null&&e.GName){animateNumber(`n${e.id}`);const a=result.Calculate[result.Calculate.length-1];Array.isArray(a)&&a[0].startsWith("Tid=")?a.push(`Tid=${e.id}`):result.Calculate.push([`Tid=${e.id}`]),current.value+=`[${e.Name}]`}else typeof e=="string"||typeof e=="number"?(animateNumber(`n${e}`),result.Calculate.push(e),current.value+=e):typeof e=="object"&&e!==null&&e.Name?(animateNumber(`n${e.id}`),result.Calculate.push(`Pid=${e.id}`),current.value+=`[${e.Name}]`):console.warn("Unhandled input type:",e);console.log("Updated Calculate:",result.Calculate)},addtoLog=e=>{operatorClicked.value||(logList.value+=`${current.value} ${e} `,current.value="",operatorClicked.value=!0,result.Calculate.push(e))},animateNumber=e=>{let a=anime.timeline({targets:`#${e}`,duration:250,easing:"easeInOutCubic"});a.add({backgroundColor:"#c1e3ff"}),a.add({backgroundColor:"#f4faff"})},animateOperator=e=>{let a=anime.timeline({targets:`#${e}`,duration:250,easing:"easeInOutCubic"});a.add({backgroundColor:"#a6daff"}),a.add({backgroundColor:"#d9efff"})},clear=()=>{animateOperator("clear"),current.value="",answer.value="",logList.value="",result.Calculate=[],operatorClicked.value=!1},sign=()=>{animateOperator("sign"),current.value!==""&&(current.value=current.value.charAt(0)==="-"?current.value.slice(1):`-${current.value}`)},percent=()=>{animateOperator("percent"),current.value!==""&&(current.value=`${parseFloat(current.value)/100}`)},dot=()=>{animateNumber("dot"),current.value.includes(".")||append(".")},plus=()=>{animateOperator("plus"),addtoLog("+")},minus=()=>{animateOperator("minus"),addtoLog("-")},times=()=>{animateOperator("times"),addtoLog("*")},divide=()=>{animateOperator("divide"),addtoLog("/")},equal=()=>{animateOperator("equal"),operatorClicked.value?answer.value="WHAT?!!":answer.value=eval(logList.value+current.value)},fetchGraphics=async()=>{try{const e=await axios.get("/structure");factoryOptions.value=e.data.map(l=>({value:l.id,text:locale.value==="uz"?l.Name:l.NameRus}));const o=(await axios.get(`getForFormule/${props.params.data.GPid}`)).data.filter(l=>l.parameters!==null&&l.parameters!==void 0).sort((l,i)=>{const d=l.formula.OrderNumber??1/0,s=i.formula.OrderNumber??1/0;return d-s});parameters.value=o.map(l=>l.parameters).filter(l=>l!=null),console.log("Tartiblangan parametrlari:",parameters.value);const r=await axios.get(`getForFormuleTimes/${props.params.data.GraphicsID}`);timesG.value=r.data.map(l=>({...l,StartTime:l.StartTime?l.StartTime.substring(0,5):null,EndTime:l.EndTime?l.EndTime.substring(0,5):null,Name:l.Name?l.Name.substring(0,5):null}))}catch(e){console.error("Error fetching graphics data:",e)}},onSubmit=async()=>{try{const{data:e}=await axios.post("/calculator",result);e.status===200?(init({message:t("login.successMessage"),color:"success"}),result.Calculate="",result.Comment="",selectedDataEdit.value=!1):console.error("Error saving data:",e.message)}catch(e){console.error("Error saving data:",e)}};return watch(()=>result.StructureID,e=>{}),(e,a)=>{const n=resolveComponent("VaTextarea"),o=resolveComponent("VaModal");return openBlock(),createElementBlock("main",_hoisted_1$3,[createVNode(unref(VaButton),{round:"",icon:"calculate",preset:"primary",class:"mt-1",onClick:a[0]||(a[0]=r=>(selectedDataEdit.value=!0,fetchGraphics))}),createVNode(o,{size:"large",modelValue:selectedDataEdit.value,"onUpdate:modelValue":a[14]||(a[14]=r=>selectedDataEdit.value=r),"ok-text":unref(t)("modals.apply"),"cancel-text":unref(t)("modals.cancel"),onOk:onSubmit,onClose:a[15]||(a[15]=r=>selectedDataEdit.value=!1),"close-button":""},{default:withCtx(()=>[createBaseVNode("h3",{class:"va-h3",onVnodeMounted:fetchGraphics},toDisplayString(unref(t)("modals.addFormula")),513),createBaseVNode("div",_hoisted_2$3,[createVNode(unref(VaForm),{ref:"formRef",class:"flex flex-col items-baseline gap-1"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("div",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$2,toDisplayString(answer.value),1),createBaseVNode("div",_hoisted_6$2,toDisplayString(logList.value+current.value),1),createBaseVNode("div",{onClick:clear,id:"clear",class:"btn operator"},"C"),createBaseVNode("div",{onClick:sign,id:"sign",class:"btn operator"},"+/-"),createBaseVNode("div",{onClick:percent,id:"percent",class:"btn operator"}," % "),createBaseVNode("div",{onClick:divide,id:"divide",class:"btn operator"}," / "),createBaseVNode("div",{onClick:a[1]||(a[1]=r=>append("7")),id:"n7",class:"btn"},"7"),createBaseVNode("div",{onClick:a[2]||(a[2]=r=>append("8")),id:"n8",class:"btn"},"8"),createBaseVNode("div",{onClick:a[3]||(a[3]=r=>append("9")),id:"n9",class:"btn"},"9"),createBaseVNode("div",{onClick:times,id:"times",class:"btn operator"},"*"),createBaseVNode("div",{onClick:a[4]||(a[4]=r=>append("4")),id:"n4",class:"btn"},"4"),createBaseVNode("div",{onClick:a[5]||(a[5]=r=>append("5")),id:"n5",class:"btn"},"5"),createBaseVNode("div",{onClick:a[6]||(a[6]=r=>append("6")),id:"n6",class:"btn"},"6"),createBaseVNode("div",{onClick:minus,id:"minus",class:"btn operator"},"-"),createBaseVNode("div",{onClick:a[7]||(a[7]=r=>append("1")),id:"n1",class:"btn"},"1"),createBaseVNode("div",{onClick:a[8]||(a[8]=r=>append("2")),id:"n2",class:"btn"},"2"),createBaseVNode("div",{onClick:a[9]||(a[9]=r=>append("3")),id:"n3",class:"btn"},"3"),createBaseVNode("div",{onClick:plus,id:"plus",class:"btn operator"},"+"),createBaseVNode("div",{onClick:a[10]||(a[10]=r=>append("0")),id:"n0",class:"zero"},"0"),createBaseVNode("div",{onClick:dot,id:"dot",class:"btn"},"."),createBaseVNode("div",{onClick:equal,id:"equal",class:"btn operator"},"="),createBaseVNode("div",{onClick:a[11]||(a[11]=r=>append("(")),id:"leftBracket",class:"btn p-4"},"("),createBaseVNode("div",{onClick:a[12]||(a[12]=r=>append(")")),id:"rightBracket",class:"btn p-4"},")")]),createBaseVNode("div",_hoisted_7$2,[parameters.value.length?(openBlock(),createElementBlock("div",_hoisted_8$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(parameters.value.filter(r=>r!=null),(r,l)=>(openBlock(),createBlock(unref(VaButton),{key:r.id,preset:"primary",class:"mr-2 mb-2","border-color":"primary",round:"",style:{borderRadius:"0"},onClick:i=>append(r)},{default:withCtx(()=>[createTextVNode(toDisplayString(r.Name),1)]),_:2},1032,["onClick"]))),128))])):(openBlock(),createElementBlock("div",_hoisted_9$1," Loading parameters... "))])]),timesG.value.length?(openBlock(),createElementBlock("div",_hoisted_10$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(timesG.value,(r,l)=>(openBlock(),createBlock(unref(VaButton),{preset:"primary",class:"mr-2 mb-2","border-color":"primary",round:"",key:r.id,style:{borderRadius:"0"},onClick:i=>append(r)},{default:withCtx(()=>[createTextVNode(toDisplayString(r.Name),1)]),_:2},1032,["onClick"]))),128))])):createCommentVNode("",!0),createVNode(n,{class:"w-full",modelValue:result.Comment,"onUpdate:modelValue":a[13]||(a[13]=r=>result.Comment=r),"max-length":125,label:unref(t)("form.comment")},null,8,["modelValue","label"])]),_:1},512)])]),_:1},8,["modelValue","ok-text","cancel-text"])])}}},_hoisted_1$2={class:"h-full w-full text-center content-center"},_hoisted_2$2={class:""},_hoisted_3$2={class:"flex justify-between"},_hoisted_4$2={class:"calculator"},_hoisted_5$1={class:"answer"},_hoisted_6$1={class:"display"},_hoisted_7$1={class:"parameter-list-container h-full"},_hoisted_8={key:0,class:"ml-2"},_hoisted_9={key:1},_hoisted_10={key:0,class:"mt-2"},_sfc_main$2={__name:"EditCalculator",props:["params"],setup(__props){const{init}=useToast(),props=__props,selectedDataEdit=ref(!1);inject("onupdated"),ref([]),ref(null);const parameters=ref([]),timesG=ref([]);ref("");const logList=ref(""),current=ref(""),answer=ref(""),operatorClicked=ref(!0),{t,locale}=useI18n(),result=reactive({Calculate:[],Comment:"",id:props.params.data.GparamID,TimeID:props.params.data.id}),append=e=>{console.log(e),operatorClicked.value&&(current.value="",operatorClicked.value=!1),typeof e=="object"&&e!==null&&e.GName?(animateNumber(`n${e.id}`),result.Calculate.push(`Tid=${e.id}`),current.value+=`[${e.Name}]`):typeof e=="string"?(animateNumber(`n${e}`),result.Calculate.push(e),current.value+=e):typeof e=="object"&&e!==null&&e.Name?(animateNumber(`n${e.id}`),result.Calculate.push(`Pid=${e.id}`),current.value+=`[${e.Name}]`):typeof e=="object"&&e!==null&&e.GName&&(animateNumber(`n${e.id}`),result.Calculate.push(`Tid=${e.id}`),current.value+=`[${e.GName}]`)},addtoLog=e=>{operatorClicked.value||(logList.value+=`${current.value} ${e} `,current.value="",operatorClicked.value=!0,result.Calculate.push(e))},animateNumber=e=>{let a=anime.timeline({targets:`#${e}`,duration:250,easing:"easeInOutCubic"});a.add({backgroundColor:"#c1e3ff"}),a.add({backgroundColor:"#f4faff"})},animateOperator=e=>{let a=anime.timeline({targets:`#${e}`,duration:250,easing:"easeInOutCubic"});a.add({backgroundColor:"#a6daff"}),a.add({backgroundColor:"#d9efff"})},clear=()=>{animateOperator("clear"),current.value="",answer.value="",logList.value="",result.Calculate=[],operatorClicked.value=!1},sign=()=>{animateOperator("sign"),current.value!==""&&(current.value=current.value.charAt(0)==="-"?current.value.slice(1):`-${current.value}`)},percent=()=>{animateOperator("percent"),current.value!==""&&(current.value=`${parseFloat(current.value)/100}`)},dot=()=>{animateNumber("dot"),current.value.includes(".")||append(".")},plus=()=>{animateOperator("plus"),addtoLog("+")},minus=()=>{animateOperator("minus"),addtoLog("-")},times=()=>{animateOperator("times"),addtoLog("*")},divide=()=>{animateOperator("divide"),addtoLog("/")},equal=()=>{animateOperator("equal"),operatorClicked.value?answer.value="WHAT?!!":answer.value=eval(logList.value+current.value)},fetchParameterById=async e=>{try{return(await axios.get(`/param/${e}`)).data.Name}catch(a){return console.error("Parametrni olishda xato:",a),`Pid=${e}`}},fetchTimeById=async e=>{try{const n=(await axios.get(`/time/${e}`)).data.Name;return n?n.substring(0,5):`[Tid=${Name}]`}catch(a){return console.error("Vaqtni olishda xato:",a),`Tid=${e}`}},fetchGraphics=async()=>{try{const e=await axios.get(`getForFormuleId/${props.params.data.GparamID}/${props.params.data.id}`);console.log(e);const a=e.data.Calculate;result.Comment=e.data.Comment||"",result.Calculate=await Promise.all(a.map(async i=>{if(i.startsWith("Pid=")){const d=i.split("=")[1];return`[${await fetchParameterById(d)}]`}else if(i.startsWith("Tid=")){const d=i.split("=")[1];return`[${await fetchTimeById(d)}]`}return i})),current.value=result.Calculate.join("");const r=(await axios.get(`getForFormule/${props.params.data.GPid}`)).data.filter(i=>i.parameters!==null&&i.parameters!==void 0).sort((i,d)=>{const s=i.formula.OrderNumber??1/0,v=d.formula.OrderNumber??1/0;return s-v});parameters.value=r.map(i=>i.parameters).filter(i=>i!=null),console.log("Tartiblangan parametrlari:",parameters.value);const l=await axios.get(`getForFormuleTimes/${props.params.data.GraphicsID}`);timesG.value=l.data.map(i=>({...i,StartTime:i.StartTime?i.StartTime.substring(0,5):null,EndTime:i.EndTime?i.EndTime.substring(0,5):null,Name:i.Name?i.Name.substring(0,5):null}))}catch(e){console.error("Error fetching graphics data:",e)}},onSubmit=async()=>{try{const{data:e}=await axios.put("/calculator",result);e.status===200?(result.Calculate="",result.ParametersId="",result.Comment="",init({message:t("login.successMessage"),color:"success"}),selectedDataEdit.value=!1):console.error("Error saving data:",e.message)}catch(e){console.error("Error saving data:",e)}};return watch(()=>result.StructureID,e=>{}),(e,a)=>{const n=resolveComponent("VaTextarea"),o=resolveComponent("VaModal");return openBlock(),createElementBlock("main",_hoisted_1$2,[createVNode(unref(VaButton),{round:"",icon:"edit",preset:"primary",class:"mt-1",onClick:a[0]||(a[0]=r=>(selectedDataEdit.value=!0,fetchGraphics))}),createVNode(o,{size:"large",modelValue:selectedDataEdit.value,"onUpdate:modelValue":a[14]||(a[14]=r=>selectedDataEdit.value=r),"ok-text":unref(t)("modals.apply"),"cancel-text":unref(t)("modals.cancel"),onOk:onSubmit,onClose:a[15]||(a[15]=r=>selectedDataEdit.value=!1),"close-button":""},{default:withCtx(()=>[createBaseVNode("h3",{class:"va-h3",onVnodeMounted:fetchGraphics},toDisplayString(unref(t)("modals.editFactory")),513),createBaseVNode("div",_hoisted_2$2,[createVNode(unref(VaForm),{ref:"formRef",class:"flex flex-col items-baseline gap-1"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$1,toDisplayString(answer.value),1),createBaseVNode("div",_hoisted_6$1,toDisplayString(logList.value+current.value),1),createBaseVNode("div",{onClick:clear,id:"clear",class:"btn operator"},"C"),createBaseVNode("div",{onClick:sign,id:"sign",class:"btn operator"},"+/-"),createBaseVNode("div",{onClick:percent,id:"percent",class:"btn operator"}," % "),createBaseVNode("div",{onClick:divide,id:"divide",class:"btn operator"}," / "),createBaseVNode("div",{onClick:a[1]||(a[1]=r=>append("7")),id:"n7",class:"btn"},"7"),createBaseVNode("div",{onClick:a[2]||(a[2]=r=>append("8")),id:"n8",class:"btn"},"8"),createBaseVNode("div",{onClick:a[3]||(a[3]=r=>append("9")),id:"n9",class:"btn"},"9"),createBaseVNode("div",{onClick:times,id:"times",class:"btn operator"},"*"),createBaseVNode("div",{onClick:a[4]||(a[4]=r=>append("4")),id:"n4",class:"btn"},"4"),createBaseVNode("div",{onClick:a[5]||(a[5]=r=>append("5")),id:"n5",class:"btn"},"5"),createBaseVNode("div",{onClick:a[6]||(a[6]=r=>append("6")),id:"n6",class:"btn"},"6"),createBaseVNode("div",{onClick:minus,id:"minus",class:"btn operator"},"-"),createBaseVNode("div",{onClick:a[7]||(a[7]=r=>append("1")),id:"n1",class:"btn"},"1"),createBaseVNode("div",{onClick:a[8]||(a[8]=r=>append("2")),id:"n2",class:"btn"},"2"),createBaseVNode("div",{onClick:a[9]||(a[9]=r=>append("3")),id:"n3",class:"btn"},"3"),createBaseVNode("div",{onClick:plus,id:"plus",class:"btn operator"},"+"),createBaseVNode("div",{onClick:a[10]||(a[10]=r=>append("0")),id:"n0",class:"zero"},"0"),createBaseVNode("div",{onClick:dot,id:"dot",class:"btn"},"."),createBaseVNode("div",{onClick:equal,id:"equal",class:"btn operator"},"="),createBaseVNode("div",{onClick:a[11]||(a[11]=r=>append("(")),id:"leftBracket",class:"btn p-4"},"("),createBaseVNode("div",{onClick:a[12]||(a[12]=r=>append(")")),id:"rightBracket",class:"btn p-4"},")")]),createBaseVNode("div",_hoisted_7$1,[parameters.value.length?(openBlock(),createElementBlock("div",_hoisted_8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(parameters.value.filter(r=>r!=null),(r,l)=>(openBlock(),createBlock(unref(VaButton),{key:r.id,preset:"primary",class:"mr-2 mb-2","border-color":"primary",round:"",style:{borderRadius:"0"},onClick:i=>append(r)},{default:withCtx(()=>[createTextVNode(toDisplayString(r.Name),1)]),_:2},1032,["onClick"]))),128))])):(openBlock(),createElementBlock("div",_hoisted_9," Loading parameters... "))])]),timesG.value.length?(openBlock(),createElementBlock("div",_hoisted_10,[(openBlock(!0),createElementBlock(Fragment,null,renderList(timesG.value,(r,l)=>(openBlock(),createBlock(unref(VaButton),{preset:"primary",class:"mr-2 mb-2","border-color":"primary",round:"",key:r.id,style:{borderRadius:"0"},onClick:i=>append(r)},{default:withCtx(()=>[createTextVNode(toDisplayString(r.Name),1)]),_:2},1032,["onClick"]))),128))])):createCommentVNode("",!0),createVNode(n,{class:"w-full",modelValue:result.Comment,"onUpdate:modelValue":a[13]||(a[13]=r=>result.Comment=r),"max-length":125,label:unref(t)("form.comment")},null,8,["modelValue","label"])]),_:1},512)])]),_:1},8,["modelValue","ok-text","cancel-text"])])}}},_hoisted_1$1={class:"h-full w-full text-center content-center"},_hoisted_2$1={class:"va-h3"},_hoisted_3$1={class:"flex justify-between"},_hoisted_4$1={class:"h-full w-full"},_sfc_main$1={__name:"Times",props:["params"],setup(e){const{locale:a,t:n}=useI18n(),{init:o}=useToast(),r=ref(!1),l=ref([]),i=ref(null);ref(!1),ref([]),ref([]);const d=e,s=reactive({GraphicId:d.params.data.GrapicsID,ChangeId:"",Name:"",StartTime:"",EndTime:""});function v(p){i.value.applyTransaction({remove:[p]})}function c(p,u){p.setData(u)}provide("ondeleted",v),provide("onupdated",c);const g=computed(()=>[{headerName:n("table.headerRow"),valueGetter:"node.rowIndex + 1",width:80},{headerName:"ID",field:"id",width:80},{headerName:n("table.change"),field:"Change",width:120},{headerName:n("table.graphicName"),field:"GName",flex:1},{headerName:n("table.name"),field:"Name",flex:1,valueFormatter:p=>format(new Date(`1970-01-01T${p.value}`),"HH:mm")},{headerName:n("table.startTime"),field:"StartTime",valueFormatter:p=>format(new Date(`1970-01-01T${p.value}`),"HH:mm")},{headerName:n("table.endTime"),field:"EndTime",valueFormatter:p=>format(new Date(`1970-01-01T${p.value}`),"HH:mm")},{cellClass:["px-0"],headerName:"",field:"",width:70,cellRenderer:_sfc_main$2},{cellClass:["px-0"],headerName:"",field:"",width:70,cellRenderer:_sfc_main$3}]),V={sortable:!0,filter:!0},k=async()=>{store.state.GParamID=d.params.data.ParametersID,store.state.GPid=d.params.data.id,store.state.GrapicsID=d.params.data.Gid;try{const p=await axios.get(`/getRowTimes/${s.GraphicId}/${store.state.GParamID}/${store.state.GPid}/${d.params.data.Gid}`);l.value=Array.isArray(p.data)?p.data:p.data.items}catch(p){console.error("Error fetching data:",p)}};return watch(r,p=>{p&&k()}),(p,u)=>{const I=resolveComponent("ag-grid-vue"),D=resolveComponent("VaModal");return openBlock(),createElementBlock("main",_hoisted_1$1,[createVNode(unref(VaButton),{round:"",icon:"functions",preset:"primary",class:"mt-1 w-",onClick:u[0]||(u[0]=()=>{r.value=!0})}),createVNode(D,{modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=b=>r.value=b),"ok-text":null,"cancel-text":null,onClose:u[3]||(u[3]=b=>r.value=!1),"close-button":"",class:"custom-modal",size:"large"},{default:withCtx(()=>[createBaseVNode("h3",_hoisted_2$1,toDisplayString(unref(n)("modals.addFormula")),1),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("main",_hoisted_4$1,[createVNode(I,{rowData:l.value,columnDefs:g.value,defaultColDef:V,animateRows:"true",class:"ag-theme-material",style:{height:"800px",width:"100%"},onGridReady:u[1]||(u[1]=b=>i.value=b.api)},null,8,["rowData","columnDefs"])])])]),_:1},8,["modelValue"])])}}},_hoisted_1={class:"grid grid-rows-[55px,1fr]"},_hoisted_2={class:"flex justify-between"},_hoisted_3={class:"grid grid-cols-2 md:grid-cols-2 gap-2 items-end w-full"},_hoisted_4={class:"grid grid-cols-2 md:grid-cols-3 gap-3 items-end w-full"},_hoisted_5={class:"flex gap-5 flex-wrap w-full"},_hoisted_6={class:"grid grid-cols-2 md:grid-cols-1 gap-1 items-end w-full"},_hoisted_7={class:"flex-grow"},_sfc_main={__name:"ParameterGraphics",props:["id","page"],setup(e){const{init:a}=useToast(),{t:n}=useI18n(),o=e,r=useStore(),l=ref([]),i=ref(null),d=ref(!1),s=ref([]);ref([]);const v=ref([]),c=ref([]),g=ref([]),V=ref([]),k=ref([]),p=ref([]),u=reactive({ParametersID:"",FactoryStructureID:o.id,GrapicsID:"",SourceID:"",CurrentTime:"",EndingTime:"",OrderNumber:"",BlogID:"",GroupID:"",PageId:o.page,WithFormula:null}),I=computed(()=>r.state.user.roles[13]),D=y=>{var h,w;return((w=(h=I.value)==null?void 0:h.pivot)==null?void 0:w[y])==="1"},b=computed(()=>D("create")),m=computed(()=>D("update")),f=computed(()=>D("delete"));function _(y){i.value.applyTransaction({remove:[y]})}function x(y,h){y.setData(h)}provide("ondeleted",_),provide("onupdated",x);const P=computed(()=>{const y=[{headerName:"T/r",valueGetter:"node.rowIndex + 1",width:80},{headerName:"Parametr nomi",field:"PName",flex:1},{headerName:"GMZ tuzilmasi",field:"FName",flex:1},{headerName:"Sahifa nomi",field:"NName",flex:1},{headerName:"Sahifadagi o'rni",field:"OrderNumber",flex:1},{headerName:"Hisoblanishi",field:"ForName",flex:1,cellClassRules:{"highlight-yellow":h=>{var w;return((w=h.data)==null?void 0:w.ForId)==="1"},"highlight-green":h=>{var w;return((w=h.data)==null?void 0:w.ForId)==="2"}}},{headerName:"Grafik",field:"GName"},{headerName:"Joriy etish vaqti",field:"CurrentTime",valueFormatter:h=>{const[w]=h.value.split(" "),[O,M,S]=w.split("-"),C=new Date(O,M-1,S);return format(C,"dd/MM/yyyy")}},{headerName:"Tugatish vaqti",field:"EndingTime",valueFormatter:h=>{const[w]=h.value.split(" "),[O,M,S]=w.split("-"),C=new Date(O,M-1,S);return format(C,"dd/MM/yyyy")}}];return m.value&&y.push({cellClass:["px-0"],headerName:"",field:"",width:70,cellRenderer:_sfc_main$1}),f.value&&y.push({cellClass:["px-0"],headerName:"",field:"",width:70,cellRenderer:_sfc_main$4}),m.value&&y.push({cellClass:["px-0"],headerName:"",field:"",width:70,cellRenderer:_sfc_main$6}),f.value&&y.push({cellClass:["px-0"],headerName:"",field:"",width:70,cellRenderer:_sfc_main$5}),y}),N={sortable:!0,filter:!0},E=async()=>{try{r.state.structureID=o.id;const y=await axios.get(`/withCardId/${o.id}/${o.page}`);l.value=Array.isArray(y.data)?y.data:y.data.items}catch(y){console.error("Error fetching data:",y)}},B=async()=>{try{const y=await axios.get("/param"),h=await axios.get("/structure"),w=await axios.get("/graphics"),O=await axios.get("/blogs"),M=await axios.get("/source"),S=await axios.get("/formula"),C=await axios.get(`/getRowGroupWithId/${o.page}`);s.value=y.data.map(T=>({value:T.Uuid,text:T.Name})),c.value=h.data.map(T=>({value:T.id,text:T.Name})),g.value=w.data.map(T=>({value:T.id,text:T.Name})),V.value=O.data.map(T=>({value:T.id,text:T.Name})),k.value=M.data.map(T=>({value:T.id,text:T.Name})),p.value=S.data.map(T=>({value:T.id,text:T.Name})),v.value=C.data.map(T=>({value:T.id,text:T.Name}))}catch(y){console.error("Error fetching graphics data:",y)}},$=async()=>{try{const{data:y}=await axios.post("/paramsgraph",u);y.status===200?(u.ParametersID="",u.GrapicsID="",u.SourceID="",u.CurrentTime="",u.EndingTime="",u.OrderNumber="",u.BlogID="",u.WithFormula="",u.GroupID="",await E(),a({message:n("login.successMessage"),color:"success"})):console.error("Error saving data:",y.message)}catch(y){console.error("Error saving data:",y)}};return onMounted(()=>{E()}),(y,h)=>{const w=resolveComponent("VaSelect"),O=resolveComponent("VaDatePicker"),M=resolveComponent("VaModal"),S=resolveComponent("ag-grid-vue");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("main",null,[createBaseVNode("div",_hoisted_2,[h[12]||(h[12]=createBaseVNode("span",{class:"flex w-full"},null,-1)),b.value?(openBlock(),createBlock(unref(VaButton),{key:0,onClick:h[0]||(h[0]=C=>d.value=!0),class:"w-14 h-12 mt-1 mr-1",icon:"add"})):createCommentVNode("",!0)]),createVNode(M,{modelValue:d.value,"onUpdate:modelValue":h[10]||(h[10]=C=>d.value=C),"ok-text":unref(n)("modals.apply"),"cancel-text":unref(n)("modals.cancel"),onOk:$,"close-button":""},{default:withCtx(()=>[createBaseVNode("h3",{class:"va-h3",onVnodeMounted:B},toDisplayString(unref(n)("modals.addParamsGrafTitle")),513),createVNode(unref(VaForm),{ref:"formRef",class:"flex flex-col items-baseline gap-2"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3,[createVNode(w,{modelValue:u.ParametersID,"onUpdate:modelValue":h[1]||(h[1]=C=>u.ParametersID=C),"value-by":"value",class:"mb-1",label:unref(n)("menu.params"),options:s.value,searchable:"",clearable:""},null,8,["modelValue","label","options"]),createVNode(w,{modelValue:u.GrapicsID,"onUpdate:modelValue":h[2]||(h[2]=C=>u.GrapicsID=C),"value-by":"value",class:"mb-1",label:unref(n)("menu.graphictimes"),options:g.value,clearable:""},null,8,["modelValue","label","options"])]),createBaseVNode("div",_hoisted_4,[createVNode(w,{modelValue:u.BlogID,"onUpdate:modelValue":h[3]||(h[3]=C=>u.BlogID=C),"value-by":"value",class:"mb-1",label:unref(n)("menu.blogs"),options:V.value,clearable:""},null,8,["modelValue","label","options"]),createVNode(w,{modelValue:u.SourceID,"onUpdate:modelValue":h[4]||(h[4]=C=>u.SourceID=C),"value-by":"value",class:"mb-1",label:unref(n)("menu.sources"),options:k.value,clearable:""},null,8,["modelValue","label","options"]),createVNode(w,{modelValue:u.WithFormula,"onUpdate:modelValue":h[5]||(h[5]=C=>u.WithFormula=C),"value-by":"value",class:"mb-1",label:unref(n)("menu.formula"),options:p.value,clearable:""},null,8,["modelValue","label","options"])]),h[13]||(h[13]=createBaseVNode("div",{class:"grid grid-cols-2 md:grid-cols-1 gap-1 items-end w-full"},null,-1)),h[14]||(h[14]=createBaseVNode("div",{class:"grid grid-cols-2 md:grid-cols-1 gap-1 items-end w-full"},null,-1)),createBaseVNode("div",_hoisted_5,[createVNode(O,{modelValue:u.CurrentTime,"onUpdate:modelValue":h[6]||(h[6]=C=>u.CurrentTime=C),stateful:"","highlight-weekend":""},null,8,["modelValue"]),createVNode(O,{modelValue:u.EndingTime,"onUpdate:modelValue":h[7]||(h[7]=C=>u.EndingTime=C),stateful:"","highlight-weekend":""},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_6,[createVNode(w,{modelValue:u.GroupID,"onUpdate:modelValue":h[8]||(h[8]=C=>u.GroupID=C),"value-by":"value",class:"mb-1",label:unref(n)("menu.groups"),options:v.value,searchable:""},null,8,["modelValue","label","options"])]),createVNode(unref(VaInput),{type:"number",class:"w-full",modelValue:u.OrderNumber,"onUpdate:modelValue":h[9]||(h[9]=C=>u.OrderNumber=C),rules:[C=>C&&C.length>0||"To'ldirish majburiy bo'lgan maydon"],label:unref(n)("modals.ordernumber")},null,8,["modelValue","rules","label"])]),_:1},512)]),_:1},8,["modelValue","ok-text","cancel-text"])]),createBaseVNode("main",_hoisted_7,[createVNode(S,{rowData:l.value,columnDefs:P.value,defaultColDef:N,animateRows:"true",class:"ag-theme-material h-full",onGridReady:h[11]||(h[11]=C=>i.value=C.api)},null,8,["rowData","columnDefs"])])])}}};export{_sfc_main as default};
