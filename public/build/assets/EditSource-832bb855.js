import{r as h,G as v,f as m,g as _,h as b,k as n,l as V,i as u,m as f,d as y}from"./app-4581eb9d.js";const C={class:"h-full w-full text-center content-center"},k=u("h3",{class:"va-h3"},"Ma'lumotni o'chirish",-1),w=u("p",null," Classic modal overlay which represents a dialog box or other interactive component, such as a dismissible alert, sub-window, etc. ",-1),E={__name:"DeleteSource",props:["params"],setup(i){const l=h(!1),s=i,c=v("ondeleted"),o=async()=>{console.log(s.params.data.id);try{const{data:r}=await f.delete(`/source/${s.params.data.id}`);r.status===200?(c(s.params.data),l.value=!1):console.error("Error deleting data:",r.message)}catch(r){console.error("Error deleting data:",r)}};return(r,e)=>{const t=m("VaButton"),p=m("VaModal");return _(),b("main",C,[n(t,{round:"",icon:"delete",preset:"primary",class:"mt-1",onClick:e[0]||(e[0]=d=>l.value=!0)}),n(p,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=d=>l.value=d),"ok-text":"Apply",onClose:e[2]||(e[2]=d=>l.value=!1),onOk:o,"close-button":""},{default:V(()=>[k,w]),_:1},8,["modelValue"])])}}},S={class:"h-full w-full text-center content-center"},$=u("h3",{class:"va-h3"}," O'lchov birliklarini tahrirlash ",-1),M={__name:"EditSource",props:["params"],setup(i){const l=i,s=h(!1),c=v("onupdated"),o=y({Name:"",ShortName:"",Comment:"",id:l.params.data.id});f.get(`source/${l.params.data.id}`).then(e=>{o.Name=e.data.Name,o.ShortName=e.data.ShortName,o.Comment=e.data.Comment});const r=async()=>{try{const{data:e}=await f.put("/source",o);e.status===200?(c(l.params.node,e.unit),s.value=!1):console.error("Error saving data:",e.message)}catch(e){console.error("Error saving data:",e)}};return(e,t)=>{const p=m("VaButton"),d=m("VaInput"),g=m("VaTextarea"),x=m("VaForm"),N=m("VaModal");return _(),b("main",S,[n(p,{round:"",icon:"edit",preset:"primary",class:"mt-1",onClick:t[0]||(t[0]=a=>s.value=!0)}),n(N,{modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=a=>s.value=a),"ok-text":"Saqlash","cancel-text":"Bekor qilish",onOk:r,onClose:t[5]||(t[5]=a=>s.value=!1),"close-button":""},{default:V(()=>[$,u("div",null,[n(x,{ref:"formRef",class:"flex flex-col items-baseline gap-2"},{default:V(()=>[n(d,{class:"w-full",modelValue:o.Name,"onUpdate:modelValue":t[1]||(t[1]=a=>o.Name=a),rules:[a=>a&&a.length>0||"To'ldirish majburiy bo'lgan maydon"],label:"Nomlanishi"},null,8,["modelValue","rules"]),n(d,{class:"w-full",modelValue:o.ShortName,"onUpdate:modelValue":t[2]||(t[2]=a=>o.ShortName=a),rules:[a=>a&&a.length>0||"To'ldirish majburiy bo'lgan maydon"],label:"Qisqa nomi"},null,8,["modelValue","rules"]),n(g,{class:"w-full",modelValue:o.Comment,"onUpdate:modelValue":t[3]||(t[3]=a=>o.Comment=a),"max-length":"125",label:"Izoh"},null,8,["modelValue"])]),_:1},512)])]),_:1},8,["modelValue"])])}}};export{M as _,E as a};
