import{_ as m,g as o,h as r,i as t,v as st,X,r as w,Y as lt,s as S,o as ot,Z,$ as rt,G as q,a0 as it,a1 as dt,a2 as g,j as _,t as y,I as C,J as b}from"./app-U9sfK_em.js";const ct={},ut={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-3 h-3"};function ht(h,s){return r(),o("svg",ut,s[0]||(s[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1)]))}const H=m(ct,[["render",ht]]),ft={},_t={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-3 h-3"};function vt(h,s){return r(),o("svg",_t,s[0]||(s[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1)]))}const K=m(ft,[["render",vt]]),wt={},mt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-[16px]"};function gt(h,s){return r(),o("svg",mt,s[0]||(s[0]=[t("circle",{cx:"12",cy:"12",r:"4",stroke:"currentColor","stroke-width":"1.5",fill:"currentColor"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41"},null,-1)]))}const yt=m(wt,[["render",gt]]),kt={},pt={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-[13px]"};function St(h,s){return r(),o("svg",pt,s[0]||(s[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z"},null,-1)]))}const Ct=m(kt,[["render",St]]),bt={class:"shift-calendar-container"},$t={class:"shift-calendar-nav"},Mt={class:"shift-calendar__title"},xt={class:"shift-calendar__title"},Dt={class:"shift-calendar-main"},Bt={class:"shift-calendar-weeks"},Vt={class:"shift-calendar-days"},jt={key:0,class:"shift-calendar-days__container"},It=["disabled","onClick"],Rt=["disabled","onClick"],Yt=st({__name:"VueShiftCalendar",props:X({firstShift:{default:null},lastShift:{default:null},withSlot:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:X(["change"],["update:modelValue"]),setup(h,{emit:s}){var B,V,j,I;const v=w(null),k=w(null),l=h,Q=s,u=lt(h,"modelValue"),f=w({day:((B=u.value)==null?void 0:B.day)||null,smena:((V=u.value)==null?void 0:V.smena)||null}),c=w(new Date(((j=u.value)==null?void 0:j.day)||new Date).getFullYear()),i=w(new Date(((I=u.value)==null?void 0:I.day)||new Date).getMonth()),W=["Du","Se","Cho","Pa","Ju","Sha","Ya"],tt=S(()=>new Date(c.value,i.value+1,0).getDate()),et=S(()=>{const e=new Date(c.value,i.value,1).getDay();return e===0?6:e-1}),$=S(()=>{let e=[];for(let a=0;a<et.value;a++)e.push({day:0,date:""});for(let a=1;a<=tt.value;a++){const d=`${c.value}-${String(i.value+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`;e.push({day:a,date:d})}return e}),M=e=>{i.value+=e,i.value<0?(i.value=11,c.value--):i.value>11&&(i.value=0,c.value++)},x=e=>{c.value+=e},D=(e,a)=>{u.value&&(u.value.day=e,u.value.smena=a),f.value.day=e,f.value.smena=a,Q("change",{day:e,smena:a})};return ot(async()=>{if(await Z(),v.value){const e=v.value.getBoundingClientRect();k.value=e.height}}),rt(async()=>{if(await Z(),v.value){const e=v.value.getBoundingClientRect();k.value=e.height}}),(e,a)=>(r(),o("main",bt,[l.withSlot?(r(),o("div",{key:0,ref_key:"slotContentRef",ref:v},[it(e.$slots,"default",{},void 0,!0)],512)):q("",!0),t("div",{class:g([{"shift-calendar-with-slot":l.withSlot},"shift-calendar"]),style:dt({top:`${k.value}px`})},[t("div",$t,[t("main",null,[t("button",{onClick:a[0]||(a[0]=d=>M(-1)),class:"shift-calendar__button shift-calendar-nav__button"},[_(H)]),t("button",{onClick:a[1]||(a[1]=d=>M(1)),class:"shift-calendar__button shift-calendar-nav__button"},[_(K)]),t("span",Mt,y(new Date(c.value,i.value).toLocaleString("ru",{month:"long"})),1)]),t("main",null,[t("span",xt,y(new Date(c.value,i.value).toLocaleString("ru",{year:"numeric"})),1),t("button",{onClick:a[2]||(a[2]=d=>x(-1)),class:"shift-calendar__button shift-calendar-nav__button"},[_(H)]),t("button",{onClick:a[3]||(a[3]=d=>x(1)),class:"shift-calendar__button shift-calendar-nav__button"},[_(K)])])]),t("table",Dt,[t("thead",null,[t("tr",Bt,[(r(),o(C,null,b(W,d=>t("td",{key:d},y(d),1)),64))])]),t("tbody",Vt,[(r(!0),o(C,null,b(Math.ceil($.value.length/7),(d,p)=>(r(),o("tr",{key:p},[(r(!0),o(C,null,b($.value.slice(p*7,p*7+7),(n,at)=>{var R,Y,L,N,z,A,F,J,T,E,G,O,P,U;return r(),o("td",{key:at},[n.day?(r(),o("div",jt,[t("span",{class:g(["shift-calendar-days__day",{"shift-calendar-days__day-disabled":(((R=l.lastShift)==null?void 0:R.day)??0)<n.date||(((Y=l.firstShift)==null?void 0:Y.day)||0)>n.date}])},y(n.day),3),t("button",{disabled:(((L=l.lastShift)==null?void 0:L.day)??0)<n.date||(((N=l.firstShift)==null?void 0:N.day)||0)>n.date||((z=l.firstShift)==null?void 0:z.smena)==2&&(((A=l.firstShift)==null?void 0:A.day)??0)==n.date,class:g([{"shift-calendar-day__active":(((F=f.value)==null?void 0:F.day)??0)===n.date&&(((J=f.value)==null?void 0:J.smena)??0)==1},"shift-calendar-days__day-button shift-calendar__button"]),onClick:nt=>n.day!==0&&D(n.date,1)},[_(yt)],10,It),t("button",{disabled:(((T=l.lastShift)==null?void 0:T.day)??0)<n.date||(((E=l.firstShift)==null?void 0:E.day)||0)>n.date||((G=l.lastShift)==null?void 0:G.smena)==1&&(((O=l.lastShift)==null?void 0:O.day)??0)==n.date,class:g([{"shift-calendar-night__active":(((P=f.value)==null?void 0:P.day)??0)===n.date&&(((U=f.value)==null?void 0:U.smena)??0)==2},"shift-calendar-days__night-button shift-calendar__button"]),onClick:nt=>n.day!==0&&D(n.date,2)},[_(Ct)],10,Rt)])):q("",!0)])}),128))]))),128))])])],6)]))}}),Nt=m(Yt,[["__scopeId","data-v-86126e2b"]]);export{Nt as V};
