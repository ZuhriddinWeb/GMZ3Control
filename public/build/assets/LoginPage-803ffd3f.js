import{v as I,r as N,x as t,y as k,b as j,u as L,c as M,d as C,o as F,g as B,h as D,i as l,t as m,j as s,k as i,l as f,z as p,B as x,D as h,n as y,E as z,w as b,V as E,F as S}from"./app-8751e0f6.js";const T=u=>{const a=typeof u=="string"?I(u):typeof u>"u"?N():u;return{formRef:a,isValid:t(()=>{var e;return((e=a.value)==null?void 0:e.isValid)||!1}),immediate:t(()=>{var e;return((e=a.value)==null?void 0:e.immediate)||!1}),isLoading:t(()=>{var e;return((e=a.value)==null?void 0:e.isLoading)||!1}),isDirty:t(()=>{var e;return((e=a.value)==null?void 0:e.isDirty)||!1}),isTouched:t(()=>{var e;return((e=a.value)==null?void 0:e.isTouched)||!1}),fields:t(()=>{var e;return((e=a.value)==null?void 0:e.fields)??[]}),fieldsNamed:t(()=>{var e;return((e=a.value)==null?void 0:e.fieldsNamed)??[]}),fieldNames:t(()=>{var e;return((e=a.value)==null?void 0:e.fieldNames)??[]}),formData:t(()=>{var e;return((e=a.value)==null?void 0:e.formData)??{}}),errorMessages:t(()=>{var e;return((e=a.value)==null?void 0:e.errorMessages)||[]}),errorMessagesNamed:t(()=>{var e;return((e=a.value)==null?void 0:e.errorMessagesNamed)||{}}),validate:()=>{var e;return(e=a.value)==null?void 0:e.validate()},validateAsync:()=>{var e;return(e=a.value)==null?void 0:e.validateAsync()},reset:()=>{var e;return(e=a.value)==null?void 0:e.reset()},resetValidation:()=>{var e;return(e=a.value)==null?void 0:e.resetValidation()},focus:()=>{var e;return(e=a.value)==null?void 0:e.focus()},focusInvalidField:()=>{var e;return(e=a.value)==null?void 0:e.focusInvalidField()}}},A="/build/assets/ngmk-6e65eb69.png",q={class:"flex justify-between fixed inset-0"},U={class:"bg-[#154EC1] flex items-center justify-center text-center min-h-screen w-3/6"},O={class:"flex flex-col items-center"},$={class:"flex flex-col items-center"},G=l("div",{class:"mb-4"},[l("img",{src:A,alt:"",class:"w-25 h-32"})],-1),H={class:"text-white text-5xl"},J={class:"text-white text-5xl mt-4"},K={class:"flex justify-between flex-col w-4/6 min-h-screen mx-auto"},Q={class:"flex justify-between"},R=l("div",{class:"w-[80%]"},null,-1),W={class:"flex justify-end w-18 items-center mt-3 mr-3"},X={class:"flex justify-center items-center text-center w-4/6 min-h-screen mx-auto"},Y={class:"font-semibold text-4xl mb-4"},Z=l("p",{class:"text-base mb-4 leading-5"},null,-1),P={class:"flex justify-center mt-4 w-1/2"},ae=k({__name:"LoginPage",setup(u){T("form");const a=j(),{init:e}=L(),{locale:d,t:o}=M(),c=C({login:"",password:""}),g=async()=>{try{const n=await S.dispatch("login",c);n.success?a.push({name:"home"}):(console.error("Error:",n.message||"Login failed"),e({message:o("login.errorMessage"),color:"danger"}))}catch(n){console.error("Error during login:",n),e({message:o("login.errorMessage"),color:"danger"})}},w=()=>{d.value=d.value==="uz"?"ru":"uz",localStorage.setItem("locale",d.value)},V=t(()=>d.value==="uz"?"Русский":"O‘zbek");return F(()=>{const n=localStorage.getItem("locale");n&&(d.value=n)}),(n,_)=>(B(),D("main",q,[l("div",U,[l("div",O,[l("div",$,[G,l("span",H,m(s(o)("login.titlePage")),1)]),l("p",J,m(s(o)("login.plantName")),1)])]),l("div",K,[l("div",Q,[R,l("div",W,[i(s(h),{onClick:w,style:{"margin-bottom":"1rem","border-radius":"0"}},{default:f(()=>[i(s(p),{name:"language",style:{"margin-right":"0.5rem"}}),x(" "+m(V.value),1)]),_:1})])]),l("div",X,[i(s(E),{ref:"form",onSubmit:b(g,["prevent"]),class:"flex flex-col items-center"},{default:f(()=>[l("h1",Y,m(s(o)("login.title")),1),Z,i(s(y),{modelValue:c.login,"onUpdate:modelValue":_[0]||(_[0]=r=>c.login=r),rules:[r=>r&&r.length>0||s(o)("form.requiredField")],class:"mb-4 w-1/2",label:s(o)("form.login"),type:"text"},null,8,["modelValue","rules","label"]),i(s(z),{"default-value":!1},{default:f(r=>[i(s(y),{modelValue:c.password,"onUpdate:modelValue":_[1]||(_[1]=v=>c.password=v),rules:[v=>v&&v.length>0||s(o)("form.requiredField")],type:r.value?"text":"password",class:"mb-4 w-1/2",label:s(o)("form.password"),onClickAppendInner:b(v=>r.value=!r.value,["stop"])},{appendInner:f(()=>[i(s(p),{name:r.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","label","onClickAppendInner"])]),_:1}),l("div",P,[i(s(h),{class:"w-full",onClick:g},{default:f(()=>[x(m(s(o)("login.submitButton")),1)]),_:1})])]),_:1},512)])])]))}});export{ae as default};
