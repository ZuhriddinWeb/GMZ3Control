import{u as b,r as R,G as S,c as k,f as v,g as C,h,k as n,j as e,D as w,l as N,i as c,t as x,m as g,d as M,o as U,V as $,n as i}from"./app-3e4af99e.js";const E={class:"h-full w-full text-center content-center"},_={class:"va-h3"},T={__name:"DeleteUnitsModal",props:["params"],setup(p){const{init:f}=b(),r=R(!1),u=p,V=S("ondeleted"),{t:l}=k(),o=async()=>{try{const{data:m}=await g.delete(`/units/${u.params.data.id}`);m.status===200?(V(u.params.data),r.value=!1,f({message:l("login.successMessage"),color:"success"})):console.error("Error deleting data:",m.message)}catch(m){console.error("Error deleting data:",m)}};return(m,a)=>{const s=v("VaModal");return C(),h("main",E,[n(e(w),{round:"",icon:"delete",preset:"primary",class:"mt-1",onClick:a[0]||(a[0]=d=>r.value=!0)}),n(s,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=d=>r.value=d),"ok-text":e(l)("modals.apply"),"cancel-text":e(l)("modals.cancel"),onClose:a[2]||(a[2]=d=>r.value=!1),onOk:o,"close-button":""},{default:N(()=>[c("h3",_,x(e(l)("modals.title")),1),c("p",null,x(e(l)("modals.message")),1)]),_:1},8,["modelValue","ok-text","cancel-text"])])}}},D={class:"h-full w-full text-center content-center"},q={class:"va-h3"},j={__name:"EditUnitsModal",props:["params"],setup(p){const{init:f}=b(),r=p,u=R(!1),V=S("onupdated"),{t:l}=k(),o=M({Name:"",NameRus:"",ShortName:"",ShortNameRus:"",Comment:"",id:r.params.data.id});U(()=>{g.get(`/units/${r.params.data.id}`).then(a=>{o.NameRus=a.data.NameRus,o.Name=a.data.Name,o.ShortName=a.data.ShortName,o.ShortNameRus=a.data.ShortNameRus,o.Comment=a.data.Comment}).catch(a=>{console.error("Error fetching data:",a)})});const m=async()=>{try{const{data:a}=await g.put("/units",o);a.status===200?(V(r.params.node,a.unit),u.value=!1,f({message:l("login.successMessage"),color:"success"})):console.error("Error saving data:",a.message)}catch(a){console.error("Error saving data:",a)}};return(a,s)=>{const d=v("VaTextarea"),y=v("VaModal");return C(),h("main",D,[n(e(w),{round:"",icon:"edit",preset:"primary",class:"mt-1",onClick:s[0]||(s[0]=t=>u.value=!0)}),n(y,{modelValue:u.value,"onUpdate:modelValue":s[6]||(s[6]=t=>u.value=t),"ok-text":e(l)("modals.apply"),"cancel-text":e(l)("modals.cancel"),onOk:m,onClose:s[7]||(s[7]=t=>u.value=!1),"close-button":""},{default:N(()=>[c("h3",q,x(e(l)("modals.editFactory")),1),c("div",null,[n(e($),{ref:"formRef",class:"flex flex-col items-baseline gap-2"},{default:N(()=>[n(e(i),{class:"w-full",modelValue:o.Name,"onUpdate:modelValue":s[1]||(s[1]=t=>o.Name=t),rules:[t=>!!t||e(l)("validation.required")],label:e(l)("form.name")},null,8,["modelValue","rules","label"]),n(e(i),{class:"w-full",modelValue:o.NameRus,"onUpdate:modelValue":s[2]||(s[2]=t=>o.NameRus=t),rules:[t=>!!t||e(l)("validation.required")],label:e(l)("form.nameRus")},null,8,["modelValue","rules","label"]),n(e(i),{class:"w-full",modelValue:o.ShortName,"onUpdate:modelValue":s[3]||(s[3]=t=>o.ShortName=t),rules:[t=>!!t||e(l)("validation.required")],label:e(l)("form.shortName")},null,8,["modelValue","rules","label"]),n(e(i),{class:"w-full",modelValue:o.ShortNameRus,"onUpdate:modelValue":s[4]||(s[4]=t=>o.ShortNameRus=t),rules:[t=>!!t||e(l)("validation.required")],label:e(l)("form.shortNameRus")},null,8,["modelValue","rules","label"]),n(d,{class:"w-full",modelValue:o.Comment,"onUpdate:modelValue":s[5]||(s[5]=t=>o.Comment=t),"max-length":125,label:e(l)("form.comment")},null,8,["modelValue","label"])]),_:1},512)])]),_:1},8,["modelValue","ok-text","cancel-text"])])}}};export{j as _,T as a};
