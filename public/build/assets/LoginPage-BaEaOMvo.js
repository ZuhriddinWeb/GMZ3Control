import{q as I,s as t,v as N,b as k,u as j,c as L,d as M,o as C,g as F,h as B,i as s,t as v,k as l,j as u,l as f,x as p,y as x,z as b,m as h,B as D,w as y,V as z,D as E}from"./app-B5o22c3C.js";const S=g=>{const a=I(g);return{formRef:a,isValid:t(()=>{var e;return((e=a.value)==null?void 0:e.isValid)||!1}),immediate:t(()=>{var e;return((e=a.value)==null?void 0:e.immediate)||!1}),isLoading:t(()=>{var e;return((e=a.value)==null?void 0:e.isLoading)||!1}),isDirty:t(()=>{var e;return((e=a.value)==null?void 0:e.isDirty)||!1}),isTouched:t(()=>{var e;return((e=a.value)==null?void 0:e.isTouched)||!1}),fields:t(()=>{var e;return((e=a.value)==null?void 0:e.fields)??[]}),fieldsNamed:t(()=>{var e;return((e=a.value)==null?void 0:e.fieldsNamed)??[]}),fieldNames:t(()=>{var e;return((e=a.value)==null?void 0:e.fieldNames)??[]}),formData:t(()=>{var e;return((e=a.value)==null?void 0:e.formData)??{}}),errorMessages:t(()=>{var e;return((e=a.value)==null?void 0:e.errorMessages)||[]}),errorMessagesNamed:t(()=>{var e;return((e=a.value)==null?void 0:e.errorMessagesNamed)||{}}),validate:()=>{var e;return(e=a.value)==null?void 0:e.validate()},validateAsync:()=>{var e;return(e=a.value)==null?void 0:e.validateAsync()},reset:()=>{var e;return(e=a.value)==null?void 0:e.reset()},resetValidation:()=>{var e;return(e=a.value)==null?void 0:e.resetValidation()},focus:()=>{var e;return(e=a.value)==null?void 0:e.focus()},focusInvalidField:()=>{var e;return(e=a.value)==null?void 0:e.focusInvalidField()}}},T="/build/assets/ngmk-rWEJHF6x.png",A={class:"flex justify-between fixed inset-0"},q={class:"bg-[#154EC1] flex items-center justify-center text-center min-h-screen w-3/6"},R={class:"flex flex-col items-center"},U={class:"flex flex-col items-center"},H={class:"text-white text-5xl"},J={class:"text-white text-5xl mt-4"},O={class:"flex justify-between flex-col w-4/6 min-h-screen mx-auto"},W={class:"flex justify-between"},$={class:"flex justify-end w-18 items-center mt-3 mr-3"},G={class:"flex justify-center items-center text-center w-4/6 min-h-screen mx-auto"},K={class:"font-semibold text-4xl mb-4"},Q={class:"flex justify-center mt-4 w-1/2"},Y=N({__name:"LoginPage",setup(g){S("form");const a=k(),{init:e}=j(),{locale:d,t:r}=L(),c=M({login:"",password:""}),_=async()=>{try{const i=await E.dispatch("login",c);i.success?a.push({name:"home"}):(console.error("Error:",i.message||"Login failed"),e({message:r("login.errorMessage"),color:"danger"}))}catch(i){console.error("Error during login:",i),e({message:r("login.errorMessage"),color:"danger"})}},w=()=>{d.value=d.value==="uz"?"ru":"uz",localStorage.setItem("locale",d.value)},V=t(()=>d.value==="uz"?"Русский":"O‘zbek");return C(()=>{const i=localStorage.getItem("locale");i&&(d.value=i)}),(i,o)=>(B(),F("main",A,[s("div",q,[s("div",R,[s("div",U,[o[2]||(o[2]=s("div",{class:"mb-4"},[s("img",{src:T,alt:"",class:"w-25 h-32"})],-1)),s("span",H,v(l(r)("login.titlePage")),1)]),s("p",J,v(l(r)("login.plantName")),1)])]),s("div",O,[s("div",W,[o[3]||(o[3]=s("div",{class:"w-[80%]"},null,-1)),s("div",$,[u(l(b),{onClick:w,style:{"margin-bottom":"1rem","border-radius":"0"}},{default:f(()=>[u(l(x),{name:"language",style:{"margin-right":"0.5rem"}}),p(" "+v(V.value),1)]),_:1})])]),s("div",G,[u(l(z),{ref:"form",onSubmit:y(_,["prevent"]),class:"flex flex-col items-center"},{default:f(()=>[s("h1",K,v(l(r)("login.title")),1),o[4]||(o[4]=s("p",{class:"text-base mb-4 leading-5"},null,-1)),u(l(h),{modelValue:c.login,"onUpdate:modelValue":o[0]||(o[0]=n=>c.login=n),rules:[n=>n&&n.length>0||l(r)("form.requiredField")],class:"mb-4 w-1/2",label:l(r)("form.login"),type:"text"},null,8,["modelValue","rules","label"]),u(l(D),{"default-value":!1},{default:f(n=>[u(l(h),{modelValue:c.password,"onUpdate:modelValue":o[1]||(o[1]=m=>c.password=m),rules:[m=>m&&m.length>0||l(r)("form.requiredField")],type:n.value?"text":"password",class:"mb-4 w-1/2",label:l(r)("form.password"),onClickAppendInner:y(m=>n.value=!n.value,["stop"])},{appendInner:f(()=>[u(l(x),{name:n.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","label","onClickAppendInner"])]),_:1}),s("div",Q,[u(l(b),{class:"w-full",onClick:_},{default:f(()=>[p(v(l(r)("login.submitButton")),1)]),_:1})])]),_:1,__:[4]},512)])])]))}});export{Y as default};
